(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function K1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Fm={exports:{}},Xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux;function Y1(){if(ux)return Xl;ux=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return Xl.Fragment=e,Xl.jsx=n,Xl.jsxs=n,Xl}var hx;function X1(){return hx||(hx=1,Fm.exports=Y1()),Fm.exports}var o=X1(),qm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dx;function W1(){if(dx)return Ce;dx=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),T=Symbol.iterator;function R(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,z={};function $(M,se,he){this.props=M,this.context=se,this.refs=z,this.updater=he||q}$.prototype.isReactComponent={},$.prototype.setState=function(M,se){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,se,"setState")},$.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function V(){}V.prototype=$.prototype;function ee(M,se,he){this.props=M,this.context=se,this.refs=z,this.updater=he||q}var Z=ee.prototype=new V;Z.constructor=ee,k(Z,$.prototype),Z.isPureReactComponent=!0;var te=Array.isArray;function X(){}var A={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function j(M,se,he){var me=he.ref;return{$$typeof:s,type:M,key:se,ref:me!==void 0?me:null,props:he}}function L(M,se){return j(M.type,se,M.props)}function P(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function F(M){var se={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(he){return se[he]})}var N=/\/+/g;function ce(M,se){return typeof M=="object"&&M!==null&&M.key!=null?F(""+M.key):se.toString(36)}function ve(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(X,X):(M.status="pending",M.then(function(se){M.status==="pending"&&(M.status="fulfilled",M.value=se)},function(se){M.status==="pending"&&(M.status="rejected",M.reason=se)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function I(M,se,he,me,Se){var ke=typeof M;(ke==="undefined"||ke==="boolean")&&(M=null);var He=!1;if(M===null)He=!0;else switch(ke){case"bigint":case"string":case"number":He=!0;break;case"object":switch(M.$$typeof){case s:case e:He=!0;break;case x:return He=M._init,I(He(M._payload),se,he,me,Se)}}if(He)return Se=Se(M),He=me===""?"."+ce(M,0):me,te(Se)?(he="",He!=null&&(he=He.replace(N,"$&/")+"/"),I(Se,se,he,"",function(Ir){return Ir})):Se!=null&&(P(Se)&&(Se=L(Se,he+(Se.key==null||M&&M.key===Se.key?"":(""+Se.key).replace(N,"$&/")+"/")+He)),se.push(Se)),1;He=0;var Pt=me===""?".":me+":";if(te(M))for(var ut=0;ut<M.length;ut++)me=M[ut],ke=Pt+ce(me,ut),He+=I(me,se,he,ke,Se);else if(ut=R(M),typeof ut=="function")for(M=ut.call(M),ut=0;!(me=M.next()).done;)me=me.value,ke=Pt+ce(me,ut++),He+=I(me,se,he,ke,Se);else if(ke==="object"){if(typeof M.then=="function")return I(ve(M),se,he,me,Se);throw se=String(M),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return He}function oe(M,se,he){if(M==null)return M;var me=[],Se=0;return I(M,me,"","",function(ke){return se.call(he,ke,Se++)}),me}function B(M){if(M._status===-1){var se=M._result;se=se(),se.then(function(he){(M._status===0||M._status===-1)&&(M._status=1,M._result=he)},function(he){(M._status===0||M._status===-1)&&(M._status=2,M._result=he)}),M._status===-1&&(M._status=0,M._result=se)}if(M._status===1)return M._result.default;throw M._result}var de=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Te={map:oe,forEach:function(M,se,he){oe(M,function(){se.apply(this,arguments)},he)},count:function(M){var se=0;return oe(M,function(){se++}),se},toArray:function(M){return oe(M,function(se){return se})||[]},only:function(M){if(!P(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ce.Activity=b,Ce.Children=Te,Ce.Component=$,Ce.Fragment=n,Ce.Profiler=l,Ce.PureComponent=ee,Ce.StrictMode=r,Ce.Suspense=g,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(M){return A.H.useMemoCache(M)}},Ce.cache=function(M){return function(){return M.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(M,se,he){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var me=k({},M.props),Se=M.key;if(se!=null)for(ke in se.key!==void 0&&(Se=""+se.key),se)!C.call(se,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&se.ref===void 0||(me[ke]=se[ke]);var ke=arguments.length-2;if(ke===1)me.children=he;else if(1<ke){for(var He=Array(ke),Pt=0;Pt<ke;Pt++)He[Pt]=arguments[Pt+2];me.children=He}return j(M.type,Se,me)},Ce.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ce.createElement=function(M,se,he){var me,Se={},ke=null;if(se!=null)for(me in se.key!==void 0&&(ke=""+se.key),se)C.call(se,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Se[me]=se[me]);var He=arguments.length-2;if(He===1)Se.children=he;else if(1<He){for(var Pt=Array(He),ut=0;ut<He;ut++)Pt[ut]=arguments[ut+2];Se.children=Pt}if(M&&M.defaultProps)for(me in He=M.defaultProps,He)Se[me]===void 0&&(Se[me]=He[me]);return j(M,ke,Se)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(M){return{$$typeof:p,render:M}},Ce.isValidElement=P,Ce.lazy=function(M){return{$$typeof:x,_payload:{_status:-1,_result:M},_init:B}},Ce.memo=function(M,se){return{$$typeof:y,type:M,compare:se===void 0?null:se}},Ce.startTransition=function(M){var se=A.T,he={};A.T=he;try{var me=M(),Se=A.S;Se!==null&&Se(he,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(X,de)}catch(ke){de(ke)}finally{se!==null&&he.types!==null&&(se.types=he.types),A.T=se}},Ce.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ce.use=function(M){return A.H.use(M)},Ce.useActionState=function(M,se,he){return A.H.useActionState(M,se,he)},Ce.useCallback=function(M,se){return A.H.useCallback(M,se)},Ce.useContext=function(M){return A.H.useContext(M)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(M,se){return A.H.useDeferredValue(M,se)},Ce.useEffect=function(M,se){return A.H.useEffect(M,se)},Ce.useEffectEvent=function(M){return A.H.useEffectEvent(M)},Ce.useId=function(){return A.H.useId()},Ce.useImperativeHandle=function(M,se,he){return A.H.useImperativeHandle(M,se,he)},Ce.useInsertionEffect=function(M,se){return A.H.useInsertionEffect(M,se)},Ce.useLayoutEffect=function(M,se){return A.H.useLayoutEffect(M,se)},Ce.useMemo=function(M,se){return A.H.useMemo(M,se)},Ce.useOptimistic=function(M,se){return A.H.useOptimistic(M,se)},Ce.useReducer=function(M,se,he){return A.H.useReducer(M,se,he)},Ce.useRef=function(M){return A.H.useRef(M)},Ce.useState=function(M){return A.H.useState(M)},Ce.useSyncExternalStore=function(M,se,he){return A.H.useSyncExternalStore(M,se,he)},Ce.useTransition=function(){return A.H.useTransition()},Ce.version="19.2.0",Ce}var fx;function Bp(){return fx||(fx=1,qm.exports=W1()),qm.exports}var D=Bp();const ui=K1(D);var Hm={exports:{}},Wl={},Gm={exports:{}},Qm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mx;function J1(){return mx||(mx=1,(function(s){function e(I,oe){var B=I.length;I.push(oe);e:for(;0<B;){var de=B-1>>>1,Te=I[de];if(0<l(Te,oe))I[de]=oe,I[B]=Te,B=de;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var oe=I[0],B=I.pop();if(B!==oe){I[0]=B;e:for(var de=0,Te=I.length,M=Te>>>1;de<M;){var se=2*(de+1)-1,he=I[se],me=se+1,Se=I[me];if(0>l(he,B))me<Te&&0>l(Se,he)?(I[de]=Se,I[me]=B,de=me):(I[de]=he,I[se]=B,de=se);else if(me<Te&&0>l(Se,B))I[de]=Se,I[me]=B,de=me;else break e}}return oe}function l(I,oe){var B=I.sortIndex-oe.sortIndex;return B!==0?B:I.id-oe.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],y=[],x=1,b=null,T=3,R=!1,q=!1,k=!1,z=!1,$=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function Z(I){for(var oe=n(y);oe!==null;){if(oe.callback===null)r(y);else if(oe.startTime<=I)r(y),oe.sortIndex=oe.expirationTime,e(g,oe);else break;oe=n(y)}}function te(I){if(k=!1,Z(I),!q)if(n(g)!==null)q=!0,X||(X=!0,F());else{var oe=n(y);oe!==null&&ve(te,oe.startTime-I)}}var X=!1,A=-1,C=5,j=-1;function L(){return z?!0:!(s.unstable_now()-j<C)}function P(){if(z=!1,X){var I=s.unstable_now();j=I;var oe=!0;try{e:{q=!1,k&&(k=!1,V(A),A=-1),R=!0;var B=T;try{t:{for(Z(I),b=n(g);b!==null&&!(b.expirationTime>I&&L());){var de=b.callback;if(typeof de=="function"){b.callback=null,T=b.priorityLevel;var Te=de(b.expirationTime<=I);if(I=s.unstable_now(),typeof Te=="function"){b.callback=Te,Z(I),oe=!0;break t}b===n(g)&&r(g),Z(I)}else r(g);b=n(g)}if(b!==null)oe=!0;else{var M=n(y);M!==null&&ve(te,M.startTime-I),oe=!1}}break e}finally{b=null,T=B,R=!1}oe=void 0}}finally{oe?F():X=!1}}}var F;if(typeof ee=="function")F=function(){ee(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ce=N.port2;N.port1.onmessage=P,F=function(){ce.postMessage(null)}}else F=function(){$(P,0)};function ve(I,oe){A=$(function(){I(s.unstable_now())},oe)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(I){I.callback=null},s.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<I?Math.floor(1e3/I):5},s.unstable_getCurrentPriorityLevel=function(){return T},s.unstable_next=function(I){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var B=T;T=oe;try{return I()}finally{T=B}},s.unstable_requestPaint=function(){z=!0},s.unstable_runWithPriority=function(I,oe){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var B=T;T=I;try{return oe()}finally{T=B}},s.unstable_scheduleCallback=function(I,oe,B){var de=s.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?de+B:de):B=de,I){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=B+Te,I={id:x++,callback:oe,priorityLevel:I,startTime:B,expirationTime:Te,sortIndex:-1},B>de?(I.sortIndex=B,e(y,I),n(g)===null&&I===n(y)&&(k?(V(A),A=-1):k=!0,ve(te,B-de))):(I.sortIndex=Te,e(g,I),q||R||(q=!0,X||(X=!0,F()))),I},s.unstable_shouldYield=L,s.unstable_wrapCallback=function(I){var oe=T;return function(){var B=T;T=oe;try{return I.apply(this,arguments)}finally{T=B}}}})(Qm)),Qm}var px;function Z1(){return px||(px=1,Gm.exports=J1()),Gm.exports}var $m={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx;function ew(){if(gx)return sn;gx=1;var s=Bp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:g,containerInfo:y,implementation:x}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,x)},sn.flushSync=function(g){var y=d.T,x=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=y,r.p=x,r.d.f()}},sn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},sn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},sn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,b=p(x,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,R=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:R}):x==="script"&&r.d.X(g,{crossOrigin:b,integrity:T,fetchPriority:R,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},sn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},sn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,b=p(x,y.crossOrigin);r.d.L(g,x,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},sn.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},sn.requestFormReset=function(g){r.d.r(g)},sn.unstable_batchedUpdates=function(g,y){return g(y)},sn.useFormState=function(g,y,x){return d.H.useFormState(g,y,x)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.2.0",sn}var yx;function tw(){if(yx)return $m.exports;yx=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),$m.exports=ew(),$m.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vx;function nw(){if(vx)return Wl;vx=1;var s=Z1(),e=Bp(),n=tw();function r(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)a+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var a=t,i=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(i=a.return),t=a.return;while(t)}return a.tag===3?i:null}function d(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function p(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function y(t){var a=t.alternate;if(!a){if(a=u(t),a===null)throw Error(r(188));return a!==t?null:t}for(var i=t,c=a;;){var f=i.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){i=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===i)return g(f),t;if(m===c)return g(f),a;m=m.sibling}throw Error(r(188))}if(i.return!==c.return)i=f,c=m;else{for(var _=!1,S=f.child;S;){if(S===i){_=!0,i=f,c=m;break}if(S===c){_=!0,c=f,i=m;break}S=S.sibling}if(!_){for(S=m.child;S;){if(S===i){_=!0,i=m,c=f;break}if(S===c){_=!0,c=m,i=f;break}S=S.sibling}if(!_)throw Error(r(189))}}if(i.alternate!==c)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?t:a}function x(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=x(t),a!==null)return a;t=t.sibling}return null}var b=Object.assign,T=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function F(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function ce(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case $:return"Profiler";case z:return"StrictMode";case te:return"Suspense";case X:return"SuspenseList";case j:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case ee:return t.displayName||"Context";case V:return(t._context.displayName||"Context")+".Consumer";case Z:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A:return a=t.displayName||null,a!==null?a:ce(t.type)||"Memo";case C:a=t._payload,t=t._init;try{return ce(t(a))}catch{}}return null}var ve=Array.isArray,I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},de=[],Te=-1;function M(t){return{current:t}}function se(t){0>Te||(t.current=de[Te],de[Te]=null,Te--)}function he(t,a){Te++,de[Te]=t.current,t.current=a}var me=M(null),Se=M(null),ke=M(null),He=M(null);function Pt(t,a){switch(he(ke,a),he(Se,t),he(me,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?k_(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=k_(a),t=O_(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}se(me),he(me,t)}function ut(){se(me),se(Se),se(ke)}function Ir(t){t.memoizedState!==null&&he(He,t);var a=me.current,i=O_(a,t.type);a!==i&&(he(Se,t),he(me,i))}function wi(t){Se.current===t&&(se(me),se(Se)),He.current===t&&(se(He),Ql._currentValue=B)}var Ni,ji;function ps(t){if(Ni===void 0)try{throw Error()}catch(i){var a=i.stack.trim().match(/\n( *(at )?)/);Ni=a&&a[1]||"",ji=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ni+t+ji}var Qo=!1;function Dr(t,a){if(!t||Qo)return"";Qo=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(J){var Y=J}Reflect.construct(t,[],ie)}else{try{ie.call()}catch(J){Y=J}t.call(ie.prototype)}}else{try{throw Error()}catch(J){Y=J}(ie=t())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(J){if(J&&Y&&typeof J.stack=="string")return[J.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),_=m[0],S=m[1];if(_&&S){var O=_.split(`
`),K=S.split(`
`);for(f=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(c===O.length||f===K.length)for(c=O.length-1,f=K.length-1;1<=c&&0<=f&&O[c]!==K[f];)f--;for(;1<=c&&0<=f;c--,f--)if(O[c]!==K[f]){if(c!==1||f!==1)do if(c--,f--,0>f||O[c]!==K[f]){var ne=`
`+O[c].replace(" at new "," at ");return t.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",t.displayName)),ne}while(1<=c&&0<=f);break}}}finally{Qo=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?ps(i):""}function $o(t,a){switch(t.tag){case 26:case 27:case 5:return ps(t.type);case 16:return ps("Lazy");case 13:return t.child!==a&&a!==null?ps("Suspense Fallback"):ps("Suspense");case 19:return ps("SuspenseList");case 0:case 15:return Dr(t.type,!1);case 11:return Dr(t.type.render,!1);case 1:return Dr(t.type,!0);case 31:return ps("Activity");default:return""}}function Ko(t){try{var a="",i=null;do a+=$o(t,i),i=t,t=t.return;while(t);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var wt=Object.prototype.hasOwnProperty,Lt=s.unstable_scheduleCallback,Na=s.unstable_cancelCallback,qd=s.unstable_shouldYield,Gc=s.unstable_requestPaint,cn=s.unstable_now,kr=s.unstable_getCurrentPriorityLevel,Yo=s.unstable_ImmediatePriority,Xo=s.unstable_UserBlockingPriority,ja=s.unstable_NormalPriority,Hd=s.unstable_LowPriority,Qc=s.unstable_IdlePriority,$c=s.log,Kc=s.unstable_setDisableYieldValue,Yn=null,$t=null;function In(t){if(typeof $c=="function"&&Kc(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(Yn,t)}catch{}}var yt=Math.clz32?Math.clz32:Xc,Yc=Math.log,Ai=Math.LN2;function Xc(t){return t>>>=0,t===0?32:31-(Yc(t)/Ai|0)|0}var gs=256,Or=262144,Nt=4194304;function ys(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vs(t,a,i){var c=t.pendingLanes;if(c===0)return 0;var f=0,m=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=c&134217727;return S!==0?(c=S&~m,c!==0?f=ys(c):(_&=S,_!==0?f=ys(_):i||(i=S&~t,i!==0&&(f=ys(i))))):(S=c&~m,S!==0?f=ys(S):_!==0?f=ys(_):i||(i=c&~t,i!==0&&(f=ys(i)))),f===0?0:a!==0&&a!==f&&(a&m)===0&&(m=f&-f,i=a&-a,m>=i||m===32&&(i&4194048)!==0)?a:f}function Xn(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function Gd(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wc(){var t=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),t}function _s(t){for(var a=[],i=0;31>i;i++)a.push(t);return a}function Mr(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qd(t,a,i,c,f,m){var _=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var S=t.entanglements,O=t.expirationTimes,K=t.hiddenUpdates;for(i=_&~i;0<i;){var ne=31-yt(i),ie=1<<ne;S[ne]=0,O[ne]=-1;var Y=K[ne];if(Y!==null)for(K[ne]=null,ne=0;ne<Y.length;ne++){var J=Y[ne];J!==null&&(J.lane&=-536870913)}i&=~ie}c!==0&&Vr(t,c,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(_&~a))}function Vr(t,a,i){t.pendingLanes|=a,t.suspendedLanes&=~a;var c=31-yt(a);t.entangledLanes|=a,t.entanglements[c]=t.entanglements[c]|1073741824|i&261930}function Wo(t,a){var i=t.entangledLanes|=a;for(t=t.entanglements;i;){var c=31-yt(i),f=1<<c;f&a|t[c]&a&&(t[c]|=a),i&=~f}}function Jo(t,a){var i=a&-a;return i=(i&42)!==0?1:Pr(i),(i&(t.suspendedLanes|a))!==0?0:i}function Pr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ks(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Jc(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:sx(t.type))}function Wn(t,a){var i=oe.p;try{return oe.p=t,a()}finally{oe.p=i}}var Jn=Math.random().toString(36).slice(2),jt="__reactFiber$"+Jn,Bt="__reactProps$"+Jn,xs="__reactContainer$"+Jn,Ci="__reactEvents$"+Jn,$d="__reactListeners$"+Jn,Zc="__reactHandles$"+Jn,eu="__reactResources$"+Jn,Es="__reactMarker$"+Jn;function Ri(t){delete t[jt],delete t[Bt],delete t[Ci],delete t[$d],delete t[Zc]}function bs(t){var a=t[jt];if(a)return a;for(var i=t.parentNode;i;){if(a=i[xs]||i[jt]){if(i=a.alternate,a.child!==null||i!==null&&i.child!==null)for(t=B_(t);t!==null;){if(i=t[jt])return i;t=B_(t)}return a}t=i,i=t.parentNode}return null}function Dn(t){if(t=t[jt]||t[xs]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function En(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(r(33))}function Ts(t){var a=t[eu];return a||(a=t[eu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function At(t){t[Es]=!0}var Zo=new Set,el={};function Ss(t,a){ws(t,a),ws(t+"Capture",a)}function ws(t,a){for(el[t]=a,t=0;t<a.length;t++)Zo.add(a[t])}var tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nl={},sl={};function tu(t){return wt.call(sl,t)?!0:wt.call(nl,t)?!1:tl.test(t)?sl[t]=!0:(nl[t]=!0,!1)}function Ii(t,a,i){if(tu(a))if(i===null)t.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+i)}}function bn(t,a,i){if(i===null)t.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+i)}}function Ct(t,a,i,c){if(c===null)t.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(a,i,""+c)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Aa(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function al(t,a,i){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,m=c.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return f.call(this)},set:function(_){i=""+_,m.call(this,_)}}),Object.defineProperty(t,a,{enumerable:c.enumerable}),{getValue:function(){return i},setValue:function(_){i=""+_},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function We(t){if(!t._valueTracker){var a=Aa(t)?"checked":"value";t._valueTracker=al(t,a,""+t[a])}}function Lr(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var i=a.getValue(),c="";return t&&(c=Aa(t)?t.checked?"true":"false":t.value),t=c,t!==i?(a.setValue(t),!0):!1}function Ns(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ur=/[\n"\\]/g;function dn(t){return t.replace(Ur,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Di(t,a,i,c,f,m,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),a!=null?_==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+Ft(a)):t.value!==""+Ft(a)&&(t.value=""+Ft(a)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),a!=null?rl(t,_,Ft(a)):i!=null?rl(t,_,Ft(i)):c!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Ft(S):t.removeAttribute("name")}function nu(t,a,i,c,f,m,_,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),a!=null||i!=null){if(!(m!=="submit"&&m!=="reset"||a!=null)){We(t);return}i=i!=null?""+Ft(i):"",a=a!=null?""+Ft(a):i,S||a===t.value||(t.value=a),t.defaultValue=a}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=S?t.checked:!!c,t.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),We(t)}function rl(t,a,i){a==="number"&&Ns(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Ca(t,a,i,c){if(t=t.options,a){a={};for(var f=0;f<i.length;f++)a["$"+i[f]]=!0;for(i=0;i<t.length;i++)f=a.hasOwnProperty("$"+t[i].value),t[i].selected!==f&&(t[i].selected=f),f&&c&&(t[i].defaultSelected=!0)}else{for(i=""+Ft(i),a=null,f=0;f<t.length;f++){if(t[f].value===i){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}a!==null||t[f].disabled||(a=t[f])}a!==null&&(a.selected=!0)}}function su(t,a,i){if(a!=null&&(a=""+Ft(a),a!==t.value&&(t.value=a),i==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=i!=null?""+Ft(i):""}function Ra(t,a,i,c){if(a==null){if(c!=null){if(i!=null)throw Error(r(92));if(ve(c)){if(1<c.length)throw Error(r(93));c=c[0]}i=c}i==null&&(i=""),a=i}i=Ft(a),t.defaultValue=i,c=t.textContent,c===i&&c!==""&&c!==null&&(t.value=c),We(t)}function fn(t,a){if(a){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=a;return}}t.textContent=a}var au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(t,a,i){var c=a.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?c?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":c?t.setProperty(a,i):typeof i!="number"||i===0||au.has(a)?a==="float"?t.cssFloat=i:t[a]=(""+i).trim():t[a]=i+"px"}function ol(t,a,i){if(a!=null&&typeof a!="object")throw Error(r(62));if(t=t.style,i!=null){for(var c in i)!i.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var f in a)c=a[f],a.hasOwnProperty(f)&&i[f]!==c&&il(t,f,c)}else for(var m in a)a.hasOwnProperty(m)&&il(t,m,a[m])}function ki(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ia=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oi(t){return Ia.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Zn(){}var ll=null;function kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Da=null,js=null;function zr(t){var a=Dn(t);if(a&&(t=a.stateNode)){var i=t[Bt]||null;e:switch(t=a.stateNode,a.type){case"input":if(Di(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),a=i.name,i.type==="radio"&&a!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+dn(""+a)+'"][type="radio"]'),a=0;a<i.length;a++){var c=i[a];if(c!==t&&c.form===t.form){var f=c[Bt]||null;if(!f)throw Error(r(90));Di(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<i.length;a++)c=i[a],c.form===t.form&&Lr(c)}break e;case"textarea":su(t,i.value,i.defaultValue);break e;case"select":a=i.value,a!=null&&Ca(t,!!i.multiple,a,!1)}}}var Mi=!1;function ka(t,a,i){if(Mi)return t(a,i);Mi=!0;try{var c=t(a);return c}finally{if(Mi=!1,(Da!==null||js!==null)&&(Ju(),Da&&(a=Da,t=js,js=Da=null,zr(a),t)))for(a=0;a<t.length;a++)zr(t[a])}}function es(t,a){var i=t.stateNode;if(i===null)return null;var c=i[Bt]||null;if(c===null)return null;i=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(r(231,a,typeof i));return i}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Br=!1;if(On)try{var et={};Object.defineProperty(et,"passive",{get:function(){Br=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Br=!1}var As=null,cl=null,Fr=null;function ul(){if(Fr)return Fr;var t,a=cl,i=a.length,c,f="value"in As?As.value:As.textContent,m=f.length;for(t=0;t<i&&a[t]===f[t];t++);var _=i-t;for(c=1;c<=_&&a[i-c]===f[m-c];c++);return Fr=f.slice(t,1<c?1-c:void 0)}function qr(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Ys(){return!0}function ts(){return!1}function Kt(t){function a(i,c,f,m,_){this._reactName=i,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(i=t[S],this[S]=i?i(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ys:ts,this.isPropagationStopped=ts,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),a}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cs=Kt(Xs),Oa=b({},Xs,{view:0,detail:0}),hl=Kt(Oa),Ma,Vi,Rs,Pi=b({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Va,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rs&&(Rs&&t.type==="mousemove"?(Ma=t.screenX-Rs.screenX,Vi=t.screenY-Rs.screenY):Vi=Ma=0,Rs=t),Ma)},movementY:function(t){return"movementY"in t?t.movementY:Vi}}),dl=Kt(Pi),Hr=b({},Pi,{dataTransfer:0}),iu=Kt(Hr),ou=b({},Oa,{relatedTarget:0}),Gr=Kt(ou),fl=b({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),lu=Kt(fl),Li=b({},Xs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cu=Kt(Li),uu=b({},Xs,{data:0}),Is=Kt(uu),hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=fu[t])?!!a[t]:!1}function Va(){return mu}var un=b({},Oa,{key:function(t){if(t.key){var a=hu[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=qr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Va,charCode:function(t){return t.type==="keypress"?qr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pu=Kt(un),gu=b({},Pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ws=Kt(gu),h=b({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Va}),v=Kt(h),E=b({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Kt(E),G=b({},Pi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W=Kt(G),ue=b({},Xs,{newState:0,oldState:0}),Ie=Kt(ue),vt=[9,13,27,32],Ke=On&&"CompositionEvent"in window,ht=null;On&&"documentMode"in document&&(ht=document.documentMode);var Mn=On&&"TextEvent"in window&&!ht,Ds=On&&(!Ke||ht&&8<ht&&11>=ht),ns=" ",ss=!1;function Qr(t,a){switch(t){case"keyup":return vt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ui(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zi=!1;function vS(t,a){switch(t){case"compositionend":return Ui(a);case"keypress":return a.which!==32?null:(ss=!0,ns);case"textInput":return t=a.data,t===ns&&ss?null:t;default:return null}}function _S(t,a){if(zi)return t==="compositionend"||!Ke&&Qr(t,a)?(t=ul(),Fr=cl=As=null,zi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ds&&a.locale!=="ko"?null:a.data;default:return null}}var xS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hg(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!xS[t.type]:a==="textarea"}function Gg(t,a,i,c){Da?js?js.push(c):js=[c]:Da=c,a=rh(a,"onChange"),0<a.length&&(i=new Cs("onChange","change",null,i,c),t.push({event:i,listeners:a}))}var ml=null,pl=null;function ES(t){j_(t,0)}function yu(t){var a=En(t);if(Lr(a))return t}function Qg(t,a){if(t==="change")return a}var $g=!1;if(On){var Kd;if(On){var Yd="oninput"in document;if(!Yd){var Kg=document.createElement("div");Kg.setAttribute("oninput","return;"),Yd=typeof Kg.oninput=="function"}Kd=Yd}else Kd=!1;$g=Kd&&(!document.documentMode||9<document.documentMode)}function Yg(){ml&&(ml.detachEvent("onpropertychange",Xg),pl=ml=null)}function Xg(t){if(t.propertyName==="value"&&yu(pl)){var a=[];Gg(a,pl,t,kn(t)),ka(ES,a)}}function bS(t,a,i){t==="focusin"?(Yg(),ml=a,pl=i,ml.attachEvent("onpropertychange",Xg)):t==="focusout"&&Yg()}function TS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yu(pl)}function SS(t,a){if(t==="click")return yu(a)}function wS(t,a){if(t==="input"||t==="change")return yu(a)}function NS(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var Tn=typeof Object.is=="function"?Object.is:NS;function gl(t,a){if(Tn(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var i=Object.keys(t),c=Object.keys(a);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var f=i[c];if(!wt.call(a,f)||!Tn(t[f],a[f]))return!1}return!0}function Wg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jg(t,a){var i=Wg(t);t=0;for(var c;i;){if(i.nodeType===3){if(c=t+i.textContent.length,t<=a&&c>=a)return{node:i,offset:a-t};t=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Wg(i)}}function Zg(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?Zg(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function ey(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=Ns(t.document);a instanceof t.HTMLIFrameElement;){try{var i=typeof a.contentWindow.location.href=="string"}catch{i=!1}if(i)t=a.contentWindow;else break;a=Ns(t.document)}return a}function Xd(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var jS=On&&"documentMode"in document&&11>=document.documentMode,Bi=null,Wd=null,yl=null,Jd=!1;function ty(t,a,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Jd||Bi==null||Bi!==Ns(c)||(c=Bi,"selectionStart"in c&&Xd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),yl&&gl(yl,c)||(yl=c,c=rh(Wd,"onSelect"),0<c.length&&(a=new Cs("onSelect","select",null,a,i),t.push({event:a,listeners:c}),a.target=Bi)))}function $r(t,a){var i={};return i[t.toLowerCase()]=a.toLowerCase(),i["Webkit"+t]="webkit"+a,i["Moz"+t]="moz"+a,i}var Fi={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},Zd={},ny={};On&&(ny=document.createElement("div").style,"AnimationEvent"in window||(delete Fi.animationend.animation,delete Fi.animationiteration.animation,delete Fi.animationstart.animation),"TransitionEvent"in window||delete Fi.transitionend.transition);function Kr(t){if(Zd[t])return Zd[t];if(!Fi[t])return t;var a=Fi[t],i;for(i in a)if(a.hasOwnProperty(i)&&i in ny)return Zd[t]=a[i];return t}var sy=Kr("animationend"),ay=Kr("animationiteration"),ry=Kr("animationstart"),AS=Kr("transitionrun"),CS=Kr("transitionstart"),RS=Kr("transitioncancel"),iy=Kr("transitionend"),oy=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function as(t,a){oy.set(t,a),Ss(a,[t])}var vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],qi=0,tf=0;function _u(){for(var t=qi,a=tf=qi=0;a<t;){var i=Vn[a];Vn[a++]=null;var c=Vn[a];Vn[a++]=null;var f=Vn[a];Vn[a++]=null;var m=Vn[a];if(Vn[a++]=null,c!==null&&f!==null){var _=c.pending;_===null?f.next=f:(f.next=_.next,_.next=f),c.pending=f}m!==0&&ly(i,f,m)}}function xu(t,a,i,c){Vn[qi++]=t,Vn[qi++]=a,Vn[qi++]=i,Vn[qi++]=c,tf|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function nf(t,a,i,c){return xu(t,a,i,c),Eu(t)}function Yr(t,a){return xu(t,null,null,a),Eu(t)}function ly(t,a,i){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i);for(var f=!1,m=t.return;m!==null;)m.childLanes|=i,c=m.alternate,c!==null&&(c.childLanes|=i),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&a!==null&&(f=31-yt(i),t=m.hiddenUpdates,c=t[f],c===null?t[f]=[a]:c.push(a),a.lane=i|536870912),m):null}function Eu(t){if(50<Ul)throw Ul=0,dm=null,Error(r(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Hi={};function IS(t,a,i,c){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,a,i,c){return new IS(t,a,i,c)}function sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Js(t,a){var i=t.alternate;return i===null?(i=Sn(t.tag,a,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=a,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,a=t.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function cy(t,a){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,a=i.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function bu(t,a,i,c,f,m){var _=0;if(c=t,typeof t=="function")sf(t)&&(_=1);else if(typeof t=="string")_=V1(t,i,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case j:return t=Sn(31,i,a,f),t.elementType=j,t.lanes=m,t;case k:return Xr(i.children,f,m,a);case z:_=8,f|=24;break;case $:return t=Sn(12,i,a,f|2),t.elementType=$,t.lanes=m,t;case te:return t=Sn(13,i,a,f),t.elementType=te,t.lanes=m,t;case X:return t=Sn(19,i,a,f),t.elementType=X,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ee:_=10;break e;case V:_=9;break e;case Z:_=11;break e;case A:_=14;break e;case C:_=16,c=null;break e}_=29,i=Error(r(130,t===null?"null":typeof t,"")),c=null}return a=Sn(_,i,a,f),a.elementType=t,a.type=c,a.lanes=m,a}function Xr(t,a,i,c){return t=Sn(7,t,c,a),t.lanes=i,t}function af(t,a,i){return t=Sn(6,t,null,a),t.lanes=i,t}function uy(t){var a=Sn(18,null,null,0);return a.stateNode=t,a}function rf(t,a,i){return a=Sn(4,t.children!==null?t.children:[],t.key,a),a.lanes=i,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var hy=new WeakMap;function Pn(t,a){if(typeof t=="object"&&t!==null){var i=hy.get(t);return i!==void 0?i:(a={value:t,source:a,stack:Ko(a)},hy.set(t,a),a)}return{value:t,source:a,stack:Ko(a)}}var Gi=[],Qi=0,Tu=null,vl=0,Ln=[],Un=0,Pa=null,ks=1,Os="";function Zs(t,a){Gi[Qi++]=vl,Gi[Qi++]=Tu,Tu=t,vl=a}function dy(t,a,i){Ln[Un++]=ks,Ln[Un++]=Os,Ln[Un++]=Pa,Pa=t;var c=ks;t=Os;var f=32-yt(c)-1;c&=~(1<<f),i+=1;var m=32-yt(a)+f;if(30<m){var _=f-f%5;m=(c&(1<<_)-1).toString(32),c>>=_,f-=_,ks=1<<32-yt(a)+f|i<<f|c,Os=m+t}else ks=1<<m|i<<f|c,Os=t}function of(t){t.return!==null&&(Zs(t,1),dy(t,1,0))}function lf(t){for(;t===Tu;)Tu=Gi[--Qi],Gi[Qi]=null,vl=Gi[--Qi],Gi[Qi]=null;for(;t===Pa;)Pa=Ln[--Un],Ln[Un]=null,Os=Ln[--Un],Ln[Un]=null,ks=Ln[--Un],Ln[Un]=null}function fy(t,a){Ln[Un++]=ks,Ln[Un++]=Os,Ln[Un++]=Pa,ks=a.id,Os=a.overflow,Pa=t}var Yt=null,it=null,qe=!1,La=null,zn=!1,cf=Error(r(519));function Ua(t){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _l(Pn(a,t)),cf}function my(t){var a=t.stateNode,i=t.type,c=t.memoizedProps;switch(a[jt]=t,a[Bt]=c,i){case"dialog":Pe("cancel",a),Pe("close",a);break;case"iframe":case"object":case"embed":Pe("load",a);break;case"video":case"audio":for(i=0;i<Bl.length;i++)Pe(Bl[i],a);break;case"source":Pe("error",a);break;case"img":case"image":case"link":Pe("error",a),Pe("load",a);break;case"details":Pe("toggle",a);break;case"input":Pe("invalid",a),nu(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Pe("invalid",a);break;case"textarea":Pe("invalid",a),Ra(a,c.value,c.defaultValue,c.children)}i=c.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||a.textContent===""+i||c.suppressHydrationWarning===!0||I_(a.textContent,i)?(c.popover!=null&&(Pe("beforetoggle",a),Pe("toggle",a)),c.onScroll!=null&&Pe("scroll",a),c.onScrollEnd!=null&&Pe("scrollend",a),c.onClick!=null&&(a.onclick=Zn),a=!0):a=!1,a||Ua(t,!0)}function py(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Yt=Yt.return}}function $i(t){if(t!==Yt)return!1;if(!qe)return py(t),qe=!0,!1;var a=t.tag,i;if((i=a!==3&&a!==27)&&((i=a===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||jm(t.type,t.memoizedProps)),i=!i),i&&it&&Ua(t),py(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));it=z_(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));it=z_(t)}else a===27?(a=it,Za(t.type)?(t=Dm,Dm=null,it=t):it=a):it=Yt?Fn(t.stateNode.nextSibling):null;return!0}function Wr(){it=Yt=null,qe=!1}function uf(){var t=La;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),La=null),t}function _l(t){La===null?La=[t]:La.push(t)}var hf=M(null),Jr=null,ea=null;function za(t,a,i){he(hf,a._currentValue),a._currentValue=i}function ta(t){t._currentValue=hf.current,se(hf)}function df(t,a,i){for(;t!==null;){var c=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),t===i)break;t=t.return}}function ff(t,a,i,c){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=f;for(var O=0;O<a.length;O++)if(S.context===a[O]){m.lanes|=i,S=m.alternate,S!==null&&(S.lanes|=i),df(m.return,i,t),c||(_=null);break e}m=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=i,m=_.alternate,m!==null&&(m.lanes|=i),df(_,i,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ki(t,a,i,c){t=null;for(var f=a,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var S=f.type;Tn(f.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(f===He.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ql):t=[Ql])}f=f.return}t!==null&&ff(a,t,i,c),a.flags|=262144}function Su(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zr(t){Jr=t,ea=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return gy(Jr,t)}function wu(t,a){return Jr===null&&Zr(t),gy(t,a)}function gy(t,a){var i=a._currentValue;if(a={context:a,memoizedValue:i,next:null},ea===null){if(t===null)throw Error(r(308));ea=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else ea=ea.next=a;return i}var DS=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(i,c){t.push(c)}};this.abort=function(){a.aborted=!0,t.forEach(function(i){return i()})}},kS=s.unstable_scheduleCallback,OS=s.unstable_NormalPriority,Rt={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new DS,data:new Map,refCount:0}}function xl(t){t.refCount--,t.refCount===0&&kS(OS,function(){t.controller.abort()})}var El=null,pf=0,Yi=0,Xi=null;function MS(t,a){if(El===null){var i=El=[];pf=0,Yi=vm(),Xi={status:"pending",value:void 0,then:function(c){i.push(c)}}}return pf++,a.then(yy,yy),a}function yy(){if(--pf===0&&El!==null){Xi!==null&&(Xi.status="fulfilled");var t=El;El=null,Yi=0,Xi=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function VS(t,a){var i=[],c={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return t.then(function(){c.status="fulfilled",c.value=a;for(var f=0;f<i.length;f++)(0,i[f])(a)},function(f){for(c.status="rejected",c.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),c}var vy=I.S;I.S=function(t,a){t_=cn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&MS(t,a),vy!==null&&vy(t,a)};var ei=M(null);function gf(){var t=ei.current;return t!==null?t:at.pooledCache}function Nu(t,a){a===null?he(ei,ei.current):he(ei,a.pool)}function _y(){var t=gf();return t===null?null:{parent:Rt._currentValue,pool:t}}var Wi=Error(r(460)),yf=Error(r(474)),ju=Error(r(542)),Au={then:function(){}};function xy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ey(t,a,i){switch(i=t[i],i===void 0?t.push(a):i!==a&&(a.then(Zn,Zn),a=i),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Ty(t),t;default:if(typeof a.status=="string")a.then(Zn,Zn);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=a,t.status="pending",t.then(function(c){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=c}},function(c){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Ty(t),t}throw ni=a,Wi}}function ti(t){try{var a=t._init;return a(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(ni=i,Wi):i}}var ni=null;function by(){if(ni===null)throw Error(r(459));var t=ni;return ni=null,t}function Ty(t){if(t===Wi||t===ju)throw Error(r(483))}var Ji=null,bl=0;function Cu(t){var a=bl;return bl+=1,Ji===null&&(Ji=[]),Ey(Ji,t,a)}function Tl(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Ru(t,a){throw a.$$typeof===T?Error(r(525)):(t=Object.prototype.toString.call(a),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Sy(t){function a(H,U){if(t){var Q=H.deletions;Q===null?(H.deletions=[U],H.flags|=16):Q.push(U)}}function i(H,U){if(!t)return null;for(;U!==null;)a(H,U),U=U.sibling;return null}function c(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function f(H,U){return H=Js(H,U),H.index=0,H.sibling=null,H}function m(H,U,Q){return H.index=Q,t?(Q=H.alternate,Q!==null?(Q=Q.index,Q<U?(H.flags|=67108866,U):Q):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function _(H){return t&&H.alternate===null&&(H.flags|=67108866),H}function S(H,U,Q,ae){return U===null||U.tag!==6?(U=af(Q,H.mode,ae),U.return=H,U):(U=f(U,Q),U.return=H,U)}function O(H,U,Q,ae){var _e=Q.type;return _e===k?ne(H,U,Q.props.children,ae,Q.key):U!==null&&(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===C&&ti(_e)===U.type)?(U=f(U,Q.props),Tl(U,Q),U.return=H,U):(U=bu(Q.type,Q.key,Q.props,null,H.mode,ae),Tl(U,Q),U.return=H,U)}function K(H,U,Q,ae){return U===null||U.tag!==4||U.stateNode.containerInfo!==Q.containerInfo||U.stateNode.implementation!==Q.implementation?(U=rf(Q,H.mode,ae),U.return=H,U):(U=f(U,Q.children||[]),U.return=H,U)}function ne(H,U,Q,ae,_e){return U===null||U.tag!==7?(U=Xr(Q,H.mode,ae,_e),U.return=H,U):(U=f(U,Q),U.return=H,U)}function ie(H,U,Q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=af(""+U,H.mode,Q),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case R:return Q=bu(U.type,U.key,U.props,null,H.mode,Q),Tl(Q,U),Q.return=H,Q;case q:return U=rf(U,H.mode,Q),U.return=H,U;case C:return U=ti(U),ie(H,U,Q)}if(ve(U)||F(U))return U=Xr(U,H.mode,Q,null),U.return=H,U;if(typeof U.then=="function")return ie(H,Cu(U),Q);if(U.$$typeof===ee)return ie(H,wu(H,U),Q);Ru(H,U)}return null}function Y(H,U,Q,ae){var _e=U!==null?U.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return _e!==null?null:S(H,U,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case R:return Q.key===_e?O(H,U,Q,ae):null;case q:return Q.key===_e?K(H,U,Q,ae):null;case C:return Q=ti(Q),Y(H,U,Q,ae)}if(ve(Q)||F(Q))return _e!==null?null:ne(H,U,Q,ae,null);if(typeof Q.then=="function")return Y(H,U,Cu(Q),ae);if(Q.$$typeof===ee)return Y(H,U,wu(H,Q),ae);Ru(H,Q)}return null}function J(H,U,Q,ae,_e){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return H=H.get(Q)||null,S(U,H,""+ae,_e);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case R:return H=H.get(ae.key===null?Q:ae.key)||null,O(U,H,ae,_e);case q:return H=H.get(ae.key===null?Q:ae.key)||null,K(U,H,ae,_e);case C:return ae=ti(ae),J(H,U,Q,ae,_e)}if(ve(ae)||F(ae))return H=H.get(Q)||null,ne(U,H,ae,_e,null);if(typeof ae.then=="function")return J(H,U,Q,Cu(ae),_e);if(ae.$$typeof===ee)return J(H,U,Q,wu(U,ae),_e);Ru(U,ae)}return null}function ge(H,U,Q,ae){for(var _e=null,Qe=null,ye=U,Oe=U=0,Ue=null;ye!==null&&Oe<Q.length;Oe++){ye.index>Oe?(Ue=ye,ye=null):Ue=ye.sibling;var $e=Y(H,ye,Q[Oe],ae);if($e===null){ye===null&&(ye=Ue);break}t&&ye&&$e.alternate===null&&a(H,ye),U=m($e,U,Oe),Qe===null?_e=$e:Qe.sibling=$e,Qe=$e,ye=Ue}if(Oe===Q.length)return i(H,ye),qe&&Zs(H,Oe),_e;if(ye===null){for(;Oe<Q.length;Oe++)ye=ie(H,Q[Oe],ae),ye!==null&&(U=m(ye,U,Oe),Qe===null?_e=ye:Qe.sibling=ye,Qe=ye);return qe&&Zs(H,Oe),_e}for(ye=c(ye);Oe<Q.length;Oe++)Ue=J(ye,H,Oe,Q[Oe],ae),Ue!==null&&(t&&Ue.alternate!==null&&ye.delete(Ue.key===null?Oe:Ue.key),U=m(Ue,U,Oe),Qe===null?_e=Ue:Qe.sibling=Ue,Qe=Ue);return t&&ye.forEach(function(ar){return a(H,ar)}),qe&&Zs(H,Oe),_e}function be(H,U,Q,ae){if(Q==null)throw Error(r(151));for(var _e=null,Qe=null,ye=U,Oe=U=0,Ue=null,$e=Q.next();ye!==null&&!$e.done;Oe++,$e=Q.next()){ye.index>Oe?(Ue=ye,ye=null):Ue=ye.sibling;var ar=Y(H,ye,$e.value,ae);if(ar===null){ye===null&&(ye=Ue);break}t&&ye&&ar.alternate===null&&a(H,ye),U=m(ar,U,Oe),Qe===null?_e=ar:Qe.sibling=ar,Qe=ar,ye=Ue}if($e.done)return i(H,ye),qe&&Zs(H,Oe),_e;if(ye===null){for(;!$e.done;Oe++,$e=Q.next())$e=ie(H,$e.value,ae),$e!==null&&(U=m($e,U,Oe),Qe===null?_e=$e:Qe.sibling=$e,Qe=$e);return qe&&Zs(H,Oe),_e}for(ye=c(ye);!$e.done;Oe++,$e=Q.next())$e=J(ye,H,Oe,$e.value,ae),$e!==null&&(t&&$e.alternate!==null&&ye.delete($e.key===null?Oe:$e.key),U=m($e,U,Oe),Qe===null?_e=$e:Qe.sibling=$e,Qe=$e);return t&&ye.forEach(function($1){return a(H,$1)}),qe&&Zs(H,Oe),_e}function st(H,U,Q,ae){if(typeof Q=="object"&&Q!==null&&Q.type===k&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case R:e:{for(var _e=Q.key;U!==null;){if(U.key===_e){if(_e=Q.type,_e===k){if(U.tag===7){i(H,U.sibling),ae=f(U,Q.props.children),ae.return=H,H=ae;break e}}else if(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===C&&ti(_e)===U.type){i(H,U.sibling),ae=f(U,Q.props),Tl(ae,Q),ae.return=H,H=ae;break e}i(H,U);break}else a(H,U);U=U.sibling}Q.type===k?(ae=Xr(Q.props.children,H.mode,ae,Q.key),ae.return=H,H=ae):(ae=bu(Q.type,Q.key,Q.props,null,H.mode,ae),Tl(ae,Q),ae.return=H,H=ae)}return _(H);case q:e:{for(_e=Q.key;U!==null;){if(U.key===_e)if(U.tag===4&&U.stateNode.containerInfo===Q.containerInfo&&U.stateNode.implementation===Q.implementation){i(H,U.sibling),ae=f(U,Q.children||[]),ae.return=H,H=ae;break e}else{i(H,U);break}else a(H,U);U=U.sibling}ae=rf(Q,H.mode,ae),ae.return=H,H=ae}return _(H);case C:return Q=ti(Q),st(H,U,Q,ae)}if(ve(Q))return ge(H,U,Q,ae);if(F(Q)){if(_e=F(Q),typeof _e!="function")throw Error(r(150));return Q=_e.call(Q),be(H,U,Q,ae)}if(typeof Q.then=="function")return st(H,U,Cu(Q),ae);if(Q.$$typeof===ee)return st(H,U,wu(H,Q),ae);Ru(H,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,U!==null&&U.tag===6?(i(H,U.sibling),ae=f(U,Q),ae.return=H,H=ae):(i(H,U),ae=af(Q,H.mode,ae),ae.return=H,H=ae),_(H)):i(H,U)}return function(H,U,Q,ae){try{bl=0;var _e=st(H,U,Q,ae);return Ji=null,_e}catch(ye){if(ye===Wi||ye===ju)throw ye;var Qe=Sn(29,ye,null,H.mode);return Qe.lanes=ae,Qe.return=H,Qe}finally{}}}var si=Sy(!0),wy=Sy(!1),Ba=!1;function vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qa(t,a,i){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Ye&2)!==0){var f=c.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a,a=Eu(t),ly(t,null,i),a}return xu(t,c,a,i),Eu(t)}function Sl(t,a,i){if(a=a.updateQueue,a!==null&&(a=a.shared,(i&4194048)!==0)){var c=a.lanes;c&=t.pendingLanes,i|=c,a.lanes=i,Wo(t,i)}}function xf(t,a){var i=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var f=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var _={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,i=i.next}while(i!==null);m===null?f=m=a:m=m.next=a}else f=m=a;i={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=a:t.next=a,i.lastBaseUpdate=a}var Ef=!1;function wl(){if(Ef){var t=Xi;if(t!==null)throw t}}function Nl(t,a,i,c){Ef=!1;var f=t.updateQueue;Ba=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var O=S,K=O.next;O.next=null,_===null?m=K:_.next=K,_=O;var ne=t.alternate;ne!==null&&(ne=ne.updateQueue,S=ne.lastBaseUpdate,S!==_&&(S===null?ne.firstBaseUpdate=K:S.next=K,ne.lastBaseUpdate=O))}if(m!==null){var ie=f.baseState;_=0,ne=K=O=null,S=m;do{var Y=S.lane&-536870913,J=Y!==S.lane;if(J?(Le&Y)===Y:(c&Y)===Y){Y!==0&&Y===Yi&&(Ef=!0),ne!==null&&(ne=ne.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ge=t,be=S;Y=a;var st=i;switch(be.tag){case 1:if(ge=be.payload,typeof ge=="function"){ie=ge.call(st,ie,Y);break e}ie=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=be.payload,Y=typeof ge=="function"?ge.call(st,ie,Y):ge,Y==null)break e;ie=b({},ie,Y);break e;case 2:Ba=!0}}Y=S.callback,Y!==null&&(t.flags|=64,J&&(t.flags|=8192),J=f.callbacks,J===null?f.callbacks=[Y]:J.push(Y))}else J={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ne===null?(K=ne=J,O=ie):ne=ne.next=J,_|=Y;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;J=S,S=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);ne===null&&(O=ie),f.baseState=O,f.firstBaseUpdate=K,f.lastBaseUpdate=ne,m===null&&(f.shared.lanes=0),Ka|=_,t.lanes=_,t.memoizedState=ie}}function Ny(t,a){if(typeof t!="function")throw Error(r(191,t));t.call(a)}function jy(t,a){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Ny(i[t],a)}var Zi=M(null),Iu=M(0);function Ay(t,a){t=ua,he(Iu,t),he(Zi,a),ua=t|a.baseLanes}function bf(){he(Iu,ua),he(Zi,Zi.current)}function Tf(){ua=Iu.current,se(Zi),se(Iu)}var wn=M(null),Bn=null;function Ha(t){var a=t.alternate;he(_t,_t.current&1),he(wn,t),Bn===null&&(a===null||Zi.current!==null||a.memoizedState!==null)&&(Bn=t)}function Sf(t){he(_t,_t.current),he(wn,t),Bn===null&&(Bn=t)}function Cy(t){t.tag===22?(he(_t,_t.current),he(wn,t),Bn===null&&(Bn=t)):Ga()}function Ga(){he(_t,_t.current),he(wn,wn.current)}function Nn(t){se(wn),Bn===t&&(Bn=null),se(_t)}var _t=M(0);function Du(t){for(var a=t;a!==null;){if(a.tag===13){var i=a.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Rm(i)||Im(i)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var na=0,De=null,tt=null,It=null,ku=!1,eo=!1,ai=!1,Ou=0,jl=0,to=null,PS=0;function pt(){throw Error(r(321))}function wf(t,a){if(a===null)return!1;for(var i=0;i<a.length&&i<t.length;i++)if(!Tn(t[i],a[i]))return!1;return!0}function Nf(t,a,i,c,f,m){return na=m,De=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,I.H=t===null||t.memoizedState===null?dv:Bf,ai=!1,m=i(c,f),ai=!1,eo&&(m=Iy(a,i,c,f)),Ry(t),m}function Ry(t){I.H=Rl;var a=tt!==null&&tt.next!==null;if(na=0,It=tt=De=null,ku=!1,jl=0,to=null,a)throw Error(r(300));t===null||Dt||(t=t.dependencies,t!==null&&Su(t)&&(Dt=!0))}function Iy(t,a,i,c){De=t;var f=0;do{if(eo&&(to=null),jl=0,eo=!1,25<=f)throw Error(r(301));if(f+=1,It=tt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}I.H=fv,m=a(i,c)}while(eo);return m}function LS(){var t=I.H,a=t.useState()[0];return a=typeof a.then=="function"?Al(a):a,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(De.flags|=1024),a}function jf(){var t=Ou!==0;return Ou=0,t}function Af(t,a,i){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~i}function Cf(t){if(ku){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}ku=!1}na=0,It=tt=De=null,eo=!1,jl=Ou=0,to=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?De.memoizedState=It=t:It=It.next=t,It}function xt(){if(tt===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var a=It===null?De.memoizedState:It.next;if(a!==null)It=a,tt=t;else{if(t===null)throw De.alternate===null?Error(r(467)):Error(r(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},It===null?De.memoizedState=It=t:It=It.next=t}return It}function Mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(t){var a=jl;return jl+=1,to===null&&(to=[]),t=Ey(to,t,a),a=De,(It===null?a.memoizedState:It.next)===null&&(a=a.alternate,I.H=a===null||a.memoizedState===null?dv:Bf),t}function Vu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Al(t);if(t.$$typeof===ee)return Xt(t)}throw Error(r(438,String(t)))}function Rf(t){var a=null,i=De.updateQueue;if(i!==null&&(a=i.memoCache),a==null){var c=De.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),i===null&&(i=Mu(),De.updateQueue=i),i.memoCache=a,i=a.data[a.index],i===void 0)for(i=a.data[a.index]=Array(t),c=0;c<t;c++)i[c]=L;return a.index++,i}function sa(t,a){return typeof a=="function"?a(t):a}function Pu(t){var a=xt();return If(a,tt,t)}function If(t,a,i){var c=t.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var f=t.baseQueue,m=c.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}a.baseQueue=f=m,c.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{a=f.next;var S=_=null,O=null,K=a,ne=!1;do{var ie=K.lane&-536870913;if(ie!==K.lane?(Le&ie)===ie:(na&ie)===ie){var Y=K.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ie===Yi&&(ne=!0);else if((na&Y)===Y){K=K.next,Y===Yi&&(ne=!0);continue}else ie={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(S=O=ie,_=m):O=O.next=ie,De.lanes|=Y,Ka|=Y;ie=K.action,ai&&i(m,ie),m=K.hasEagerState?K.eagerState:i(m,ie)}else Y={lane:ie,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(S=O=Y,_=m):O=O.next=Y,De.lanes|=ie,Ka|=ie;K=K.next}while(K!==null&&K!==a);if(O===null?_=m:O.next=S,!Tn(m,t.memoizedState)&&(Dt=!0,ne&&(i=Xi,i!==null)))throw i;t.memoizedState=m,t.baseState=_,t.baseQueue=O,c.lastRenderedState=m}return f===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Df(t){var a=xt(),i=a.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=t;var c=i.dispatch,f=i.pending,m=a.memoizedState;if(f!==null){i.pending=null;var _=f=f.next;do m=t(m,_.action),_=_.next;while(_!==f);Tn(m,a.memoizedState)||(Dt=!0),a.memoizedState=m,a.baseQueue===null&&(a.baseState=m),i.lastRenderedState=m}return[m,c]}function Dy(t,a,i){var c=De,f=xt(),m=qe;if(m){if(i===void 0)throw Error(r(407));i=i()}else i=a();var _=!Tn((tt||f).memoizedState,i);if(_&&(f.memoizedState=i,Dt=!0),f=f.queue,Mf(My.bind(null,c,f,t),[t]),f.getSnapshot!==a||_||It!==null&&It.memoizedState.tag&1){if(c.flags|=2048,no(9,{destroy:void 0},Oy.bind(null,c,f,i,a),null),at===null)throw Error(r(349));m||(na&127)!==0||ky(c,a,i)}return i}function ky(t,a,i){t.flags|=16384,t={getSnapshot:a,value:i},a=De.updateQueue,a===null?(a=Mu(),De.updateQueue=a,a.stores=[t]):(i=a.stores,i===null?a.stores=[t]:i.push(t))}function Oy(t,a,i,c){a.value=i,a.getSnapshot=c,Vy(a)&&Py(t)}function My(t,a,i){return i(function(){Vy(a)&&Py(t)})}function Vy(t){var a=t.getSnapshot;t=t.value;try{var i=a();return!Tn(t,i)}catch{return!0}}function Py(t){var a=Yr(t,2);a!==null&&vn(a,t,2)}function kf(t){var a=hn();if(typeof t=="function"){var i=t;if(t=i(),ai){In(!0);try{i()}finally{In(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:t},a}function Ly(t,a,i,c){return t.baseState=i,If(t,tt,typeof c=="function"?c:sa)}function US(t,a,i,c,f){if(zu(t))throw Error(r(485));if(t=a.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};I.T!==null?i(!0):m.isTransition=!1,c(m),i=a.pending,i===null?(m.next=a.pending=m,Uy(a,m)):(m.next=i.next,a.pending=i.next=m)}}function Uy(t,a){var i=a.action,c=a.payload,f=t.state;if(a.isTransition){var m=I.T,_={};I.T=_;try{var S=i(f,c),O=I.S;O!==null&&O(_,S),zy(t,a,S)}catch(K){Of(t,a,K)}finally{m!==null&&_.types!==null&&(m.types=_.types),I.T=m}}else try{m=i(f,c),zy(t,a,m)}catch(K){Of(t,a,K)}}function zy(t,a,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(c){By(t,a,c)},function(c){return Of(t,a,c)}):By(t,a,i)}function By(t,a,i){a.status="fulfilled",a.value=i,Fy(a),t.state=i,a=t.pending,a!==null&&(i=a.next,i===a?t.pending=null:(i=i.next,a.next=i,Uy(t,i)))}function Of(t,a,i){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=i,Fy(a),a=a.next;while(a!==c)}t.action=null}function Fy(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function qy(t,a){return a}function Hy(t,a){if(qe){var i=at.formState;if(i!==null){e:{var c=De;if(qe){if(it){t:{for(var f=it,m=zn;f.nodeType!==8;){if(!m){f=null;break t}if(f=Fn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){it=Fn(f.nextSibling),c=f.data==="F!";break e}}Ua(c)}c=!1}c&&(a=i[0])}}return i=hn(),i.memoizedState=i.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qy,lastRenderedState:a},i.queue=c,i=cv.bind(null,De,c),c.dispatch=i,c=kf(!1),m=zf.bind(null,De,!1,c.queue),c=hn(),f={state:a,dispatch:null,action:t,pending:null},c.queue=f,i=US.bind(null,De,f,m,i),f.dispatch=i,c.memoizedState=t,[a,i,!1]}function Gy(t){var a=xt();return Qy(a,tt,t)}function Qy(t,a,i){if(a=If(t,a,qy)[0],t=Pu(sa)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Al(a)}catch(_){throw _===Wi?ju:_}else c=a;a=xt();var f=a.queue,m=f.dispatch;return i!==a.memoizedState&&(De.flags|=2048,no(9,{destroy:void 0},zS.bind(null,f,i),null)),[c,m,t]}function zS(t,a){t.action=a}function $y(t){var a=xt(),i=tt;if(i!==null)return Qy(a,i,t);xt(),a=a.memoizedState,i=xt();var c=i.queue.dispatch;return i.memoizedState=t,[a,c,!1]}function no(t,a,i,c){return t={tag:t,create:i,deps:c,inst:a,next:null},a=De.updateQueue,a===null&&(a=Mu(),De.updateQueue=a),i=a.lastEffect,i===null?a.lastEffect=t.next=t:(c=i.next,i.next=t,t.next=c,a.lastEffect=t),t}function Ky(){return xt().memoizedState}function Lu(t,a,i,c){var f=hn();De.flags|=t,f.memoizedState=no(1|a,{destroy:void 0},i,c===void 0?null:c)}function Uu(t,a,i,c){var f=xt();c=c===void 0?null:c;var m=f.memoizedState.inst;tt!==null&&c!==null&&wf(c,tt.memoizedState.deps)?f.memoizedState=no(a,m,i,c):(De.flags|=t,f.memoizedState=no(1|a,m,i,c))}function Yy(t,a){Lu(8390656,8,t,a)}function Mf(t,a){Uu(2048,8,t,a)}function BS(t){De.flags|=4;var a=De.updateQueue;if(a===null)a=Mu(),De.updateQueue=a,a.events=[t];else{var i=a.events;i===null?a.events=[t]:i.push(t)}}function Xy(t){var a=xt().memoizedState;return BS({ref:a,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function Wy(t,a){return Uu(4,2,t,a)}function Jy(t,a){return Uu(4,4,t,a)}function Zy(t,a){if(typeof a=="function"){t=t();var i=a(t);return function(){typeof i=="function"?i():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function ev(t,a,i){i=i!=null?i.concat([t]):null,Uu(4,4,Zy.bind(null,a,t),i)}function Vf(){}function tv(t,a){var i=xt();a=a===void 0?null:a;var c=i.memoizedState;return a!==null&&wf(a,c[1])?c[0]:(i.memoizedState=[t,a],t)}function nv(t,a){var i=xt();a=a===void 0?null:a;var c=i.memoizedState;if(a!==null&&wf(a,c[1]))return c[0];if(c=t(),ai){In(!0);try{t()}finally{In(!1)}}return i.memoizedState=[c,a],c}function Pf(t,a,i){return i===void 0||(na&1073741824)!==0&&(Le&261930)===0?t.memoizedState=a:(t.memoizedState=i,t=s_(),De.lanes|=t,Ka|=t,i)}function sv(t,a,i,c){return Tn(i,a)?i:Zi.current!==null?(t=Pf(t,i,c),Tn(t,a)||(Dt=!0),t):(na&42)===0||(na&1073741824)!==0&&(Le&261930)===0?(Dt=!0,t.memoizedState=i):(t=s_(),De.lanes|=t,Ka|=t,a)}function av(t,a,i,c,f){var m=oe.p;oe.p=m!==0&&8>m?m:8;var _=I.T,S={};I.T=S,zf(t,!1,a,i);try{var O=f(),K=I.S;if(K!==null&&K(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ne=VS(O,c);Cl(t,a,ne,Cn(t))}else Cl(t,a,c,Cn(t))}catch(ie){Cl(t,a,{then:function(){},status:"rejected",reason:ie},Cn())}finally{oe.p=m,_!==null&&S.types!==null&&(_.types=S.types),I.T=_}}function FS(){}function Lf(t,a,i,c){if(t.tag!==5)throw Error(r(476));var f=rv(t).queue;av(t,f,a,B,i===null?FS:function(){return iv(t),i(c)})}function rv(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:B},next:null};var i={};return a.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:i},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function iv(t){var a=rv(t);a.next===null&&(a=t.alternate.memoizedState),Cl(t,a.next.queue,{},Cn())}function Uf(){return Xt(Ql)}function ov(){return xt().memoizedState}function lv(){return xt().memoizedState}function qS(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var i=Cn();t=Fa(i);var c=qa(a,t,i);c!==null&&(vn(c,a,i),Sl(c,a,i)),a={cache:mf()},t.payload=a;return}a=a.return}}function HS(t,a,i){var c=Cn();i={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},zu(t)?uv(a,i):(i=nf(t,a,i,c),i!==null&&(vn(i,t,c),hv(i,a,c)))}function cv(t,a,i){var c=Cn();Cl(t,a,i,c)}function Cl(t,a,i,c){var f={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(zu(t))uv(a,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=a.lastRenderedReducer,m!==null))try{var _=a.lastRenderedState,S=m(_,i);if(f.hasEagerState=!0,f.eagerState=S,Tn(S,_))return xu(t,a,f,0),at===null&&_u(),!1}catch{}finally{}if(i=nf(t,a,f,c),i!==null)return vn(i,t,c),hv(i,a,c),!0}return!1}function zf(t,a,i,c){if(c={lane:2,revertLane:vm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},zu(t)){if(a)throw Error(r(479))}else a=nf(t,i,c,2),a!==null&&vn(a,t,2)}function zu(t){var a=t.alternate;return t===De||a!==null&&a===De}function uv(t,a){eo=ku=!0;var i=t.pending;i===null?a.next=a:(a.next=i.next,i.next=a),t.pending=a}function hv(t,a,i){if((i&4194048)!==0){var c=a.lanes;c&=t.pendingLanes,i|=c,a.lanes=i,Wo(t,i)}}var Rl={readContext:Xt,use:Vu,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Rl.useEffectEvent=pt;var dv={readContext:Xt,use:Vu,useCallback:function(t,a){return hn().memoizedState=[t,a===void 0?null:a],t},useContext:Xt,useEffect:Yy,useImperativeHandle:function(t,a,i){i=i!=null?i.concat([t]):null,Lu(4194308,4,Zy.bind(null,a,t),i)},useLayoutEffect:function(t,a){return Lu(4194308,4,t,a)},useInsertionEffect:function(t,a){Lu(4,2,t,a)},useMemo:function(t,a){var i=hn();a=a===void 0?null:a;var c=t();if(ai){In(!0);try{t()}finally{In(!1)}}return i.memoizedState=[c,a],c},useReducer:function(t,a,i){var c=hn();if(i!==void 0){var f=i(a);if(ai){In(!0);try{i(a)}finally{In(!1)}}}else f=a;return c.memoizedState=c.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},c.queue=t,t=t.dispatch=HS.bind(null,De,t),[c.memoizedState,t]},useRef:function(t){var a=hn();return t={current:t},a.memoizedState=t},useState:function(t){t=kf(t);var a=t.queue,i=cv.bind(null,De,a);return a.dispatch=i,[t.memoizedState,i]},useDebugValue:Vf,useDeferredValue:function(t,a){var i=hn();return Pf(i,t,a)},useTransition:function(){var t=kf(!1);return t=av.bind(null,De,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,i){var c=De,f=hn();if(qe){if(i===void 0)throw Error(r(407));i=i()}else{if(i=a(),at===null)throw Error(r(349));(Le&127)!==0||ky(c,a,i)}f.memoizedState=i;var m={value:i,getSnapshot:a};return f.queue=m,Yy(My.bind(null,c,m,t),[t]),c.flags|=2048,no(9,{destroy:void 0},Oy.bind(null,c,m,i,a),null),i},useId:function(){var t=hn(),a=at.identifierPrefix;if(qe){var i=Os,c=ks;i=(c&~(1<<32-yt(c)-1)).toString(32)+i,a="_"+a+"R_"+i,i=Ou++,0<i&&(a+="H"+i.toString(32)),a+="_"}else i=PS++,a="_"+a+"r_"+i.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:Uf,useFormState:Hy,useActionState:Hy,useOptimistic:function(t){var a=hn();a.memoizedState=a.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=i,a=zf.bind(null,De,!0,i),i.dispatch=a,[t,a]},useMemoCache:Rf,useCacheRefresh:function(){return hn().memoizedState=qS.bind(null,De)},useEffectEvent:function(t){var a=hn(),i={impl:t};return a.memoizedState=i,function(){if((Ye&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},Bf={readContext:Xt,use:Vu,useCallback:tv,useContext:Xt,useEffect:Mf,useImperativeHandle:ev,useInsertionEffect:Wy,useLayoutEffect:Jy,useMemo:nv,useReducer:Pu,useRef:Ky,useState:function(){return Pu(sa)},useDebugValue:Vf,useDeferredValue:function(t,a){var i=xt();return sv(i,tt.memoizedState,t,a)},useTransition:function(){var t=Pu(sa)[0],a=xt().memoizedState;return[typeof t=="boolean"?t:Al(t),a]},useSyncExternalStore:Dy,useId:ov,useHostTransitionStatus:Uf,useFormState:Gy,useActionState:Gy,useOptimistic:function(t,a){var i=xt();return Ly(i,tt,t,a)},useMemoCache:Rf,useCacheRefresh:lv};Bf.useEffectEvent=Xy;var fv={readContext:Xt,use:Vu,useCallback:tv,useContext:Xt,useEffect:Mf,useImperativeHandle:ev,useInsertionEffect:Wy,useLayoutEffect:Jy,useMemo:nv,useReducer:Df,useRef:Ky,useState:function(){return Df(sa)},useDebugValue:Vf,useDeferredValue:function(t,a){var i=xt();return tt===null?Pf(i,t,a):sv(i,tt.memoizedState,t,a)},useTransition:function(){var t=Df(sa)[0],a=xt().memoizedState;return[typeof t=="boolean"?t:Al(t),a]},useSyncExternalStore:Dy,useId:ov,useHostTransitionStatus:Uf,useFormState:$y,useActionState:$y,useOptimistic:function(t,a){var i=xt();return tt!==null?Ly(i,tt,t,a):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:lv};fv.useEffectEvent=Xy;function Ff(t,a,i,c){a=t.memoizedState,i=i(c,a),i=i==null?a:b({},a,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var qf={enqueueSetState:function(t,a,i){t=t._reactInternals;var c=Cn(),f=Fa(c);f.payload=a,i!=null&&(f.callback=i),a=qa(t,f,c),a!==null&&(vn(a,t,c),Sl(a,t,c))},enqueueReplaceState:function(t,a,i){t=t._reactInternals;var c=Cn(),f=Fa(c);f.tag=1,f.payload=a,i!=null&&(f.callback=i),a=qa(t,f,c),a!==null&&(vn(a,t,c),Sl(a,t,c))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var i=Cn(),c=Fa(i);c.tag=2,a!=null&&(c.callback=a),a=qa(t,c,i),a!==null&&(vn(a,t,i),Sl(a,t,i))}};function mv(t,a,i,c,f,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,_):a.prototype&&a.prototype.isPureReactComponent?!gl(i,c)||!gl(f,m):!0}function pv(t,a,i,c){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(i,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(i,c),a.state!==t&&qf.enqueueReplaceState(a,a.state,null)}function ri(t,a){var i=a;if("ref"in a){i={};for(var c in a)c!=="ref"&&(i[c]=a[c])}if(t=t.defaultProps){i===a&&(i=b({},i));for(var f in t)i[f]===void 0&&(i[f]=t[f])}return i}function gv(t){vu(t)}function yv(t){console.error(t)}function vv(t){vu(t)}function Bu(t,a){try{var i=t.onUncaughtError;i(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function _v(t,a,i){try{var c=t.onCaughtError;c(i.value,{componentStack:i.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Hf(t,a,i){return i=Fa(i),i.tag=3,i.payload={element:null},i.callback=function(){Bu(t,a)},i}function xv(t){return t=Fa(t),t.tag=3,t}function Ev(t,a,i,c){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;t.payload=function(){return f(m)},t.callback=function(){_v(a,i,c)}}var _=i.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){_v(a,i,c),typeof f!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function GS(t,a,i,c,f){if(i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=i.alternate,a!==null&&Ki(a,i,f,!0),i=wn.current,i!==null){switch(i.tag){case 31:case 13:return Bn===null?Zu():i.alternate===null&&gt===0&&(gt=3),i.flags&=-257,i.flags|=65536,i.lanes=f,c===Au?i.flags|=16384:(a=i.updateQueue,a===null?i.updateQueue=new Set([c]):a.add(c),pm(t,c,f)),!1;case 22:return i.flags|=65536,c===Au?i.flags|=16384:(a=i.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},i.updateQueue=a):(i=a.retryQueue,i===null?a.retryQueue=new Set([c]):i.add(c)),pm(t,c,f)),!1}throw Error(r(435,i.tag))}return pm(t,c,f),Zu(),!1}if(qe)return a=wn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,c!==cf&&(t=Error(r(422),{cause:c}),_l(Pn(t,i)))):(c!==cf&&(a=Error(r(423),{cause:c}),_l(Pn(a,i))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,c=Pn(c,i),f=Hf(t.stateNode,c,f),xf(t,f),gt!==4&&(gt=2)),!1;var m=Error(r(520),{cause:c});if(m=Pn(m,i),Ll===null?Ll=[m]:Ll.push(m),gt!==4&&(gt=2),a===null)return!0;c=Pn(c,i),i=a;do{switch(i.tag){case 3:return i.flags|=65536,t=f&-f,i.lanes|=t,t=Hf(i.stateNode,c,t),xf(i,t),!1;case 1:if(a=i.type,m=i.stateNode,(i.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ya===null||!Ya.has(m))))return i.flags|=65536,f&=-f,i.lanes|=f,f=xv(f),Ev(f,t,i,c),xf(i,f),!1}i=i.return}while(i!==null);return!1}var Gf=Error(r(461)),Dt=!1;function Wt(t,a,i,c){a.child=t===null?wy(a,null,i,c):si(a,t.child,i,c)}function bv(t,a,i,c,f){i=i.render;var m=a.ref;if("ref"in c){var _={};for(var S in c)S!=="ref"&&(_[S]=c[S])}else _=c;return Zr(a),c=Nf(t,a,i,_,m,f),S=jf(),t!==null&&!Dt?(Af(t,a,f),aa(t,a,f)):(qe&&S&&of(a),a.flags|=1,Wt(t,a,c,f),a.child)}function Tv(t,a,i,c,f){if(t===null){var m=i.type;return typeof m=="function"&&!sf(m)&&m.defaultProps===void 0&&i.compare===null?(a.tag=15,a.type=m,Sv(t,a,m,c,f)):(t=bu(i.type,null,c,a,a.mode,f),t.ref=a.ref,t.return=a,a.child=t)}if(m=t.child,!Zf(t,f)){var _=m.memoizedProps;if(i=i.compare,i=i!==null?i:gl,i(_,c)&&t.ref===a.ref)return aa(t,a,f)}return a.flags|=1,t=Js(m,c),t.ref=a.ref,t.return=a,a.child=t}function Sv(t,a,i,c,f){if(t!==null){var m=t.memoizedProps;if(gl(m,c)&&t.ref===a.ref)if(Dt=!1,a.pendingProps=c=m,Zf(t,f))(t.flags&131072)!==0&&(Dt=!0);else return a.lanes=t.lanes,aa(t,a,f)}return Qf(t,a,i,c,f)}function wv(t,a,i,c){var f=c.children,m=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(m=m!==null?m.baseLanes|i:i,t!==null){for(c=a.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~m}else c=0,a.child=null;return Nv(t,a,m,i,c)}if((i&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&Nu(a,m!==null?m.cachePool:null),m!==null?Ay(a,m):bf(),Cy(a);else return c=a.lanes=536870912,Nv(t,a,m!==null?m.baseLanes|i:i,i,c)}else m!==null?(Nu(a,m.cachePool),Ay(a,m),Ga(),a.memoizedState=null):(t!==null&&Nu(a,null),bf(),Ga());return Wt(t,a,f,i),a.child}function Il(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Nv(t,a,i,c,f){var m=gf();return m=m===null?null:{parent:Rt._currentValue,pool:m},a.memoizedState={baseLanes:i,cachePool:m},t!==null&&Nu(a,null),bf(),Cy(a),t!==null&&Ki(t,a,c,!0),a.childLanes=f,null}function Fu(t,a){return a=Hu({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function jv(t,a,i){return si(a,t.child,null,i),t=Fu(a,a.pendingProps),t.flags|=2,Nn(a),a.memoizedState=null,t}function QS(t,a,i){var c=a.pendingProps,f=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(qe){if(c.mode==="hidden")return t=Fu(a,c),a.lanes=536870912,Il(null,t);if(Sf(a),(t=it)?(t=U_(t,zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Pa!==null?{id:ks,overflow:Os}:null,retryLane:536870912,hydrationErrors:null},i=uy(t),i.return=a,a.child=i,Yt=a,it=null)):t=null,t===null)throw Ua(a);return a.lanes=536870912,null}return Fu(a,c)}var m=t.memoizedState;if(m!==null){var _=m.dehydrated;if(Sf(a),f)if(a.flags&256)a.flags&=-257,a=jv(t,a,i);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(r(558));else if(Dt||Ki(t,a,i,!1),f=(i&t.childLanes)!==0,Dt||f){if(c=at,c!==null&&(_=Jo(c,i),_!==0&&_!==m.retryLane))throw m.retryLane=_,Yr(t,_),vn(c,t,_),Gf;Zu(),a=jv(t,a,i)}else t=m.treeContext,it=Fn(_.nextSibling),Yt=a,qe=!0,La=null,zn=!1,t!==null&&fy(a,t),a=Fu(a,c),a.flags|=4096;return a}return t=Js(t.child,{mode:c.mode,children:c.children}),t.ref=a.ref,a.child=t,t.return=a,t}function qu(t,a){var i=a.ref;if(i===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(t===null||t.ref!==i)&&(a.flags|=4194816)}}function Qf(t,a,i,c,f){return Zr(a),i=Nf(t,a,i,c,void 0,f),c=jf(),t!==null&&!Dt?(Af(t,a,f),aa(t,a,f)):(qe&&c&&of(a),a.flags|=1,Wt(t,a,i,f),a.child)}function Av(t,a,i,c,f,m){return Zr(a),a.updateQueue=null,i=Iy(a,c,i,f),Ry(t),c=jf(),t!==null&&!Dt?(Af(t,a,m),aa(t,a,m)):(qe&&c&&of(a),a.flags|=1,Wt(t,a,i,m),a.child)}function Cv(t,a,i,c,f){if(Zr(a),a.stateNode===null){var m=Hi,_=i.contextType;typeof _=="object"&&_!==null&&(m=Xt(_)),m=new i(c,m),a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=qf,a.stateNode=m,m._reactInternals=a,m=a.stateNode,m.props=c,m.state=a.memoizedState,m.refs={},vf(a),_=i.contextType,m.context=typeof _=="object"&&_!==null?Xt(_):Hi,m.state=a.memoizedState,_=i.getDerivedStateFromProps,typeof _=="function"&&(Ff(a,i,_,c),m.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&qf.enqueueReplaceState(m,m.state,null),Nl(a,c,m,f),wl(),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(t===null){m=a.stateNode;var S=a.memoizedProps,O=ri(i,S);m.props=O;var K=m.context,ne=i.contextType;_=Hi,typeof ne=="object"&&ne!==null&&(_=Xt(ne));var ie=i.getDerivedStateFromProps;ne=typeof ie=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,ne||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||K!==_)&&pv(a,m,c,_),Ba=!1;var Y=a.memoizedState;m.state=Y,Nl(a,c,m,f),wl(),K=a.memoizedState,S||Y!==K||Ba?(typeof ie=="function"&&(Ff(a,i,ie,c),K=a.memoizedState),(O=Ba||mv(a,i,O,c,Y,K,_))?(ne||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(a.flags|=4194308)):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=K),m.props=c,m.state=K,m.context=_,c=O):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{m=a.stateNode,_f(t,a),_=a.memoizedProps,ne=ri(i,_),m.props=ne,ie=a.pendingProps,Y=m.context,K=i.contextType,O=Hi,typeof K=="object"&&K!==null&&(O=Xt(K)),S=i.getDerivedStateFromProps,(K=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==ie||Y!==O)&&pv(a,m,c,O),Ba=!1,Y=a.memoizedState,m.state=Y,Nl(a,c,m,f),wl();var J=a.memoizedState;_!==ie||Y!==J||Ba||t!==null&&t.dependencies!==null&&Su(t.dependencies)?(typeof S=="function"&&(Ff(a,i,S,c),J=a.memoizedState),(ne=Ba||mv(a,i,ne,c,Y,J,O)||t!==null&&t.dependencies!==null&&Su(t.dependencies))?(K||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,J,O),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,J,O)),typeof m.componentDidUpdate=="function"&&(a.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=J),m.props=c,m.state=J,m.context=O,c=ne):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(a.flags|=1024),c=!1)}return m=c,qu(t,a),c=(a.flags&128)!==0,m||c?(m=a.stateNode,i=c&&typeof i.getDerivedStateFromError!="function"?null:m.render(),a.flags|=1,t!==null&&c?(a.child=si(a,t.child,null,f),a.child=si(a,null,i,f)):Wt(t,a,i,f),a.memoizedState=m.state,t=a.child):t=aa(t,a,f),t}function Rv(t,a,i,c){return Wr(),a.flags|=256,Wt(t,a,i,c),a.child}var $f={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kf(t){return{baseLanes:t,cachePool:_y()}}function Yf(t,a,i){return t=t!==null?t.childLanes&~i:0,a&&(t|=An),t}function Iv(t,a,i){var c=a.pendingProps,f=!1,m=(a.flags&128)!==0,_;if((_=m)||(_=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),_&&(f=!0,a.flags&=-129),_=(a.flags&32)!==0,a.flags&=-33,t===null){if(qe){if(f?Ha(a):Ga(),(t=it)?(t=U_(t,zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Pa!==null?{id:ks,overflow:Os}:null,retryLane:536870912,hydrationErrors:null},i=uy(t),i.return=a,a.child=i,Yt=a,it=null)):t=null,t===null)throw Ua(a);return Im(t)?a.lanes=32:a.lanes=536870912,null}var S=c.children;return c=c.fallback,f?(Ga(),f=a.mode,S=Hu({mode:"hidden",children:S},f),c=Xr(c,f,i,null),S.return=a,c.return=a,S.sibling=c,a.child=S,c=a.child,c.memoizedState=Kf(i),c.childLanes=Yf(t,_,i),a.memoizedState=$f,Il(null,c)):(Ha(a),Xf(a,S))}var O=t.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(m)a.flags&256?(Ha(a),a.flags&=-257,a=Wf(t,a,i)):a.memoizedState!==null?(Ga(),a.child=t.child,a.flags|=128,a=null):(Ga(),S=c.fallback,f=a.mode,c=Hu({mode:"visible",children:c.children},f),S=Xr(S,f,i,null),S.flags|=2,c.return=a,S.return=a,c.sibling=S,a.child=c,si(a,t.child,null,i),c=a.child,c.memoizedState=Kf(i),c.childLanes=Yf(t,_,i),a.memoizedState=$f,a=Il(null,c));else if(Ha(a),Im(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var K=_.dgst;_=K,c=Error(r(419)),c.stack="",c.digest=_,_l({value:c,source:null,stack:null}),a=Wf(t,a,i)}else if(Dt||Ki(t,a,i,!1),_=(i&t.childLanes)!==0,Dt||_){if(_=at,_!==null&&(c=Jo(_,i),c!==0&&c!==O.retryLane))throw O.retryLane=c,Yr(t,c),vn(_,t,c),Gf;Rm(S)||Zu(),a=Wf(t,a,i)}else Rm(S)?(a.flags|=192,a.child=t.child,a=null):(t=O.treeContext,it=Fn(S.nextSibling),Yt=a,qe=!0,La=null,zn=!1,t!==null&&fy(a,t),a=Xf(a,c.children),a.flags|=4096);return a}return f?(Ga(),S=c.fallback,f=a.mode,O=t.child,K=O.sibling,c=Js(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,K!==null?S=Js(K,S):(S=Xr(S,f,i,null),S.flags|=2),S.return=a,c.return=a,c.sibling=S,a.child=c,Il(null,c),c=a.child,S=t.child.memoizedState,S===null?S=Kf(i):(f=S.cachePool,f!==null?(O=Rt._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=_y(),S={baseLanes:S.baseLanes|i,cachePool:f}),c.memoizedState=S,c.childLanes=Yf(t,_,i),a.memoizedState=$f,Il(t.child,c)):(Ha(a),i=t.child,t=i.sibling,i=Js(i,{mode:"visible",children:c.children}),i.return=a,i.sibling=null,t!==null&&(_=a.deletions,_===null?(a.deletions=[t],a.flags|=16):_.push(t)),a.child=i,a.memoizedState=null,i)}function Xf(t,a){return a=Hu({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function Hu(t,a){return t=Sn(22,t,null,a),t.lanes=0,t}function Wf(t,a,i){return si(a,t.child,null,i),t=Xf(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function Dv(t,a,i){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a),df(t.return,a,i)}function Jf(t,a,i,c,f,m){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:f,treeForkCount:m}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=i,_.tailMode=f,_.treeForkCount=m)}function kv(t,a,i){var c=a.pendingProps,f=c.revealOrder,m=c.tail;c=c.children;var _=_t.current,S=(_&2)!==0;if(S?(_=_&1|2,a.flags|=128):_&=1,he(_t,_),Wt(t,a,c,i),c=qe?vl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dv(t,i,a);else if(t.tag===19)Dv(t,i,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(i=a.child,f=null;i!==null;)t=i.alternate,t!==null&&Du(t)===null&&(f=i),i=i.sibling;i=f,i===null?(f=a.child,a.child=null):(f=i.sibling,i.sibling=null),Jf(a,!1,f,i,m,c);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=a.child,a.child=null;f!==null;){if(t=f.alternate,t!==null&&Du(t)===null){a.child=f;break}t=f.sibling,f.sibling=i,i=f,f=t}Jf(a,!0,i,null,m,c);break;case"together":Jf(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function aa(t,a,i){if(t!==null&&(a.dependencies=t.dependencies),Ka|=a.lanes,(i&a.childLanes)===0)if(t!==null){if(Ki(t,a,i,!1),(i&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(r(153));if(a.child!==null){for(t=a.child,i=Js(t,t.pendingProps),a.child=i,i.return=a;t.sibling!==null;)t=t.sibling,i=i.sibling=Js(t,t.pendingProps),i.return=a;i.sibling=null}return a.child}function Zf(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&Su(t)))}function $S(t,a,i){switch(a.tag){case 3:Pt(a,a.stateNode.containerInfo),za(a,Rt,t.memoizedState.cache),Wr();break;case 27:case 5:Ir(a);break;case 4:Pt(a,a.stateNode.containerInfo);break;case 10:za(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Sf(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Ha(a),a.flags|=128,null):(i&a.child.childLanes)!==0?Iv(t,a,i):(Ha(a),t=aa(t,a,i),t!==null?t.sibling:null);Ha(a);break;case 19:var f=(t.flags&128)!==0;if(c=(i&a.childLanes)!==0,c||(Ki(t,a,i,!1),c=(i&a.childLanes)!==0),f){if(c)return kv(t,a,i);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),he(_t,_t.current),c)break;return null;case 22:return a.lanes=0,wv(t,a,i,a.pendingProps);case 24:za(a,Rt,t.memoizedState.cache)}return aa(t,a,i)}function Ov(t,a,i){if(t!==null)if(t.memoizedProps!==a.pendingProps)Dt=!0;else{if(!Zf(t,i)&&(a.flags&128)===0)return Dt=!1,$S(t,a,i);Dt=(t.flags&131072)!==0}else Dt=!1,qe&&(a.flags&1048576)!==0&&dy(a,vl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(t=ti(a.elementType),a.type=t,typeof t=="function")sf(t)?(c=ri(t,c),a.tag=1,a=Cv(null,a,t,c,i)):(a.tag=0,a=Qf(null,a,t,c,i));else{if(t!=null){var f=t.$$typeof;if(f===Z){a.tag=11,a=bv(null,a,t,c,i);break e}else if(f===A){a.tag=14,a=Tv(null,a,t,c,i);break e}}throw a=ce(t)||t,Error(r(306,a,""))}}return a;case 0:return Qf(t,a,a.type,a.pendingProps,i);case 1:return c=a.type,f=ri(c,a.pendingProps),Cv(t,a,c,f,i);case 3:e:{if(Pt(a,a.stateNode.containerInfo),t===null)throw Error(r(387));c=a.pendingProps;var m=a.memoizedState;f=m.element,_f(t,a),Nl(a,c,null,i);var _=a.memoizedState;if(c=_.cache,za(a,Rt,c),c!==m.cache&&ff(a,[Rt],i,!0),wl(),c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=Rv(t,a,c,i);break e}else if(c!==f){f=Pn(Error(r(424)),a),_l(f),a=Rv(t,a,c,i);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=Fn(t.firstChild),Yt=a,qe=!0,La=null,zn=!0,i=wy(a,null,c,i),a.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Wr(),c===f){a=aa(t,a,i);break e}Wt(t,a,c,i)}a=a.child}return a;case 26:return qu(t,a),t===null?(i=G_(a.type,null,a.pendingProps,null))?a.memoizedState=i:qe||(i=a.type,t=a.pendingProps,c=ih(ke.current).createElement(i),c[jt]=a,c[Bt]=t,Jt(c,i,t),At(c),a.stateNode=c):a.memoizedState=G_(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return Ir(a),t===null&&qe&&(c=a.stateNode=F_(a.type,a.pendingProps,ke.current),Yt=a,zn=!0,f=it,Za(a.type)?(Dm=f,it=Fn(c.firstChild)):it=f),Wt(t,a,a.pendingProps.children,i),qu(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&qe&&((f=c=it)&&(c=T1(c,a.type,a.pendingProps,zn),c!==null?(a.stateNode=c,Yt=a,it=Fn(c.firstChild),zn=!1,f=!0):f=!1),f||Ua(a)),Ir(a),f=a.type,m=a.pendingProps,_=t!==null?t.memoizedProps:null,c=m.children,jm(f,m)?c=null:_!==null&&jm(f,_)&&(a.flags|=32),a.memoizedState!==null&&(f=Nf(t,a,LS,null,null,i),Ql._currentValue=f),qu(t,a),Wt(t,a,c,i),a.child;case 6:return t===null&&qe&&((t=i=it)&&(i=S1(i,a.pendingProps,zn),i!==null?(a.stateNode=i,Yt=a,it=null,t=!0):t=!1),t||Ua(a)),null;case 13:return Iv(t,a,i);case 4:return Pt(a,a.stateNode.containerInfo),c=a.pendingProps,t===null?a.child=si(a,null,c,i):Wt(t,a,c,i),a.child;case 11:return bv(t,a,a.type,a.pendingProps,i);case 7:return Wt(t,a,a.pendingProps,i),a.child;case 8:return Wt(t,a,a.pendingProps.children,i),a.child;case 12:return Wt(t,a,a.pendingProps.children,i),a.child;case 10:return c=a.pendingProps,za(a,a.type,c.value),Wt(t,a,c.children,i),a.child;case 9:return f=a.type._context,c=a.pendingProps.children,Zr(a),f=Xt(f),c=c(f),a.flags|=1,Wt(t,a,c,i),a.child;case 14:return Tv(t,a,a.type,a.pendingProps,i);case 15:return Sv(t,a,a.type,a.pendingProps,i);case 19:return kv(t,a,i);case 31:return QS(t,a,i);case 22:return wv(t,a,i,a.pendingProps);case 24:return Zr(a),c=Xt(Rt),t===null?(f=gf(),f===null&&(f=at,m=mf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=i),f=m),a.memoizedState={parent:c,cache:f},vf(a),za(a,Rt,f)):((t.lanes&i)!==0&&(_f(t,a),Nl(a,null,null,i),wl()),f=t.memoizedState,m=a.memoizedState,f.parent!==c?(f={parent:c,cache:c},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),za(a,Rt,c)):(c=m.cache,za(a,Rt,c),c!==f.cache&&ff(a,[Rt],i,!0))),Wt(t,a,a.pendingProps.children,i),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ra(t){t.flags|=4}function em(t,a,i,c,f){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(o_())t.flags|=8192;else throw ni=Au,yf}else t.flags&=-16777217}function Mv(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!X_(a))if(o_())t.flags|=8192;else throw ni=Au,yf}function Gu(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Wc():536870912,t.lanes|=a,io|=a)}function Dl(t,a){if(!qe)switch(t.tailMode){case"hidden":a=t.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function ot(t){var a=t.alternate!==null&&t.alternate.child===t.child,i=0,c=0;if(a)for(var f=t.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=i,a}function KS(t,a,i){var c=a.pendingProps;switch(lf(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(a),null;case 1:return ot(a),null;case 3:return i=a.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),ta(Rt),ut(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&($i(a)?ra(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,uf())),ot(a),null;case 26:var f=a.type,m=a.memoizedState;return t===null?(ra(a),m!==null?(ot(a),Mv(a,m)):(ot(a),em(a,f,null,c,i))):m?m!==t.memoizedState?(ra(a),ot(a),Mv(a,m)):(ot(a),a.flags&=-16777217):(t=t.memoizedProps,t!==c&&ra(a),ot(a),em(a,f,t,c,i)),null;case 27:if(wi(a),i=ke.current,f=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==c&&ra(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return ot(a),null}t=me.current,$i(a)?my(a):(t=F_(f,c,i),a.stateNode=t,ra(a))}return ot(a),null;case 5:if(wi(a),f=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==c&&ra(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return ot(a),null}if(m=me.current,$i(a))my(a);else{var _=ih(ke.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?_.createElement("select",{is:c.is}):_.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?_.createElement(f,{is:c.is}):_.createElement(f)}}m[jt]=a,m[Bt]=c;e:for(_=a.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===a)break e;for(;_.sibling===null;){if(_.return===null||_.return===a)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}a.stateNode=m;e:switch(Jt(m,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&ra(a)}}return ot(a),em(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,i),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==c&&ra(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(t=ke.current,$i(a)){if(t=a.stateNode,i=a.memoizedProps,c=null,f=Yt,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}t[jt]=a,t=!!(t.nodeValue===i||c!==null&&c.suppressHydrationWarning===!0||I_(t.nodeValue,i)),t||Ua(a,!0)}else t=ih(t).createTextNode(c),t[jt]=a,a.stateNode=t}return ot(a),null;case 31:if(i=a.memoizedState,t===null||t.memoizedState!==null){if(c=$i(a),i!==null){if(t===null){if(!c)throw Error(r(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[jt]=a}else Wr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ot(a),t=!1}else i=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return a.flags&256?(Nn(a),a):(Nn(a),null);if((a.flags&128)!==0)throw Error(r(558))}return ot(a),null;case 13:if(c=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=$i(a),c!==null&&c.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[jt]=a}else Wr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ot(a),f=!1}else f=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(Nn(a),a):(Nn(a),null)}return Nn(a),(a.flags&128)!==0?(a.lanes=i,a):(i=c!==null,t=t!==null&&t.memoizedState!==null,i&&(c=a.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)),i!==t&&i&&(a.child.flags|=8192),Gu(a,a.updateQueue),ot(a),null);case 4:return ut(),t===null&&bm(a.stateNode.containerInfo),ot(a),null;case 10:return ta(a.type),ot(a),null;case 19:if(se(_t),c=a.memoizedState,c===null)return ot(a),null;if(f=(a.flags&128)!==0,m=c.rendering,m===null)if(f)Dl(c,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(m=Du(t),m!==null){for(a.flags|=128,Dl(c,!1),t=m.updateQueue,a.updateQueue=t,Gu(a,t),a.subtreeFlags=0,t=i,i=a.child;i!==null;)cy(i,t),i=i.sibling;return he(_t,_t.current&1|2),qe&&Zs(a,c.treeForkCount),a.child}t=t.sibling}c.tail!==null&&cn()>Xu&&(a.flags|=128,f=!0,Dl(c,!1),a.lanes=4194304)}else{if(!f)if(t=Du(m),t!==null){if(a.flags|=128,f=!0,t=t.updateQueue,a.updateQueue=t,Gu(a,t),Dl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!qe)return ot(a),null}else 2*cn()-c.renderingStartTime>Xu&&i!==536870912&&(a.flags|=128,f=!0,Dl(c,!1),a.lanes=4194304);c.isBackwards?(m.sibling=a.child,a.child=m):(t=c.last,t!==null?t.sibling=m:a.child=m,c.last=m)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=cn(),t.sibling=null,i=_t.current,he(_t,f?i&1|2:i&1),qe&&Zs(a,c.treeForkCount),t):(ot(a),null);case 22:case 23:return Nn(a),Tf(),c=a.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(i&536870912)!==0&&(a.flags&128)===0&&(ot(a),a.subtreeFlags&6&&(a.flags|=8192)):ot(a),i=a.updateQueue,i!==null&&Gu(a,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==i&&(a.flags|=2048),t!==null&&se(ei),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),a.memoizedState.cache!==i&&(a.flags|=2048),ta(Rt),ot(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function YS(t,a){switch(lf(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return ta(Rt),ut(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return wi(a),null;case 31:if(a.memoizedState!==null){if(Nn(a),a.alternate===null)throw Error(r(340));Wr()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(Nn(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Wr()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return se(_t),null;case 4:return ut(),null;case 10:return ta(a.type),null;case 22:case 23:return Nn(a),Tf(),t!==null&&se(ei),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return ta(Rt),null;case 25:return null;default:return null}}function Vv(t,a){switch(lf(a),a.tag){case 3:ta(Rt),ut();break;case 26:case 27:case 5:wi(a);break;case 4:ut();break;case 31:a.memoizedState!==null&&Nn(a);break;case 13:Nn(a);break;case 19:se(_t);break;case 10:ta(a.type);break;case 22:case 23:Nn(a),Tf(),t!==null&&se(ei);break;case 24:ta(Rt)}}function kl(t,a){try{var i=a.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var f=c.next;i=f;do{if((i.tag&t)===t){c=void 0;var m=i.create,_=i.inst;c=m(),_.destroy=c}i=i.next}while(i!==f)}}catch(S){Ze(a,a.return,S)}}function Qa(t,a,i){try{var c=a.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&t)===t){var _=c.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=a;var O=i,K=S;try{K()}catch(ne){Ze(f,O,ne)}}}c=c.next}while(c!==m)}}catch(ne){Ze(a,a.return,ne)}}function Pv(t){var a=t.updateQueue;if(a!==null){var i=t.stateNode;try{jy(a,i)}catch(c){Ze(t,t.return,c)}}}function Lv(t,a,i){i.props=ri(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(c){Ze(t,a,c)}}function Ol(t,a){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof i=="function"?t.refCleanup=i(c):i.current=c}}catch(f){Ze(t,a,f)}}function Ms(t,a){var i=t.ref,c=t.refCleanup;if(i!==null)if(typeof c=="function")try{c()}catch(f){Ze(t,a,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){Ze(t,a,f)}else i.current=null}function Uv(t){var a=t.type,i=t.memoizedProps,c=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":i.autoFocus&&c.focus();break e;case"img":i.src?c.src=i.src:i.srcSet&&(c.srcset=i.srcSet)}}catch(f){Ze(t,t.return,f)}}function tm(t,a,i){try{var c=t.stateNode;y1(c,t.type,i,a),c[Bt]=a}catch(f){Ze(t,t.return,f)}}function zv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Za(t.type)||t.tag===4}function nm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Za(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sm(t,a,i){var c=t.tag;if(c===5||c===6)t=t.stateNode,a?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,a):(a=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.appendChild(t),i=i._reactRootContainer,i!=null||a.onclick!==null||(a.onclick=Zn));else if(c!==4&&(c===27&&Za(t.type)&&(i=t.stateNode,a=null),t=t.child,t!==null))for(sm(t,a,i),t=t.sibling;t!==null;)sm(t,a,i),t=t.sibling}function Qu(t,a,i){var c=t.tag;if(c===5||c===6)t=t.stateNode,a?i.insertBefore(t,a):i.appendChild(t);else if(c!==4&&(c===27&&Za(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Qu(t,a,i),t=t.sibling;t!==null;)Qu(t,a,i),t=t.sibling}function Bv(t){var a=t.stateNode,i=t.memoizedProps;try{for(var c=t.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);Jt(a,c,i),a[jt]=t,a[Bt]=i}catch(m){Ze(t,t.return,m)}}var ia=!1,kt=!1,am=!1,Fv=typeof WeakSet=="function"?WeakSet:Set,qt=null;function XS(t,a){if(t=t.containerInfo,wm=fh,t=ey(t),Xd(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var _=0,S=-1,O=-1,K=0,ne=0,ie=t,Y=null;t:for(;;){for(var J;ie!==i||f!==0&&ie.nodeType!==3||(S=_+f),ie!==m||c!==0&&ie.nodeType!==3||(O=_+c),ie.nodeType===3&&(_+=ie.nodeValue.length),(J=ie.firstChild)!==null;)Y=ie,ie=J;for(;;){if(ie===t)break t;if(Y===i&&++K===f&&(S=_),Y===m&&++ne===c&&(O=_),(J=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=J}i=S===-1||O===-1?null:{start:S,end:O}}else i=null}i=i||{start:0,end:0}}else i=null;for(Nm={focusedElem:t,selectionRange:i},fh=!1,qt=a;qt!==null;)if(a=qt,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,qt=t;else for(;qt!==null;){switch(a=qt,m=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)f=t[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,i=a,f=m.memoizedProps,m=m.memoizedState,c=i.stateNode;try{var ge=ri(i.type,f);t=c.getSnapshotBeforeUpdate(ge,m),c.__reactInternalSnapshotBeforeUpdate=t}catch(be){Ze(i,i.return,be)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,i=t.nodeType,i===9)Cm(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Cm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=a.sibling,t!==null){t.return=a.return,qt=t;break}qt=a.return}}function qv(t,a,i){var c=i.flags;switch(i.tag){case 0:case 11:case 15:la(t,i),c&4&&kl(5,i);break;case 1:if(la(t,i),c&4)if(t=i.stateNode,a===null)try{t.componentDidMount()}catch(_){Ze(i,i.return,_)}else{var f=ri(i.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(f,a,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(i,i.return,_)}}c&64&&Pv(i),c&512&&Ol(i,i.return);break;case 3:if(la(t,i),c&64&&(t=i.updateQueue,t!==null)){if(a=null,i.child!==null)switch(i.child.tag){case 27:case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}try{jy(t,a)}catch(_){Ze(i,i.return,_)}}break;case 27:a===null&&c&4&&Bv(i);case 26:case 5:la(t,i),a===null&&c&4&&Uv(i),c&512&&Ol(i,i.return);break;case 12:la(t,i);break;case 31:la(t,i),c&4&&Qv(t,i);break;case 13:la(t,i),c&4&&$v(t,i),c&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=r1.bind(null,i),w1(t,i))));break;case 22:if(c=i.memoizedState!==null||ia,!c){a=a!==null&&a.memoizedState!==null||kt,f=ia;var m=kt;ia=c,(kt=a)&&!m?ca(t,i,(i.subtreeFlags&8772)!==0):la(t,i),ia=f,kt=m}break;case 30:break;default:la(t,i)}}function Hv(t){var a=t.alternate;a!==null&&(t.alternate=null,Hv(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Ri(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,mn=!1;function oa(t,a,i){for(i=i.child;i!==null;)Gv(t,a,i),i=i.sibling}function Gv(t,a,i){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Yn,i)}catch{}switch(i.tag){case 26:kt||Ms(i,a),oa(t,a,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:kt||Ms(i,a);var c=dt,f=mn;Za(i.type)&&(dt=i.stateNode,mn=!1),oa(t,a,i),ql(i.stateNode),dt=c,mn=f;break;case 5:kt||Ms(i,a);case 6:if(c=dt,f=mn,dt=null,oa(t,a,i),dt=c,mn=f,dt!==null)if(mn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(i.stateNode)}catch(m){Ze(i,a,m)}else try{dt.removeChild(i.stateNode)}catch(m){Ze(i,a,m)}break;case 18:dt!==null&&(mn?(t=dt,P_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),po(t)):P_(dt,i.stateNode));break;case 4:c=dt,f=mn,dt=i.stateNode.containerInfo,mn=!0,oa(t,a,i),dt=c,mn=f;break;case 0:case 11:case 14:case 15:Qa(2,i,a),kt||Qa(4,i,a),oa(t,a,i);break;case 1:kt||(Ms(i,a),c=i.stateNode,typeof c.componentWillUnmount=="function"&&Lv(i,a,c)),oa(t,a,i);break;case 21:oa(t,a,i);break;case 22:kt=(c=kt)||i.memoizedState!==null,oa(t,a,i),kt=c;break;default:oa(t,a,i)}}function Qv(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{po(t)}catch(i){Ze(a,a.return,i)}}}function $v(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{po(t)}catch(i){Ze(a,a.return,i)}}function WS(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new Fv),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new Fv),a;default:throw Error(r(435,t.tag))}}function $u(t,a){var i=WS(t);a.forEach(function(c){if(!i.has(c)){i.add(c);var f=i1.bind(null,t,c);c.then(f,f)}})}function pn(t,a){var i=a.deletions;if(i!==null)for(var c=0;c<i.length;c++){var f=i[c],m=t,_=a,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Za(S.type)){dt=S.stateNode,mn=!1;break e}break;case 5:dt=S.stateNode,mn=!1;break e;case 3:case 4:dt=S.stateNode.containerInfo,mn=!0;break e}S=S.return}if(dt===null)throw Error(r(160));Gv(m,_,f),dt=null,mn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Kv(a,t),a=a.sibling}var rs=null;function Kv(t,a){var i=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(a,t),gn(t),c&4&&(Qa(3,t,t.return),kl(3,t),Qa(5,t,t.return));break;case 1:pn(a,t),gn(t),c&512&&(kt||i===null||Ms(i,i.return)),c&64&&ia&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?c:i.concat(c))));break;case 26:var f=rs;if(pn(a,t),gn(t),c&512&&(kt||i===null||Ms(i,i.return)),c&4){var m=i!==null?i.memoizedState:null;if(c=t.memoizedState,i===null)if(c===null)if(t.stateNode===null){e:{c=t.type,i=t.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Es]||m[jt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(c),f.head.insertBefore(m,f.querySelector("head > title"))),Jt(m,c,i),m[jt]=t,At(m),c=m;break e;case"link":var _=K_("link","href",f).get(c+(i.href||""));if(_){for(var S=0;S<_.length;S++)if(m=_[S],m.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&m.getAttribute("rel")===(i.rel==null?null:i.rel)&&m.getAttribute("title")===(i.title==null?null:i.title)&&m.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){_.splice(S,1);break t}}m=f.createElement(c),Jt(m,c,i),f.head.appendChild(m);break;case"meta":if(_=K_("meta","content",f).get(c+(i.content||""))){for(S=0;S<_.length;S++)if(m=_[S],m.getAttribute("content")===(i.content==null?null:""+i.content)&&m.getAttribute("name")===(i.name==null?null:i.name)&&m.getAttribute("property")===(i.property==null?null:i.property)&&m.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&m.getAttribute("charset")===(i.charSet==null?null:i.charSet)){_.splice(S,1);break t}}m=f.createElement(c),Jt(m,c,i),f.head.appendChild(m);break;default:throw Error(r(468,c))}m[jt]=t,At(m),c=m}t.stateNode=c}else Y_(f,t.type,t.stateNode);else t.stateNode=$_(f,c,t.memoizedProps);else m!==c?(m===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):m.count--,c===null?Y_(f,t.type,t.stateNode):$_(f,c,t.memoizedProps)):c===null&&t.stateNode!==null&&tm(t,t.memoizedProps,i.memoizedProps)}break;case 27:pn(a,t),gn(t),c&512&&(kt||i===null||Ms(i,i.return)),i!==null&&c&4&&tm(t,t.memoizedProps,i.memoizedProps);break;case 5:if(pn(a,t),gn(t),c&512&&(kt||i===null||Ms(i,i.return)),t.flags&32){f=t.stateNode;try{fn(f,"")}catch(ge){Ze(t,t.return,ge)}}c&4&&t.stateNode!=null&&(f=t.memoizedProps,tm(t,f,i!==null?i.memoizedProps:f)),c&1024&&(am=!0);break;case 6:if(pn(a,t),gn(t),c&4){if(t.stateNode===null)throw Error(r(162));c=t.memoizedProps,i=t.stateNode;try{i.nodeValue=c}catch(ge){Ze(t,t.return,ge)}}break;case 3:if(ch=null,f=rs,rs=oh(a.containerInfo),pn(a,t),rs=f,gn(t),c&4&&i!==null&&i.memoizedState.isDehydrated)try{po(a.containerInfo)}catch(ge){Ze(t,t.return,ge)}am&&(am=!1,Yv(t));break;case 4:c=rs,rs=oh(t.stateNode.containerInfo),pn(a,t),gn(t),rs=c;break;case 12:pn(a,t),gn(t);break;case 31:pn(a,t),gn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,$u(t,c)));break;case 13:pn(a,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Yu=cn()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,$u(t,c)));break;case 22:f=t.memoizedState!==null;var O=i!==null&&i.memoizedState!==null,K=ia,ne=kt;if(ia=K||f,kt=ne||O,pn(a,t),kt=ne,ia=K,gn(t),c&8192)e:for(a=t.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(i===null||O||ia||kt||ii(t)),i=null,a=t;;){if(a.tag===5||a.tag===26){if(i===null){O=i=a;try{if(m=O.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=O.stateNode;var ie=O.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ge){Ze(O,O.return,ge)}}}else if(a.tag===6){if(i===null){O=a;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(ge){Ze(O,O.return,ge)}}}else if(a.tag===18){if(i===null){O=a;try{var J=O.stateNode;f?L_(J,!0):L_(O.stateNode,!1)}catch(ge){Ze(O,O.return,ge)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;i===a&&(i=null),a=a.return}i===a&&(i=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=t.updateQueue,c!==null&&(i=c.retryQueue,i!==null&&(c.retryQueue=null,$u(t,i))));break;case 19:pn(a,t),gn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,$u(t,c)));break;case 30:break;case 21:break;default:pn(a,t),gn(t)}}function gn(t){var a=t.flags;if(a&2){try{for(var i,c=t.return;c!==null;){if(zv(c)){i=c;break}c=c.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var f=i.stateNode,m=nm(t);Qu(t,m,f);break;case 5:var _=i.stateNode;i.flags&32&&(fn(_,""),i.flags&=-33);var S=nm(t);Qu(t,S,_);break;case 3:case 4:var O=i.stateNode.containerInfo,K=nm(t);sm(t,K,O);break;default:throw Error(r(161))}}catch(ne){Ze(t,t.return,ne)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function Yv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;Yv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function la(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)qv(t,a.alternate,a),a=a.sibling}function ii(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Qa(4,a,a.return),ii(a);break;case 1:Ms(a,a.return);var i=a.stateNode;typeof i.componentWillUnmount=="function"&&Lv(a,a.return,i),ii(a);break;case 27:ql(a.stateNode);case 26:case 5:Ms(a,a.return),ii(a);break;case 22:a.memoizedState===null&&ii(a);break;case 30:ii(a);break;default:ii(a)}t=t.sibling}}function ca(t,a,i){for(i=i&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,f=t,m=a,_=m.flags;switch(m.tag){case 0:case 11:case 15:ca(f,m,i),kl(4,m);break;case 1:if(ca(f,m,i),c=m,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){Ze(c,c.return,K)}if(c=m,f=c.updateQueue,f!==null){var S=c.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Ny(O[f],S)}catch(K){Ze(c,c.return,K)}}i&&_&64&&Pv(m),Ol(m,m.return);break;case 27:Bv(m);case 26:case 5:ca(f,m,i),i&&c===null&&_&4&&Uv(m),Ol(m,m.return);break;case 12:ca(f,m,i);break;case 31:ca(f,m,i),i&&_&4&&Qv(f,m);break;case 13:ca(f,m,i),i&&_&4&&$v(f,m);break;case 22:m.memoizedState===null&&ca(f,m,i),Ol(m,m.return);break;case 30:break;default:ca(f,m,i)}a=a.sibling}}function rm(t,a){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&xl(i))}function im(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&xl(t))}function is(t,a,i,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Xv(t,a,i,c),a=a.sibling}function Xv(t,a,i,c){var f=a.flags;switch(a.tag){case 0:case 11:case 15:is(t,a,i,c),f&2048&&kl(9,a);break;case 1:is(t,a,i,c);break;case 3:is(t,a,i,c),f&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&xl(t)));break;case 12:if(f&2048){is(t,a,i,c),t=a.stateNode;try{var m=a.memoizedProps,_=m.id,S=m.onPostCommit;typeof S=="function"&&S(_,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Ze(a,a.return,O)}}else is(t,a,i,c);break;case 31:is(t,a,i,c);break;case 13:is(t,a,i,c);break;case 23:break;case 22:m=a.stateNode,_=a.alternate,a.memoizedState!==null?m._visibility&2?is(t,a,i,c):Ml(t,a):m._visibility&2?is(t,a,i,c):(m._visibility|=2,so(t,a,i,c,(a.subtreeFlags&10256)!==0||!1)),f&2048&&rm(_,a);break;case 24:is(t,a,i,c),f&2048&&im(a.alternate,a);break;default:is(t,a,i,c)}}function so(t,a,i,c,f){for(f=f&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var m=t,_=a,S=i,O=c,K=_.flags;switch(_.tag){case 0:case 11:case 15:so(m,_,S,O,f),kl(8,_);break;case 23:break;case 22:var ne=_.stateNode;_.memoizedState!==null?ne._visibility&2?so(m,_,S,O,f):Ml(m,_):(ne._visibility|=2,so(m,_,S,O,f)),f&&K&2048&&rm(_.alternate,_);break;case 24:so(m,_,S,O,f),f&&K&2048&&im(_.alternate,_);break;default:so(m,_,S,O,f)}a=a.sibling}}function Ml(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var i=t,c=a,f=c.flags;switch(c.tag){case 22:Ml(i,c),f&2048&&rm(c.alternate,c);break;case 24:Ml(i,c),f&2048&&im(c.alternate,c);break;default:Ml(i,c)}a=a.sibling}}var Vl=8192;function ao(t,a,i){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)Wv(t,a,i),t=t.sibling}function Wv(t,a,i){switch(t.tag){case 26:ao(t,a,i),t.flags&Vl&&t.memoizedState!==null&&P1(i,rs,t.memoizedState,t.memoizedProps);break;case 5:ao(t,a,i);break;case 3:case 4:var c=rs;rs=oh(t.stateNode.containerInfo),ao(t,a,i),rs=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=Vl,Vl=16777216,ao(t,a,i),Vl=c):ao(t,a,i));break;default:ao(t,a,i)}}function Jv(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function Pl(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var c=a[i];qt=c,e_(c,t)}Jv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zv(t),t=t.sibling}function Zv(t){switch(t.tag){case 0:case 11:case 15:Pl(t),t.flags&2048&&Qa(9,t,t.return);break;case 3:Pl(t);break;case 12:Pl(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,Ku(t)):Pl(t);break;default:Pl(t)}}function Ku(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var c=a[i];qt=c,e_(c,t)}Jv(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Qa(8,a,a.return),Ku(a);break;case 22:i=a.stateNode,i._visibility&2&&(i._visibility&=-3,Ku(a));break;default:Ku(a)}t=t.sibling}}function e_(t,a){for(;qt!==null;){var i=qt;switch(i.tag){case 0:case 11:case 15:Qa(8,i,a);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var c=i.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:xl(i.memoizedState.cache)}if(c=i.child,c!==null)c.return=i,qt=c;else e:for(i=t;qt!==null;){c=qt;var f=c.sibling,m=c.return;if(Hv(c),c===i){qt=null;break e}if(f!==null){f.return=m,qt=f;break e}qt=m}}}var JS={getCacheForType:function(t){var a=Xt(Rt),i=a.data.get(t);return i===void 0&&(i=t(),a.data.set(t,i)),i},cacheSignal:function(){return Xt(Rt).controller.signal}},ZS=typeof WeakMap=="function"?WeakMap:Map,Ye=0,at=null,Ve=null,Le=0,Je=0,jn=null,$a=!1,ro=!1,om=!1,ua=0,gt=0,Ka=0,oi=0,lm=0,An=0,io=0,Ll=null,yn=null,cm=!1,Yu=0,t_=0,Xu=1/0,Wu=null,Ya=null,Ut=0,Xa=null,oo=null,ha=0,um=0,hm=null,n_=null,Ul=0,dm=null;function Cn(){return(Ye&2)!==0&&Le!==0?Le&-Le:I.T!==null?vm():Jc()}function s_(){if(An===0)if((Le&536870912)===0||qe){var t=Or;Or<<=1,(Or&3932160)===0&&(Or=262144),An=t}else An=536870912;return t=wn.current,t!==null&&(t.flags|=32),An}function vn(t,a,i){(t===at&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(lo(t,0),Wa(t,Le,An,!1)),Mr(t,i),((Ye&2)===0||t!==at)&&(t===at&&((Ye&2)===0&&(oi|=i),gt===4&&Wa(t,Le,An,!1)),Vs(t))}function a_(t,a,i){if((Ye&6)!==0)throw Error(r(327));var c=!i&&(a&127)===0&&(a&t.expiredLanes)===0||Xn(t,a),f=c?n1(t,a):mm(t,a,!0),m=c;do{if(f===0){ro&&!c&&Wa(t,a,0,!1);break}else{if(i=t.current.alternate,m&&!e1(i)){f=mm(t,a,!1),m=!1;continue}if(f===2){if(m=a,t.errorRecoveryDisabledLanes&m)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){a=_;e:{var S=t;f=Ll;var O=S.current.memoizedState.isDehydrated;if(O&&(lo(S,_).flags|=256),_=mm(S,_,!1),_!==2){if(om&&!O){S.errorRecoveryDisabledLanes|=m,oi|=m,f=4;break e}m=yn,yn=f,m!==null&&(yn===null?yn=m:yn.push.apply(yn,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){lo(t,0),Wa(t,a,0,!0);break}e:{switch(c=t,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Wa(c,a,An,!$a);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(f=Yu+300-cn(),10<f)){if(Wa(c,a,An,!$a),vs(c,0,!0)!==0)break e;ha=a,c.timeoutHandle=M_(r_.bind(null,c,i,yn,Wu,cm,a,An,oi,io,$a,m,"Throttled",-0,0),f);break e}r_(c,i,yn,Wu,cm,a,An,oi,io,$a,m,null,-0,0)}}break}while(!0);Vs(t)}function r_(t,a,i,c,f,m,_,S,O,K,ne,ie,Y,J){if(t.timeoutHandle=-1,ie=a.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},Wv(a,m,ie);var ge=(m&62914560)===m?Yu-cn():(m&4194048)===m?t_-cn():0;if(ge=L1(ie,ge),ge!==null){ha=m,t.cancelPendingCommit=ge(f_.bind(null,t,a,m,i,c,f,_,S,O,ne,ie,null,Y,J)),Wa(t,m,_,!K);return}}f_(t,a,m,i,c,f,_,S,O)}function e1(t){for(var a=t;;){var i=a.tag;if((i===0||i===11||i===15)&&a.flags&16384&&(i=a.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var c=0;c<i.length;c++){var f=i[c],m=f.getSnapshot;f=f.value;try{if(!Tn(m(),f))return!1}catch{return!1}}if(i=a.child,a.subtreeFlags&16384&&i!==null)i.return=a,a=i;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Wa(t,a,i,c){a&=~lm,a&=~oi,t.suspendedLanes|=a,t.pingedLanes&=~a,c&&(t.warmLanes|=a),c=t.expirationTimes;for(var f=a;0<f;){var m=31-yt(f),_=1<<m;c[m]=-1,f&=~_}i!==0&&Vr(t,i,a)}function Ju(){return(Ye&6)===0?(zl(0),!1):!0}function fm(){if(Ve!==null){if(Je===0)var t=Ve.return;else t=Ve,ea=Jr=null,Cf(t),Ji=null,bl=0,t=Ve;for(;t!==null;)Vv(t.alternate,t),t=t.return;Ve=null}}function lo(t,a){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,x1(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),ha=0,fm(),at=t,Ve=i=Js(t.current,null),Le=a,Je=0,jn=null,$a=!1,ro=Xn(t,a),om=!1,io=An=lm=oi=Ka=gt=0,yn=Ll=null,cm=!1,(a&8)!==0&&(a|=a&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=a;0<c;){var f=31-yt(c),m=1<<f;a|=t[f],c&=~m}return ua=a,_u(),i}function i_(t,a){De=null,I.H=Rl,a===Wi||a===ju?(a=by(),Je=3):a===yf?(a=by(),Je=4):Je=a===Gf?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,jn=a,Ve===null&&(gt=1,Bu(t,Pn(a,t.current)))}function o_(){var t=wn.current;return t===null?!0:(Le&4194048)===Le?Bn===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Bn:!1}function l_(){var t=I.H;return I.H=Rl,t===null?Rl:t}function c_(){var t=I.A;return I.A=JS,t}function Zu(){gt=4,$a||(Le&4194048)!==Le&&wn.current!==null||(ro=!0),(Ka&134217727)===0&&(oi&134217727)===0||at===null||Wa(at,Le,An,!1)}function mm(t,a,i){var c=Ye;Ye|=2;var f=l_(),m=c_();(at!==t||Le!==a)&&(Wu=null,lo(t,a)),a=!1;var _=gt;e:do try{if(Je!==0&&Ve!==null){var S=Ve,O=jn;switch(Je){case 8:fm(),_=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(a=!0);var K=Je;if(Je=0,jn=null,co(t,S,O,K),i&&ro){_=0;break e}break;default:K=Je,Je=0,jn=null,co(t,S,O,K)}}t1(),_=gt;break}catch(ne){i_(t,ne)}while(!0);return a&&t.shellSuspendCounter++,ea=Jr=null,Ye=c,I.H=f,I.A=m,Ve===null&&(at=null,Le=0,_u()),_}function t1(){for(;Ve!==null;)u_(Ve)}function n1(t,a){var i=Ye;Ye|=2;var c=l_(),f=c_();at!==t||Le!==a?(Wu=null,Xu=cn()+500,lo(t,a)):ro=Xn(t,a);e:do try{if(Je!==0&&Ve!==null){a=Ve;var m=jn;t:switch(Je){case 1:Je=0,jn=null,co(t,a,m,1);break;case 2:case 9:if(xy(m)){Je=0,jn=null,h_(a);break}a=function(){Je!==2&&Je!==9||at!==t||(Je=7),Vs(t)},m.then(a,a);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:xy(m)?(Je=0,jn=null,h_(a)):(Je=0,jn=null,co(t,a,m,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var S=Ve;if(_?X_(_):S.stateNode.complete){Je=0,jn=null;var O=S.sibling;if(O!==null)Ve=O;else{var K=S.return;K!==null?(Ve=K,eh(K)):Ve=null}break t}}Je=0,jn=null,co(t,a,m,5);break;case 6:Je=0,jn=null,co(t,a,m,6);break;case 8:fm(),gt=6;break e;default:throw Error(r(462))}}s1();break}catch(ne){i_(t,ne)}while(!0);return ea=Jr=null,I.H=c,I.A=f,Ye=i,Ve!==null?0:(at=null,Le=0,_u(),gt)}function s1(){for(;Ve!==null&&!qd();)u_(Ve)}function u_(t){var a=Ov(t.alternate,t,ua);t.memoizedProps=t.pendingProps,a===null?eh(t):Ve=a}function h_(t){var a=t,i=a.alternate;switch(a.tag){case 15:case 0:a=Av(i,a,a.pendingProps,a.type,void 0,Le);break;case 11:a=Av(i,a,a.pendingProps,a.type.render,a.ref,Le);break;case 5:Cf(a);default:Vv(i,a),a=Ve=cy(a,ua),a=Ov(i,a,ua)}t.memoizedProps=t.pendingProps,a===null?eh(t):Ve=a}function co(t,a,i,c){ea=Jr=null,Cf(a),Ji=null,bl=0;var f=a.return;try{if(GS(t,f,a,i,Le)){gt=1,Bu(t,Pn(i,t.current)),Ve=null;return}}catch(m){if(f!==null)throw Ve=f,m;gt=1,Bu(t,Pn(i,t.current)),Ve=null;return}a.flags&32768?(qe||c===1?t=!0:ro||(Le&536870912)!==0?t=!1:($a=t=!0,(c===2||c===9||c===3||c===6)&&(c=wn.current,c!==null&&c.tag===13&&(c.flags|=16384))),d_(a,t)):eh(a)}function eh(t){var a=t;do{if((a.flags&32768)!==0){d_(a,$a);return}t=a.return;var i=KS(a.alternate,a,ua);if(i!==null){Ve=i;return}if(a=a.sibling,a!==null){Ve=a;return}Ve=a=t}while(a!==null);gt===0&&(gt=5)}function d_(t,a){do{var i=YS(t.alternate,t);if(i!==null){i.flags&=32767,Ve=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!a&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=i}while(t!==null);gt=6,Ve=null}function f_(t,a,i,c,f,m,_,S,O){t.cancelPendingCommit=null;do th();while(Ut!==0);if((Ye&6)!==0)throw Error(r(327));if(a!==null){if(a===t.current)throw Error(r(177));if(m=a.lanes|a.childLanes,m|=tf,Qd(t,i,m,_,S,O),t===at&&(Ve=at=null,Le=0),oo=a,Xa=t,ha=i,um=m,hm=f,n_=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,o1(ja,function(){return v_(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=I.T,I.T=null,f=oe.p,oe.p=2,_=Ye,Ye|=4;try{XS(t,a,i)}finally{Ye=_,oe.p=f,I.T=c}}Ut=1,m_(),p_(),g_()}}function m_(){if(Ut===1){Ut=0;var t=Xa,a=oo,i=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||i){i=I.T,I.T=null;var c=oe.p;oe.p=2;var f=Ye;Ye|=4;try{Kv(a,t);var m=Nm,_=ey(t.containerInfo),S=m.focusedElem,O=m.selectionRange;if(_!==S&&S&&S.ownerDocument&&Zg(S.ownerDocument.documentElement,S)){if(O!==null&&Xd(S)){var K=O.start,ne=O.end;if(ne===void 0&&(ne=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(ne,S.value.length);else{var ie=S.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var J=Y.getSelection(),ge=S.textContent.length,be=Math.min(O.start,ge),st=O.end===void 0?be:Math.min(O.end,ge);!J.extend&&be>st&&(_=st,st=be,be=_);var H=Jg(S,be),U=Jg(S,st);if(H&&U&&(J.rangeCount!==1||J.anchorNode!==H.node||J.anchorOffset!==H.offset||J.focusNode!==U.node||J.focusOffset!==U.offset)){var Q=ie.createRange();Q.setStart(H.node,H.offset),J.removeAllRanges(),be>st?(J.addRange(Q),J.extend(U.node,U.offset)):(Q.setEnd(U.node,U.offset),J.addRange(Q))}}}}for(ie=[],J=S;J=J.parentNode;)J.nodeType===1&&ie.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ie.length;S++){var ae=ie[S];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}fh=!!wm,Nm=wm=null}finally{Ye=f,oe.p=c,I.T=i}}t.current=a,Ut=2}}function p_(){if(Ut===2){Ut=0;var t=Xa,a=oo,i=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||i){i=I.T,I.T=null;var c=oe.p;oe.p=2;var f=Ye;Ye|=4;try{qv(t,a.alternate,a)}finally{Ye=f,oe.p=c,I.T=i}}Ut=3}}function g_(){if(Ut===4||Ut===3){Ut=0,Gc();var t=Xa,a=oo,i=ha,c=n_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ut=5:(Ut=0,oo=Xa=null,y_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ya=null),Ks(i),a=a.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Yn,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=I.T,f=oe.p,oe.p=2,I.T=null;try{for(var m=t.onRecoverableError,_=0;_<c.length;_++){var S=c[_];m(S.value,{componentStack:S.stack})}}finally{I.T=a,oe.p=f}}(ha&3)!==0&&th(),Vs(t),f=t.pendingLanes,(i&261930)!==0&&(f&42)!==0?t===dm?Ul++:(Ul=0,dm=t):Ul=0,zl(0)}}function y_(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,xl(a)))}function th(){return m_(),p_(),g_(),v_()}function v_(){if(Ut!==5)return!1;var t=Xa,a=um;um=0;var i=Ks(ha),c=I.T,f=oe.p;try{oe.p=32>i?32:i,I.T=null,i=hm,hm=null;var m=Xa,_=ha;if(Ut=0,oo=Xa=null,ha=0,(Ye&6)!==0)throw Error(r(331));var S=Ye;if(Ye|=4,Zv(m.current),Xv(m,m.current,_,i),Ye=S,zl(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Yn,m)}catch{}return!0}finally{oe.p=f,I.T=c,y_(t,a)}}function __(t,a,i){a=Pn(i,a),a=Hf(t.stateNode,a,2),t=qa(t,a,2),t!==null&&(Mr(t,2),Vs(t))}function Ze(t,a,i){if(t.tag===3)__(t,t,i);else for(;a!==null;){if(a.tag===3){__(a,t,i);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ya===null||!Ya.has(c))){t=Pn(i,t),i=xv(2),c=qa(a,i,2),c!==null&&(Ev(i,c,a,t),Mr(c,2),Vs(c));break}}a=a.return}}function pm(t,a,i){var c=t.pingCache;if(c===null){c=t.pingCache=new ZS;var f=new Set;c.set(a,f)}else f=c.get(a),f===void 0&&(f=new Set,c.set(a,f));f.has(i)||(om=!0,f.add(i),t=a1.bind(null,t,a,i),a.then(t,t))}function a1(t,a,i){var c=t.pingCache;c!==null&&c.delete(a),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,at===t&&(Le&i)===i&&(gt===4||gt===3&&(Le&62914560)===Le&&300>cn()-Yu?(Ye&2)===0&&lo(t,0):lm|=i,io===Le&&(io=0)),Vs(t)}function x_(t,a){a===0&&(a=Wc()),t=Yr(t,a),t!==null&&(Mr(t,a),Vs(t))}function r1(t){var a=t.memoizedState,i=0;a!==null&&(i=a.retryLane),x_(t,i)}function i1(t,a){var i=0;switch(t.tag){case 31:case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(i=f.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),x_(t,i)}function o1(t,a){return Lt(t,a)}var nh=null,uo=null,gm=!1,sh=!1,ym=!1,Ja=0;function Vs(t){t!==uo&&t.next===null&&(uo===null?nh=uo=t:uo=uo.next=t),sh=!0,gm||(gm=!0,c1())}function zl(t,a){if(!ym&&sh){ym=!0;do for(var i=!1,c=nh;c!==null;){if(t!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var _=c.suspendedLanes,S=c.pingedLanes;m=(1<<31-yt(42|t)+1)-1,m&=f&~(_&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(i=!0,S_(c,m))}else m=Le,m=vs(c,c===at?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||Xn(c,m)||(i=!0,S_(c,m));c=c.next}while(i);ym=!1}}function l1(){E_()}function E_(){sh=gm=!1;var t=0;Ja!==0&&_1()&&(t=Ja);for(var a=cn(),i=null,c=nh;c!==null;){var f=c.next,m=b_(c,a);m===0?(c.next=null,i===null?nh=f:i.next=f,f===null&&(uo=i)):(i=c,(t!==0||(m&3)!==0)&&(sh=!0)),c=f}Ut!==0&&Ut!==5||zl(t),Ja!==0&&(Ja=0)}function b_(t,a){for(var i=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var _=31-yt(m),S=1<<_,O=f[_];O===-1?((S&i)===0||(S&c)!==0)&&(f[_]=Gd(S,a)):O<=a&&(t.expiredLanes|=S),m&=~S}if(a=at,i=Le,i=vs(t,t===a?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,i===0||t===a&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Na(c),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Xn(t,i)){if(a=i&-i,a===t.callbackPriority)return a;switch(c!==null&&Na(c),Ks(i)){case 2:case 8:i=Xo;break;case 32:i=ja;break;case 268435456:i=Qc;break;default:i=ja}return c=T_.bind(null,t),i=Lt(i,c),t.callbackPriority=a,t.callbackNode=i,a}return c!==null&&c!==null&&Na(c),t.callbackPriority=2,t.callbackNode=null,2}function T_(t,a){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(th()&&t.callbackNode!==i)return null;var c=Le;return c=vs(t,t===at?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(a_(t,c,a),b_(t,cn()),t.callbackNode!=null&&t.callbackNode===i?T_.bind(null,t):null)}function S_(t,a){if(th())return null;a_(t,a,!0)}function c1(){E1(function(){(Ye&6)!==0?Lt(Yo,l1):E_()})}function vm(){if(Ja===0){var t=Yi;t===0&&(t=gs,gs<<=1,(gs&261888)===0&&(gs=256)),Ja=t}return Ja}function w_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Oi(""+t)}function N_(t,a){var i=a.ownerDocument.createElement("input");return i.name=a.name,i.value=a.value,t.id&&i.setAttribute("form",t.id),a.parentNode.insertBefore(i,a),t=new FormData(t),i.parentNode.removeChild(i),t}function u1(t,a,i,c,f){if(a==="submit"&&i&&i.stateNode===f){var m=w_((f[Bt]||null).action),_=c.submitter;_&&(a=(a=_[Bt]||null)?w_(a.formAction):_.getAttribute("formAction"),a!==null&&(m=a,_=null));var S=new Cs("action","action",null,c,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ja!==0){var O=_?N_(f,_):new FormData(f);Lf(i,{pending:!0,data:O,method:f.method,action:m},null,O)}}else typeof m=="function"&&(S.preventDefault(),O=_?N_(f,_):new FormData(f),Lf(i,{pending:!0,data:O,method:f.method,action:m},m,O))},currentTarget:f}]})}}for(var _m=0;_m<ef.length;_m++){var xm=ef[_m],h1=xm.toLowerCase(),d1=xm[0].toUpperCase()+xm.slice(1);as(h1,"on"+d1)}as(sy,"onAnimationEnd"),as(ay,"onAnimationIteration"),as(ry,"onAnimationStart"),as("dblclick","onDoubleClick"),as("focusin","onFocus"),as("focusout","onBlur"),as(AS,"onTransitionRun"),as(CS,"onTransitionStart"),as(RS,"onTransitionCancel"),as(iy,"onTransitionEnd"),ws("onMouseEnter",["mouseout","mouseover"]),ws("onMouseLeave",["mouseout","mouseover"]),ws("onPointerEnter",["pointerout","pointerover"]),ws("onPointerLeave",["pointerout","pointerover"]),Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function j_(t,a){a=(a&4)!==0;for(var i=0;i<t.length;i++){var c=t[i],f=c.event;c=c.listeners;e:{var m=void 0;if(a)for(var _=c.length-1;0<=_;_--){var S=c[_],O=S.instance,K=S.currentTarget;if(S=S.listener,O!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=K;try{m(f)}catch(ne){vu(ne)}f.currentTarget=null,m=O}else for(_=0;_<c.length;_++){if(S=c[_],O=S.instance,K=S.currentTarget,S=S.listener,O!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=K;try{m(f)}catch(ne){vu(ne)}f.currentTarget=null,m=O}}}}function Pe(t,a){var i=a[Ci];i===void 0&&(i=a[Ci]=new Set);var c=t+"__bubble";i.has(c)||(A_(a,t,2,!1),i.add(c))}function Em(t,a,i){var c=0;a&&(c|=4),A_(i,t,c,a)}var ah="_reactListening"+Math.random().toString(36).slice(2);function bm(t){if(!t[ah]){t[ah]=!0,Zo.forEach(function(i){i!=="selectionchange"&&(f1.has(i)||Em(i,!1,t),Em(i,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[ah]||(a[ah]=!0,Em("selectionchange",!1,a))}}function A_(t,a,i,c){switch(sx(a)){case 2:var f=B1;break;case 8:f=F1;break;default:f=Pm}i=f.bind(null,a,i,t),f=void 0,!Br||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(a,i,{capture:!0,passive:f}):t.addEventListener(a,i,!0):f!==void 0?t.addEventListener(a,i,{passive:f}):t.addEventListener(a,i,!1)}function Tm(t,a,i,c,f){var m=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var S=c.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=c.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=bs(S),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){c=m=_;continue e}S=S.parentNode}}c=c.return}ka(function(){var K=m,ne=kn(i),ie=[];e:{var Y=oy.get(t);if(Y!==void 0){var J=Cs,ge=t;switch(t){case"keypress":if(qr(i)===0)break e;case"keydown":case"keyup":J=pu;break;case"focusin":ge="focus",J=Gr;break;case"focusout":ge="blur",J=Gr;break;case"beforeblur":case"afterblur":J=Gr;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=v;break;case sy:case ay:case ry:J=lu;break;case iy:J=w;break;case"scroll":case"scrollend":J=hl;break;case"wheel":J=W;break;case"copy":case"cut":case"paste":J=cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Ws;break;case"toggle":case"beforetoggle":J=Ie}var be=(a&4)!==0,st=!be&&(t==="scroll"||t==="scrollend"),H=be?Y!==null?Y+"Capture":null:Y;be=[];for(var U=K,Q;U!==null;){var ae=U;if(Q=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Q===null||H===null||(ae=es(U,H),ae!=null&&be.push(Fl(U,ae,Q))),st)break;U=U.return}0<be.length&&(Y=new J(Y,ge,null,i,ne),ie.push({event:Y,listeners:be}))}}if((a&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",Y&&i!==ll&&(ge=i.relatedTarget||i.fromElement)&&(bs(ge)||ge[xs]))break e;if((J||Y)&&(Y=ne.window===ne?ne:(Y=ne.ownerDocument)?Y.defaultView||Y.parentWindow:window,J?(ge=i.relatedTarget||i.toElement,J=K,ge=ge?bs(ge):null,ge!==null&&(st=u(ge),be=ge.tag,ge!==st||be!==5&&be!==27&&be!==6)&&(ge=null)):(J=null,ge=K),J!==ge)){if(be=dl,ae="onMouseLeave",H="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(be=Ws,ae="onPointerLeave",H="onPointerEnter",U="pointer"),st=J==null?Y:En(J),Q=ge==null?Y:En(ge),Y=new be(ae,U+"leave",J,i,ne),Y.target=st,Y.relatedTarget=Q,ae=null,bs(ne)===K&&(be=new be(H,U+"enter",ge,i,ne),be.target=Q,be.relatedTarget=st,ae=be),st=ae,J&&ge)t:{for(be=m1,H=J,U=ge,Q=0,ae=H;ae;ae=be(ae))Q++;ae=0;for(var _e=U;_e;_e=be(_e))ae++;for(;0<Q-ae;)H=be(H),Q--;for(;0<ae-Q;)U=be(U),ae--;for(;Q--;){if(H===U||U!==null&&H===U.alternate){be=H;break t}H=be(H),U=be(U)}be=null}else be=null;J!==null&&C_(ie,Y,J,be,!1),ge!==null&&st!==null&&C_(ie,st,ge,be,!0)}}e:{if(Y=K?En(K):window,J=Y.nodeName&&Y.nodeName.toLowerCase(),J==="select"||J==="input"&&Y.type==="file")var Qe=Qg;else if(Hg(Y))if($g)Qe=wS;else{Qe=TS;var ye=bS}else J=Y.nodeName,!J||J.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&ki(K.elementType)&&(Qe=Qg):Qe=SS;if(Qe&&(Qe=Qe(t,K))){Gg(ie,Qe,i,ne);break e}ye&&ye(t,Y,K),t==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&rl(Y,"number",Y.value)}switch(ye=K?En(K):window,t){case"focusin":(Hg(ye)||ye.contentEditable==="true")&&(Bi=ye,Wd=K,yl=null);break;case"focusout":yl=Wd=Bi=null;break;case"mousedown":Jd=!0;break;case"contextmenu":case"mouseup":case"dragend":Jd=!1,ty(ie,i,ne);break;case"selectionchange":if(jS)break;case"keydown":case"keyup":ty(ie,i,ne)}var Oe;if(Ke)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else zi?Qr(t,i)&&(Ue="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Ue="onCompositionStart");Ue&&(Ds&&i.locale!=="ko"&&(zi||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&zi&&(Oe=ul()):(As=ne,cl="value"in As?As.value:As.textContent,zi=!0)),ye=rh(K,Ue),0<ye.length&&(Ue=new Is(Ue,t,null,i,ne),ie.push({event:Ue,listeners:ye}),Oe?Ue.data=Oe:(Oe=Ui(i),Oe!==null&&(Ue.data=Oe)))),(Oe=Mn?vS(t,i):_S(t,i))&&(Ue=rh(K,"onBeforeInput"),0<Ue.length&&(ye=new Is("onBeforeInput","beforeinput",null,i,ne),ie.push({event:ye,listeners:Ue}),ye.data=Oe)),u1(ie,t,K,i,ne)}j_(ie,a)})}function Fl(t,a,i){return{instance:t,listener:a,currentTarget:i}}function rh(t,a){for(var i=a+"Capture",c=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=es(t,i),f!=null&&c.unshift(Fl(t,f,m)),f=es(t,a),f!=null&&c.push(Fl(t,f,m))),t.tag===3)return c;t=t.return}return[]}function m1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function C_(t,a,i,c,f){for(var m=a._reactName,_=[];i!==null&&i!==c;){var S=i,O=S.alternate,K=S.stateNode;if(S=S.tag,O!==null&&O===c)break;S!==5&&S!==26&&S!==27||K===null||(O=K,f?(K=es(i,m),K!=null&&_.unshift(Fl(i,K,O))):f||(K=es(i,m),K!=null&&_.push(Fl(i,K,O)))),i=i.return}_.length!==0&&t.push({event:a,listeners:_})}var p1=/\r\n?/g,g1=/\u0000|\uFFFD/g;function R_(t){return(typeof t=="string"?t:""+t).replace(p1,`
`).replace(g1,"")}function I_(t,a){return a=R_(a),R_(t)===a}function nt(t,a,i,c,f,m){switch(i){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||fn(t,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&fn(t,""+c);break;case"className":bn(t,"class",c);break;case"tabIndex":bn(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(t,i,c);break;case"style":ol(t,c,m);break;case"data":if(a!=="object"){bn(t,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||i!=="href")){t.removeAttribute(i);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(i);break}c=Oi(""+c),t.setAttribute(i,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(i==="formAction"?(a!=="input"&&nt(t,a,"name",f.name,f,null),nt(t,a,"formEncType",f.formEncType,f,null),nt(t,a,"formMethod",f.formMethod,f,null),nt(t,a,"formTarget",f.formTarget,f,null)):(nt(t,a,"encType",f.encType,f,null),nt(t,a,"method",f.method,f,null),nt(t,a,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(i);break}c=Oi(""+c),t.setAttribute(i,c);break;case"onClick":c!=null&&(t.onclick=Zn);break;case"onScroll":c!=null&&Pe("scroll",t);break;case"onScrollEnd":c!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}i=Oi(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(i,""+c):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":c===!0?t.setAttribute(i,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(i,c):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(i,c):t.removeAttribute(i);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(i):t.setAttribute(i,c);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),Ii(t,"popover",c);break;case"xlinkActuate":Ct(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ct(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ct(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ct(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ct(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ct(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ii(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=ru.get(i)||i,Ii(t,i,c))}}function Sm(t,a,i,c,f,m){switch(i){case"style":ol(t,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"children":typeof c=="string"?fn(t,c):(typeof c=="number"||typeof c=="bigint")&&fn(t,""+c);break;case"onScroll":c!=null&&Pe("scroll",t);break;case"onScrollEnd":c!=null&&Pe("scrollend",t);break;case"onClick":c!=null&&(t.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!el.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),a=i.slice(2,f?i.length-7:void 0),m=t[Bt]||null,m=m!=null?m[i]:null,typeof m=="function"&&t.removeEventListener(a,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(a,c,f);break e}i in t?t[i]=c:c===!0?t.setAttribute(i,""):Ii(t,i,c)}}}function Jt(t,a,i){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var c=!1,f=!1,m;for(m in i)if(i.hasOwnProperty(m)){var _=i[m];if(_!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:nt(t,a,m,_,i,null)}}f&&nt(t,a,"srcSet",i.srcSet,i,null),c&&nt(t,a,"src",i.src,i,null);return;case"input":Pe("invalid",t);var S=m=_=f=null,O=null,K=null;for(c in i)if(i.hasOwnProperty(c)){var ne=i[c];if(ne!=null)switch(c){case"name":f=ne;break;case"type":_=ne;break;case"checked":O=ne;break;case"defaultChecked":K=ne;break;case"value":m=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,a));break;default:nt(t,a,c,ne,i,null)}}nu(t,m,S,O,K,_,f,!1);return;case"select":Pe("invalid",t),c=_=m=null;for(f in i)if(i.hasOwnProperty(f)&&(S=i[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":_=S;break;case"multiple":c=S;default:nt(t,a,f,S,i,null)}a=m,i=_,t.multiple=!!c,a!=null?Ca(t,!!c,a,!1):i!=null&&Ca(t,!!c,i,!0);return;case"textarea":Pe("invalid",t),m=f=c=null;for(_ in i)if(i.hasOwnProperty(_)&&(S=i[_],S!=null))switch(_){case"value":c=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:nt(t,a,_,S,i,null)}Ra(t,c,f,m);return;case"option":for(O in i)if(i.hasOwnProperty(O)&&(c=i[O],c!=null))switch(O){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:nt(t,a,O,c,i,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(c=0;c<Bl.length;c++)Pe(Bl[c],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in i)if(i.hasOwnProperty(K)&&(c=i[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:nt(t,a,K,c,i,null)}return;default:if(ki(a)){for(ne in i)i.hasOwnProperty(ne)&&(c=i[ne],c!==void 0&&Sm(t,a,ne,c,i,void 0));return}}for(S in i)i.hasOwnProperty(S)&&(c=i[S],c!=null&&nt(t,a,S,c,i,null))}function y1(t,a,i,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,S=null,O=null,K=null,ne=null;for(J in i){var ie=i[J];if(i.hasOwnProperty(J)&&ie!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":O=ie;default:c.hasOwnProperty(J)||nt(t,a,J,null,c,ie)}}for(var Y in c){var J=c[Y];if(ie=i[Y],c.hasOwnProperty(Y)&&(J!=null||ie!=null))switch(Y){case"type":m=J;break;case"name":f=J;break;case"checked":K=J;break;case"defaultChecked":ne=J;break;case"value":_=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,a));break;default:J!==ie&&nt(t,a,Y,J,c,ie)}}Di(t,_,S,O,K,ne,m,f);return;case"select":J=_=S=Y=null;for(m in i)if(O=i[m],i.hasOwnProperty(m)&&O!=null)switch(m){case"value":break;case"multiple":J=O;default:c.hasOwnProperty(m)||nt(t,a,m,null,c,O)}for(f in c)if(m=c[f],O=i[f],c.hasOwnProperty(f)&&(m!=null||O!=null))switch(f){case"value":Y=m;break;case"defaultValue":S=m;break;case"multiple":_=m;default:m!==O&&nt(t,a,f,m,c,O)}a=S,i=_,c=J,Y!=null?Ca(t,!!i,Y,!1):!!c!=!!i&&(a!=null?Ca(t,!!i,a,!0):Ca(t,!!i,i?[]:"",!1));return;case"textarea":J=Y=null;for(S in i)if(f=i[S],i.hasOwnProperty(S)&&f!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:nt(t,a,S,null,c,f)}for(_ in c)if(f=c[_],m=i[_],c.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":Y=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&nt(t,a,_,f,c,m)}su(t,Y,J);return;case"option":for(var ge in i)if(Y=i[ge],i.hasOwnProperty(ge)&&Y!=null&&!c.hasOwnProperty(ge))switch(ge){case"selected":t.selected=!1;break;default:nt(t,a,ge,null,c,Y)}for(O in c)if(Y=c[O],J=i[O],c.hasOwnProperty(O)&&Y!==J&&(Y!=null||J!=null))switch(O){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:nt(t,a,O,Y,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in i)Y=i[be],i.hasOwnProperty(be)&&Y!=null&&!c.hasOwnProperty(be)&&nt(t,a,be,null,c,Y);for(K in c)if(Y=c[K],J=i[K],c.hasOwnProperty(K)&&Y!==J&&(Y!=null||J!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,a));break;default:nt(t,a,K,Y,c,J)}return;default:if(ki(a)){for(var st in i)Y=i[st],i.hasOwnProperty(st)&&Y!==void 0&&!c.hasOwnProperty(st)&&Sm(t,a,st,void 0,c,Y);for(ne in c)Y=c[ne],J=i[ne],!c.hasOwnProperty(ne)||Y===J||Y===void 0&&J===void 0||Sm(t,a,ne,Y,c,J);return}}for(var H in i)Y=i[H],i.hasOwnProperty(H)&&Y!=null&&!c.hasOwnProperty(H)&&nt(t,a,H,null,c,Y);for(ie in c)Y=c[ie],J=i[ie],!c.hasOwnProperty(ie)||Y===J||Y==null&&J==null||nt(t,a,ie,Y,c,J)}function D_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function v1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,i=performance.getEntriesByType("resource"),c=0;c<i.length;c++){var f=i[c],m=f.transferSize,_=f.initiatorType,S=f.duration;if(m&&S&&D_(_)){for(_=0,S=f.responseEnd,c+=1;c<i.length;c++){var O=i[c],K=O.startTime;if(K>S)break;var ne=O.transferSize,ie=O.initiatorType;ne&&D_(ie)&&(O=O.responseEnd,_+=ne*(O<S?1:(S-K)/(O-K)))}if(--c,a+=8*(m+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var wm=null,Nm=null;function ih(t){return t.nodeType===9?t:t.ownerDocument}function k_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O_(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function jm(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Am=null;function _1(){var t=window.event;return t&&t.type==="popstate"?t===Am?!1:(Am=t,!0):(Am=null,!1)}var M_=typeof setTimeout=="function"?setTimeout:void 0,x1=typeof clearTimeout=="function"?clearTimeout:void 0,V_=typeof Promise=="function"?Promise:void 0,E1=typeof queueMicrotask=="function"?queueMicrotask:typeof V_<"u"?function(t){return V_.resolve(null).then(t).catch(b1)}:M_;function b1(t){setTimeout(function(){throw t})}function Za(t){return t==="head"}function P_(t,a){var i=a,c=0;do{var f=i.nextSibling;if(t.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(c===0){t.removeChild(f),po(a);return}c--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")c++;else if(i==="html")ql(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,ql(i);for(var m=i.firstChild;m;){var _=m.nextSibling,S=m.nodeName;m[Es]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||i.removeChild(m),m=_}}else i==="body"&&ql(t.ownerDocument.body);i=f}while(i);po(a)}function L_(t,a){var i=t;t=0;do{var c=i.nextSibling;if(i.nodeType===1?a?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(a?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=c}while(i)}function Cm(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var i=a;switch(a=a.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Cm(i),Ri(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function T1(t,a,i,c){for(;t.nodeType===1;){var f=i;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Es])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function S1(t,a,i){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Fn(t.nextSibling),t===null))return null;return t}function U_(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fn(t.nextSibling),t===null))return null;return t}function Rm(t){return t.data==="$?"||t.data==="$~"}function Im(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function w1(t,a){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||i.readyState!=="loading")a();else{var c=function(){a(),i.removeEventListener("DOMContentLoaded",c)};i.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function Fn(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var Dm=null;function z_(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(a===0)return Fn(t.nextSibling);a--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||a++}t=t.nextSibling}return null}function B_(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(a===0)return t;a--}else i!=="/$"&&i!=="/&"||a++}t=t.previousSibling}return null}function F_(t,a,i){switch(a=ih(i),t){case"html":if(t=a.documentElement,!t)throw Error(r(452));return t;case"head":if(t=a.head,!t)throw Error(r(453));return t;case"body":if(t=a.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function ql(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Ri(t)}var qn=new Map,q_=new Set;function oh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var da=oe.d;oe.d={f:N1,r:j1,D:A1,C:C1,L:R1,m:I1,X:k1,S:D1,M:O1};function N1(){var t=da.f(),a=Ju();return t||a}function j1(t){var a=Dn(t);a!==null&&a.tag===5&&a.type==="form"?iv(a):da.r(t)}var ho=typeof document>"u"?null:document;function H_(t,a,i){var c=ho;if(c&&typeof a=="string"&&a){var f=dn(a);f='link[rel="'+t+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),q_.has(f)||(q_.add(f),t={rel:t,crossOrigin:i,href:a},c.querySelector(f)===null&&(a=c.createElement("link"),Jt(a,"link",t),At(a),c.head.appendChild(a)))}}function A1(t){da.D(t),H_("dns-prefetch",t,null)}function C1(t,a){da.C(t,a),H_("preconnect",t,a)}function R1(t,a,i){da.L(t,a,i);var c=ho;if(c&&t&&a){var f='link[rel="preload"][as="'+dn(a)+'"]';a==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+dn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+dn(i.imageSizes)+'"]')):f+='[href="'+dn(t)+'"]';var m=f;switch(a){case"style":m=fo(t);break;case"script":m=mo(t)}qn.has(m)||(t=b({rel:"preload",href:a==="image"&&i&&i.imageSrcSet?void 0:t,as:a},i),qn.set(m,t),c.querySelector(f)!==null||a==="style"&&c.querySelector(Hl(m))||a==="script"&&c.querySelector(Gl(m))||(a=c.createElement("link"),Jt(a,"link",t),At(a),c.head.appendChild(a)))}}function I1(t,a){da.m(t,a);var i=ho;if(i&&t){var c=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+dn(c)+'"][href="'+dn(t)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=mo(t)}if(!qn.has(m)&&(t=b({rel:"modulepreload",href:t},a),qn.set(m,t),i.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Gl(m)))return}c=i.createElement("link"),Jt(c,"link",t),At(c),i.head.appendChild(c)}}}function D1(t,a,i){da.S(t,a,i);var c=ho;if(c&&t){var f=Ts(c).hoistableStyles,m=fo(t);a=a||"default";var _=f.get(m);if(!_){var S={loading:0,preload:null};if(_=c.querySelector(Hl(m)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":a},i),(i=qn.get(m))&&km(t,i);var O=_=c.createElement("link");At(O),Jt(O,"link",t),O._p=new Promise(function(K,ne){O.onload=K,O.onerror=ne}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,lh(_,a,c)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(m,_)}}}function k1(t,a){da.X(t,a);var i=ho;if(i&&t){var c=Ts(i).hoistableScripts,f=mo(t),m=c.get(f);m||(m=i.querySelector(Gl(f)),m||(t=b({src:t,async:!0},a),(a=qn.get(f))&&Om(t,a),m=i.createElement("script"),At(m),Jt(m,"link",t),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function O1(t,a){da.M(t,a);var i=ho;if(i&&t){var c=Ts(i).hoistableScripts,f=mo(t),m=c.get(f);m||(m=i.querySelector(Gl(f)),m||(t=b({src:t,async:!0,type:"module"},a),(a=qn.get(f))&&Om(t,a),m=i.createElement("script"),At(m),Jt(m,"link",t),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function G_(t,a,i,c){var f=(f=ke.current)?oh(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(a=fo(i.href),i=Ts(f).hoistableStyles,c=i.get(a),c||(c={type:"style",instance:null,count:0,state:null},i.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=fo(i.href);var m=Ts(f).hoistableStyles,_=m.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,_),(m=f.querySelector(Hl(t)))&&!m._p&&(_.instance=m,_.state.loading=5),qn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},qn.set(t,i),m||M1(f,t,i,_.state))),a&&c===null)throw Error(r(528,""));return _}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=i.async,i=i.src,typeof i=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=mo(i),i=Ts(f).hoistableScripts,c=i.get(a),c||(c={type:"script",instance:null,count:0,state:null},i.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function fo(t){return'href="'+dn(t)+'"'}function Hl(t){return'link[rel="stylesheet"]['+t+"]"}function Q_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function M1(t,a,i,c){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=t.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Jt(a,"link",i),At(a),t.head.appendChild(a))}function mo(t){return'[src="'+dn(t)+'"]'}function Gl(t){return"script[async]"+t}function $_(t,a,i){if(a.count++,a.instance===null)switch(a.type){case"style":var c=t.querySelector('style[data-href~="'+dn(i.href)+'"]');if(c)return a.instance=c,At(c),c;var f=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),At(c),Jt(c,"style",f),lh(c,i.precedence,t),a.instance=c;case"stylesheet":f=fo(i.href);var m=t.querySelector(Hl(f));if(m)return a.state.loading|=4,a.instance=m,At(m),m;c=Q_(i),(f=qn.get(f))&&km(c,f),m=(t.ownerDocument||t).createElement("link"),At(m);var _=m;return _._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),Jt(m,"link",c),a.state.loading|=4,lh(m,i.precedence,t),a.instance=m;case"script":return m=mo(i.src),(f=t.querySelector(Gl(m)))?(a.instance=f,At(f),f):(c=i,(f=qn.get(m))&&(c=b({},i),Om(c,f)),t=t.ownerDocument||t,f=t.createElement("script"),At(f),Jt(f,"link",c),t.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,lh(c,i.precedence,t));return a.instance}function lh(t,a,i){for(var c=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,_=0;_<c.length;_++){var S=c[_];if(S.dataset.precedence===a)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(a=i.nodeType===9?i.head:i,a.insertBefore(t,a.firstChild))}function km(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Om(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var ch=null;function K_(t,a,i){if(ch===null){var c=new Map,f=ch=new Map;f.set(i,c)}else f=ch,c=f.get(i),c||(c=new Map,f.set(i,c));if(c.has(t))return c;for(c.set(t,null),i=i.getElementsByTagName(t),f=0;f<i.length;f++){var m=i[f];if(!(m[Es]||m[jt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(a)||"";_=t+_;var S=c.get(_);S?S.push(m):c.set(_,[m])}}return c}function Y_(t,a,i){t=t.ownerDocument||t,t.head.insertBefore(i,a==="title"?t.querySelector("head > title"):null)}function V1(t,a,i){if(i===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function X_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function P1(t,a,i,c){if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=fo(c.href),m=a.querySelector(Hl(f));if(m){a=m._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=uh.bind(t),a.then(t,t)),i.state.loading|=4,i.instance=m,At(m);return}m=a.ownerDocument||a,c=Q_(c),(f=qn.get(f))&&km(c,f),m=m.createElement("link"),At(m);var _=m;_._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),Jt(m,"link",c),i.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,a),(a=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=uh.bind(t),a.addEventListener("load",i),a.addEventListener("error",i))}}var Mm=0;function L1(t,a){return t.stylesheets&&t.count===0&&dh(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var c=setTimeout(function(){if(t.stylesheets&&dh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+a);0<t.imgBytes&&Mm===0&&(Mm=62500*v1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&dh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Mm?50:800)+a);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function uh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hh=null;function dh(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hh=new Map,a.forEach(U1,t),hh=null,uh.call(t))}function U1(t,a){if(!(a.state.loading&4)){var i=hh.get(t);if(i)var c=i.get(null);else{i=new Map,hh.set(t,i);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(i.set(_.dataset.precedence,_),c=_)}c&&i.set(null,c)}f=a.instance,_=f.getAttribute("data-precedence"),m=i.get(_)||c,m===c&&i.set(null,f),i.set(_,f),this.count++,c=uh.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),a.state.loading|=4}}var Ql={$$typeof:ee,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function z1(t,a,i,c,f,m,_,S,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_s(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_s(0),this.hiddenUpdates=_s(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function W_(t,a,i,c,f,m,_,S,O,K,ne,ie){return t=new z1(t,a,i,_,O,K,ne,ie,S),a=1,m===!0&&(a|=24),m=Sn(3,null,null,a),t.current=m,m.stateNode=t,a=mf(),a.refCount++,t.pooledCache=a,a.refCount++,m.memoizedState={element:c,isDehydrated:i,cache:a},vf(m),t}function J_(t){return t?(t=Hi,t):Hi}function Z_(t,a,i,c,f,m){f=J_(f),c.context===null?c.context=f:c.pendingContext=f,c=Fa(a),c.payload={element:i},m=m===void 0?null:m,m!==null&&(c.callback=m),i=qa(t,c,a),i!==null&&(vn(i,t,a),Sl(i,t,a))}function ex(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<a?i:a}}function Vm(t,a){ex(t,a),(t=t.alternate)&&ex(t,a)}function tx(t){if(t.tag===13||t.tag===31){var a=Yr(t,67108864);a!==null&&vn(a,t,67108864),Vm(t,67108864)}}function nx(t){if(t.tag===13||t.tag===31){var a=Cn();a=Pr(a);var i=Yr(t,a);i!==null&&vn(i,t,a),Vm(t,a)}}var fh=!0;function B1(t,a,i,c){var f=I.T;I.T=null;var m=oe.p;try{oe.p=2,Pm(t,a,i,c)}finally{oe.p=m,I.T=f}}function F1(t,a,i,c){var f=I.T;I.T=null;var m=oe.p;try{oe.p=8,Pm(t,a,i,c)}finally{oe.p=m,I.T=f}}function Pm(t,a,i,c){if(fh){var f=Lm(c);if(f===null)Tm(t,a,c,mh,i),ax(t,c);else if(H1(f,t,a,i,c))c.stopPropagation();else if(ax(t,c),a&4&&-1<q1.indexOf(t)){for(;f!==null;){var m=Dn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=ys(m.pendingLanes);if(_!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var O=1<<31-yt(_);S.entanglements[1]|=O,_&=~O}Vs(m),(Ye&6)===0&&(Xu=cn()+500,zl(0))}}break;case 31:case 13:S=Yr(m,2),S!==null&&vn(S,m,2),Ju(),Vm(m,2)}if(m=Lm(c),m===null&&Tm(t,a,c,mh,i),m===f)break;f=m}f!==null&&c.stopPropagation()}else Tm(t,a,c,null,i)}}function Lm(t){return t=kn(t),Um(t)}var mh=null;function Um(t){if(mh=null,t=bs(t),t!==null){var a=u(t);if(a===null)t=null;else{var i=a.tag;if(i===13){if(t=d(a),t!==null)return t;t=null}else if(i===31){if(t=p(a),t!==null)return t;t=null}else if(i===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return mh=t,null}function sx(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kr()){case Yo:return 2;case Xo:return 8;case ja:case Hd:return 32;case Qc:return 268435456;default:return 32}default:return 32}}var zm=!1,er=null,tr=null,nr=null,$l=new Map,Kl=new Map,sr=[],q1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ax(t,a){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":$l.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(a.pointerId)}}function Yl(t,a,i,c,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:a,domEventName:i,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},a!==null&&(a=Dn(a),a!==null&&tx(a)),t):(t.eventSystemFlags|=c,a=t.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),t)}function H1(t,a,i,c,f){switch(a){case"focusin":return er=Yl(er,t,a,i,c,f),!0;case"dragenter":return tr=Yl(tr,t,a,i,c,f),!0;case"mouseover":return nr=Yl(nr,t,a,i,c,f),!0;case"pointerover":var m=f.pointerId;return $l.set(m,Yl($l.get(m)||null,t,a,i,c,f)),!0;case"gotpointercapture":return m=f.pointerId,Kl.set(m,Yl(Kl.get(m)||null,t,a,i,c,f)),!0}return!1}function rx(t){var a=bs(t.target);if(a!==null){var i=u(a);if(i!==null){if(a=i.tag,a===13){if(a=d(i),a!==null){t.blockedOn=a,Wn(t.priority,function(){nx(i)});return}}else if(a===31){if(a=p(i),a!==null){t.blockedOn=a,Wn(t.priority,function(){nx(i)});return}}else if(a===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ph(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var i=Lm(t.nativeEvent);if(i===null){i=t.nativeEvent;var c=new i.constructor(i.type,i);ll=c,i.target.dispatchEvent(c),ll=null}else return a=Dn(i),a!==null&&tx(a),t.blockedOn=i,!1;a.shift()}return!0}function ix(t,a,i){ph(t)&&i.delete(a)}function G1(){zm=!1,er!==null&&ph(er)&&(er=null),tr!==null&&ph(tr)&&(tr=null),nr!==null&&ph(nr)&&(nr=null),$l.forEach(ix),Kl.forEach(ix)}function gh(t,a){t.blockedOn===a&&(t.blockedOn=null,zm||(zm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,G1)))}var yh=null;function ox(t){yh!==t&&(yh=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){yh===t&&(yh=null);for(var a=0;a<t.length;a+=3){var i=t[a],c=t[a+1],f=t[a+2];if(typeof c!="function"){if(Um(c||i)===null)continue;break}var m=Dn(i);m!==null&&(t.splice(a,3),a-=3,Lf(m,{pending:!0,data:f,method:i.method,action:c},c,f))}}))}function po(t){function a(O){return gh(O,t)}er!==null&&gh(er,t),tr!==null&&gh(tr,t),nr!==null&&gh(nr,t),$l.forEach(a),Kl.forEach(a);for(var i=0;i<sr.length;i++){var c=sr[i];c.blockedOn===t&&(c.blockedOn=null)}for(;0<sr.length&&(i=sr[0],i.blockedOn===null);)rx(i),i.blockedOn===null&&sr.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(c=0;c<i.length;c+=3){var f=i[c],m=i[c+1],_=f[Bt]||null;if(typeof m=="function")_||ox(i);else if(_){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[Bt]||null)S=_.formAction;else if(Um(f)!==null)continue}else S=_.action;typeof S=="function"?i[c+1]=S:(i.splice(c,3),c-=3),ox(i)}}}function lx(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function a(){f!==null&&(f(),f=null),c||setTimeout(i,20)}function i(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(i,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),f!==null&&(f(),f=null)}}}function Bm(t){this._internalRoot=t}vh.prototype.render=Bm.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(r(409));var i=a.current,c=Cn();Z_(i,c,t,a,null,null)},vh.prototype.unmount=Bm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;Z_(t.current,2,null,t,null,null),Ju(),a[xs]=null}};function vh(t){this._internalRoot=t}vh.prototype.unstable_scheduleHydration=function(t){if(t){var a=Jc();t={blockedOn:null,target:t,priority:a};for(var i=0;i<sr.length&&a!==0&&a<sr[i].priority;i++);sr.splice(i,0,t),i===0&&rx(t)}};var cx=e.version;if(cx!=="19.2.0")throw Error(r(527,cx,"19.2.0"));oe.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(a),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var Q1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{Yn=_h.inject(Q1),$t=_h}catch{}}return Wl.createRoot=function(t,a){if(!l(t))throw Error(r(299));var i=!1,c="",f=gv,m=yv,_=vv;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),a=W_(t,1,!1,null,null,i,c,null,f,m,_,lx),t[xs]=a.current,bm(t),new Bm(a)},Wl.hydrateRoot=function(t,a,i){if(!l(t))throw Error(r(299));var c=!1,f="",m=gv,_=yv,S=vv,O=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(_=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError),i.formState!==void 0&&(O=i.formState)),a=W_(t,1,!0,a,i??null,c,f,O,m,_,S,lx),a.context=J_(null),i=a.current,c=Cn(),c=Pr(c),f=Fa(c),f.callback=null,qa(i,f,c),i=c,a.current.lanes=i,Mr(a,i),Vs(a),t[xs]=a.current,bm(t),new vh(a)},Wl.version="19.2.0",Wl}var _x;function sw(){if(_x)return Hm.exports;_x=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Hm.exports=nw(),Hm.exports}var aw=sw();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xx="popstate";function rw(s={}){function e(r,l){let{pathname:u,search:d,hash:p}=r.location;return cp("",{pathname:u,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:hc(l)}return ow(e,n,null,s)}function ft(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function ls(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iw(){return Math.random().toString(36).substring(2,10)}function Ex(s,e){return{usr:s.state,key:s.key,idx:e}}function cp(s,e,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Mo(e):e,state:n,key:e&&e.key||r||iw()}}function hc({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Mo(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function ow(s,e,n,r={}){let{window:l=document.defaultView,v5Compat:u=!1}=r,d=l.history,p="POP",g=null,y=x();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function x(){return(d.state||{idx:null}).idx}function b(){p="POP";let z=x(),$=z==null?null:z-y;y=z,g&&g({action:p,location:k.location,delta:$})}function T(z,$){p="PUSH";let V=cp(k.location,z,$);y=x()+1;let ee=Ex(V,y),Z=k.createHref(V);try{d.pushState(ee,"",Z)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;l.location.assign(Z)}u&&g&&g({action:p,location:k.location,delta:1})}function R(z,$){p="REPLACE";let V=cp(k.location,z,$);y=x();let ee=Ex(V,y),Z=k.createHref(V);d.replaceState(ee,"",Z),u&&g&&g({action:p,location:k.location,delta:0})}function q(z){return lw(z)}let k={get action(){return p},get location(){return s(l,d)},listen(z){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(xx,b),g=z,()=>{l.removeEventListener(xx,b),g=null}},createHref(z){return e(l,z)},createURL:q,encodeLocation(z){let $=q(z);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:T,replace:R,go(z){return d.go(z)}};return k}function lw(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:hc(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function cE(s,e,n="/"){return cw(s,e,n,!1)}function cw(s,e,n,r){let l=typeof e=="string"?Mo(e):e,u=_a(l.pathname||"/",n);if(u==null)return null;let d=uE(s);uw(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=Ew(u);p=_w(d[g],y,r)}return p}function uE(s,e=[],n=[],r="",l=!1){let u=(d,p,g=l,y)=>{let x={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(r)&&g)return;ft(x.relativePath.startsWith(r),`Absolute route path "${x.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(r.length)}let b=ga([r,x.relativePath]),T=n.concat(x);d.children&&d.children.length>0&&(ft(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),uE(d.children,e,T,b,g)),!(d.path==null&&!d.index)&&e.push({path:b,score:yw(b,d.index),routesMeta:T})};return s.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))u(d,p);else for(let g of hE(d.path))u(d,p,!0,g)}),e}function hE(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let d=hE(r.join("/")),p=[];return p.push(...d.map(g=>g===""?u:[u,g].join("/"))),l&&p.push(...d),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function uw(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:vw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var hw=/^:[\w-]+$/,dw=3,fw=2,mw=1,pw=10,gw=-2,bx=s=>s==="*";function yw(s,e){let n=s.split("/"),r=n.length;return n.some(bx)&&(r+=gw),e&&(r+=fw),n.filter(l=>!bx(l)).reduce((l,u)=>l+(hw.test(u)?dw:u===""?mw:pw),r)}function vw(s,e){return s.length===e.length&&s.slice(0,-1).every((r,l)=>r===e[l])?s[s.length-1]-e[e.length-1]:0}function _w(s,e,n=!1){let{routesMeta:r}=s,l={},u="/",d=[];for(let p=0;p<r.length;++p){let g=r[p],y=p===r.length-1,x=u==="/"?e:e.slice(u.length)||"/",b=Fh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},x),T=g.route;if(!b&&y&&n&&!r[r.length-1].route.index&&(b=Fh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!b)return null;Object.assign(l,b.params),d.push({params:l,pathname:ga([u,b.pathname]),pathnameBase:ww(ga([u,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(u=ga([u,b.pathnameBase]))}return d}function Fh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=xw(s.path,s.caseSensitive,s.end),l=e.match(n);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:r.reduce((y,{paramName:x,isOptional:b},T)=>{if(x==="*"){let q=p[T]||"";d=u.slice(0,u.length-q.length).replace(/(.)\/+$/,"$1")}const R=p[T];return b&&!R?y[x]=void 0:y[x]=(R||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:d,pattern:s}}function xw(s,e=!1,n=!0){ls(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(r.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function Ew(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ls(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function _a(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}function bw(s,e="/"){let{pathname:n,search:r="",hash:l=""}=typeof s=="string"?Mo(s):s;return{pathname:n?n.startsWith("/")?n:Tw(n,e):e,search:Nw(r),hash:jw(l)}}function Tw(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Km(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Sw(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fp(s){let e=Sw(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function qp(s,e,n,r=!1){let l;typeof s=="string"?l=Mo(s):(l={...s},ft(!l.pathname||!l.pathname.includes("?"),Km("?","pathname","search",l)),ft(!l.pathname||!l.pathname.includes("#"),Km("#","pathname","hash",l)),ft(!l.search||!l.search.includes("#"),Km("#","search","hash",l)));let u=s===""||l.pathname==="",d=u?"/":l.pathname,p;if(d==null)p=n;else{let b=e.length-1;if(!r&&d.startsWith("..")){let T=d.split("/");for(;T[0]==="..";)T.shift(),b-=1;l.pathname=T.join("/")}p=b>=0?e[b]:"/"}let g=bw(l,p),y=d&&d!=="/"&&d.endsWith("/"),x=(u||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||x)&&(g.pathname+="/"),g}var ga=s=>s.join("/").replace(/\/\/+/g,"/"),ww=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Nw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,jw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Aw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var dE=["POST","PUT","PATCH","DELETE"];new Set(dE);var Cw=["GET",...dE];new Set(Cw);var Vo=D.createContext(null);Vo.displayName="DataRouter";var hd=D.createContext(null);hd.displayName="DataRouterState";D.createContext(!1);var fE=D.createContext({isTransitioning:!1});fE.displayName="ViewTransition";var Rw=D.createContext(new Map);Rw.displayName="Fetchers";var Iw=D.createContext(null);Iw.displayName="Await";var ds=D.createContext(null);ds.displayName="Navigation";var jc=D.createContext(null);jc.displayName="Location";var Gs=D.createContext({outlet:null,matches:[],isDataRoute:!1});Gs.displayName="Route";var Hp=D.createContext(null);Hp.displayName="RouteError";function Dw(s,{relative:e}={}){ft(Po(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=D.useContext(ds),{hash:l,pathname:u,search:d}=Cc(s,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:ga([n,u])),r.createHref({pathname:p,search:d,hash:l})}function Po(){return D.useContext(jc)!=null}function Sa(){return ft(Po(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(jc).location}var mE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pE(s){D.useContext(ds).static||D.useLayoutEffect(s)}function Ac(){let{isDataRoute:s}=D.useContext(Gs);return s?Gw():kw()}function kw(){ft(Po(),"useNavigate() may be used only in the context of a <Router> component.");let s=D.useContext(Vo),{basename:e,navigator:n}=D.useContext(ds),{matches:r}=D.useContext(Gs),{pathname:l}=Sa(),u=JSON.stringify(Fp(r)),d=D.useRef(!1);return pE(()=>{d.current=!0}),D.useCallback((g,y={})=>{if(ls(d.current,mE),!d.current)return;if(typeof g=="number"){n.go(g);return}let x=qp(g,JSON.parse(u),l,y.relative==="path");s==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:ga([e,x.pathname])),(y.replace?n.replace:n.push)(x,y.state,y)},[e,n,u,l,s])}D.createContext(null);function Cc(s,{relative:e}={}){let{matches:n}=D.useContext(Gs),{pathname:r}=Sa(),l=JSON.stringify(Fp(n));return D.useMemo(()=>qp(s,JSON.parse(l),r,e==="path"),[s,l,r,e])}function Ow(s,e){return gE(s,e)}function gE(s,e,n,r,l){ft(Po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=D.useContext(ds),{matches:d}=D.useContext(Gs),p=d[d.length-1],g=p?p.params:{},y=p?p.pathname:"/",x=p?p.pathnameBase:"/",b=p&&p.route;{let V=b&&b.path||"";yE(y,!b||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let T=Sa(),R;if(e){let V=typeof e=="string"?Mo(e):e;ft(x==="/"||V.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${V.pathname}" was given in the \`location\` prop.`),R=V}else R=T;let q=R.pathname||"/",k=q;if(x!=="/"){let V=x.replace(/^\//,"").split("/");k="/"+q.replace(/^\//,"").split("/").slice(V.length).join("/")}let z=cE(s,{pathname:k});ls(b||z!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),ls(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=Uw(z&&z.map(V=>Object.assign({},V,{params:Object.assign({},g,V.params),pathname:ga([x,u.encodeLocation?u.encodeLocation(V.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?x:ga([x,u.encodeLocation?u.encodeLocation(V.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathnameBase])})),d,n,r,l);return e&&$?D.createElement(jc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},$):$}function Mw(){let s=Hw(),e=Aw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:u},"ErrorBoundary")," or"," ",D.createElement("code",{style:u},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:l},n):null,d)}var Vw=D.createElement(Mw,null),Pw=class extends D.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.unstable_onError?this.props.unstable_onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?D.createElement(Gs.Provider,{value:this.props.routeContext},D.createElement(Hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Lw({routeContext:s,match:e,children:n}){let r=D.useContext(Vo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Gs.Provider,{value:s},n)}function Uw(s,e=[],n=null,r=null,l=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,d=n?.errors;if(d!=null){let y=u.findIndex(x=>x.route.id&&d?.[x.route.id]!==void 0);ft(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let p=!1,g=-1;if(n)for(let y=0;y<u.length;y++){let x=u[y];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(g=y),x.route.id){let{loaderData:b,errors:T}=n,R=x.route.loader&&!b.hasOwnProperty(x.route.id)&&(!T||T[x.route.id]===void 0);if(x.route.lazy||R){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((y,x,b)=>{let T,R=!1,q=null,k=null;n&&(T=d&&x.route.id?d[x.route.id]:void 0,q=x.route.errorElement||Vw,p&&(g<0&&b===0?(yE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,k=null):g===b&&(R=!0,k=x.route.hydrateFallbackElement||null)));let z=e.concat(u.slice(0,b+1)),$=()=>{let V;return T?V=q:R?V=k:x.route.Component?V=D.createElement(x.route.Component,null):x.route.element?V=x.route.element:V=y,D.createElement(Lw,{match:x,routeContext:{outlet:y,matches:z,isDataRoute:n!=null},children:V})};return n&&(x.route.ErrorBoundary||x.route.errorElement||b===0)?D.createElement(Pw,{location:n.location,revalidation:n.revalidation,component:q,error:T,children:$(),routeContext:{outlet:null,matches:z,isDataRoute:!0},unstable_onError:r}):$()},null)}function Gp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zw(s){let e=D.useContext(Vo);return ft(e,Gp(s)),e}function Bw(s){let e=D.useContext(hd);return ft(e,Gp(s)),e}function Fw(s){let e=D.useContext(Gs);return ft(e,Gp(s)),e}function Qp(s){let e=Fw(s),n=e.matches[e.matches.length-1];return ft(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function qw(){return Qp("useRouteId")}function Hw(){let s=D.useContext(Hp),e=Bw("useRouteError"),n=Qp("useRouteError");return s!==void 0?s:e.errors?.[n]}function Gw(){let{router:s}=zw("useNavigate"),e=Qp("useNavigate"),n=D.useRef(!1);return pE(()=>{n.current=!0}),D.useCallback(async(l,u={})=>{ls(n.current,mE),n.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:e,...u}))},[s,e])}var Tx={};function yE(s,e,n){!e&&!Tx[s]&&(Tx[s]=!0,ls(!1,n))}D.memo(Qw);function Qw({routes:s,future:e,state:n,unstable_onError:r}){return gE(s,void 0,n,r,e)}function up({to:s,replace:e,state:n,relative:r}){ft(Po(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=D.useContext(ds);ls(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=D.useContext(Gs),{pathname:d}=Sa(),p=Ac(),g=qp(s,Fp(u),d,r==="path"),y=JSON.stringify(g);return D.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:r})},[p,y,r,e,n]),null}function Zt(s){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $w({basename:s="/",children:e=null,location:n,navigationType:r="POP",navigator:l,static:u=!1}){ft(!Po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),p=D.useMemo(()=>({basename:d,navigator:l,static:u,future:{}}),[d,l,u]);typeof n=="string"&&(n=Mo(n));let{pathname:g="/",search:y="",hash:x="",state:b=null,key:T="default"}=n,R=D.useMemo(()=>{let q=_a(g,d);return q==null?null:{location:{pathname:q,search:y,hash:x,state:b,key:T},navigationType:r}},[d,g,y,x,b,T,r]);return ls(R!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${x}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:D.createElement(ds.Provider,{value:p},D.createElement(jc.Provider,{children:e,value:R}))}function Kw({children:s,location:e}){return Ow(hp(s),e)}function hp(s,e=[]){let n=[];return D.Children.forEach(s,(r,l)=>{if(!D.isValidElement(r))return;let u=[...e,l];if(r.type===D.Fragment){n.push.apply(n,hp(r.props.children,u));return}ft(r.type===Zt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=hp(r.props.children,u)),n.push(d)}),n}var Rh="get",Ih="application/x-www-form-urlencoded";function dd(s){return s!=null&&typeof s.tagName=="string"}function Yw(s){return dd(s)&&s.tagName.toLowerCase()==="button"}function Xw(s){return dd(s)&&s.tagName.toLowerCase()==="form"}function Ww(s){return dd(s)&&s.tagName.toLowerCase()==="input"}function Jw(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Zw(s,e){return s.button===0&&(!e||e==="_self")&&!Jw(s)}var xh=null;function eN(){if(xh===null)try{new FormData(document.createElement("form"),0),xh=!1}catch{xh=!0}return xh}var tN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ym(s){return s!=null&&!tN.has(s)?(ls(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ih}"`),null):s}function nN(s,e){let n,r,l,u,d;if(Xw(s)){let p=s.getAttribute("action");r=p?_a(p,e):null,n=s.getAttribute("method")||Rh,l=Ym(s.getAttribute("enctype"))||Ih,u=new FormData(s)}else if(Yw(s)||Ww(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||p.getAttribute("action");if(r=g?_a(g,e):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||Rh,l=Ym(s.getAttribute("formenctype"))||Ym(p.getAttribute("enctype"))||Ih,u=new FormData(p,s),!eN()){let{name:y,type:x,value:b}=s;if(x==="image"){let T=y?`${y}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else y&&u.append(y,b)}}else{if(dd(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rh,r=null,l=Ih,d=s}return u&&l==="text/plain"&&(d=u,u=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $p(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function sN(s,e,n){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&_a(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function aN(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rN(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function iN(s,e,n){let r=await Promise.all(s.map(async l=>{let u=e.routes[l.route.id];if(u){let d=await aN(u,n);return d.links?d.links():[]}return[]}));return uN(r.flat(1).filter(rN).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Sx(s,e,n,r,l,u){let d=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{let x=r.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function oN(s,e,{includeHydrateFallback:n}={}){return lN(s.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function lN(s){return[...new Set(s)]}function cN(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function uN(s,e){let n=new Set;return new Set(e),s.reduce((r,l)=>{let u=JSON.stringify(cN(l));return n.has(u)||(n.add(u),r.push({key:u,link:l})),r},[])}function vE(){let s=D.useContext(Vo);return $p(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function hN(){let s=D.useContext(hd);return $p(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Kp=D.createContext(void 0);Kp.displayName="FrameworkContext";function _E(){let s=D.useContext(Kp);return $p(s,"You must render this element inside a <HydratedRouter> element"),s}function dN(s,e){let n=D.useContext(Kp),[r,l]=D.useState(!1),[u,d]=D.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:x,onTouchStart:b}=e,T=D.useRef(null);D.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let k=$=>{$.forEach(V=>{d(V.isIntersecting)})},z=new IntersectionObserver(k,{threshold:.5});return T.current&&z.observe(T.current),()=>{z.disconnect()}}},[s]),D.useEffect(()=>{if(r){let k=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(k)}}},[r]);let R=()=>{l(!0)},q=()=>{l(!1),d(!1)};return n?s!=="intent"?[u,T,{}]:[u,T,{onFocus:Jl(p,R),onBlur:Jl(g,q),onMouseEnter:Jl(y,R),onMouseLeave:Jl(x,q),onTouchStart:Jl(b,R)}]:[!1,T,{}]}function Jl(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function fN({page:s,...e}){let{router:n}=vE(),r=D.useMemo(()=>cE(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?D.createElement(pN,{page:s,matches:r,...e}):null}function mN(s){let{manifest:e,routeModules:n}=_E(),[r,l]=D.useState([]);return D.useEffect(()=>{let u=!1;return iN(s,e,n).then(d=>{u||l(d)}),()=>{u=!0}},[s,e,n]),r}function pN({page:s,matches:e,...n}){let r=Sa(),{manifest:l,routeModules:u}=_E(),{basename:d}=vE(),{loaderData:p,matches:g}=hN(),y=D.useMemo(()=>Sx(s,e,g,l,r,"data"),[s,e,g,l,r]),x=D.useMemo(()=>Sx(s,e,g,l,r,"assets"),[s,e,g,l,r]),b=D.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let q=new Set,k=!1;if(e.forEach($=>{let V=l.routes[$.route.id];!V||!V.hasLoader||(!y.some(ee=>ee.route.id===$.route.id)&&$.route.id in p&&u[$.route.id]?.shouldRevalidate||V.hasClientLoader?k=!0:q.add($.route.id))}),q.size===0)return[];let z=sN(s,d,"data");return k&&q.size>0&&z.searchParams.set("_routes",e.filter($=>q.has($.route.id)).map($=>$.route.id).join(",")),[z.pathname+z.search]},[d,p,r,l,y,e,s,u]),T=D.useMemo(()=>oN(x,l),[x,l]),R=mN(x);return D.createElement(D.Fragment,null,b.map(q=>D.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...n})),T.map(q=>D.createElement("link",{key:q,rel:"modulepreload",href:q,...n})),R.map(({key:q,link:k})=>D.createElement("link",{key:q,nonce:n.nonce,...k})))}function gN(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var xE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xE&&(window.__reactRouterVersion="7.9.4")}catch{}function yN({basename:s,children:e,window:n}){let r=D.useRef();r.current==null&&(r.current=rw({window:n,v5Compat:!0}));let l=r.current,[u,d]=D.useState({action:l.action,location:l.location}),p=D.useCallback(g=>{D.startTransition(()=>d(g))},[d]);return D.useLayoutEffect(()=>l.listen(p),[l,p]),D.createElement($w,{basename:s,children:e,location:u.location,navigationType:u.action,navigator:l})}var EE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ht=D.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:l,reloadDocument:u,replace:d,state:p,target:g,to:y,preventScrollReset:x,viewTransition:b,...T},R){let{basename:q}=D.useContext(ds),k=typeof y=="string"&&EE.test(y),z,$=!1;if(typeof y=="string"&&k&&(z=y,xE))try{let j=new URL(window.location.href),L=y.startsWith("//")?new URL(j.protocol+y):new URL(y),P=_a(L.pathname,q);L.origin===j.origin&&P!=null?y=P+L.search+L.hash:$=!0}catch{ls(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=Dw(y,{relative:l}),[ee,Z,te]=dN(r,T),X=EN(y,{replace:d,state:p,target:g,preventScrollReset:x,relative:l,viewTransition:b});function A(j){e&&e(j),j.defaultPrevented||X(j)}let C=D.createElement("a",{...T,...te,href:z||V,onClick:$||u?e:A,ref:gN(R,Z),target:g,"data-discover":!k&&n==="render"?"true":void 0});return ee&&!k?D.createElement(D.Fragment,null,C,D.createElement(fN,{page:V})):C});Ht.displayName="Link";var vN=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:l=!1,style:u,to:d,viewTransition:p,children:g,...y},x){let b=Cc(d,{relative:y.relative}),T=Sa(),R=D.useContext(hd),{navigator:q,basename:k}=D.useContext(ds),z=R!=null&&NN(b)&&p===!0,$=q.encodeLocation?q.encodeLocation(b).pathname:b.pathname,V=T.pathname,ee=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(V=V.toLowerCase(),ee=ee?ee.toLowerCase():null,$=$.toLowerCase()),ee&&k&&(ee=_a(ee,k)||ee);const Z=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let te=V===$||!l&&V.startsWith($)&&V.charAt(Z)==="/",X=ee!=null&&(ee===$||!l&&ee.startsWith($)&&ee.charAt($.length)==="/"),A={isActive:te,isPending:X,isTransitioning:z},C=te?e:void 0,j;typeof r=="function"?j=r(A):j=[r,te?"active":null,X?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(A):u;return D.createElement(Ht,{...y,"aria-current":C,className:j,ref:x,style:L,to:d,viewTransition:p},typeof g=="function"?g(A):g)});vN.displayName="NavLink";var _N=D.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:l,state:u,method:d=Rh,action:p,onSubmit:g,relative:y,preventScrollReset:x,viewTransition:b,...T},R)=>{let q=SN(),k=wN(p,{relative:y}),z=d.toLowerCase()==="get"?"get":"post",$=typeof p=="string"&&EE.test(p),V=ee=>{if(g&&g(ee),ee.defaultPrevented)return;ee.preventDefault();let Z=ee.nativeEvent.submitter,te=Z?.getAttribute("formmethod")||d;q(Z||ee.currentTarget,{fetcherKey:e,method:te,navigate:n,replace:l,state:u,relative:y,preventScrollReset:x,viewTransition:b})};return D.createElement("form",{ref:R,method:z,action:k,onSubmit:r?g:V,...T,"data-discover":!$&&s==="render"?"true":void 0})});_N.displayName="Form";function xN(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bE(s){let e=D.useContext(Vo);return ft(e,xN(s)),e}function EN(s,{target:e,replace:n,state:r,preventScrollReset:l,relative:u,viewTransition:d}={}){let p=Ac(),g=Sa(),y=Cc(s,{relative:u});return D.useCallback(x=>{if(Zw(x,e)){x.preventDefault();let b=n!==void 0?n:hc(g)===hc(y);p(s,{replace:b,state:r,preventScrollReset:l,relative:u,viewTransition:d})}},[g,p,y,n,r,e,s,l,u,d])}var bN=0,TN=()=>`__${String(++bN)}__`;function SN(){let{router:s}=bE("useSubmit"),{basename:e}=D.useContext(ds),n=qw();return D.useCallback(async(r,l={})=>{let{action:u,method:d,encType:p,formData:g,body:y}=nN(r,e);if(l.navigate===!1){let x=l.fetcherKey||TN();await s.fetch(x,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||d,formEncType:l.encType||p,flushSync:l.flushSync})}else await s.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||d,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,e,n])}function wN(s,{relative:e}={}){let{basename:n}=D.useContext(ds),r=D.useContext(Gs);ft(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),u={...Cc(s||".",{relative:e})},d=Sa();if(s==null){u.search=d.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(x=>x==="")){p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let x=p.toString();u.search=x?`?${x}`:""}}return(!s||s===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ga([n,u.pathname])),hc(u)}function NN(s,{relative:e}={}){let n=D.useContext(fE);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bE("useViewTransitionState"),l=Cc(s,{relative:e});if(!n.isTransitioning)return!1;let u=_a(n.currentLocation.pathname,r)||n.currentLocation.pathname,d=_a(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Fh(l.pathname,d)!=null||Fh(l.pathname,u)!=null}const Me={home:"/",landing:"/landing",login:"/login",register:"/register",dashboard:"/dashboard",areaCliente:"/area-cliente",pdv:"/pdv",crm:"/crm",gestaoFinanceira:"/gestao-financeira",recursosHumanos:"/recursos-humanos",estoque:"/estoque",planosLavagem:"/planos-lavagem",seguranca:"/seguranca",history:"/historico",profile:"/perfil",contactInfo:"/informacoes-contato"},jN=()=>{};var wx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},AN=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],d=s[n++],p=s[n++],g=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],d=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},SE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,x=u>>2,b=(u&3)<<4|p>>4;let T=(p&15)<<2|y>>6,R=y&63;g||(R=64,d||(T=64)),r.push(n[x],n[b],n[T],n[R])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(TE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):AN(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],p=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const b=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||p==null||y==null||b==null)throw new CN;const T=u<<2|p>>4;if(r.push(T),y!==64){const R=p<<4&240|y>>2;if(r.push(R),b!==64){const q=y<<6&192|b;r.push(q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class CN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RN=function(s){const e=TE(s);return SE.encodeByteArray(e,!0)},qh=function(s){return RN(s).replace(/\./g,"")},wE=function(s){try{return SE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=()=>IN().__FIREBASE_DEFAULTS__,kN=()=>{if(typeof process>"u"||typeof wx>"u")return;const s=wx.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},ON=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&wE(s[1]);return e&&JSON.parse(e)},fd=()=>{try{return jN()||DN()||kN()||ON()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},NE=s=>fd()?.emulatorHosts?.[s],MN=s=>{const e=NE(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jE=()=>fd()?.config,AE=s=>fd()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[qh(JSON.stringify(n)),qh(JSON.stringify(d)),""].join(".")}const rc={};function LN(){const s={prod:[],emulator:[]};for(const e of Object.keys(rc))rc[e]?s.emulator.push(e):s.prod.push(e);return s}function UN(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let Nx=!1;function RE(s,e){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||rc[s]===e||rc[s]||Nx)return;rc[s]=e;function n(T){return`__firebase__banner__${T}`}const r="__firebase__banner",u=LN().prod.length>0;function d(){const T=document.getElementById(r);T&&T.remove()}function p(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,R){T.setAttribute("width","24"),T.setAttribute("id",R),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Nx=!0,d()},T}function x(T,R){T.setAttribute("id",R),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=UN(r),R=n("text"),q=document.getElementById(R)||document.createElement("span"),k=n("learnmore"),z=document.getElementById(k)||document.createElement("a"),$=n("preprendIcon"),V=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const ee=T.element;p(ee),x(z,k);const Z=y();g(V,$),ee.append(V,q,z,Z),document.body.appendChild(ee)}u?(q.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function BN(){const s=fd()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qN(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function HN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GN(){const s=ln();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function QN(){return!BN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $N(){try{return typeof indexedDB=="object"}catch{return!1}}function KN(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="FirebaseError";class wa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YN,Object.setPrototypeOf(this,wa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rc.prototype.create)}}class Rc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?XN(u,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new wa(l,p,r)}}function XN(s,e){return s.replace(WN,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const WN=/\{\$([^}]+)}/g;function JN(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function mi(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const u=s[l],d=e[l];if(jx(u)&&jx(d)){if(!mi(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function jx(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function ec(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function ZN(s,e){const n=new ej(s,e);return n.subscribe.bind(n)}class ej{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tj(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=Xm),l.error===void 0&&(l.error=Xm),l.complete===void 0&&(l.complete=Xm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tj(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Xm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(s){return s&&s._delegate?s._delegate:s}class pi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aj(e))try{this.getOrInitializeService({instanceIdentifier:li})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=li){return this.instances.has(e)}getOptions(e=li){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&d.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=li){return this.component?this.component.multipleInstances?e:li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sj(s){return s===li?void 0:s}function aj(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ze||(ze={}));const ij={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},oj=ze.INFO,lj={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},cj=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=lj[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yp{constructor(e){this.name=e,this._logLevel=oj,this._logHandler=cj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ij[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const uj=(s,e)=>e.some(n=>s instanceof n);let Ax,Cx;function hj(){return Ax||(Ax=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dj(){return Cx||(Cx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IE=new WeakMap,dp=new WeakMap,DE=new WeakMap,Wm=new WeakMap,Xp=new WeakMap;function fj(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{n(dr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&IE.set(n,s)}).catch(()=>{}),Xp.set(e,s),e}function mj(s){if(dp.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});dp.set(s,e)}let fp={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return dp.get(s);if(e==="objectStoreNames")return s.objectStoreNames||DE.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function pj(s){fp=s(fp)}function gj(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Jm(this),e,...n);return DE.set(r,e.sort?e.sort():[e]),dr(r)}:dj().includes(s)?function(...e){return s.apply(Jm(this),e),dr(IE.get(this))}:function(...e){return dr(s.apply(Jm(this),e))}}function yj(s){return typeof s=="function"?gj(s):(s instanceof IDBTransaction&&mj(s),uj(s,hj())?new Proxy(s,fp):s)}function dr(s){if(s instanceof IDBRequest)return fj(s);if(Wm.has(s))return Wm.get(s);const e=yj(s);return e!==s&&(Wm.set(s,e),Xp.set(e,s)),e}const Jm=s=>Xp.get(s);function vj(s,e,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,e),p=dr(d);return r&&d.addEventListener("upgradeneeded",g=>{r(dr(d.result),g.oldVersion,g.newVersion,dr(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const _j=["get","getKey","getAll","getAllKeys","count"],xj=["put","add","delete","clear"],Zm=new Map;function Rx(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Zm.get(e))return Zm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=xj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||_j.includes(n)))return;const u=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return Zm.set(e,u),u}pj(s=>({...s,get:(e,n,r)=>Rx(e,n)||s.get(e,n,r),has:(e,n)=>!!Rx(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bj(s){return s.getComponent()?.type==="VERSION"}const mp="@firebase/app",Ix="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new Yp("@firebase/app"),Tj="@firebase/app-compat",Sj="@firebase/analytics-compat",wj="@firebase/analytics",Nj="@firebase/app-check-compat",jj="@firebase/app-check",Aj="@firebase/auth",Cj="@firebase/auth-compat",Rj="@firebase/database",Ij="@firebase/data-connect",Dj="@firebase/database-compat",kj="@firebase/functions",Oj="@firebase/functions-compat",Mj="@firebase/installations",Vj="@firebase/installations-compat",Pj="@firebase/messaging",Lj="@firebase/messaging-compat",Uj="@firebase/performance",zj="@firebase/performance-compat",Bj="@firebase/remote-config",Fj="@firebase/remote-config-compat",qj="@firebase/storage",Hj="@firebase/storage-compat",Gj="@firebase/firestore",Qj="@firebase/ai",$j="@firebase/firestore-compat",Kj="firebase",Yj="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="[DEFAULT]",Xj={[mp]:"fire-core",[Tj]:"fire-core-compat",[wj]:"fire-analytics",[Sj]:"fire-analytics-compat",[jj]:"fire-app-check",[Nj]:"fire-app-check-compat",[Aj]:"fire-auth",[Cj]:"fire-auth-compat",[Rj]:"fire-rtdb",[Ij]:"fire-data-connect",[Dj]:"fire-rtdb-compat",[kj]:"fire-fn",[Oj]:"fire-fn-compat",[Mj]:"fire-iid",[Vj]:"fire-iid-compat",[Pj]:"fire-fcm",[Lj]:"fire-fcm-compat",[Uj]:"fire-perf",[zj]:"fire-perf-compat",[Bj]:"fire-rc",[Fj]:"fire-rc-compat",[qj]:"fire-gcs",[Hj]:"fire-gcs-compat",[Gj]:"fire-fst",[$j]:"fire-fst-compat",[Qj]:"fire-vertex","fire-js":"fire-js",[Kj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Map,Wj=new Map,gp=new Map;function Dx(s,e){try{s.container.addComponent(e)}catch(n){xa.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Ao(s){const e=s.name;if(gp.has(e))return xa.debug(`There were multiple attempts to register component ${e}.`),!1;gp.set(e,s);for(const n of Hh.values())Dx(n,s);for(const n of Wj.values())Dx(n,s);return!0}function Wp(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Gn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new Rc("app","Firebase",Jj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=Yj;function kE(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:pp,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw fr.create("bad-app-name",{appName:String(l)});if(n||(n=jE()),!n)throw fr.create("no-options");const u=Hh.get(l);if(u){if(mi(n,u.options)&&mi(r,u.config))return u;throw fr.create("duplicate-app",{appName:l})}const d=new rj(l);for(const g of gp.values())d.addComponent(g);const p=new Zj(n,r,d);return Hh.set(l,p),p}function OE(s=pp){const e=Hh.get(s);if(!e&&s===pp&&jE())return kE();if(!e)throw fr.create("no-app",{appName:s});return e}function mr(s,e,n){let r=Xj[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xa.warn(d.join(" "));return}Ao(new pi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="firebase-heartbeat-database",tA=1,dc="firebase-heartbeat-store";let ep=null;function ME(){return ep||(ep=vj(eA,tA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(dc)}catch(n){console.warn(n)}}}}).catch(s=>{throw fr.create("idb-open",{originalErrorMessage:s.message})})),ep}async function nA(s){try{const n=(await ME()).transaction(dc),r=await n.objectStore(dc).get(VE(s));return await n.done,r}catch(e){if(e instanceof wa)xa.warn(e.message);else{const n=fr.create("idb-get",{originalErrorMessage:e?.message});xa.warn(n.message)}}}async function kx(s,e){try{const r=(await ME()).transaction(dc,"readwrite");await r.objectStore(dc).put(e,VE(s)),await r.done}catch(n){if(n instanceof wa)xa.warn(n.message);else{const r=fr.create("idb-set",{originalErrorMessage:n?.message});xa.warn(r.message)}}}function VE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=1024,aA=30;class rA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ox();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>aA){const l=lA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){xa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ox(),{heartbeatsToSend:n,unsentEntries:r}=iA(this._heartbeatsCache.heartbeats),l=qh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return xa.warn(e),""}}}function Ox(){return new Date().toISOString().substring(0,10)}function iA(s,e=sA){const n=[];let r=s.slice();for(const l of s){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),Mx(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Mx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class oA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $N()?KN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Mx(s){return qh(JSON.stringify({version:2,heartbeats:s})).length}function lA(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(s){Ao(new pi("platform-logger",e=>new Ej(e),"PRIVATE")),Ao(new pi("heartbeat",e=>new rA(e),"PRIVATE")),mr(mp,Ix,s),mr(mp,Ix,"esm2020"),mr("fire-js","")}cA("");var uA="firebase",hA="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(uA,hA,"app");var Vx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pr,PE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,C){function j(){}j.prototype=C.prototype,A.F=C.prototype,A.prototype=new j,A.prototype.constructor=A,A.D=function(L,P,F){for(var N=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)N[ce-2]=arguments[ce];return C.prototype[P].apply(L,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(A,C,j){j||(j=0);const L=Array(16);if(typeof C=="string")for(var P=0;P<16;++P)L[P]=C.charCodeAt(j++)|C.charCodeAt(j++)<<8|C.charCodeAt(j++)<<16|C.charCodeAt(j++)<<24;else for(P=0;P<16;++P)L[P]=C[j++]|C[j++]<<8|C[j++]<<16|C[j++]<<24;C=A.g[0],j=A.g[1],P=A.g[2];let F=A.g[3],N;N=C+(F^j&(P^F))+L[0]+3614090360&4294967295,C=j+(N<<7&4294967295|N>>>25),N=F+(P^C&(j^P))+L[1]+3905402710&4294967295,F=C+(N<<12&4294967295|N>>>20),N=P+(j^F&(C^j))+L[2]+606105819&4294967295,P=F+(N<<17&4294967295|N>>>15),N=j+(C^P&(F^C))+L[3]+3250441966&4294967295,j=P+(N<<22&4294967295|N>>>10),N=C+(F^j&(P^F))+L[4]+4118548399&4294967295,C=j+(N<<7&4294967295|N>>>25),N=F+(P^C&(j^P))+L[5]+1200080426&4294967295,F=C+(N<<12&4294967295|N>>>20),N=P+(j^F&(C^j))+L[6]+2821735955&4294967295,P=F+(N<<17&4294967295|N>>>15),N=j+(C^P&(F^C))+L[7]+4249261313&4294967295,j=P+(N<<22&4294967295|N>>>10),N=C+(F^j&(P^F))+L[8]+1770035416&4294967295,C=j+(N<<7&4294967295|N>>>25),N=F+(P^C&(j^P))+L[9]+2336552879&4294967295,F=C+(N<<12&4294967295|N>>>20),N=P+(j^F&(C^j))+L[10]+4294925233&4294967295,P=F+(N<<17&4294967295|N>>>15),N=j+(C^P&(F^C))+L[11]+2304563134&4294967295,j=P+(N<<22&4294967295|N>>>10),N=C+(F^j&(P^F))+L[12]+1804603682&4294967295,C=j+(N<<7&4294967295|N>>>25),N=F+(P^C&(j^P))+L[13]+4254626195&4294967295,F=C+(N<<12&4294967295|N>>>20),N=P+(j^F&(C^j))+L[14]+2792965006&4294967295,P=F+(N<<17&4294967295|N>>>15),N=j+(C^P&(F^C))+L[15]+1236535329&4294967295,j=P+(N<<22&4294967295|N>>>10),N=C+(P^F&(j^P))+L[1]+4129170786&4294967295,C=j+(N<<5&4294967295|N>>>27),N=F+(j^P&(C^j))+L[6]+3225465664&4294967295,F=C+(N<<9&4294967295|N>>>23),N=P+(C^j&(F^C))+L[11]+643717713&4294967295,P=F+(N<<14&4294967295|N>>>18),N=j+(F^C&(P^F))+L[0]+3921069994&4294967295,j=P+(N<<20&4294967295|N>>>12),N=C+(P^F&(j^P))+L[5]+3593408605&4294967295,C=j+(N<<5&4294967295|N>>>27),N=F+(j^P&(C^j))+L[10]+38016083&4294967295,F=C+(N<<9&4294967295|N>>>23),N=P+(C^j&(F^C))+L[15]+3634488961&4294967295,P=F+(N<<14&4294967295|N>>>18),N=j+(F^C&(P^F))+L[4]+3889429448&4294967295,j=P+(N<<20&4294967295|N>>>12),N=C+(P^F&(j^P))+L[9]+568446438&4294967295,C=j+(N<<5&4294967295|N>>>27),N=F+(j^P&(C^j))+L[14]+3275163606&4294967295,F=C+(N<<9&4294967295|N>>>23),N=P+(C^j&(F^C))+L[3]+4107603335&4294967295,P=F+(N<<14&4294967295|N>>>18),N=j+(F^C&(P^F))+L[8]+1163531501&4294967295,j=P+(N<<20&4294967295|N>>>12),N=C+(P^F&(j^P))+L[13]+2850285829&4294967295,C=j+(N<<5&4294967295|N>>>27),N=F+(j^P&(C^j))+L[2]+4243563512&4294967295,F=C+(N<<9&4294967295|N>>>23),N=P+(C^j&(F^C))+L[7]+1735328473&4294967295,P=F+(N<<14&4294967295|N>>>18),N=j+(F^C&(P^F))+L[12]+2368359562&4294967295,j=P+(N<<20&4294967295|N>>>12),N=C+(j^P^F)+L[5]+4294588738&4294967295,C=j+(N<<4&4294967295|N>>>28),N=F+(C^j^P)+L[8]+2272392833&4294967295,F=C+(N<<11&4294967295|N>>>21),N=P+(F^C^j)+L[11]+1839030562&4294967295,P=F+(N<<16&4294967295|N>>>16),N=j+(P^F^C)+L[14]+4259657740&4294967295,j=P+(N<<23&4294967295|N>>>9),N=C+(j^P^F)+L[1]+2763975236&4294967295,C=j+(N<<4&4294967295|N>>>28),N=F+(C^j^P)+L[4]+1272893353&4294967295,F=C+(N<<11&4294967295|N>>>21),N=P+(F^C^j)+L[7]+4139469664&4294967295,P=F+(N<<16&4294967295|N>>>16),N=j+(P^F^C)+L[10]+3200236656&4294967295,j=P+(N<<23&4294967295|N>>>9),N=C+(j^P^F)+L[13]+681279174&4294967295,C=j+(N<<4&4294967295|N>>>28),N=F+(C^j^P)+L[0]+3936430074&4294967295,F=C+(N<<11&4294967295|N>>>21),N=P+(F^C^j)+L[3]+3572445317&4294967295,P=F+(N<<16&4294967295|N>>>16),N=j+(P^F^C)+L[6]+76029189&4294967295,j=P+(N<<23&4294967295|N>>>9),N=C+(j^P^F)+L[9]+3654602809&4294967295,C=j+(N<<4&4294967295|N>>>28),N=F+(C^j^P)+L[12]+3873151461&4294967295,F=C+(N<<11&4294967295|N>>>21),N=P+(F^C^j)+L[15]+530742520&4294967295,P=F+(N<<16&4294967295|N>>>16),N=j+(P^F^C)+L[2]+3299628645&4294967295,j=P+(N<<23&4294967295|N>>>9),N=C+(P^(j|~F))+L[0]+4096336452&4294967295,C=j+(N<<6&4294967295|N>>>26),N=F+(j^(C|~P))+L[7]+1126891415&4294967295,F=C+(N<<10&4294967295|N>>>22),N=P+(C^(F|~j))+L[14]+2878612391&4294967295,P=F+(N<<15&4294967295|N>>>17),N=j+(F^(P|~C))+L[5]+4237533241&4294967295,j=P+(N<<21&4294967295|N>>>11),N=C+(P^(j|~F))+L[12]+1700485571&4294967295,C=j+(N<<6&4294967295|N>>>26),N=F+(j^(C|~P))+L[3]+2399980690&4294967295,F=C+(N<<10&4294967295|N>>>22),N=P+(C^(F|~j))+L[10]+4293915773&4294967295,P=F+(N<<15&4294967295|N>>>17),N=j+(F^(P|~C))+L[1]+2240044497&4294967295,j=P+(N<<21&4294967295|N>>>11),N=C+(P^(j|~F))+L[8]+1873313359&4294967295,C=j+(N<<6&4294967295|N>>>26),N=F+(j^(C|~P))+L[15]+4264355552&4294967295,F=C+(N<<10&4294967295|N>>>22),N=P+(C^(F|~j))+L[6]+2734768916&4294967295,P=F+(N<<15&4294967295|N>>>17),N=j+(F^(P|~C))+L[13]+1309151649&4294967295,j=P+(N<<21&4294967295|N>>>11),N=C+(P^(j|~F))+L[4]+4149444226&4294967295,C=j+(N<<6&4294967295|N>>>26),N=F+(j^(C|~P))+L[11]+3174756917&4294967295,F=C+(N<<10&4294967295|N>>>22),N=P+(C^(F|~j))+L[2]+718787259&4294967295,P=F+(N<<15&4294967295|N>>>17),N=j+(F^(P|~C))+L[9]+3951481745&4294967295,A.g[0]=A.g[0]+C&4294967295,A.g[1]=A.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,A.g[2]=A.g[2]+P&4294967295,A.g[3]=A.g[3]+F&4294967295}r.prototype.v=function(A,C){C===void 0&&(C=A.length);const j=C-this.blockSize,L=this.C;let P=this.h,F=0;for(;F<C;){if(P==0)for(;F<=j;)l(this,A,F),F+=this.blockSize;if(typeof A=="string"){for(;F<C;)if(L[P++]=A.charCodeAt(F++),P==this.blockSize){l(this,L),P=0;break}}else for(;F<C;)if(L[P++]=A[F++],P==this.blockSize){l(this,L),P=0;break}}this.h=P,this.o+=C},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var C=1;C<A.length-8;++C)A[C]=0;C=this.o*8;for(var j=A.length-8;j<A.length;++j)A[j]=C&255,C/=256;for(this.v(A),A=Array(16),C=0,j=0;j<4;++j)for(let L=0;L<32;L+=8)A[C++]=this.g[j]>>>L&255;return A};function u(A,C){var j=p;return Object.prototype.hasOwnProperty.call(j,A)?j[A]:j[A]=C(A)}function d(A,C){this.h=C;const j=[];let L=!0;for(let P=A.length-1;P>=0;P--){const F=A[P]|0;L&&F==C||(j[P]=F,L=!1)}this.g=j}var p={};function g(A){return-128<=A&&A<128?u(A,function(C){return new d([C|0],C<0?-1:0)}):new d([A|0],A<0?-1:0)}function y(A){if(isNaN(A)||!isFinite(A))return b;if(A<0)return z(y(-A));const C=[];let j=1;for(let L=0;A>=j;L++)C[L]=A/j|0,j*=4294967296;return new d(C,0)}function x(A,C){if(A.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(A.charAt(0)=="-")return z(x(A.substring(1),C));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=y(Math.pow(C,8));let L=b;for(let F=0;F<A.length;F+=8){var P=Math.min(8,A.length-F);const N=parseInt(A.substring(F,F+P),C);P<8?(P=y(Math.pow(C,P)),L=L.j(P).add(y(N))):(L=L.j(j),L=L.add(y(N)))}return L}var b=g(0),T=g(1),R=g(16777216);s=d.prototype,s.m=function(){if(k(this))return-z(this).m();let A=0,C=1;for(let j=0;j<this.g.length;j++){const L=this.i(j);A+=(L>=0?L:4294967296+L)*C,C*=4294967296}return A},s.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(q(this))return"0";if(k(this))return"-"+z(this).toString(A);const C=y(Math.pow(A,6));var j=this;let L="";for(;;){const P=Z(j,C).g;j=$(j,P.j(C));let F=((j.g.length>0?j.g[0]:j.h)>>>0).toString(A);if(j=P,q(j))return F+L;for(;F.length<6;)F="0"+F;L=F+L}},s.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function q(A){if(A.h!=0)return!1;for(let C=0;C<A.g.length;C++)if(A.g[C]!=0)return!1;return!0}function k(A){return A.h==-1}s.l=function(A){return A=$(this,A),k(A)?-1:q(A)?0:1};function z(A){const C=A.g.length,j=[];for(let L=0;L<C;L++)j[L]=~A.g[L];return new d(j,~A.h).add(T)}s.abs=function(){return k(this)?z(this):this},s.add=function(A){const C=Math.max(this.g.length,A.g.length),j=[];let L=0;for(let P=0;P<=C;P++){let F=L+(this.i(P)&65535)+(A.i(P)&65535),N=(F>>>16)+(this.i(P)>>>16)+(A.i(P)>>>16);L=N>>>16,F&=65535,N&=65535,j[P]=N<<16|F}return new d(j,j[j.length-1]&-2147483648?-1:0)};function $(A,C){return A.add(z(C))}s.j=function(A){if(q(this)||q(A))return b;if(k(this))return k(A)?z(this).j(z(A)):z(z(this).j(A));if(k(A))return z(this.j(z(A)));if(this.l(R)<0&&A.l(R)<0)return y(this.m()*A.m());const C=this.g.length+A.g.length,j=[];for(var L=0;L<2*C;L++)j[L]=0;for(L=0;L<this.g.length;L++)for(let P=0;P<A.g.length;P++){const F=this.i(L)>>>16,N=this.i(L)&65535,ce=A.i(P)>>>16,ve=A.i(P)&65535;j[2*L+2*P]+=N*ve,V(j,2*L+2*P),j[2*L+2*P+1]+=F*ve,V(j,2*L+2*P+1),j[2*L+2*P+1]+=N*ce,V(j,2*L+2*P+1),j[2*L+2*P+2]+=F*ce,V(j,2*L+2*P+2)}for(A=0;A<C;A++)j[A]=j[2*A+1]<<16|j[2*A];for(A=C;A<2*C;A++)j[A]=0;return new d(j,0)};function V(A,C){for(;(A[C]&65535)!=A[C];)A[C+1]+=A[C]>>>16,A[C]&=65535,C++}function ee(A,C){this.g=A,this.h=C}function Z(A,C){if(q(C))throw Error("division by zero");if(q(A))return new ee(b,b);if(k(A))return C=Z(z(A),C),new ee(z(C.g),z(C.h));if(k(C))return C=Z(A,z(C)),new ee(z(C.g),C.h);if(A.g.length>30){if(k(A)||k(C))throw Error("slowDivide_ only works with positive integers.");for(var j=T,L=C;L.l(A)<=0;)j=te(j),L=te(L);var P=X(j,1),F=X(L,1);for(L=X(L,2),j=X(j,2);!q(L);){var N=F.add(L);N.l(A)<=0&&(P=P.add(j),F=N),L=X(L,1),j=X(j,1)}return C=$(A,P.j(C)),new ee(P,C)}for(P=b;A.l(C)>=0;){for(j=Math.max(1,Math.floor(A.m()/C.m())),L=Math.ceil(Math.log(j)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),F=y(j),N=F.j(C);k(N)||N.l(A)>0;)j-=L,F=y(j),N=F.j(C);q(F)&&(F=T),P=P.add(F),A=$(A,N)}return new ee(P,A)}s.B=function(A){return Z(this,A).h},s.and=function(A){const C=Math.max(this.g.length,A.g.length),j=[];for(let L=0;L<C;L++)j[L]=this.i(L)&A.i(L);return new d(j,this.h&A.h)},s.or=function(A){const C=Math.max(this.g.length,A.g.length),j=[];for(let L=0;L<C;L++)j[L]=this.i(L)|A.i(L);return new d(j,this.h|A.h)},s.xor=function(A){const C=Math.max(this.g.length,A.g.length),j=[];for(let L=0;L<C;L++)j[L]=this.i(L)^A.i(L);return new d(j,this.h^A.h)};function te(A){const C=A.g.length+1,j=[];for(let L=0;L<C;L++)j[L]=A.i(L)<<1|A.i(L-1)>>>31;return new d(j,A.h)}function X(A,C){const j=C>>5;C%=32;const L=A.g.length-j,P=[];for(let F=0;F<L;F++)P[F]=C>0?A.i(F+j)>>>C|A.i(F+j+1)<<32-C:A.i(F+j);return new d(P,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,PE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=x,pr=d}).apply(typeof Vx<"u"?Vx:typeof self<"u"?self:typeof window<"u"?window:{});var Eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LE,tc,UE,Dh,yp,zE,BE,FE;(function(){var s,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eh=="object"&&Eh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function l(h,v){if(v)e:{var E=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var G=h[w];if(!(G in E))break e;E=E[G]}h=h[h.length-1],w=E[h],v=v(w),v!=w&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}l("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(h){return h||function(v){var E=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&E.push([w,v[w]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,E){return h.call.apply(h.bind,arguments)}function y(h,v,E){return y=g,y.apply(null,arguments)}function x(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function b(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(w,G,W){for(var ue=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ue[Ie-2]=arguments[Ie];return v.prototype[G].apply(w,ue)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const v=h.length;if(v>0){const E=Array(v);for(let w=0;w<v;w++)E[w]=h[w];return E}return[]}function q(h,v){for(let w=1;w<arguments.length;w++){const G=arguments[w];var E=typeof G;if(E=E!="object"?E:G?Array.isArray(G)?"array":E:"null",E=="array"||E=="object"&&typeof G.length=="number"){E=h.length||0;const W=G.length||0;h.length=E+W;for(let ue=0;ue<W;ue++)h[E+ue]=G[ue]}else h.push(G)}}class k{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(h){d.setTimeout(()=>{throw h},0)}function $(){var h=A;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class V{constructor(){this.h=this.g=null}add(v,E){const w=ee.get();w.set(v,E),this.h?this.h.next=w:this.g=w,this.h=w}}var ee=new k(()=>new Z,h=>h.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let te,X=!1,A=new V,C=()=>{const h=Promise.resolve(void 0);te=()=>{h.then(j)}};function j(){for(var h;h=$();){try{h.h.call(h.g)}catch(E){z(E)}var v=ee;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}X=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};d.addEventListener("test",E,v),d.removeEventListener("test",E,v)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function ce(h,v){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}b(ce,P),ce.prototype.init=function(h,v){const E=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ce.Z.h.call(this)},ce.prototype.h=function(){ce.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),I=0;function oe(h,v,E,w,G){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!w,this.ha=G,this.key=++I,this.da=this.fa=!1}function B(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function de(h,v,E){for(const w in h)v.call(E,h[w],w,h)}function Te(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function M(h){const v={};for(const E in h)v[E]=h[E];return v}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(h,v){let E,w;for(let G=1;G<arguments.length;G++){w=arguments[G];for(E in w)h[E]=w[E];for(let W=0;W<se.length;W++)E=se[W],Object.prototype.hasOwnProperty.call(w,E)&&(h[E]=w[E])}}function me(h){this.src=h,this.g={},this.h=0}me.prototype.add=function(h,v,E,w,G){const W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);const ue=ke(h,v,w,G);return ue>-1?(v=h[ue],E||(v.fa=!1)):(v=new oe(v,this.src,W,!!w,G),v.fa=E,h.push(v)),v};function Se(h,v){const E=v.type;if(E in h.g){var w=h.g[E],G=Array.prototype.indexOf.call(w,v,void 0),W;(W=G>=0)&&Array.prototype.splice.call(w,G,1),W&&(B(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function ke(h,v,E,w){for(let G=0;G<h.length;++G){const W=h[G];if(!W.da&&W.listener==v&&W.capture==!!E&&W.ha==w)return G}return-1}var He="closure_lm_"+(Math.random()*1e6|0),Pt={};function ut(h,v,E,w,G){if(Array.isArray(v)){for(let W=0;W<v.length;W++)ut(h,v[W],E,w,G);return null}return E=Ko(E),h&&h[ve]?h.J(v,E,p(w)?!!w.capture:!1,G):Ir(h,v,E,!1,w,G)}function Ir(h,v,E,w,G,W){if(!v)throw Error("Invalid event type");const ue=p(G)?!!G.capture:!!G;let Ie=Dr(h);if(Ie||(h[He]=Ie=new me(h)),E=Ie.add(v,E,w,ue,W),E.proxy)return E;if(w=wi(),E.proxy=w,w.src=h,w.listener=E,h.addEventListener)F||(G=ue),G===void 0&&(G=!1),h.addEventListener(v.toString(),w,G);else if(h.attachEvent)h.attachEvent(ps(v.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function wi(){function h(E){return v.call(h.src,h.listener,E)}const v=Qo;return h}function Ni(h,v,E,w,G){if(Array.isArray(v))for(var W=0;W<v.length;W++)Ni(h,v[W],E,w,G);else w=p(w)?!!w.capture:!!w,E=Ko(E),h&&h[ve]?(h=h.i,W=String(v).toString(),W in h.g&&(v=h.g[W],E=ke(v,E,w,G),E>-1&&(B(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[W],h.h--)))):h&&(h=Dr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=ke(v,E,w,G)),(E=h>-1?v[h]:null)&&ji(E))}function ji(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ve])Se(v.i,h);else{var E=h.type,w=h.proxy;v.removeEventListener?v.removeEventListener(E,w,h.capture):v.detachEvent?v.detachEvent(ps(E),w):v.addListener&&v.removeListener&&v.removeListener(w),(E=Dr(v))?(Se(E,h),E.h==0&&(E.src=null,v[He]=null)):B(h)}}}function ps(h){return h in Pt?Pt[h]:Pt[h]="on"+h}function Qo(h,v){if(h.da)h=!0;else{v=new ce(v,this);const E=h.listener,w=h.ha||h.src;h.fa&&ji(h),h=E.call(w,v)}return h}function Dr(h){return h=h[He],h instanceof me?h:null}var $o="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ko(h){return typeof h=="function"?h:(h[$o]||(h[$o]=function(v){return h.handleEvent(v)}),h[$o])}function wt(){L.call(this),this.i=new me(this),this.M=this,this.G=null}b(wt,L),wt.prototype[ve]=!0,wt.prototype.removeEventListener=function(h,v,E,w){Ni(this,h,v,E,w)};function Lt(h,v){var E,w=h.G;if(w)for(E=[];w;w=w.G)E.push(w);if(h=h.M,w=v.type||v,typeof v=="string")v=new P(v,h);else if(v instanceof P)v.target=v.target||h;else{var G=v;v=new P(w,h),he(v,G)}G=!0;let W,ue;if(E)for(ue=E.length-1;ue>=0;ue--)W=v.g=E[ue],G=Na(W,w,!0,v)&&G;if(W=v.g=h,G=Na(W,w,!0,v)&&G,G=Na(W,w,!1,v)&&G,E)for(ue=0;ue<E.length;ue++)W=v.g=E[ue],G=Na(W,w,!1,v)&&G}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let w=0;w<E.length;w++)B(E[w]);delete h.g[v],h.h--}}this.G=null},wt.prototype.J=function(h,v,E,w){return this.i.add(String(h),v,!1,E,w)},wt.prototype.K=function(h,v,E,w){return this.i.add(String(h),v,!0,E,w)};function Na(h,v,E,w){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let G=!0;for(let W=0;W<v.length;++W){const ue=v[W];if(ue&&!ue.da&&ue.capture==E){const Ie=ue.listener,vt=ue.ha||ue.src;ue.fa&&Se(h.i,ue),G=Ie.call(vt,w)!==!1&&G}}return G&&!w.defaultPrevented}function qd(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(h,v||0)}function Gc(h){h.g=qd(()=>{h.g=null,h.i&&(h.i=!1,Gc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class cn extends L{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Gc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kr(h){L.call(this),this.h=h,this.g={}}b(kr,L);var Yo=[];function Xo(h){de(h.g,function(v,E){this.g.hasOwnProperty(E)&&ji(v)},h),h.g={}}kr.prototype.N=function(){kr.Z.N.call(this),Xo(this)},kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ja=d.JSON.stringify,Hd=d.JSON.parse,Qc=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function $c(){}function Kc(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){P.call(this,"d")}b($t,P);function In(){P.call(this,"c")}b(In,P);var yt={},Yc=null;function Ai(){return Yc=Yc||new wt}yt.Ia="serverreachability";function Xc(h){P.call(this,yt.Ia,h)}b(Xc,P);function gs(h){const v=Ai();Lt(v,new Xc(v))}yt.STAT_EVENT="statevent";function Or(h,v){P.call(this,yt.STAT_EVENT,h),this.stat=v}b(Or,P);function Nt(h){const v=Ai();Lt(v,new Or(v,h))}yt.Ja="timingevent";function ys(h,v){P.call(this,yt.Ja,h),this.size=v}b(ys,P);function vs(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function Gd(h,v,E,w,G,W){h.info(function(){if(h.g)if(W){var ue="",Ie=W.split("&");for(let Ke=0;Ke<Ie.length;Ke++){var vt=Ie[Ke].split("=");if(vt.length>1){const ht=vt[0];vt=vt[1];const Mn=ht.split("_");ue=Mn.length>=2&&Mn[1]=="type"?ue+(ht+"="+vt+"&"):ue+(ht+"=redacted&")}}}else ue=null;else ue=W;return"XMLHTTP REQ ("+w+") [attempt "+G+"]: "+v+`
`+E+`
`+ue})}function Wc(h,v,E,w,G,W,ue){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+G+"]: "+v+`
`+E+`
`+W+" "+ue})}function _s(h,v,E,w){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Qd(h,E)+(w?" "+w:"")})}function Mr(h,v){h.info(function(){return"TIMEOUT: "+v})}Xn.prototype.info=function(){};function Qd(h,v){if(!h.g)return v;if(!v)return null;try{const W=JSON.parse(v);if(W){for(h=0;h<W.length;h++)if(Array.isArray(W[h])){var E=W[h];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var G=w[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ue=1;ue<w.length;ue++)w[ue]=""}}}}return ja(W)}catch{return v}}var Vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jo;function Pr(){}b(Pr,$c),Pr.prototype.g=function(){return new XMLHttpRequest},Jo=new Pr;function Ks(h){return encodeURIComponent(String(h))}function Jc(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function Wn(h,v,E,w){this.j=h,this.i=v,this.l=E,this.S=w||1,this.V=new kr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var jt={},Bt={};function xs(h,v,E){h.M=1,h.A=Lr(Ct(v)),h.u=E,h.R=!0,Ci(h,null)}function Ci(h,v){h.F=Date.now(),Es(h),h.B=Ct(h.A);var E=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),ki(E.i,"t",w),h.C=0,E=h.j.L,h.h=new Jn,h.g=fu(h.j,E?v:null,!h.u),h.P>0&&(h.O=new cn(y(h.Y,h,h.g),h.P)),v=h.V,E=h.g,w=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(Yo[0]=G.toString()),G=Yo);for(let W=0;W<G.length;W++){const ue=ut(E,G[W],w||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=h.J?M(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),gs(),Gd(h.i,h.v,h.B,h.l,h.S,h.u)}Wn.prototype.ba=function(h){h=h.target;const v=this.O;v&&ts(h)==3?v.j():this.Y(h)},Wn.prototype.Y=function(h){try{if(h==this.g)e:{const Ie=ts(this.g),vt=this.g.ya(),Ke=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Ie!=4||vt==7||(vt==8||Ke<=0?gs(3):gs(2)),bs(this);var v=this.g.ca();this.X=v;var E=$d(this);if(this.o=v==200,Wc(this.i,this.v,this.B,this.l,this.S,Ie,v),this.o){if(this.U&&!this.L){t:{if(this.g){var w,G=this.g;if((w=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(w)){var W=w;break t}}W=null}if(h=W)_s(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ts(this,h);else{this.o=!1,this.m=3,Nt(12),En(this),Dn(this);break e}}if(this.R){h=!0;let ht;for(;!this.K&&this.C<E.length;)if(ht=eu(this,E),ht==Bt){Ie==4&&(this.m=4,Nt(14),h=!1),_s(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==jt){this.m=4,Nt(15),_s(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else _s(this.i,this.l,ht,null),Ts(this,ht);if(Zc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||E.length!=0||this.h.h||(this.m=1,Nt(16),h=!1),this.o=this.o&&h,!h)_s(this.i,this.l,E,"[Invalid Chunked Response]"),En(this),Dn(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),fl(ue),ue.P=!0,Nt(11))}}else _s(this.i,this.l,E,null),Ts(this,E);Ie==4&&En(this),this.o&&!this.K&&(Ie==4?cu(this.j,this):(this.o=!1,Es(this)))}else Xs(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),En(this),Dn(this)}}}catch{}finally{}};function $d(h){if(!Zc(h))return h.g.la();const v=Kt(h.g);if(v==="")return"";let E="";const w=v.length,G=ts(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return En(h),Dn(h),"";h.h.i=new d.TextDecoder}for(let W=0;W<w;W++)h.h.h=!0,E+=h.h.i.decode(v[W],{stream:!(G&&W==w-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function Zc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function eu(h,v){var E=h.C,w=v.indexOf(`
`,E);return w==-1?Bt:(E=Number(v.substring(E,w)),isNaN(E)?jt:(w+=1,w+E>v.length?Bt:(v=v.slice(w,w+E),h.C=w+E,v)))}Wn.prototype.cancel=function(){this.K=!0,En(this)};function Es(h){h.T=Date.now()+h.H,Ri(h,h.H)}function Ri(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=vs(y(h.aa,h),v)}function bs(h){h.D&&(d.clearTimeout(h.D),h.D=null)}Wn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Mr(this.i,this.B),this.M!=2&&(gs(),Nt(17)),En(this),this.m=2,Dn(this)):Ri(this,this.T-h)};function Dn(h){h.j.I==0||h.K||cu(h.j,h)}function En(h){bs(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Xo(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Ts(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||ws(E.h,h))){if(!h.L&&ws(E.h,h)&&E.I==3){try{var w=E.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var G=w;if(G[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Li(E),Ma(E);else break e;Gr(E),Nt(18)}}else E.xa=G[1],0<E.xa-E.K&&G[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=vs(y(E.Va,E),6e3));Ss(E.h)<=1&&E.ta&&(E.ta=void 0)}else Is(E,11)}else if((h.L||E.g==h)&&Li(E),!N(v))for(G=E.Ba.g.parse(v),v=0;v<G.length;v++){let Ke=G[v];const ht=Ke[0];if(!(ht<=E.K))if(E.K=ht,Ke=Ke[1],E.I==2)if(Ke[0]=="c"){E.M=Ke[1],E.ba=Ke[2];const Mn=Ke[3];Mn!=null&&(E.ka=Mn,E.j.info("VER="+E.ka));const Ds=Ke[4];Ds!=null&&(E.za=Ds,E.j.info("SVER="+E.za));const ns=Ke[5];ns!=null&&typeof ns=="number"&&ns>0&&(w=1.5*ns,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const ss=h.g;if(ss){const Qr=ss.g?ss.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qr){var W=w.h;W.g||Qr.indexOf("spdy")==-1&&Qr.indexOf("quic")==-1&&Qr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(tl(W,W.h),W.h=null))}if(w.G){const Ui=ss.g?ss.g.getResponseHeader("X-HTTP-Session-Id"):null;Ui&&(w.wa=Ui,We(w.J,w.G,Ui))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var ue=h;if(w.na=du(w,w.L?w.ba:null,w.W),ue.L){nl(w.h,ue);var Ie=ue,vt=w.O;vt&&(Ie.H=vt),Ie.D&&(bs(Ie),Es(Ie)),w.g=ue}else ou(w);E.i.length>0&&Rs(E)}else Ke[0]!="stop"&&Ke[0]!="close"||Is(E,7);else E.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Is(E,7):hl(E):Ke[0]!="noop"&&E.l&&E.l.qa(Ke),E.A=0)}}gs(4)}catch{}}var At=class{constructor(h,v){this.g=h,this.map=v}};function Zo(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function el(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ss(h){return h.h?1:h.g?h.g.size:0}function ws(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function tl(h,v){h.g?h.g.add(v):h.h=v}function nl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Zo.prototype.cancel=function(){if(this.i=sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function sl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return R(h.i)}var tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ii(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const w=h[E].indexOf("=");let G,W=null;w>=0?(G=h[E].substring(0,w),W=h[E].substring(w+1)):G=h[E],v(G,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function bn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof bn?(this.l=h.l,Ft(this,h.j),this.o=h.o,this.g=h.g,Aa(this,h.u),this.h=h.h,al(this,ru(h.i)),this.m=h.m):h&&(v=String(h).match(tu))?(this.l=!1,Ft(this,v[1]||"",!0),this.o=Ns(v[2]||""),this.g=Ns(v[3]||"",!0),Aa(this,v[4]),this.h=Ns(v[5]||"",!0),al(this,v[6]||"",!0),this.m=Ns(v[7]||"")):(this.l=!1,this.i=new Ra(null,this.l))}bn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Ur(v,Di,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Ur(v,Di,!0),"@"),h.push(Ks(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Ur(E,E.charAt(0)=="/"?rl:nu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Ur(E,su)),h.join("")},bn.prototype.resolve=function(h){const v=Ct(this);let E=!!h.j;E?Ft(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var w=h.h;if(E)Aa(v,h.u);else if(E=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var G=v.h.lastIndexOf("/");G!=-1&&(w=v.h.slice(0,G+1)+w)}if(G=w,G==".."||G==".")w="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){w=G.lastIndexOf("/",0)==0,G=G.split("/");const W=[];for(let ue=0;ue<G.length;){const Ie=G[ue++];Ie=="."?w&&ue==G.length&&W.push(""):Ie==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),w&&ue==G.length&&W.push("")):(W.push(Ie),w=!0)}w=W.join("/")}else w=G}return E?v.h=w:E=h.i.toString()!=="",E?al(v,ru(h.i)):E=!!h.m,E&&(v.m=h.m),v};function Ct(h){return new bn(h)}function Ft(h,v,E){h.j=E?Ns(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Aa(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function al(h,v,E){v instanceof Ra?(h.i=v,Oi(h.i,h.l)):(E||(v=Ur(v,Ca)),h.i=new Ra(v,h.l))}function We(h,v,E){h.i.set(v,E)}function Lr(h){return We(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ns(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ur(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,dn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function dn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Di=/[#\/\?@]/g,nu=/[#\?:]/g,rl=/[#\?]/g,Ca=/[#\?@]/g,su=/#/g;function Ra(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function fn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ii(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}s=Ra.prototype,s.add=function(h,v){fn(this),this.i=null,h=Ia(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function au(h,v){fn(h),v=Ia(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function il(h,v){return fn(h),v=Ia(h,v),h.g.has(v)}s.forEach=function(h,v){fn(this),this.g.forEach(function(E,w){E.forEach(function(G){h.call(v,G,w,this)},this)},this)};function ol(h,v){fn(h);let E=[];if(typeof v=="string")il(h,v)&&(E=E.concat(h.g.get(Ia(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}s.set=function(h,v){return fn(this),this.i=null,h=Ia(this,h),il(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},s.get=function(h,v){return h?(h=ol(this,h),h.length>0?String(h[0]):v):v};function ki(h,v,E){au(h,v),E.length>0&&(h.i=null,h.g.set(Ia(h,v),R(E)),h.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var E=v[w];const G=Ks(E);E=ol(this,E);for(let W=0;W<E.length;W++){let ue=G;E[W]!==""&&(ue+="="+Ks(E[W])),h.push(ue)}}return this.i=h.join("&")};function ru(h){const v=new Ra;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Ia(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Oi(h,v){v&&!h.j&&(fn(h),h.i=null,h.g.forEach(function(E,w){const G=w.toLowerCase();w!=G&&(au(this,w),ki(this,G,E))},h)),h.j=v}function Zn(h,v){const E=new Xn;if(d.Image){const w=new Image;w.onload=x(kn,E,"TestLoadImage: loaded",!0,v,w),w.onerror=x(kn,E,"TestLoadImage: error",!1,v,w),w.onabort=x(kn,E,"TestLoadImage: abort",!1,v,w),w.ontimeout=x(kn,E,"TestLoadImage: timeout",!1,v,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else v(!1)}function ll(h,v){const E=new Xn,w=new AbortController,G=setTimeout(()=>{w.abort(),kn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:w.signal}).then(W=>{clearTimeout(G),W.ok?kn(E,"TestPingServer: ok",!0,v):kn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),kn(E,"TestPingServer: error",!1,v)})}function kn(h,v,E,w,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),w(E)}catch{}}function Da(){this.g=new Qc}function js(h){this.i=h.Sb||null,this.h=h.ab||!1}b(js,$c),js.prototype.g=function(){return new zr(this.i,this.h)};function zr(h,v){wt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(zr,wt),s=zr.prototype,s.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,es(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ka(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Mi(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Mi(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?ka(this):es(this),this.readyState==3&&Mi(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,ka(this))},s.Na=function(h){this.g&&(this.response=h,ka(this))},s.ga=function(){this.g&&ka(this)};function ka(h){h.readyState=4,h.l=null,h.j=null,h.B=null,es(h)}s.setRequestHeader=function(h,v){this.A.append(h,v)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function es(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function On(h){let v="";return de(h,function(E,w){v+=w,v+=":",v+=E,v+=`\r
`}),v}function Br(h,v,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=On(E),typeof h=="string"?E!=null&&Ks(E):We(h,v,E))}function et(h){wt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(et,wt);var As=/^https?$/i,cl=["POST","PUT"];s=et.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,v,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jo.g(),this.g.onreadystatechange=T(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(W){Fr(this,W);return}if(h=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var G in w)E.set(G,w[G]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const W of w.keys())E.set(W,w.get(W));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),G=d.FormData&&h instanceof d.FormData,!(Array.prototype.indexOf.call(cl,v,void 0)>=0)||w||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ue]of E)this.g.setRequestHeader(W,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(W){Fr(this,W)}};function Fr(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,ul(h),Ys(h)}function ul(h){h.A||(h.A=!0,Lt(h,"complete"),Lt(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Lt(this,"complete"),Lt(this,"abort"),Ys(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ys(this,!0)),et.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?qr(this):this.Xa())},s.Xa=function(){qr(this)};function qr(h){if(h.h&&typeof u<"u"){if(h.v&&ts(h)==4)setTimeout(h.Ca.bind(h),0);else if(Lt(h,"readystatechange"),ts(h)==4){h.h=!1;try{const W=h.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var w;if(w=W===0){let ue=String(h.D).match(tu)[1]||null;!ue&&d.self&&d.self.location&&(ue=d.self.location.protocol.slice(0,-1)),w=!As.test(ue?ue.toLowerCase():"")}E=w}if(E)Lt(h,"complete"),Lt(h,"success");else{h.o=6;try{var G=ts(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",ul(h)}}finally{Ys(h)}}}}function Ys(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||Lt(h,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ts(h){return h.g?h.g.readyState:0}s.ca=function(){try{return ts(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Hd(v)}};function Kt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Xs(h){const v={};h=(h.g&&ts(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(N(h[w]))continue;var E=Jc(h[w]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=v[G]||[];v[G]=W,W.push(E)}Te(v,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Oa(h){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Cs("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Cs("baseRetryDelayMs",5e3,h),this.Za=Cs("retryDelaySeedMs",1e4,h),this.Ta=Cs("forwardChannelMaxRetries",2,h),this.va=Cs("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Zo(h&&h.concurrentRequestLimit),this.Ba=new Da,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Oa.prototype,s.ka=8,s.I=1,s.connect=function(h,v,E,w){Nt(0),this.W=h,this.H=v||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=du(this,null,this.W),Rs(this)};function hl(h){if(Vi(h),h.I==3){var v=h.V++,E=Ct(h.J);if(We(E,"SID",h.M),We(E,"RID",v),We(E,"TYPE","terminate"),Hr(h,E),v=new Wn(h,h.j,v),v.M=2,v.A=Lr(Ct(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=v.A,E=!0),E||(v.g=fu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Es(v)}hu(h)}function Ma(h){h.g&&(fl(h),h.g.cancel(),h.g=null)}function Vi(h){Ma(h),h.v&&(d.clearTimeout(h.v),h.v=null),Li(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&d.clearTimeout(h.m),h.m=null)}function Rs(h){if(!el(h.h)&&!h.m){h.m=!0;var v=h.Ea;te||C(),X||(te(),X=!0),A.add(v,h),h.D=0}}function Pi(h,v){return Ss(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=vs(y(h.Ea,h,v),uu(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new Wn(this,this.j,h);let W=this.o;if(this.U&&(W?(W=M(W),he(W,this.U)):W=this.U),this.u!==null||this.R||(G.J=W,W=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=iu(this,G,v),E=Ct(this.J),We(E,"RID",h),We(E,"CVER",22),this.G&&We(E,"X-HTTP-Session-Id",this.G),Hr(this,E),W&&(this.R?v="headers="+Ks(On(W))+"&"+v:this.u&&Br(E,this.u,W)),tl(this.h,G),this.Ra&&We(E,"TYPE","init"),this.S?(We(E,"$req",v),We(E,"SID","null"),G.U=!0,xs(G,E,null)):xs(G,E,v),this.I=2}}else this.I==3&&(h?dl(this,h):this.i.length==0||el(this.h)||dl(this))};function dl(h,v){var E;v?E=v.l:E=h.V++;const w=Ct(h.J);We(w,"SID",h.M),We(w,"RID",E),We(w,"AID",h.K),Hr(h,w),h.u&&h.o&&Br(w,h.u,h.o),E=new Wn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=iu(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),tl(h.h,E),xs(E,w,v)}function Hr(h,v){h.H&&de(h.H,function(E,w){We(v,w,E)}),h.l&&de({},function(E,w){We(v,w,E)})}function iu(h,v,E){E=Math.min(h.i.length,E);const w=h.l?y(h.l.Ka,h.l,h):null;e:{var G=h.i;let Ie=-1;for(;;){const vt=["count="+E];Ie==-1?E>0?(Ie=G[0].g,vt.push("ofs="+Ie)):Ie=0:vt.push("ofs="+Ie);let Ke=!0;for(let ht=0;ht<E;ht++){var W=G[ht].g;const Mn=G[ht].map;if(W-=Ie,W<0)Ie=Math.max(0,G[ht].g-100),Ke=!1;else try{W="req"+W+"_"||"";try{var ue=Mn instanceof Map?Mn:Object.entries(Mn);for(const[Ds,ns]of ue){let ss=ns;p(ns)&&(ss=ja(ns)),vt.push(W+Ds+"="+encodeURIComponent(ss))}}catch(Ds){throw vt.push(W+"type="+encodeURIComponent("_badmap")),Ds}}catch{w&&w(Mn)}}if(Ke){ue=vt.join("&");break e}}ue=void 0}return h=h.i.splice(0,E),v.G=h,ue}function ou(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;te||C(),X||(te(),X=!0),A.add(v,h),h.A=0}}function Gr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=vs(y(h.Da,h),uu(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=vs(y(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),Ma(this),lu(this))};function fl(h){h.B!=null&&(d.clearTimeout(h.B),h.B=null)}function lu(h){h.g=new Wn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Ct(h.na);We(v,"RID","rpc"),We(v,"SID",h.M),We(v,"AID",h.K),We(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&We(v,"TO",h.ia),We(v,"TYPE","xmlhttp"),Hr(h,v),h.u&&h.o&&Br(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Lr(Ct(v)),E.u=null,E.R=!0,Ci(E,h)}s.Va=function(){this.C!=null&&(this.C=null,Ma(this),Gr(this),Nt(19))};function Li(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function cu(h,v){var E=null;if(h.g==v){Li(h),fl(h),h.g=null;var w=2}else if(ws(h.h,v))E=v.G,nl(h.h,v),w=1;else return;if(h.I!=0){if(v.o)if(w==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var G=h.D;w=Ai(),Lt(w,new ys(w,E)),Rs(h)}else ou(h);else if(G=v.m,G==3||G==0&&v.X>0||!(w==1&&Pi(h,v)||w==2&&Gr(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),G){case 1:Is(h,5);break;case 4:Is(h,10);break;case 3:Is(h,6);break;default:Is(h,2)}}}function uu(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function Is(h,v){if(h.j.info("Error code "+v),v==2){var E=y(h.bb,h),w=h.Ua;const G=!w;w=new bn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ft(w,"https"),Lr(w),G?Zn(w.toString(),E):ll(w.toString(),E)}else Nt(2);h.I=0,h.l&&h.l.pa(v),hu(h),Vi(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function hu(h){if(h.I=0,h.ja=[],h.l){const v=sl(h.h);(v.length!=0||h.i.length!=0)&&(q(h.ja,v),q(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function du(h,v,E){var w=E instanceof bn?Ct(E):new bn(E);if(w.g!="")v&&(w.g=v+"."+w.g),Aa(w,w.u);else{var G=d.location;w=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;const W=new bn(null);w&&Ft(W,w),v&&(W.g=v),G&&Aa(W,G),E&&(W.h=E),w=W}return E=h.G,v=h.wa,E&&v&&We(w,E,v),We(w,"VER",h.ka),Hr(h,w),w}function fu(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new et(new js({ab:E})):new et(h.ma),v.Fa(h.L),v}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}s=mu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Va(){}Va.prototype.g=function(h,v){return new un(h,v)};function un(h,v){wt.call(this),this.g=new Oa(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!N(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Ws(this)}b(un,wt),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){hl(this.g)},un.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=ja(h),h=E);v.i.push(new At(v.Ya++,h)),v.I==3&&Rs(v)},un.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,un.Z.N.call(this)};function pu(h){$t.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}b(pu,$t);function gu(){In.call(this),this.status=1}b(gu,In);function Ws(h){this.g=h}b(Ws,mu),Ws.prototype.ra=function(){Lt(this.g,"a")},Ws.prototype.qa=function(h){Lt(this.g,new pu(h))},Ws.prototype.pa=function(h){Lt(this.g,new gu)},Ws.prototype.oa=function(){Lt(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,FE=function(){return new Va},BE=function(){return Ai()},zE=yt,yp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vr.NO_ERROR=0,Vr.TIMEOUT=8,Vr.HTTP_ERROR=6,Dh=Vr,Wo.COMPLETE="complete",UE=Wo,Kc.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",wt.prototype.listen=wt.prototype.J,tc=Kc,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,LE=et}).apply(typeof Eh<"u"?Eh:typeof self<"u"?self:typeof window<"u"?window:{});const Px="@firebase/firestore",Lx="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new Yp("@firebase/firestore");function go(){return gi.logLevel}function pe(s,...e){if(gi.logLevel<=ze.DEBUG){const n=e.map(Jp);gi.debug(`Firestore (${zo}): ${s}`,...n)}}function Ea(s,...e){if(gi.logLevel<=ze.ERROR){const n=e.map(Jp);gi.error(`Firestore (${zo}): ${s}`,...n)}}function Co(s,...e){if(gi.logLevel<=ze.WARN){const n=e.map(Jp);gi.warn(`Firestore (${zo}): ${s}`,...n)}}function Jp(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,qE(s,r,n)}function qE(s,e,n){let r=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ea(r),new Error(r)}function Xe(s,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||qE(e,l,r)}function Re(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends wa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rn.UNAUTHENTICATED)))}shutdown(){}}class fA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class mA{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new ya;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ya,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ya)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string",31837,{l:r}),new HE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class pA{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gA{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new pA(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ux{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yA{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const r=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ux(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ux(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=vA(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=e.charAt(l[u]%62))}return r}}function Be(s,e){return s<e?-1:s>e?1:0}function vp(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return tp(l)===tp(u)?Be(l,u):tp(l)?1:-1}return Be(s.length,e.length)}const _A=55296,xA=57343;function tp(s){const e=s.charCodeAt(0);return e>=_A&&e<=xA}function Ro(s,e,n){return s.length===e.length&&s.every(((r,l)=>n(r,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="__name__";class Ps{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ps.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ps?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const u=Ps.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Be(e.length,n.length)}static compareSegments(e,n){const r=Ps.isNumericId(e),l=Ps.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Ps.extractNumericId(e).compare(Ps.extractNumericId(n)):vp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pr.fromString(e.substring(4,e.length-2))}}class rt extends Ps{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const EA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ps{construct(e,n,r){return new tn(e,n,r)}static isValidIdentifier(e){return EA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zx}static keyField(){return new tn([zx])}static fromServerFormat(e){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new fe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new fe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(u(),l++)}if(u(),d)throw new fe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(rt.fromString(e))}static fromName(e){return new xe(rt.fromString(e).popFirst(5))}static empty(){return new xe(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(s,e,n){if(!n)throw new fe(re.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function bA(s,e,n,r){if(e===!0&&r===!0)throw new fe(re.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Bx(s){if(!xe.isDocumentKey(s))throw new fe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Fx(s){if(xe.isDocumentKey(s))throw new fe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function QE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function md(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ne(12329,{type:typeof s})}function cs(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new fe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=md(s);throw new fe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(s,e){const n={typeString:s};return e&&(n.value=e),n}function Dc(s,e){if(!QE(s))throw new fe(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new fe(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=-62135596800,Hx=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Hx);return new lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qx)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hx}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Dc(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Vt("string",lt._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new lt(0,0))}static max(){return new je(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=-1;function TA(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=je.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new yr(l,xe.empty(),e)}function SA(s){return new yr(s.readTime,s.key,fc)}class yr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yr(je.min(),xe.empty(),fc)}static max(){return new yr(je.max(),xe.empty(),fc)}}function wA(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(s.documentKey,e.documentKey),n!==0?n:Be(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(s){if(s.code!==re.FAILED_PRECONDITION||s.message!==NA)throw s;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,r)=>{n(e)}))}static reject(e){return new le(((n,r)=>{r(e)}))}static waitFor(e){return new le(((n,r)=>{let l=0,u=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&n()}),(g=>r(g)))})),d=!0,u===l&&n()}))}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next((l=>l?le.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(e,n){return new le(((r,l)=>{const u=e.length,d=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((x=>{d[y]=x,++p,p===u&&r(d)}),(x=>l(x)))}}))}static doWhile(e,n){return new le(((r,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):r()};u()}))}}function AA(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg=-1;function gd(s){return s==null}function Gh(s){return s===0&&1/s==-1/0}function CA(s){return typeof s=="number"&&Number.isInteger(s)&&!Gh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="";function RA(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=Gx(e)),e=IA(s.get(n),e);return Gx(e)}function IA(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case $E:n+="";break;default:n+=u}}return n}function Gx(s){return s+$E+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Sr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function KE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bh(this.root,e,this.comparator,!0)}}class bh{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,r,l,u){this.key=e,this.value=n,this.color=r??en.RED,this.left=l??en.EMPTY,this.right=u??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,u){return new en(e??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return en.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,r,l,u){return this}insert(e,n,r){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $x(this.data.getIterator())}getIteratorFrom(e){return new $x(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class $x{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new zt(tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new YE("Invalid base64 string: "+u):u}})(e);return new nn(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const DA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(s){if(Xe(!!s,39018),typeof s=="string"){let e=0;const n=DA.exec(s);if(Xe(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(s.seconds),nanos:Et(s.nanos)}}function Et(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function _r(s){return typeof s=="string"?nn.fromBase64String(s):nn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="server_timestamp",WE="__type__",JE="__previous_value__",ZE="__local_write_time__";function tg(s){return(s?.mapValue?.fields||{})[WE]?.stringValue===XE}function yd(s){const e=s.mapValue.fields[JE];return tg(e)?yd(e):e}function mc(s){const e=vr(s.mapValue.fields[ZE].timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n,r,l,u,d,p,g,y,x){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=x}}const Qh="(default)";class pc{constructor(e,n){this.projectId=e,this.database=n||Qh}static empty(){return new pc("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(e){return e instanceof pc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="__type__",OA="__max__",Th={mapValue:{}},tb="__vector__",$h="value";function xr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?tg(s)?4:VA(s)?9007199254740991:MA(s)?10:11:Ne(28295,{value:s})}function Hs(s,e){if(s===e)return!0;const n=xr(s);if(n!==xr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return mc(s).isEqual(mc(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=vr(l.timestampValue),p=vr(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return _r(l.bytesValue).isEqual(_r(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return Et(l.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(l.geoPointValue.longitude)===Et(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Et(l.integerValue)===Et(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Et(l.doubleValue),p=Et(u.doubleValue);return d===p?Gh(d)===Gh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Ro(s.arrayValue.values||[],e.arrayValue.values||[],Hs);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(Qx(d)!==Qx(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Hs(d[g],p[g])))return!1;return!0})(s,e);default:return Ne(52216,{left:s})}}function gc(s,e){return(s.values||[]).find((n=>Hs(n,e)))!==void 0}function Io(s,e){if(s===e)return 0;const n=xr(s),r=xr(e);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=Et(u.integerValue||u.doubleValue),g=Et(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return Kx(s.timestampValue,e.timestampValue);case 4:return Kx(mc(s),mc(e));case 5:return vp(s.stringValue,e.stringValue);case 6:return(function(u,d){const p=_r(u),g=_r(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const x=Be(p[y],g[y]);if(x!==0)return x}return Be(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=Be(Et(u.latitude),Et(d.latitude));return p!==0?p:Be(Et(u.longitude),Et(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Yx(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},g=d.fields||{},y=p[$h]?.arrayValue,x=g[$h]?.arrayValue,b=Be(y?.values?.length||0,x?.values?.length||0);return b!==0?b:Yx(y,x)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Th.mapValue&&d===Th.mapValue)return 0;if(u===Th.mapValue)return 1;if(d===Th.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=d.fields||{},x=Object.keys(y);g.sort(),x.sort();for(let b=0;b<g.length&&b<x.length;++b){const T=vp(g[b],x[b]);if(T!==0)return T;const R=Io(p[g[b]],y[x[b]]);if(R!==0)return R}return Be(g.length,x.length)})(s.mapValue,e.mapValue);default:throw Ne(23264,{he:n})}}function Kx(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Be(s,e);const n=vr(s),r=vr(e),l=Be(n.seconds,r.seconds);return l!==0?l:Be(n.nanos,r.nanos)}function Yx(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=Io(n[l],r[l]);if(u)return u}return Be(n.length,r.length)}function Do(s){return _p(s)}function _p(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=vr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return _r(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return xe.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=_p(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${_p(n.fields[d])}`;return l+"}"})(s.mapValue):Ne(61005,{value:s})}function kh(s){switch(xr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yd(s);return e?16+kh(e):16;case 5:return 2*s.stringValue.length;case 6:return _r(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+kh(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Sr(r.fields,((u,d)=>{l+=u.length+kh(d)})),l})(s.mapValue);default:throw Ne(13486,{value:s})}}function Xx(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function xp(s){return!!s&&"integerValue"in s}function ng(s){return!!s&&"arrayValue"in s}function Wx(s){return!!s&&"nullValue"in s}function Jx(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Oh(s){return!!s&&"mapValue"in s}function MA(s){return(s?.mapValue?.fields||{})[eb]?.stringValue===tb}function ic(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Sr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ic(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ic(s.arrayValue.values[n]);return e}return{...s}}function VA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===OA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ic(n)}setAll(e){let n=tn.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,l),r={},l=[],n=p.popLast()}d?r[p.lastSegment()]=ic(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(e){const n=this.field(e.popLast());Oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];Oh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){Sr(n,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new xn(ic(this.value))}}function nb(s){const e=[];return Sr(s.fields,((n,r)=>{const l=new tn([n]);if(Oh(r)){const u=nb(r.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,r,l,u,d,p){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new on(e,0,je.min(),je.min(),je.min(),xn.empty(),0)}static newFoundDocument(e,n,r,l){return new on(e,1,n,je.min(),r,l,0)}static newNoDocument(e,n){return new on(e,2,n,je.min(),je.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,je.min(),je.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.position=e,this.inclusive=n}}function Zx(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],d=s.position[l];if(u.field.isKeyField()?r=xe.comparator(xe.fromName(d.referenceValue),n.key):r=Io(d,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function e0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Hs(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n="asc"){this.field=e,this.dir=n}}function PA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{}class Mt extends sb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UA(e,n,r):n==="array-contains"?new FA(e,r):n==="in"?new qA(e,r):n==="not-in"?new HA(e,r):n==="array-contains-any"?new GA(e,r):new Mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zA(e,r):new BA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Io(n,this.value)):n!==null&&xr(this.value)===xr(n)&&this.matchesComparison(Io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class us extends sb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new us(e,n)}matches(e){return ab(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ab(s){return s.op==="and"}function rb(s){return LA(s)&&ab(s)}function LA(s){for(const e of s.filters)if(e instanceof us)return!1;return!0}function Ep(s){if(s instanceof Mt)return s.field.canonicalString()+s.op.toString()+Do(s.value);if(rb(s))return s.filters.map((e=>Ep(e))).join(",");{const e=s.filters.map((n=>Ep(n))).join(",");return`${s.op}(${e})`}}function ib(s,e){return s instanceof Mt?(function(r,l){return l instanceof Mt&&r.op===l.op&&r.field.isEqual(l.field)&&Hs(r.value,l.value)})(s,e):s instanceof us?(function(r,l){return l instanceof us&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,p)=>u&&ib(d,l.filters[p])),!0):!1})(s,e):void Ne(19439)}function ob(s){return s instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Do(n.value)}`})(s):s instanceof us?(function(n){return n.op.toString()+" {"+n.getFilters().map(ob).join(" ,")+"}"})(s):"Filter"}class UA extends Mt{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class zA extends Mt{constructor(e,n){super(e,"in",n),this.keys=lb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class BA extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=lb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function lb(s,e){return(e.arrayValue?.values||[]).map((n=>xe.fromName(n.referenceValue)))}class FA extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ng(n)&&gc(n.arrayValue,this.value)}}class qA extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gc(this.value.arrayValue,n)}}class HA extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gc(this.value.arrayValue,n)}}class GA extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ng(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>gc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,n=null,r=[],l=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function t0(s,e=null,n=[],r=[],l=null,u=null,d=null){return new QA(s,e,n,r,l,u,d)}function sg(s){const e=Re(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ep(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Do(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Do(r))).join(",")),e.Te=n}return e.Te}function ag(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!PA(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!ib(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!e0(s.startAt,e.startAt)&&e0(s.endAt,e.endAt)}function bp(s){return xe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n=null,r=[],l=[],u=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $A(s,e,n,r,l,u,d,p){return new qo(s,e,n,r,l,u,d,p)}function rg(s){return new qo(s)}function n0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function cb(s){return s.collectionGroup!==null}function oc(s){const e=Re(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new zt(tn.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new yc(u,r))})),n.has(tn.keyField().canonicalString())||e.Ie.push(new yc(tn.keyField(),r))}return e.Ie}function Ls(s){const e=Re(s);return e.Ee||(e.Ee=KA(e,oc(s))),e.Ee}function KA(s,e){if(s.limitType==="F")return t0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new yc(l.field,u)}));const n=s.endAt?new Kh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Kh(s.startAt.position,s.startAt.inclusive):null;return t0(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Tp(s,e){const n=s.filters.concat([e]);return new qo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Sp(s,e,n){return new qo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function vd(s,e){return ag(Ls(s),Ls(e))&&s.limitType===e.limitType}function ub(s){return`${sg(Ls(s))}|lt:${s.limitType}`}function yo(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>ob(l))).join(", ")}]`),gd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>Do(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>Do(l))).join(",")),`Target(${r})`})(Ls(s))}; limitType=${s.limitType})`}function _d(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):xe.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of oc(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const y=Zx(d,p,g);return d.inclusive?y<=0:y<0})(r.startAt,oc(r),l)||r.endAt&&!(function(d,p,g){const y=Zx(d,p,g);return d.inclusive?y>=0:y>0})(r.endAt,oc(r),l))})(s,e)}function YA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function hb(s){return(e,n)=>{let r=!1;for(const l of oc(s)){const u=XA(l,e,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function XA(s,e,n){const r=s.field.isKeyField()?xe.comparator(e.key,n.key):(function(u,d,p){const g=d.data.field(u),y=p.data.field(u);return g!==null&&y!==null?Io(g,y):Ne(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Sr(this.inner,((n,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return KE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=new mt(xe.comparator);function ba(){return WA}const db=new mt(xe.comparator);function nc(...s){let e=db;for(const n of s)e=e.insert(n.key,n);return e}function fb(s){let e=db;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ci(){return lc()}function mb(){return lc()}function lc(){return new xi((s=>s.toString()),((s,e)=>s.isEqual(e)))}const JA=new mt(xe.comparator),ZA=new zt(xe.comparator);function Fe(...s){let e=ZA;for(const n of s)e=e.add(n);return e}const eC=new zt(Be);function tC(){return eC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function pb(s){return{integerValue:""+s}}function nC(s,e){return CA(e)?pb(e):ig(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this._=void 0}}function sC(s,e,n){return s instanceof vc?(function(l,u){const d={fields:{[WE]:{stringValue:XE},[ZE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&tg(u)&&(u=yd(u)),u&&(d.fields[JE]=u),{mapValue:d}})(n,e):s instanceof _c?yb(s,e):s instanceof xc?vb(s,e):(function(l,u){const d=gb(l,u),p=s0(d)+s0(l.Ae);return xp(d)&&xp(l.Ae)?pb(p):ig(l.serializer,p)})(s,e)}function aC(s,e,n){return s instanceof _c?yb(s,e):s instanceof xc?vb(s,e):n}function gb(s,e){return s instanceof Yh?(function(r){return xp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class vc extends xd{}class _c extends xd{constructor(e){super(),this.elements=e}}function yb(s,e){const n=_b(e);for(const r of s.elements)n.some((l=>Hs(l,r)))||n.push(r);return{arrayValue:{values:n}}}class xc extends xd{constructor(e){super(),this.elements=e}}function vb(s,e){let n=_b(e);for(const r of s.elements)n=n.filter((l=>!Hs(l,r)));return{arrayValue:{values:n}}}class Yh extends xd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function s0(s){return Et(s.integerValue||s.doubleValue)}function _b(s){return ng(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n){this.field=e,this.transform=n}}function iC(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof _c&&l instanceof _c||r instanceof xc&&l instanceof xc?Ro(r.elements,l.elements,Hs):r instanceof Yh&&l instanceof Yh?Hs(r.Ae,l.Ae):r instanceof vc&&l instanceof vc})(s.transform,e.transform)}class oC{constructor(e,n){this.version=e,this.transformResults=n}}class $n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ed{}function xb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new og(s.key,$n.none()):new kc(s.key,s.data,$n.none());{const n=s.data,r=xn.empty();let l=new zt(tn.comparator);for(let u of e.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new wr(s.key,r,new Rn(l.toArray()),$n.none())}}function lC(s,e,n){s instanceof kc?(function(l,u,d){const p=l.value.clone(),g=r0(l.fieldTransforms,u,d.transformResults);p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,n):s instanceof wr?(function(l,u,d){if(!Mh(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=r0(l.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(Eb(l)),g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function cc(s,e,n,r){return s instanceof kc?(function(u,d,p,g){if(!Mh(u.precondition,d))return p;const y=u.value.clone(),x=i0(u.fieldTransforms,g,d);return y.setAll(x),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof wr?(function(u,d,p,g){if(!Mh(u.precondition,d))return p;const y=i0(u.fieldTransforms,g,d),x=d.data;return x.setAll(Eb(u)),x.setAll(y),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(s,e,n,r):(function(u,d,p){return Mh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,n)}function cC(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=gb(r.transform,l||null);u!=null&&(n===null&&(n=xn.empty()),n.set(r.field,u))}return n||null}function a0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Ro(r,l,((u,d)=>iC(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class kc extends Ed{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class wr extends Ed{constructor(e,n,r,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Eb(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function r0(s,e,n){const r=new Map;Xe(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const u=s[l],d=u.transform,p=e.data.field(u.field);r.set(u.field,aC(d,p,n[l]))}return r}function i0(s,e,n){const r=new Map;for(const l of s){const u=l.transform,d=n.data.field(l.field);r.set(l.field,sC(u,d,e))}return r}class og extends Ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uC extends Ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&lC(u,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=cc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=cc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mb();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(l.key)?null:p;const g=xb(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(je.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,((n,r)=>a0(n,r)))&&Ro(this.baseMutations,e.baseMutations,((n,r)=>a0(n,r)))}}class lg{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){Xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return JA})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new lg(e,n,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,Ge;function mC(s){switch(s){case re.OK:return Ne(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ne(15467,{code:s})}}function bb(s){if(s===void 0)return Ea("GRPC error has no .code"),re.UNKNOWN;switch(s){case Ot.OK:return re.OK;case Ot.CANCELLED:return re.CANCELLED;case Ot.UNKNOWN:return re.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return re.INTERNAL;case Ot.UNAVAILABLE:return re.UNAVAILABLE;case Ot.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Ot.NOT_FOUND:return re.NOT_FOUND;case Ot.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Ot.ABORTED:return re.ABORTED;case Ot.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Ot.DATA_LOSS:return re.DATA_LOSS;default:return Ne(39323,{code:s})}}(Ge=Ot||(Ot={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new pr([4294967295,4294967295],0);function o0(s){const e=pC().encode(s),n=new PE;return n.update(e),new Uint8Array(n.digest())}function l0(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new pr([n,r],0),new pr([l,u],0)]}class cg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sc(`Invalid padding: ${n}`);if(r<0)throw new sc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=pr.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(pr.fromNumber(r)));return l.compare(gC)===1&&(l=new pr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=o0(e),[r,l]=l0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new cg(u,l,n);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=o0(e),[r,l]=l0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n,r,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bd(je.min(),l,new mt(Be),ba(),Fe())}}class Oc{constructor(e,n,r,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Oc(r,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n,r,l){this.be=e,this.removedTargetIds=n,this.key=r,this.De=l}}class Tb{constructor(e,n){this.targetId=e,this.Ce=n}}class Sb{constructor(e,n,r=nn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class c0{constructor(){this.ve=0,this.Fe=u0(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),r=Fe();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:Ne(38017,{changeType:u})}})),new Oc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=u0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yC{constructor(e){this.Ge=e,this.ze=new Map,this.je=ba(),this.Je=Sh(),this.He=Sh(),this.Ye=new mt(Be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(bp(u))if(r===0){const d=new xe(u.path);this.et(n,d,on.newNoDocument(d,je.min()))}else Xe(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let d,p;try{d=_r(r).toUint8Array()}catch(g){if(g instanceof YE)return Co("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new cg(d,l,u)}catch(g){return Co(g instanceof sc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&bp(p.target)){const g=new xe(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,on.newNoDocument(g,e))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let r=Fe();this.He.forEach(((u,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new bd(e,n,this.Ye,this.je,r);return this.je=ba(),this.Je=Sh(),this.He=Sh(),this.Ye=new mt(Be),l}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new c0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new zt(Be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new zt(Be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new c0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sh(){return new mt(xe.comparator)}function u0(){return new mt(xe.comparator)}const vC={asc:"ASCENDING",desc:"DESCENDING"},_C={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xC={and:"AND",or:"OR"};class EC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wp(s,e){return s.useProto3Json||gd(e)?e:{value:e}}function Xh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function bC(s,e){return Xh(s,e.toTimestamp())}function Us(s){return Xe(!!s,49232),je.fromTimestamp((function(n){const r=vr(n);return new lt(r.seconds,r.nanos)})(s))}function ug(s,e){return Np(s,e).canonicalString()}function Np(s,e){const n=(function(l){return new rt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function Nb(s){const e=rt.fromString(s);return Xe(Ib(e),10190,{key:e.toString()}),e}function jp(s,e){return ug(s.databaseId,e.path)}function np(s,e){const n=Nb(e);if(n.get(1)!==s.databaseId.projectId)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new xe(Ab(n))}function jb(s,e){return ug(s.databaseId,e)}function TC(s){const e=Nb(s);return e.length===4?rt.emptyPath():Ab(e)}function Ap(s){return new rt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Ab(s){return Xe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function h0(s,e,n){return{name:jp(s,e),fields:n.value.mapValue.fields}}function SC(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ne(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,x){return y.useProto3Json?(Xe(x===void 0||typeof x=="string",58123),nn.fromBase64String(x||"")):(Xe(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),nn.fromUint8Array(x||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const x=y.code===void 0?re.UNKNOWN:bb(y.code);return new fe(x,y.message||"")})(d);n=new Sb(r,l,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=np(s,r.document.name),u=Us(r.document.updateTime),d=r.document.createTime?Us(r.document.createTime):je.min(),p=new xn({mapValue:{fields:r.document.fields}}),g=on.newFoundDocument(l,u,d,p),y=r.targetIds||[],x=r.removedTargetIds||[];n=new Vh(y,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=np(s,r.document),u=r.readTime?Us(r.readTime):je.min(),d=on.newNoDocument(l,u),p=r.removedTargetIds||[];n=new Vh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=np(s,r.document),u=r.removedTargetIds||[];n=new Vh([],u,l,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new fC(l,u),p=r.targetId;n=new Tb(p,d)}}return n}function wC(s,e){let n;if(e instanceof kc)n={update:h0(s,e.key,e.value)};else if(e instanceof og)n={delete:jp(s,e.key)};else if(e instanceof wr)n={update:h0(s,e.key,e.data),updateMask:OC(e.fieldMask)};else{if(!(e instanceof uC))return Ne(16599,{Vt:e.type});n={verify:jp(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const p=d.transform;if(p instanceof vc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof _c)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof xc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Yh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Ne(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:bC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ne(27497)})(s,e.precondition)),n}function NC(s,e){return s&&s.length>0?(Xe(e!==void 0,14353),s.map((n=>(function(l,u){let d=l.updateTime?Us(l.updateTime):Us(u);return d.isEqual(je.min())&&(d=Us(u)),new oC(d,l.transformResults||[])})(n,e)))):[]}function jC(s,e){return{documents:[jb(s,e.path)]}}function AC(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jb(s,l);const u=(function(y){if(y.length!==0)return Rb(us.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((x=>(function(T){return{field:vo(T.field),direction:IC(T.dir)}})(x)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=wp(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function CC(s){let e=TC(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Xe(r===1,65062);const x=n.from[0];x.allDescendants?l=x.collectionId:e=e.child(x.collectionId)}let u=[];n.where&&(u=(function(b){const T=Cb(b);return T instanceof us&&rb(T)?T.getFilters():[T]})(n.where));let d=[];n.orderBy&&(d=(function(b){return b.map((T=>(function(q){return new yc(_o(q.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(T)))})(n.orderBy));let p=null;n.limit&&(p=(function(b){let T;return T=typeof b=="object"?b.value:b,gd(T)?null:T})(n.limit));let g=null;n.startAt&&(g=(function(b){const T=!!b.before,R=b.values||[];return new Kh(R,T)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const T=!b.before,R=b.values||[];return new Kh(R,T)})(n.endAt)),$A(e,l,d,u,p,"F",g,y)}function RC(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Cb(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_o(n.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=_o(n.unaryFilter.field);return Mt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=_o(n.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=_o(n.unaryFilter.field);return Mt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Mt.create(_o(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return us.create(n.compositeFilter.filters.map((r=>Cb(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(s):Ne(30097,{filter:s})}function IC(s){return vC[s]}function DC(s){return _C[s]}function kC(s){return xC[s]}function vo(s){return{fieldPath:s.canonicalString()}}function _o(s){return tn.fromServerFormat(s.fieldPath)}function Rb(s){return s instanceof Mt?(function(n){if(n.op==="=="){if(Jx(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NAN"}};if(Wx(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jx(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NAN"}};if(Wx(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(n.field),op:DC(n.op),value:n.value}}})(s):s instanceof us?(function(n){const r=n.getFilters().map((l=>Rb(l)));return r.length===1?r[0]:{compositeFilter:{op:kC(n.op),filters:r}}})(s):Ne(54877,{filter:s})}function OC(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Ib(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n,r,l,u=je.min(),d=je.min(),p=nn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.yt=e}}function VC(s){const e=CC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Sp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this.Cn=new LC}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(yr.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class LC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new zt(rt.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new zt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Db=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(Db,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ko(0)}static cr(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="LruGarbageCollector",UC=1048576;function m0([s,e],[n,r]){const l=Be(s,n);return l===0?Be(e,r):l}class zC{constructor(e){this.Ir=e,this.buffer=new zt(m0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();m0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class BC{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(f0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fo(n)?pe(f0,"Ignoring IndexedDB error during garbage collection: ",n):await Bo(n)}await this.Vr(3e5)}))}}class FC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(pd.ce);const r=new zC(n);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(d0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,l,u,d,p,g,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(e,l)))).next((b=>(r=b,p=Date.now(),this.removeTargets(e,r,n)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(y=Date.now(),go()<=ze.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-x}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:b}))))}}function qC(s,e){return new FC(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.changes=new xi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&cc(r.mutation,l,Rn.empty(),lt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Fe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Fe()){const l=ci();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((u=>{let d=nc();return u.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=ci();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Fe())))}populateOverlays(e,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,r,l){let u=ba();const d=lc(),p=(function(){return lc()})();return n.forEach(((g,y)=>{const x=r.get(y.key);l.has(y.key)&&(x===void 0||x.mutation instanceof wr)?u=u.insert(y.key,y):x!==void 0?(d.set(y.key,x.mutation.getFieldMask()),cc(x.mutation,y,x.mutation.getFieldMask(),lt.now())):d.set(y.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,x)=>d.set(y,x))),n.forEach(((y,x)=>p.set(y,new GC(x,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=lc();let l=new mt(((d,p)=>d-p)),u=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let x=r.get(g)||Rn.empty();x=p.applyToLocalView(y,x),r.set(g,x);const b=(l.get(p.batchId)||Fe()).add(g);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,x=g.value,b=mb();x.forEach((T=>{if(!u.has(T)){const R=xb(n.get(T),r.get(T));R!==null&&b.set(T,R),u=u.add(T)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return le.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return(function(d){return xe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-u.size):le.resolve(ci());let p=fc,g=u;return d.next((y=>le.forEach(y,((x,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),u.get(x)?le.resolve():this.remoteDocumentCache.getEntry(e,x).next((T=>{g=g.insert(x,T)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Fe()))).next((x=>({batchId:p,changes:fb(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next((r=>{let l=nc();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const u=n.collectionGroup;let d=nc();return this.indexManager.getCollectionParents(e,u).next((p=>le.forEach(p,(g=>{const y=(function(b,T){return new qo(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((x=>{x.forEach(((b,T)=>{d=d.insert(b,T)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,l)))).next((d=>{u.forEach(((g,y)=>{const x=y.getKey();d.get(x)===null&&(d=d.insert(x,on.newInvalidDocument(x)))}));let p=nc();return d.forEach(((g,y)=>{const x=u.get(g);x!==void 0&&cc(x.mutation,y,Rn.empty(),lt.now()),_d(n,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return le.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Us(l.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:VC(l.bundledQuery),readTime:Us(l.readTime)}})(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.overlays=new mt(xe.comparator),this.qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ci();return le.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,u)=>{this.St(e,n,u)})),le.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const l=ci(),u=n.length+1,d=new xe(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&l.set(g.getKey(),g)}return le.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let u=new mt(((y,x)=>y-x));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let x=u.get(y.largestBatchId);x===null&&(x=ci(),u=u.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const p=ci(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,x)=>p.set(y,x))),!(p.size()>=l)););return le.resolve(p)}St(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new dC(n,r));let u=this.qr.get(n);u===void 0&&(u=Fe(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(){this.Qr=new zt(Gt.$r),this.Ur=new zt(Gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Gt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Gt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new xe(new rt([])),r=new Gt(n,e),l=new Gt(n,e+1),u=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new xe(new rt([])),r=new Gt(n,e),l=new Gt(n,e+1);let u=Fe();return this.Ur.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new Gt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return xe.comparator(e.key,n.key)||Be(e.Yr,n.Yr)}static Kr(e,n){return Be(e.Yr,n.Yr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Gt.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new hC(u,n,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Gt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return le.resolve(d)}lookupMutationBatch(e,n){return le.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.ei(r),u=l<0?0:l;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?eg:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gt(n,0),l=new Gt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);u.push(p)})),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zt(Be);return n.forEach((l=>{const u=new Gt(l,0),d=new Gt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(p=>{r=r.add(p.Yr)}))})),le.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let u=r;xe.isDocumentKey(u)||(u=u.child(""));const d=new Gt(new xe(u),0);let p=new zt(Be);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),d),le.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return le.forEach(n.mutations,(l=>{const u=new Gt(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Gt(n,0),l=this.Zr.firstAfterOrEqual(r);return le.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.ri=e,this.docs=(function(){return new mt(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=ba();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():on.newInvalidDocument(l))})),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let u=ba();const d=n.path,p=new xe(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:x}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||wA(SA(x),r)<=0||(l.has(x.key)||_d(n,x))&&(u=u.insert(x.key,x.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(e,n,r,l){Ne(9500)}ii(e,n){return le.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new JC(this)}getSize(e){return le.resolve(this.size)}}class JC extends HC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),le.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.persistence=e,this.si=new xi((n=>sg(n)),ag),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.oi=0,this._i=new hg,this.targetCount=0,this.ai=ko.ur()}forEachTarget(e,n){return this.si.forEach(((r,l)=>n(l))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),le.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ko(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Pr(n),le.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let l=0;const u=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),le.waitFor(u).next((()=>l))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),le.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n){this.ui={},this.overlays={},this.ci=new pd(0),this.li=!1,this.li=!0,this.hi=new YC,this.referenceDelegate=e(this),this.Pi=new ZC(this),this.indexManager=new PC,this.remoteDocumentCache=(function(l){return new WC(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new MC(n),this.Ii=new $C(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new XC(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const l=new e2(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return le.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class e2 extends jA{constructor(e){super(),this.currentSequenceNumber=e}}class dg{constructor(e){this.persistence=e,this.Ri=new hg,this.Vi=null}static mi(e){return new dg(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(r=>{const l=xe.fromPath(r);return this.gi(e,l).next((u=>{u||n.removeEntry(l,je.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Wh{constructor(e,n){this.persistence=e,this.pi=new xi((r=>RA(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=qC(this,n)}static mi(e,n){return new Wh(e,n)}Ei(){}di(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return le.forEach(this.pi,((r,l)=>this.br(e,r,l).next((u=>u?le.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((p=>{p||(r++,u.removeEntry(d,je.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=kh(e.data.value)),n}br(e,n,r){return le.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return le.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=l}static As(e,n){let r=Fe(),l=Fe();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new fg(e,n.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return QN()?8:AA(ln())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const u={result:null};return this.ys(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,n,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new t2;return this.Ss(e,n,d).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,d,p.size)}))})).next((()=>u.result))}bs(e,n,r,l){return r.documentReadCount<this.fs?(go()<=ze.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(go()<=ze.DEBUG&&pe("QueryEngine","Query:",yo(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(go()<=ze.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ls(n))):le.resolve())}ys(e,n){if(n0(n))return le.resolve(null);let r=Ls(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Sp(n,null,"F"),r=Ls(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=Fe(...u);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,d,g.readTime)?this.ys(e,Sp(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,r,l){return n0(n)||l.isEqual(je.min())?le.resolve(null):this.ps.getDocuments(e,r).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,r,l)?le.resolve(null):(go()<=ze.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),yo(n)),this.vs(e,d,n,TA(l,fc)).next((p=>p)))}))}Ds(e,n){let r=new zt(hb(e));return n.forEach(((l,u)=>{_d(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,r){return go()<=ze.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",yo(n)),this.ps.getDocumentsMatchingQuery(e,n,yr.min(),r)}vs(e,n,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="LocalStore",s2=3e8;class a2{constructor(e,n,r,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new mt(Be),this.xs=new xi((u=>sg(u)),ag),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function r2(s,e,n,r){return new a2(s,e,n,r)}async function Ob(s,e){const n=Re(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],p=[];let g=Fe();for(const y of l){d.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}for(const y of u){p.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function i2(s,e){const n=Re(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,x){const b=y.batch,T=b.keys();let R=le.resolve();return T.forEach((q=>{R=R.next((()=>x.getEntry(g,q))).next((k=>{const z=y.docVersions.get(q);Xe(z!==null,48541),k.version.compareTo(z)<0&&(b.applyToRemoteDocument(k,y),k.isValidDocument()&&(k.setReadTime(y.commitVersion),x.addEntry(k)))}))})),R.next((()=>p.mutationQueue.removeMutationBatch(g,b)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Fe();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function Mb(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function o2(s,e){const n=Re(s),r=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];e.targetChanges.forEach(((x,b)=>{const T=l.get(b);if(!T)return;p.push(n.Pi.removeMatchingKeys(u,x.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,x.addedDocuments,b))));let R=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?R=R.withResumeToken(nn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):x.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(x.resumeToken,r)),l=l.insert(b,R),(function(k,z,$){return k.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=s2?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(T,R,x)&&p.push(n.Pi.updateTargetData(u,R))}));let g=ba(),y=Fe();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,x))})),p.push(l2(u,d,e.documentUpdates).next((x=>{g=x.ks,y=x.qs}))),!r.isEqual(je.min())){const x=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(x)}return le.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=l,u)))}function l2(s,e,n){let r=Fe(),l=Fe();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let d=ba();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(je.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):pe(mg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function c2(s,e){const n=Re(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=eg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function u2(s,e){const n=Re(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,e).next((u=>u?(l=u,le.resolve(l)):n.Pi.allocateTargetId(r).next((d=>(l=new ur(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Cp(s,e,n){const r=Re(s),l=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Fo(d))throw d;pe(mg,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function p0(s,e,n){const r=Re(s);let l=je.min(),u=Fe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,x){const b=Re(g),T=b.xs.get(x);return T!==void 0?le.resolve(b.Ms.get(T)):b.Pi.getTargetData(y,x)})(r,d,Ls(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,n?l:je.min(),n?u:Fe()))).next((p=>(h2(r,YA(e),p),{documents:p,Qs:u})))))}function h2(s,e,n){let r=s.Os.get(e)||je.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class g0{constructor(){this.activeTargetIds=tC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d2{constructor(){this.Mo=new g0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new g0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="ConnectivityMonitor";class v0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(y0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(y0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh=null;function Rp(){return wh===null?wh=(function(){return 268435456+Math.round(2147483648*Math.random())})():wh++,"0x"+wh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="RestConnection",m2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class p2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Qh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,n,r,l,u){const d=Rp(),p=this.zo(e,n.toUriEncodedString());pe(sp,`Sending RPC '${e}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:y}=new URL(p),x=Lo(y);return this.Jo(e,p,g,r,x).then((b=>(pe(sp,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw Co(sp,`RPC '${e}' ${d} failed with error: `,b,"url: ",p,"request:",r),b}))}Ho(e,n,r,l,u,d){return this.Go(e,n,r,l,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const r=m2[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class y2 extends p2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,l,u){const d=Rp();return new Promise(((p,g)=>{const y=new LE;y.setWithCredentials(!0),y.listenOnce(UE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Dh.NO_ERROR:const b=y.getResponseJson();pe(an,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),p(b);break;case Dh.TIMEOUT:pe(an,`RPC '${e}' ${d} timed out`),g(new fe(re.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:const T=y.getStatus();if(pe(an,`RPC '${e}' ${d} failed with status:`,T,"response text:",y.getResponseText()),T>0){let R=y.getResponseJson();Array.isArray(R)&&(R=R[0]);const q=R?.error;if(q&&q.status&&q.message){const k=(function($){const V=$.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(V)>=0?V:re.UNKNOWN})(q.status);g(new fe(k,q.message))}else g(new fe(re.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new fe(re.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{pe(an,`RPC '${e}' ${d} completed.`)}}));const x=JSON.stringify(l);pe(an,`RPC '${e}' ${d} sending request:`,l),y.send(n,"POST",x,r,15)}))}T_(e,n,r){const l=Rp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=FE(),p=BE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const x=u.join("");pe(an,`Creating RPC '${e}' stream ${l}: ${x}`,g);const b=d.createWebChannel(x,g);this.I_(b);let T=!1,R=!1;const q=new g2({Yo:z=>{R?pe(an,`Not sending because RPC '${e}' stream ${l} is closed:`,z):(T||(pe(an,`Opening RPC '${e}' stream ${l} transport.`),b.open(),T=!0),pe(an,`RPC '${e}' stream ${l} sending:`,z),b.send(z))},Zo:()=>b.close()}),k=(z,$,V)=>{z.listen($,(ee=>{try{V(ee)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return k(b,tc.EventType.OPEN,(()=>{R||(pe(an,`RPC '${e}' stream ${l} transport opened.`),q.o_())})),k(b,tc.EventType.CLOSE,(()=>{R||(R=!0,pe(an,`RPC '${e}' stream ${l} transport closed`),q.a_(),this.E_(b))})),k(b,tc.EventType.ERROR,(z=>{R||(R=!0,Co(an,`RPC '${e}' stream ${l} transport errored. Name:`,z.name,"Message:",z.message),q.a_(new fe(re.UNAVAILABLE,"The operation could not be completed")))})),k(b,tc.EventType.MESSAGE,(z=>{if(!R){const $=z.data[0];Xe(!!$,16349);const V=$,ee=V?.error||V[0]?.error;if(ee){pe(an,`RPC '${e}' stream ${l} received error:`,ee);const Z=ee.status;let te=(function(C){const j=Ot[C];if(j!==void 0)return bb(j)})(Z),X=ee.message;te===void 0&&(te=re.INTERNAL,X="Unknown error status: "+Z+" with message "+ee.message),R=!0,q.a_(new fe(te,X)),b.close()}else pe(an,`RPC '${e}' stream ${l} received:`,$),q.u_($)}})),k(p,zE.STAT_EVENT,(z=>{z.stat===yp.PROXY?pe(an,`RPC '${e}' stream ${l} detected buffering proxy`):z.stat===yp.NOPROXY&&pe(an,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{q.__()}),0),q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(s){return new EC(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,n,r=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&pe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="PersistentStream";class Pb{constructor(e,n,r,l,u,d,p,g){this.Mi=e,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Vb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Ea(n.toString()),Ea("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new fe(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(_0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(_0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class v2 extends Pb{constructor(e,n,r,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=SC(this.serializer,e),r=(function(u){if(!("targetChange"in u))return je.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?je.min():d.readTime?Us(d.readTime):je.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ap(this.serializer),n.addTarget=(function(u,d){let p;const g=d.target;if(p=bp(g)?{documents:jC(u,g)}:{query:AC(u,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=wb(u,d.resumeToken);const y=wp(u,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(je.min())>0){p.readTime=Xh(u,d.snapshotVersion.toTimestamp());const y=wp(u,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=RC(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ap(this.serializer),n.removeTarget=e,this.q_(n)}}class _2 extends Pb{constructor(e,n,r,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=NC(e.writeResults,e.commitTime),r=Us(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ap(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>wC(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{}class E2 extends x2{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,Np(n,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(re.UNKNOWN,u.toString())}))}Ho(e,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Np(n,r),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(re.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class b2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ea(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi="RemoteStore";class T2{constructor(e,n,r,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Ei(this)&&(pe(yi,"Restarting streams for network reachability change."),await(async function(g){const y=Re(g);y.Ea.add(4),await Mc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Sd(y)})(this))}))})),this.Ra=new b2(r,l)}}async function Sd(s){if(Ei(s))for(const e of s.da)await e(!0)}async function Mc(s){for(const e of s.da)await e(!1)}function Lb(s,e){const n=Re(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),vg(n)?yg(n):Ho(n).O_()&&gg(n,e))}function pg(s,e){const n=Re(s),r=Ho(n);n.Ia.delete(e),r.O_()&&Ub(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ei(n)&&n.Ra.set("Unknown"))}function gg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ho(s).Y_(e)}function Ub(s,e){s.Va.Ue(e),Ho(s).Z_(e)}function yg(s){s.Va=new yC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ho(s).start(),s.Ra.ua()}function vg(s){return Ei(s)&&!Ho(s).x_()&&s.Ia.size>0}function Ei(s){return Re(s).Ea.size===0}function zb(s){s.Va=void 0}async function S2(s){s.Ra.set("Online")}async function w2(s){s.Ia.forEach(((e,n)=>{gg(s,e)}))}async function N2(s,e){zb(s),vg(s)?(s.Ra.ha(e),yg(s)):s.Ra.set("Unknown")}async function j2(s,e,n){if(s.Ra.set("Online"),e instanceof Sb&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){pe(yi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jh(s,r)}else if(e instanceof Vh?s.Va.Ze(e):e instanceof Tb?s.Va.st(e):s.Va.tt(e),!n.isEqual(je.min()))try{const r=await Mb(s.localStore);n.compareTo(r)>=0&&await(function(u,d){const p=u.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const x=u.Ia.get(y);x&&u.Ia.set(y,x.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const x=u.Ia.get(g);if(!x)return;u.Ia.set(g,x.withResumeToken(nn.EMPTY_BYTE_STRING,x.snapshotVersion)),Ub(u,g);const b=new ur(x.target,g,y,x.sequenceNumber);gg(u,b)})),u.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){pe(yi,"Failed to raise snapshot:",r),await Jh(s,r)}}async function Jh(s,e,n){if(!Fo(e))throw e;s.Ea.add(1),await Mc(s),s.Ra.set("Offline"),n||(n=()=>Mb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{pe(yi,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Sd(s)}))}function Bb(s,e){return e().catch((n=>Jh(s,n,e)))}async function wd(s){const e=Re(s),n=Er(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:eg;for(;A2(e);)try{const l=await c2(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,C2(e,l)}catch(l){await Jh(e,l)}Fb(e)&&qb(e)}function A2(s){return Ei(s)&&s.Ta.length<10}function C2(s,e){s.Ta.push(e);const n=Er(s);n.O_()&&n.X_&&n.ea(e.mutations)}function Fb(s){return Ei(s)&&!Er(s).x_()&&s.Ta.length>0}function qb(s){Er(s).start()}async function R2(s){Er(s).ra()}async function I2(s){const e=Er(s);for(const n of s.Ta)e.ea(n.mutations)}async function D2(s,e,n){const r=s.Ta.shift(),l=lg.from(r,e,n);await Bb(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await wd(s)}async function k2(s,e){e&&Er(s).X_&&await(async function(r,l){if((function(d){return mC(d)&&d!==re.ABORTED})(l.code)){const u=r.Ta.shift();Er(r).B_(),await Bb(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await wd(r)}})(s,e),Fb(s)&&qb(s)}async function x0(s,e){const n=Re(s);n.asyncQueue.verifyOperationInProgress(),pe(yi,"RemoteStore received new credentials");const r=Ei(n);n.Ea.add(3),await Mc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Sd(n)}async function O2(s,e){const n=Re(s);e?(n.Ea.delete(2),await Sd(n)):e||(n.Ea.add(2),await Mc(n),n.Ra.set("Unknown"))}function Ho(s){return s.ma||(s.ma=(function(n,r,l){const u=Re(n);return u.sa(),new v2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:S2.bind(null,s),t_:w2.bind(null,s),r_:N2.bind(null,s),H_:j2.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),vg(s)?yg(s):s.Ra.set("Unknown")):(await s.ma.stop(),zb(s))}))),s.ma}function Er(s){return s.fa||(s.fa=(function(n,r,l){const u=Re(n);return u.sa(),new _2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:R2.bind(null,s),r_:k2.bind(null,s),ta:I2.bind(null,s),na:D2.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await wd(s)):(await s.fa.stop(),s.Ta.length>0&&(pe(yi,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,r,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new ya,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,u){const d=Date.now()+r,p=new _g(e,n,d,l,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xg(s,e){if(Ea("AsyncQueue",`${e}: ${s}`),Fo(s))return new fe(re.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{static emptySet(e){return new Eo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=nc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Eo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.ga=new mt(xe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Oo{constructor(e,n,r,l,u,d,p,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,l,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new Oo(e,n,Eo.emptySet(n),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class V2{constructor(){this.queries=b0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Re(n),u=l.queries;l.queries=b0(),u.forEach(((d,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new fe(re.ABORTED,"Firestore shutting down"))}}function b0(){return new xi((s=>ub(s)),vd)}async function Hb(s,e){const n=Re(s);let r=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(r=2):(u=new M2,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=xg(d,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Eg(n)}async function Gb(s,e){const n=Re(s),r=e.query;let l=3;const u=n.queries.get(r);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function P2(s,e){const n=Re(s);let r=!1;for(const l of e){const u=l.query,d=n.queries.get(u);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&Eg(n)}function L2(s,e,n){const r=Re(s),l=r.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);r.queries.delete(e)}function Eg(s){s.Ca.forEach((e=>{e.next()}))}var Ip,T0;(T0=Ip||(Ip={})).Ma="default",T0.Cache="cache";class Qb{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Oo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ip.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this.key=e}}class Kb{constructor(e){this.key=e}}class U2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=hb(e),this.tu=new Eo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new E0,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((x,b)=>{const T=l.get(x),R=_d(this.query,b)?b:null,q=!!T&&this.mutatedKeys.has(T.key),k=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let z=!1;T&&R?T.data.isEqual(R.data)?q!==k&&(r.track({type:3,doc:R}),z=!0):this.su(T,R)||(r.track({type:2,doc:R}),z=!0,(g&&this.eu(R,g)>0||y&&this.eu(R,y)<0)&&(p=!0)):!T&&R?(r.track({type:0,doc:R}),z=!0):T&&!R&&(r.track({type:1,doc:T}),z=!0,(g||y)&&(p=!0)),z&&(R?(d=d.add(R),u=k?u.add(x):u.delete(x)):(d=d.delete(x),u=u.delete(x)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),u=u.delete(x.key),r.track({type:1,doc:x})}return{tu:d,iu:r,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((x,b)=>(function(R,q){const k=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:z})}};return k(R)-k(q)})(x.type,b.type)||this.eu(x.doc,b.doc))),this.ou(r),l=l??!1;const p=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new Oo(this.query,e.tu,u,d,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new E0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Kb(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new $b(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bg="SyncEngine";class z2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class B2{constructor(e){this.key=e,this.hu=!1}}class F2{constructor(e,n,r,l,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new xi((p=>ub(p)),vd),this.Iu=new Map,this.Eu=new Set,this.du=new mt(xe.comparator),this.Au=new Map,this.Ru=new hg,this.Vu={},this.mu=new Map,this.fu=ko.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function q2(s,e,n=!0){const r=eT(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await Yb(r,e,n,!0),l}async function H2(s,e){const n=eT(s);await Yb(n,e,!0,!1)}async function Yb(s,e,n,r){const l=await u2(s.localStore,Ls(e)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await G2(s,e,u,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&Lb(s.remoteStore,l),p}async function G2(s,e,n,r,l){s.pu=(b,T,R)=>(async function(k,z,$,V){let ee=z.view.ru($);ee.Cs&&(ee=await p0(k.localStore,z.query,!1).then((({documents:A})=>z.view.ru(A,ee))));const Z=V&&V.targetChanges.get(z.targetId),te=V&&V.targetMismatches.get(z.targetId)!=null,X=z.view.applyChanges(ee,k.isPrimaryClient,Z,te);return w0(k,z.targetId,X.au),X.snapshot})(s,b,T,R);const u=await p0(s.localStore,e,!0),d=new U2(e,u.Qs),p=d.ru(u.documents),g=Oc.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,g);w0(s,n,y.au);const x=new z2(e,n,d);return s.Tu.set(e,x),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function Q2(s,e,n){const r=Re(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!vd(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Cp(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&pg(r.remoteStore,l.targetId),Dp(r,l.targetId)})).catch(Bo)):(Dp(r,l.targetId),await Cp(r.localStore,l.targetId,!0))}async function $2(s,e){const n=Re(s),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pg(n.remoteStore,r.targetId))}async function K2(s,e,n){const r=tR(s);try{const l=await(function(d,p){const g=Re(d),y=lt.now(),x=p.reduce(((R,q)=>R.add(q.key)),Fe());let b,T;return g.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let q=ba(),k=Fe();return g.Ns.getEntries(R,x).next((z=>{q=z,q.forEach((($,V)=>{V.isValidDocument()||(k=k.add($))}))})).next((()=>g.localDocuments.getOverlayedDocuments(R,q))).next((z=>{b=z;const $=[];for(const V of p){const ee=cC(V,b.get(V.key).overlayedDocument);ee!=null&&$.push(new wr(V.key,ee,nb(ee.value.mapValue),$n.exists(!0)))}return g.mutationQueue.addMutationBatch(R,y,$,p)})).next((z=>{T=z;const $=z.applyToLocalDocumentSet(b,k);return g.documentOverlayCache.saveOverlays(R,z.batchId,$)}))})).then((()=>({batchId:T.batchId,changes:fb(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new mt(Be)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,n),await Vc(r,l.changes),await wd(r.remoteStore)}catch(l){const u=xg(l,"Failed to persist write");n.reject(u)}}async function Xb(s,e){const n=Re(s);try{const r=await o2(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(Xe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Xe(d.hu,14607):l.removedDocuments.size>0&&(Xe(d.hu,42227),d.hu=!1))})),await Vc(n,r,e)}catch(r){await Bo(r)}}function S0(s,e,n){const r=Re(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=Re(d);g.onlineState=p;let y=!1;g.queries.forEach(((x,b)=>{for(const T of b.Sa)T.va(p)&&(y=!0)})),y&&Eg(g)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Y2(s,e,n){const r=Re(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),u=l&&l.key;if(u){let d=new mt(xe.comparator);d=d.insert(u,on.newNoDocument(u,je.min()));const p=Fe().add(u),g=new bd(je.min(),new Map,new mt(Be),d,p);await Xb(r,g),r.du=r.du.remove(u),r.Au.delete(e),Tg(r)}else await Cp(r.localStore,e,!1).then((()=>Dp(r,e,n))).catch(Bo)}async function X2(s,e){const n=Re(s),r=e.batch.batchId;try{const l=await i2(n.localStore,e);Jb(n,r,null),Wb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vc(n,l)}catch(l){await Bo(l)}}async function W2(s,e,n){const r=Re(s);try{const l=await(function(d,p){const g=Re(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return g.mutationQueue.lookupMutationBatch(y,p).next((b=>(Xe(b!==null,37113),x=b.keys(),g.mutationQueue.removeMutationBatch(y,b)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,x,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>g.localDocuments.getDocuments(y,x)))}))})(r.localStore,e);Jb(r,e,n),Wb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vc(r,l)}catch(l){await Bo(l)}}function Wb(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function Jb(s,e,n){const r=Re(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Dp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||Zb(s,r)}))}function Zb(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(pg(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),Tg(s))}function w0(s,e,n){for(const r of n)r instanceof $b?(s.Ru.addReference(r.key,e),J2(s,r)):r instanceof Kb?(pe(bg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||Zb(s,r.key)):Ne(19791,{wu:r})}function J2(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(pe(bg,"New document in limbo: "+n),s.Eu.add(r),Tg(s))}function Tg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new xe(rt.fromString(e)),r=s.fu.next();s.Au.set(r,new B2(n)),s.du=s.du.insert(n,r),Lb(s.remoteStore,new ur(Ls(rg(n.path)),r,"TargetPurposeLimboResolution",pd.ce))}}async function Vc(s,e,n){const r=Re(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const x=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(y){l.push(y);const x=fg.As(g.targetId,y);u.push(x)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(g,y){const x=Re(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>le.forEach(y,(T=>le.forEach(T.Es,(R=>x.persistence.referenceDelegate.addReference(b,T.targetId,R))).next((()=>le.forEach(T.ds,(R=>x.persistence.referenceDelegate.removeReference(b,T.targetId,R)))))))))}catch(b){if(!Fo(b))throw b;pe(mg,"Failed to update sequence numbers: "+b)}for(const b of y){const T=b.targetId;if(!b.fromCache){const R=x.Ms.get(T),q=R.snapshotVersion,k=R.withLastLimboFreeSnapshotVersion(q);x.Ms=x.Ms.insert(T,k)}}})(r.localStore,u))}async function Z2(s,e){const n=Re(s);if(!n.currentUser.isEqual(e)){pe(bg,"User change. New user:",e.toKey());const r=await Ob(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new fe(re.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vc(n,r.Ls)}}function eR(s,e){const n=Re(s),r=n.Au.get(e);if(r&&r.hu)return Fe().add(r.key);{let l=Fe();const u=n.Iu.get(e);if(!u)return l;for(const d of u){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function eT(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y2.bind(null,e),e.Pu.H_=P2.bind(null,e.eventManager),e.Pu.yu=L2.bind(null,e.eventManager),e}function tR(s){const e=Re(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=X2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W2.bind(null,e),e}class Zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Td(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return r2(this.persistence,new n2,e.initialUser,this.serializer)}Cu(e){return new kb(dg.mi,this.serializer)}Du(e){return new d2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zh.provider={build:()=>new Zh};class nR extends Zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof Wh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new BC(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new kb((r=>Wh.mi(r,n)),this.serializer)}}class kp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>S0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z2.bind(null,this.syncEngine),await O2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new V2})()}createDatastore(e){const n=Td(e.databaseInfo.databaseId),r=(function(u){return new y2(u)})(e.databaseInfo);return(function(u,d,p,g){return new E2(u,d,p,g)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,u,d,p){return new T2(r,l,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>S0(this.syncEngine,n,0)),(function(){return v0.v()?new v0:new f2})())}createSyncEngine(e,n){return(function(l,u,d,p,g,y,x){const b=new F2(l,u,d,p,g,y);return x&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Re(n);pe(yi,"RemoteStore shutting down."),r.Ea.add(5),await Mc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}kp.provider={build:()=>new kp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ea("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="FirestoreClient";class sR{constructor(e,n,r,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=Zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{pe(br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(pe(br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ya;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=xg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function rp(s,e){s.asyncQueue.verifyOperationInProgress(),pe(br,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await Ob(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function N0(s,e){s.asyncQueue.verifyOperationInProgress();const n=await aR(s);pe(br,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>x0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>x0(e.remoteStore,l))),s._onlineComponents=e}async function aR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){pe(br,"Using user provided OfflineComponentProvider");try{await rp(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===re.FAILED_PRECONDITION||l.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Co("Error using user provided cache. Falling back to memory cache: "+n),await rp(s,new Zh)}}else pe(br,"Using default OfflineComponentProvider"),await rp(s,new nR(void 0));return s._offlineComponents}async function nT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(pe(br,"Using user provided OnlineComponentProvider"),await N0(s,s._uninitializedComponentsProvider._online)):(pe(br,"Using default OnlineComponentProvider"),await N0(s,new kp))),s._onlineComponents}function rR(s){return nT(s).then((e=>e.syncEngine))}async function sT(s){const e=await nT(s),n=e.eventManager;return n.onListen=q2.bind(null,e.syncEngine),n.onUnlisten=Q2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=H2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$2.bind(null,e.syncEngine),n}function iR(s,e,n={}){const r=new ya;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const x=new tT({next:T=>{x.Nu(),d.enqueueAndForget((()=>Gb(u,b)));const R=T.docs.has(p);!R&&T.fromCache?y.reject(new fe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&g&&g.source==="server"?y.reject(new fe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),b=new Qb(rg(p.path),x,{includeMetadataChanges:!0,qa:!0});return Hb(u,b)})(await sT(s),s.asyncQueue,e,n,r))),r.promise}function oR(s,e,n={}){const r=new ya;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const x=new tT({next:T=>{x.Nu(),d.enqueueAndForget((()=>Gb(u,b))),T.fromCache&&g.source==="server"?y.reject(new fe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),b=new Qb(p,x,{includeMetadataChanges:!0,qa:!0});return Hb(u,b)})(await sT(s),s.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="firestore.googleapis.com",A0=!0;class C0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rT,this.ssl=A0}else this.host=e.host,this.ssl=e.ssl??A0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Db;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UC)throw new fe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nd{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new dA;switch(r.type){case"firstParty":return new gA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=j0.get(n);r&&(pe("ComponentProvider","Removing Datastore"),j0.delete(n),r.terminate())})(this),Promise.resolve()}}function lR(s,e,n,r={}){s=cs(s,Nd);const l=Lo(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;l&&(CE(`https://${p}`),RE("Firestore",!0)),u.host!==rT&&u.host!==p&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:l,emulatorOptions:r};if(!mi(g,d)&&(s._setSettings(g),r.mockUserToken)){let y,x;if(typeof r.mockUserToken=="string")y=r.mockUserToken,x=rn.MOCK_USER;else{y=PN(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new fe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new rn(b)}s._authCredentials=new fA(new HE(y,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bi(this.firestore,e,this._query)}}class bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Dc(n,bt._jsonSchema))return new bt(e,r||null,new xe(rt.fromString(n.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:Vt("string",bt._jsonSchemaVersion),referencePath:Vt("string")};class gr extends bi{constructor(e,n,r){super(e,n,rg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new xe(e))}withConverter(e){return new gr(this.firestore,e,this._path)}}function St(s,e,...n){if(s=Qt(s),GE("collection","path",e),s instanceof Nd){const r=rt.fromString(e,...n);return Fx(r),new gr(s,null,r)}{if(!(s instanceof bt||s instanceof gr))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(rt.fromString(e,...n));return Fx(r),new gr(s.firestore,null,r)}}function ct(s,e,...n){if(s=Qt(s),arguments.length===1&&(e=Zp.newId()),GE("doc","path",e),s instanceof Nd){const r=rt.fromString(e,...n);return Bx(r),new bt(s,null,new xe(r))}{if(!(s instanceof bt||s instanceof gr))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(rt.fromString(e,...n));return Bx(r),new bt(s.firestore,s instanceof gr?s.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="AsyncQueue";class I0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Vb(this,"async_queue_retry"),this._c=()=>{const r=ap();r&&pe(R0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ap();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ya;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fo(e))throw e;pe(R0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ea("INTERNAL UNHANDLED ERROR: ",D0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=_g.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Ne(47125,{Pc:D0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function D0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Ti extends Nd{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new I0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I0(e),this._firestoreClient=void 0,await e}}}function cR(s,e){const n=typeof s=="object"?s:OE(),r=typeof s=="string"?s:Qh,l=Wp(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=MN("firestore");u&&lR(l,...u)}return l}function Sg(s){if(s._terminated)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||uR(s),s._firestoreClient}function uR(s){const e=s._freezeSettings(),n=(function(l,u,d,p){return new kA(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,aT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new sR(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(nn.fromBase64String(e))}catch(n){throw new fe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Dc(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Vt("string",Qn._jsonSchemaVersion),bytes:Vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zs._jsonSchemaVersion}}static fromJSON(e){if(Dc(e,zs._jsonSchema))return new zs(e.latitude,e.longitude)}}zs._jsonSchemaVersion="firestore/geoPoint/1.0",zs._jsonSchema={type:Vt("string",zs._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Dc(e,Bs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Bs(e.vectorValues);throw new fe(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bs._jsonSchemaVersion="firestore/vectorValue/1.0",Bs._jsonSchema={type:Vt("string",Bs._jsonSchemaVersion),vectorValues:Vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=/^__.*__$/;class dR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,n,this.fieldTransforms):new kc(e,this.data,n,this.fieldTransforms)}}class iT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:s})}}class wg{constructor(e,n,r,l,u,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new wg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ed(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(oT(this.Ac)&&hR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class fR{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Td(e)}Cc(e,n,r,l=!1){return new wg({Ac:e,methodName:n,Dc:r,path:tn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cd(s){const e=s._freezeSettings(),n=Td(s._databaseId);return new fR(s._databaseId,!!e.ignoreUndefinedProperties,n)}function lT(s,e,n,r,l,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,e,n,l);jg("Data must be an object, but it was:",d,r);const p=cT(r,d);let g,y;if(u.merge)g=new Rn(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const x=[];for(const b of u.mergeFields){const T=Op(e,b,n);if(!d.contains(T))throw new fe(re.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);hT(x,T)||x.push(T)}g=new Rn(x),y=d.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,y=d.fieldTransforms;return new dR(new xn(p),g,y)}class Rd extends Ad{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rd}}class Ng extends Ad{_toFieldTransform(e){return new rC(e.path,new vc)}isEqual(e){return e instanceof Ng}}function mR(s,e,n,r){const l=s.Cc(1,e,n);jg("Data must be an object, but it was:",l,r);const u=[],d=xn.empty();Sr(r,((g,y)=>{const x=Ag(e,g,n);y=Qt(y);const b=l.yc(x);if(y instanceof Rd)u.push(x);else{const T=Pc(y,b);T!=null&&(u.push(x),d.set(x,T))}}));const p=new Rn(u);return new iT(d,p,l.fieldTransforms)}function pR(s,e,n,r,l,u){const d=s.Cc(1,e,n),p=[Op(e,r,n)],g=[l];if(u.length%2!=0)throw new fe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)p.push(Op(e,u[T])),g.push(u[T+1]);const y=[],x=xn.empty();for(let T=p.length-1;T>=0;--T)if(!hT(y,p[T])){const R=p[T];let q=g[T];q=Qt(q);const k=d.yc(R);if(q instanceof Rd)y.push(R);else{const z=Pc(q,k);z!=null&&(y.push(R),x.set(R,z))}}const b=new Rn(y);return new iT(x,b,d.fieldTransforms)}function gR(s,e,n,r=!1){return Pc(n,s.Cc(r?4:3,e))}function Pc(s,e){if(uT(s=Qt(s)))return jg("Unsupported field value:",e,s),cT(s,e);if(s instanceof Ad)return(function(r,l){if(!oT(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const p of r){let g=Pc(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=Qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=lt.fromDate(r);return{timestampValue:Xh(l.serializer,u)}}if(r instanceof lt){const u=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xh(l.serializer,u)}}if(r instanceof zs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qn)return{bytesValue:wb(l.serializer,r._byteString)};if(r instanceof bt){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ug(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Bs)return(function(d,p){return{mapValue:{fields:{[eb]:{stringValue:tb},[$h]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return ig(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${md(r)}`)})(s,e)}function cT(s,e){const n={};return KE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sr(s,((r,l)=>{const u=Pc(l,e.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function uT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof lt||s instanceof zs||s instanceof Qn||s instanceof bt||s instanceof Ad||s instanceof Bs)}function jg(s,e,n){if(!uT(n)||!QE(n)){const r=md(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Op(s,e,n){if((e=Qt(e))instanceof jd)return e._internalPath;if(typeof e=="string")return Ag(s,e);throw ed("Field path arguments must be of type string or ",s,!1,void 0,n)}const yR=new RegExp("[~\\*/\\[\\]]");function Ag(s,e,n){if(e.search(yR)>=0)throw ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new jd(...e.split("."))._internalPath}catch{throw ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function ed(s,e,n,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new fe(re.INVALID_ARGUMENT,p+s+g)}function hT(s,e){return s.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n,r,l,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Id("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vR extends dT{data(){return super.data()}}function Id(s,e){return typeof e=="string"?Ag(s,e):e instanceof jd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new fe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cg{}class fT extends Cg{}function Tt(s,e,...n){let r=[];e instanceof Cg&&r.push(e),r=r.concat(n),(function(u){const d=u.filter((g=>g instanceof Rg)).length,p=u.filter((g=>g instanceof Dd)).length;if(d>1||d>0&&p>0)throw new fe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Dd extends fT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Dd(e,n,r)}_apply(e){const n=this._parse(e);return mT(e._query,n),new bi(e.firestore,e.converter,Tp(e._query,n))}_parse(e){const n=Cd(e.firestore);return(function(u,d,p,g,y,x,b){let T;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new fe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){O0(b,x);const q=[];for(const k of b)q.push(k0(g,u,k));T={arrayValue:{values:q}}}else T=k0(g,u,b)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||O0(b,x),T=gR(p,d,b,x==="in"||x==="not-in");return Mt.create(y,x,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Kn(s,e,n){const r=e,l=Id("where",s);return Dd._create(l,r,n)}class Rg extends Cg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Rg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:us.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let d=l;const p=u.getFlattenedFilters();for(const g of p)mT(d,g),d=Tp(d,g)})(e._query,n),new bi(e.firestore,e.converter,Tp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ig extends fT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ig(e,n)}_apply(e){const n=(function(l,u,d){if(l.startAt!==null)throw new fe(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new fe(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yc(u,d)})(e._query,this._field,this._direction);return new bi(e.firestore,e.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new qo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function Qs(s,e="asc"){const n=e,r=Id("orderBy",s);return Ig._create(r,n)}function k0(s,e,n){if(typeof(n=Qt(n))=="string"){if(n==="")throw new fe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cb(e)&&n.indexOf("/")!==-1)throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!xe.isDocumentKey(r))throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xx(s,new xe(r))}if(n instanceof bt)return Xx(s,n._key);throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${md(n)}.`)}function O0(s,e){if(!Array.isArray(s)||s.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mT(s,e){const n=(function(l,u){for(const d of l)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class xR{convertValue(e,n="none"){switch(xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Sr(e,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[$h].arrayValue?.values?.map((r=>Et(r.doubleValue)));return new Bs(n)}convertGeoPoint(e){return new zs(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mc(e));default:return null}}convertTimestamp(e){const n=vr(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);Xe(Ib(r),9688,{name:e});const l=new pc(r.get(1),r.get(3)),u=new xe(r.popFirst(5));return l.isEqual(n)||Ea(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class ac{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hi extends dT{constructor(e,n,r,l,u,d){super(e,n,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Id("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=hi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}hi._jsonSchemaVersion="firestore/documentSnapshot/1.0",hi._jsonSchema={type:Vt("string",hi._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Ph extends hi{data(e={}){return super.data(e)}}class bo{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new ac(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ph(this._firestore,this._userDataWriter,r.key,r,new ac(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new Ph(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ac(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Ph(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ac(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,x=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),x=d.indexOf(p.doc.key)),{type:ER(p.type),doc:g,oldIndex:y,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ER(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(s){s=cs(s,bt);const e=cs(s.firestore,Ti);return iR(Sg(e),s._key).then((n=>bR(e,s,n)))}bo._jsonSchemaVersion="firestore/querySnapshot/1.0",bo._jsonSchema={type:Vt("string",bo._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class gT extends xR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function fs(s){s=cs(s,bi);const e=cs(s.firestore,Ti),n=Sg(e),r=new gT(e);return _R(s._query),oR(n,s._query).then((l=>new bo(e,r,s,l)))}function M0(s,e,n){s=cs(s,bt);const r=cs(s.firestore,Ti),l=pT(s.converter,e,n);return kd(r,[lT(Cd(r),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,$n.none())])}function ms(s,e,n,...r){s=cs(s,bt);const l=cs(s.firestore,Ti),u=Cd(l);let d;return d=typeof(e=Qt(e))=="string"||e instanceof jd?pR(u,"updateDoc",s._key,e,n,r):mR(u,"updateDoc",s._key,e),kd(l,[d.toMutation(s._key,$n.exists(!0))])}function Nr(s){return kd(cs(s.firestore,Ti),[new og(s._key,$n.none())])}function $s(s,e){const n=cs(s.firestore,Ti),r=ct(s),l=pT(s.converter,e);return kd(n,[lT(Cd(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,$n.exists(!1))]).then((()=>r))}function kd(s,e){return(function(r,l){const u=new ya;return r.asyncQueue.enqueueAndForget((async()=>K2(await rR(r),l,u))),u.promise})(Sg(s),e)}function bR(s,e,n){const r=n.docs.get(e._key),l=new gT(s);return new hi(s,l,e._key,r,new ac(n.hasPendingWrites,n.fromCache),e.converter)}function Nh(){return new Ng("serverTimestamp")}(function(e,n=!0){(function(l){zo=l})(Uo),Ao(new pi("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),p=new Ti(new mA(r.getProvider("auth-internal")),new yA(d,r.getProvider("app-check-internal")),(function(y,x){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new fe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(y.options.projectId,x)})(d,l),d);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),mr(Px,Lx,e),mr(Px,Lx,"esm2020")})();function yT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TR=yT,vT=new Rc("auth","Firebase",yT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new Yp("@firebase/auth");function SR(s,...e){td.logLevel<=ze.WARN&&td.warn(`Auth (${Uo}): ${s}`,...e)}function Lh(s,...e){td.logLevel<=ze.ERROR&&td.error(`Auth (${Uo}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(s,...e){throw Dg(s,...e)}function Fs(s,...e){return Dg(s,...e)}function _T(s,e,n){const r={...TR(),[e]:n};return new Rc("auth","Firebase",r).create(e,{appName:s.name})}function va(s){return _T(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dg(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return vT.create(s,...e)}function we(s,e,...n){if(!s)throw Dg(e,...n)}function ma(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Lh(e),new Error(e)}function Ta(s,e){s||ma(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(){return typeof self<"u"&&self.location?.href||""}function wR(){return V0()==="http:"||V0()==="https:"}function V0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wR()||qN()||"connection"in navigator)?navigator.onLine:!0}function jR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ta(n>e,"Short delay should be less than long delay!"),this.isMobile=zN()||HN()}get(){return NR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(s,e){Ta(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ma("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ma("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ma("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RR=new Lc(3e4,6e4);function jr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Ar(s,e,n,r,l={}){return ET(s,l,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const p=Ic({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...u};return FN()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Lo(s.emulatorConfig.host)&&(y.credentials="include"),xT.fetch()(await bT(s,s.config.apiHost,n,p),y)})}async function ET(s,e,n){s._canInitEmulator=!1;const r={...AR,...e};try{const l=new DR(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw jh(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw jh(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw jh(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw jh(s,"user-disabled",d);const x=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw _T(s,x,y);hs(s,x)}}catch(l){if(l instanceof wa)throw l;hs(s,"network-request-failed",{message:String(l)})}}async function Uc(s,e,n,r,l={}){const u=await Ar(s,e,n,r,l);return"mfaPendingCredential"in u&&hs(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function bT(s,e,n,r){const l=`${e}${n}?${r}`,u=s,d=u.config.emulator?kg(s.config,l):`${s.config.apiScheme}://${l}`;return CR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function IR(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fs(this.auth,"network-request-failed")),RR.get())})}}function jh(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Fs(s,e,r);return l.customData._tokenResponse=n,l}function P0(s){return s!==void 0&&s.enterprise!==void 0}class kR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OR(s,e){return Ar(s,"GET","/v2/recaptchaConfig",jr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(s,e){return Ar(s,"POST","/v1/accounts:delete",e)}async function nd(s,e){return Ar(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VR(s,e=!1){const n=Qt(s),r=await n.getIdToken(e),l=Og(r);we(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:uc(ip(l.auth_time)),issuedAtTime:uc(ip(l.iat)),expirationTime:uc(ip(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function ip(s){return Number(s)*1e3}function Og(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Lh("JWT malformed, contained fewer than 3 sections"),null;try{const l=wE(n);return l?JSON.parse(l):(Lh("Failed to decode base64 JWT payload"),null)}catch(l){return Lh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function L0(s){const e=Og(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wa&&PR(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function PR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uc(this.lastLoginAt),this.creationTime=uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sd(s){const e=s.auth,n=await s.getIdToken(),r=await Ec(s,nd(e,{idToken:n}));we(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?TT(l.providerUserInfo):[],d=zR(s.providerData,u),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,y=p?g:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Pp(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,x)}async function UR(s){const e=Qt(s);await sd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zR(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function TT(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(s,e){const n=await ET(s,{},async()=>{const r=Ic({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await bT(s,l,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&Lo(s.emulatorConfig.host)&&(g.credentials="include"),xT.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FR(s,e){return Ar(s,"POST","/v2/accounts:revokeToken",jr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=L0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await BR(e,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,d=new To;return r&&(we(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(we(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(we(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return ma("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class os{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new LR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Pp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Ec(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VR(this,e)}reload(){return UR(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new os({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(va(this.auth));const e=await this.getIdToken();return await Ec(this,MR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:b,emailVerified:T,isAnonymous:R,providerData:q,stsTokenManager:k}=n;we(b&&k,e,"internal-error");const z=To.fromJSON(this.name,k);we(typeof b=="string",e,"internal-error"),rr(r,e.name),rr(l,e.name),we(typeof T=="boolean",e,"internal-error"),we(typeof R=="boolean",e,"internal-error"),rr(u,e.name),rr(d,e.name),rr(p,e.name),rr(g,e.name),rr(y,e.name),rr(x,e.name);const $=new os({uid:b,auth:e,email:l,emailVerified:T,displayName:r,isAnonymous:R,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:z,createdAt:y,lastLoginAt:x});return q&&Array.isArray(q)&&($.providerData=q.map(V=>({...V}))),g&&($._redirectEventId=g),$}static async _fromIdTokenResponse(e,n,r=!1){const l=new To;l.updateFromServerResponse(n);const u=new os({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await sd(u),u}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];we(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?TT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new To;p.updateFromIdToken(r);const g=new os({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Pp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=new Map;function pa(s){Ta(s instanceof Function,"Expected a class definition");let e=U0.get(s);return e?(Ta(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,U0.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ST.type="NONE";const z0=ST;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(s,e,n){return`firebase:${s}:${e}:${n}`}class So{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Uh(this.userKey,l.apiKey,u),this.fullPersistenceKey=Uh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await nd(this.auth,{idToken:e}).catch(()=>{});return n?os._fromGetAccountInfoResponse(this.auth,n,e):null}return os._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new So(pa(z0),e,r);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||pa(z0);const d=Uh(r,e.config.apiKey,e.name);let p=null;for(const y of n)try{const x=await y._get(d);if(x){let b;if(typeof x=="string"){const T=await nd(e,{idToken:x}).catch(()=>{});if(!T)break;b=await os._fromGetAccountInfoResponse(e,T,x)}else b=os._fromJSON(e,x);y!==u&&(p=b),u=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new So(u,e,r):(u=g[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new So(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RT(e))return"Blackberry";if(IT(e))return"Webos";if(NT(e))return"Safari";if((e.includes("chrome/")||jT(e))&&!e.includes("edge/"))return"Chrome";if(CT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function wT(s=ln()){return/firefox\//i.test(s)}function NT(s=ln()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jT(s=ln()){return/crios\//i.test(s)}function AT(s=ln()){return/iemobile/i.test(s)}function CT(s=ln()){return/android/i.test(s)}function RT(s=ln()){return/blackberry/i.test(s)}function IT(s=ln()){return/webos/i.test(s)}function Mg(s=ln()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function qR(s=ln()){return Mg(s)&&!!window.navigator?.standalone}function HR(){return GN()&&document.documentMode===10}function DT(s=ln()){return Mg(s)||CT(s)||IT(s)||RT(s)||/windows phone/i.test(s)||AT(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(s,e=[]){let n;switch(s){case"Browser":n=B0(ln());break;case"Worker":n=`${B0(ln())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((d,p)=>{try{const g=e(u);d(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(s,e={}){return Ar(s,"GET","/v2/passwordPolicy",jr(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=6;class KR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$R,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F0(this),this.idTokenSubscription=new F0(this),this.beforeStateQueue=new GR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pa(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await So.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nd(this,{idToken:e}),r=await os._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(va(this));const n=e?Qt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(va(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(va(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QR(this),n=new KR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await FR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pa(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[pa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,l);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&SR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Si(s){return Qt(s)}class F0{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZN(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XR(s){Od=s}function OT(s){return Od.loadJS(s)}function WR(){return Od.recaptchaEnterpriseScript}function JR(){return Od.gapiScript}function ZR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class eI{constructor(){this.enterprise=new tI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nI="recaptcha-enterprise",MT="NO_RECAPTCHA";class sI{constructor(e){this.type=nI,this.auth=Si(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{OR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new kR(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function l(u,d,p){const g=window.grecaptcha;P0(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{d(y)}).catch(()=>{d(MT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eI().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(p=>{if(!n&&P0(window.grecaptcha))l(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=WR();g.length!==0&&(g+=p),OT(g).then(()=>{l(p,u,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function q0(s,e,n,r=!1,l=!1){const u=new sI(s);let d;if(l)d=MT;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Lp(s,e,n,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await q0(s,e,n,n==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await q0(s,e,n,n==="getOobCode");return r(s,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(s,e){const n=Wp(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(mi(u,e??{}))return l;hs(l,"already-initialized")}return n.initialize({options:e})}function rI(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(pa);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function iI(s,e,n){const r=Si(s);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=VT(e),{host:d,port:p}=oI(e),g=p===null?"":`:${p}`,y={url:`${u}//${d}${g}/`},x=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(mi(y,r.config.emulator)&&mi(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,Lo(d)?(CE(`${u}//${d}${g}`),RE("Auth",!0)):lI()}function VT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function oI(s){const e=VT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:H0(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:H0(d)}}}function H0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function lI(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ma("not implemented")}_getIdTokenResponse(e){return ma("not implemented")}_linkToIdToken(e,n){return ma("not implemented")}_getReauthenticationResolver(e){return ma("not implemented")}}async function cI(s,e){return Ar(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(s,e){return Uc(s,"POST","/v1/accounts:signInWithPassword",jr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(s,e){return Uc(s,"POST","/v1/accounts:signInWithEmailLink",jr(s,e))}async function dI(s,e){return Uc(s,"POST","/v1/accounts:signInWithEmailLink",jr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends Vg{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new bc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new bc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lp(e,n,"signInWithPassword",uI);case"emailLink":return hI(e,{email:this._email,oobCode:this._password});default:hs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lp(e,r,"signUpPassword",cI);case"emailLink":return dI(e,{idToken:n,email:this._email,oobCode:this._password});default:hs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(s,e){return Uc(s,"POST","/v1/accounts:signInWithIdp",jr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="http://localhost";class vi extends Vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=n;if(!r||!l)return null;const d=new vi(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){const e={requestUri:fI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ic(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pI(s){const e=Zl(ec(s)).link,n=e?Zl(ec(e)).deep_link_id:null,r=Zl(ec(s)).deep_link_id;return(r?Zl(ec(r)).link:null)||r||n||e||s}class Pg{constructor(e){const n=Zl(ec(e)),r=n.apiKey??null,l=n.oobCode??null,u=mI(n.mode??null);we(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=pI(e);try{return new Pg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.providerId=Go.PROVIDER_ID}static credential(e,n){return bc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Pg.parseLink(n);return we(r,"argument-error"),bc._fromEmailAndCode(e,r.code,r.tenantId)}}Go.PROVIDER_ID="password";Go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends PT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends zc{constructor(){super("facebook.com")}static credential(e){return vi._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends zc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vi._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return or.credential(n,r)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends zc{constructor(){super("github.com")}static credential(e){return vi._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends zc{constructor(){super("twitter.com")}static credential(e,n){return vi._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return cr.credential(n,r)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(s,e){return Uc(s,"POST","/v1/accounts:signUp",jr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const u=await os._fromIdTokenResponse(e,r,l),d=G0(r);return new _i({user:u,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=G0(r);return new _i({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function G0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad extends wa{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,ad.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new ad(e,n,r,l)}}function LT(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ad._fromErrorAndOperation(s,u,e,r):u})}async function yI(s,e,n=!1){const r=await Ec(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return _i._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(s,e,n=!1){const{auth:r}=s;if(Gn(r.app))return Promise.reject(va(r));const l="reauthenticate";try{const u=await Ec(s,LT(r,l,e,s),n);we(u.idToken,r,"internal-error");const d=Og(u.idToken);we(d,r,"internal-error");const{sub:p}=d;return we(s.uid===p,r,"user-mismatch"),_i._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&hs(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UT(s,e,n=!1){if(Gn(s.app))return Promise.reject(va(s));const r="signIn",l=await LT(s,r,e),u=await _i._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(u.user),u}async function _I(s,e){return UT(Si(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zT(s){const e=Si(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xI(s,e,n){if(Gn(s.app))return Promise.reject(va(s));const r=Si(s),d=await Lp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gI).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&zT(s),g}),p=await _i._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function EI(s,e,n){return Gn(s.app)?Promise.reject(va(s)):_I(Qt(s),Go.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zT(s),r})}function bI(s,e,n,r){return Qt(s).onIdTokenChanged(e,n,r)}function TI(s,e,n){return Qt(s).beforeAuthStateChanged(e,n)}function SI(s,e,n,r){return Qt(s).onAuthStateChanged(e,n,r)}function wI(s){return Qt(s).signOut()}const rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=1e3,jI=10;class FT extends BT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);HR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,jI):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},NI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FT.type="LOCAL";const AI=FT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT extends BT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qT.type="SESSION";const HT=qT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new Md(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(n.origin,u)),g=await CI(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,g)=>{const y=Lg("",20);l.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(b){const T=b;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(x),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(T.data.response);break;default:clearTimeout(x),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(){return window}function II(s){qs().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(){return typeof qs().WorkerGlobalScope<"u"&&typeof qs().importScripts=="function"}async function DI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kI(){return navigator?.serviceWorker?.controller||null}function OI(){return GT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="firebaseLocalStorageDb",MI=1,id="firebaseLocalStorage",$T="fbase_key";class Bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vd(s,e){return s.transaction([id],e?"readwrite":"readonly").objectStore(id)}function VI(){const s=indexedDB.deleteDatabase(QT);return new Bc(s).toPromise()}function Up(){const s=indexedDB.open(QT,MI);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(id,{keyPath:$T})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(id)?e(r):(r.close(),await VI(),e(await Up()))})})}async function Q0(s,e,n){const r=Vd(s,!0).put({[$T]:e,value:n});return new Bc(r).toPromise()}async function PI(s,e){const n=Vd(s,!1).get(e),r=await new Bc(n).toPromise();return r===void 0?null:r.value}function $0(s,e){const n=Vd(s,!0).delete(e);return new Bc(n).toPromise()}const LI=800,UI=3;class KT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Up(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Md._getInstance(OI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await DI(),!this.activeServiceWorker)return;this.sender=new RI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Up();return await Q0(e,rd,"1"),await $0(e,rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Q0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>PI(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Vd(l,!1).getAll();return new Bc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KT.type="LOCAL";const zI=KT;new Lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(s,e){return e?pa(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug extends Vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function FI(s){return UT(s.auth,new Ug(s),s.bypassAuthState)}function qI(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),vI(n,new Ug(s),s.bypassAuthState)}async function HI(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),yI(n,new Ug(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FI;case"linkViaPopup":case"linkViaRedirect":return HI;case"reauthViaPopup":case"reauthViaRedirect":return qI;default:hs(this.auth,"internal-error")}}resolve(e){Ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=new Lc(2e3,1e4);class xo extends YT{constructor(e,n,r,l,u){super(e,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,xo.currentPopupAction&&xo.currentPopupAction.cancel(),xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ta(this.filter.length===1,"Popup operations only handle one event");const e=Lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GI.get())};e()}}xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="pendingRedirect",zh=new Map;class $I extends YT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zh.get(this.auth._key());if(!e){try{const r=await KI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zh.set(this.auth._key(),e)}return this.bypassAuthState||zh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KI(s,e){const n=WI(e),r=XI(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function YI(s,e){zh.set(s._key(),e)}function XI(s){return pa(s._redirectPersistence)}function WI(s){return Uh(QI,s.config.apiKey,s.name)}async function JI(s,e,n=!1){if(Gn(s.app))return Promise.reject(va(s));const r=Si(s),l=BI(r,e),d=await new $I(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=600*1e3;class eD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!XT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Fs(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZI&&this.cachedEventUids.clear(),this.cachedEventUids.has(K0(e))}saveEventToCache(e){this.cachedEventUids.add(K0(e)),this.lastProcessedEventTime=Date.now()}}function K0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function XT({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function tD(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XT(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(s,e={}){return Ar(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aD=/^https?/;async function rD(s){if(s.config.emulator)return;const{authorizedDomains:e}=await nD(s);for(const n of e)try{if(iD(n))return}catch{}hs(s,"unauthorized-domain")}function iD(s){const e=Vp(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!aD.test(n))return!1;if(sD.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new Lc(3e4,6e4);function Y0(){const s=qs().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function lD(s){return new Promise((e,n)=>{function r(){Y0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Y0(),n(Fs(s,"network-request-failed"))},timeout:oD.get()})}if(qs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qs().gapi?.load)r();else{const l=ZR("iframefcb");return qs()[l]=()=>{gapi.load?r():n(Fs(s,"network-request-failed"))},OT(`${JR()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Bh=null,e})}let Bh=null;function cD(s){return Bh=Bh||lD(s),Bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=new Lc(5e3,15e3),hD="__/auth/iframe",dD="emulator/auth/iframe",fD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pD(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?kg(e,dD):`https://${s.config.authDomain}/${hD}`,r={apiKey:e.apiKey,appName:s.name,v:Uo},l=mD.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Ic(r).slice(1)}`}async function gD(s){const e=await cD(s),n=qs().gapi;return we(n,s,"internal-error"),e.open({where:document.body,url:pD(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fD,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=Fs(s,"network-request-failed"),p=qs().setTimeout(()=>{u(d)},uD.get());function g(){qs().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vD=500,_D=600,xD="_blank",ED="http://localhost";class X0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bD(s,e,n,r=vD,l=_D){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...yD,width:r.toString(),height:l.toString(),top:u,left:d},y=ln().toLowerCase();n&&(p=jT(y)?xD:n),wT(y)&&(e=e||ED,g.scrollbars="yes");const x=Object.entries(g).reduce((T,[R,q])=>`${T}${R}=${q},`,"");if(qR(y)&&p!=="_self")return TD(e||"",p),new X0(null);const b=window.open(e||"",p,x);we(b,s,"popup-blocked");try{b.focus()}catch{}return new X0(b)}function TD(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="__/auth/handler",wD="emulator/auth/handler",ND=encodeURIComponent("fac");async function W0(s,e,n,r,l,u){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Uo,eventId:l};if(e instanceof PT){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",JN(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,b]of Object.entries({}))d[x]=b}if(e instanceof zc){const x=e.getScopes().filter(b=>b!=="");x.length>0&&(d.scopes=x.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const g=await s._getAppCheckToken(),y=g?`#${ND}=${encodeURIComponent(g)}`:"";return`${jD(s)}?${Ic(p).slice(1)}${y}`}function jD({config:s}){return s.emulator?kg(s,wD):`https://${s.authDomain}/${SD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="webStorageSupport";class AD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HT,this._completeRedirectFn=JI,this._overrideRedirectResult=YI}async _openPopup(e,n,r,l){Ta(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await W0(e,n,r,Vp(),l);return bD(e,u,Lg())}async _openRedirect(e,n,r,l){await this._originValidation(e);const u=await W0(e,n,r,Vp(),l);return II(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Ta(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await gD(e),r=new eD(e);return n.register("authEvent",l=>(we(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(op,{type:op},l=>{const u=l?.[0]?.[op];u!==void 0&&n(!!u),hs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DT()||NT()||Mg()}}const CD=AD;var J0="@firebase/auth",Z0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DD(s){Ao(new pi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;we(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kT(s)},y=new YR(r,l,u,g);return rI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ao(new pi("auth-internal",e=>{const n=Si(e.getProvider("auth").getImmediate());return(r=>new RD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(J0,Z0,ID(s)),mr(J0,Z0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=300,OD=AE("authIdTokenMaxAge")||kD;let eE=null;const MD=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>OD)return;const l=n?.token;eE!==l&&(eE=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function VD(s=OE()){const e=Wp(s,"auth");if(e.isInitialized())return e.getImmediate();const n=aI(s,{popupRedirectResolver:CD,persistence:[zI,AI,HT]}),r=AE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=MD(u.toString());TI(n,d,()=>d(n.currentUser)),bI(n,p=>d(p))}}const l=NE("auth");return l&&iI(n,`http://${l}`),n}function PD(){return document.getElementsByTagName("head")?.[0]??document}XR({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=Fs("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",PD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DD("Browser");const LD={apiKey:"AIzaSyAnPTDbFVZA9o0rUZi8MdrrFkybwb7Kjqo",authDomain:"goldcury-24db9.firebaseapp.com",projectId:"goldcury-24db9",storageBucket:"goldcury-24db9.firebasestorage.app",messagingSenderId:"872072121733",appId:"1:872072121733:web:9db7270d4c2a3b951408ec"},WT=kE(LD),Ae=cR(WT),Ah=VD(WT);function No(s){if(typeof s=="string")return s;switch(s?.code||""){case"auth/user-not-found":return"Usurio no encontrado. Verifique seu email.";case"auth/wrong-password":return"Senha incorreta. Tente novamente.";case"auth/invalid-email":return"Email invlido. Verifique o formato.";case"auth/email-already-in-use":return"Este email j est em uso. Tente fazer login.";case"auth/weak-password":return"A senha  muito fraca. Use pelo menos 6 caracteres.";case"auth/too-many-requests":return"Muitas tentativas. Tente novamente em alguns minutos.";case"auth/user-disabled":return"Conta desabilitada. Entre em contato com o suporte.";case"auth/network-request-failed":return"Erro de conexo. Verifique sua internet.";case"auth/invalid-api-key":return"Erro de configurao. Entre em contato com o suporte.";case"auth/operation-not-allowed":return"Operao no permitida. Entre em contato com o suporte.";default:return s?.message?s.message:"Erro inesperado. Tente novamente."}}const Ch={async logOut(){try{await wI(Ah)}catch(s){const e=No(s);throw new Error(e)}},async login(s){try{const n=(await EI(Ah,s.email,s.password)).user,r=await Mp(ct(Ae,"users",n.uid));if(!r.exists())throw new Error("Usurio no encontrado no sistema.");const l=r.data(),u={...l,uid:l.uid||n.uid,email:l.email||n.email||"",name:l.name||"",phone:l.phone||"",createdAt:l.createdAt?.toDate?l.createdAt.toDate():new Date,updatedAt:l.updatedAt?.toDate?l.updatedAt.toDate():new Date,lastLogin:l.lastLogin?.toDate?l.lastLogin.toDate():void 0,role:l.role||"user"},d={...u,lastLogin:Nh(),updatedAt:Nh()};return await M0(ct(Ae,"users",n.uid),d,{merge:!0}),{...u,lastLogin:new Date,updatedAt:new Date}}catch(e){const n=No(e);throw new Error(n)}},async register(s){try{if(!s.email||!s.password||!s.name)throw new Error("Todos os campos so obrigatrios");if(s.password.length<6)throw new Error("A senha deve ter pelo menos 6 caracteres");const n=(await xI(Ah,s.email,s.password)).user,r={uid:n.uid,email:s.email,name:s.name,phone:s.phone||"",createdAt:Nh(),updatedAt:Nh(),role:s.role||"user"};return await M0(ct(Ae,"users",n.uid),r),{...r,createdAt:new Date,updatedAt:new Date}}catch(e){const n=No(e);throw new Error(n)}},observeAuthState(s){try{return SI(Ah,async e=>{if(console.log(" Auth state changed:",e?e.uid:"null"),e)try{const n=await Mp(ct(Ae,"users",e.uid));if(n.exists()){const r=n.data(),l={uid:r.uid||e.uid,email:r.email||e.email||"",name:r.name||"",phone:r.phone||"",createdAt:r.createdAt?.toDate?r.createdAt.toDate():new Date,updatedAt:r.updatedAt?.toDate?r.updatedAt.toDate():new Date,lastLogin:r.lastLogin?.toDate?r.lastLogin.toDate():void 0,role:r.role||"user"};console.log(" Usurio autenticado:",l),s(l)}else console.log(" Usurio no encontrado no Firestore"),s(null)}catch(n){console.error(" Erro ao buscar dados do usurio:",n),s(null)}else console.log(" Usurio deslogado"),s(null)})}catch(e){throw new Error("Erro ao observar estado de autenticao: "+e)}}},JT=D.createContext(void 0);function UD({children:s}){const[e,n]=D.useState(null),[r,l]=D.useState(!0),[u,d]=D.useState(null);D.useEffect(()=>{const T=Ch.observeAuthState(R=>{n(R),l(!1)});return()=>{T()}},[]);const b={user:e,loading:r,error:u,login:async T=>{try{l(!0),d(null);const R=await Ch.login(T);return n(R),l(!1),R}catch(R){const q=No(R);throw d(q),l(!1),n(null),R}},register:async T=>{try{l(!0),d(null);const R=await Ch.register(T);return n(R),l(!1),R}catch(R){const q=No(R);throw d(q),l(!1),n(null),R}},logout:async()=>{try{l(!0),d(null),await Ch.logOut(),n(null),l(!1)}catch(T){const R=No(T);d(R),l(!1)}},clearError:()=>{d(null)}};return o.jsx(JT.Provider,{value:b,children:s})}const Cr=()=>{const s=D.useContext(JT);if(s===void 0)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return s},lp=({children:s})=>{const{user:e,loading:n}=Cr();return n?o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",color:"#64748b"},children:"Carregando..."}):e?o.jsx(o.Fragment,{children:s}):o.jsx(up,{to:Me.login,replace:!0})},zg=s=>s==="admin"||s==="gerente"||s==="caixa"||s==="lavador",zD=s=>({admin:"Administrador",gerente:"Gerente",caixa:"Caixa",lavador:"Lavador",user:"Cliente"})[s||"user"],fa=({children:s})=>{const{user:e,loading:n}=Cr();return n?o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",color:"#64748b"},children:"Carregando..."}):e?zg(e.role)?o.jsx(o.Fragment,{children:s}):o.jsx(up,{to:Me.profile,replace:!0}):o.jsx(up,{to:Me.login,replace:!0})},ZT=({children:s,variant:e="primary",size:n="medium",disabled:r=!1,type:l="button",onClick:u,className:d,fullWidth:p=!1})=>{const g=["button",`button--${e}`,n!=="medium"&&`button--${n}`,p&&"button--full",d].filter(Boolean).join(" ");return o.jsx("button",{type:l,disabled:r,onClick:u,className:g,children:s})},BD=()=>{const[s,e]=D.useState({email:"",password:""}),{login:n,loading:r,error:l,clearError:u}=Cr(),d=Ac(),p=y=>{const{name:x,value:b}=y.target;e(T=>({...T,[x]:b})),l&&u()},g=async y=>{if(y.preventDefault(),!(!s.email||!s.password))try{const x=await n(s);zg(x.role)?d(Me.dashboard):d(Me.profile)}catch(x){console.error("Erro ao fazer login:",x)}};return o.jsx("div",{className:"login-container",children:o.jsx("div",{className:"login-form-container",children:o.jsxs("div",{className:"login-form-card",children:[o.jsxs("div",{className:"login-header",children:[o.jsx("p",{className:"login-title",children:"Bem-vindo de volta"}),o.jsx("p",{className:"login-subtitle",children:"Entre com suas credenciais para continuar"})]}),o.jsxs("form",{className:"login-form",onSubmit:g,children:[l&&o.jsx("div",{className:"login-error",children:l}),o.jsxs("div",{className:"login-field",children:[o.jsx("label",{htmlFor:"email",className:"login-label",children:"Email"}),o.jsx("input",{type:"email",name:"email",id:"email",autoComplete:"email",placeholder:"Digite seu email",value:s.email,onChange:p,className:"login-input",required:!0})]}),o.jsxs("div",{className:"login-field",children:[o.jsx("label",{htmlFor:"password",className:"login-label",children:"Senha"}),o.jsx("input",{type:"password",name:"password",id:"password",autoComplete:"current-password",placeholder:"Digite sua senha",value:s.password,onChange:p,required:!0,className:"login-input"})]}),o.jsx("div",{className:"login-buttons",children:o.jsx(ZT,{type:"submit",variant:"primary",className:"login-button",size:"large",disabled:r||!s.email||!s.password,children:"Entrar"})}),o.jsx("div",{className:"login-footer",children:o.jsxs("span",{className:"login-footer-text",children:["No tem uma conta? ","",o.jsx(Ht,{to:Me.register,className:"login-footer-link",children:"Cadastre-se"})]})})]})]})})})},FD=()=>{const[s,e]=D.useState({email:"",password:"",name:"",phone:"",role:"user"}),{register:n,loading:r,error:l,clearError:u}=Cr(),d=Ac(),p=x=>{const{name:b,value:T}=x.target;e(R=>({...R,[b]:T})),l&&u()},g=()=>!s.email||!s.password||!s.name?"Todos os campos so obrigatrios":s.password.length<6?"A senha deve ter pelo menos 6 caracteres":null,y=async x=>{x.preventDefault();const b=g();if(b){alert(b);return}try{const T={...s,role:"user"};await n(T),d(Me.profile)}catch(T){console.error("Erro ao registrar usurio:",T)}};return o.jsx("div",{className:"register-container",children:o.jsx("div",{className:"register-form-container",children:o.jsxs("div",{className:"register-form-card",children:[o.jsxs("div",{className:"register-header",children:[o.jsx("p",{className:"register-title",children:"Criar conta"}),o.jsx("p",{className:"register-subtitle",children:"Preencha os campos abaixo para criar sua conta"})]}),o.jsxs("form",{className:"register-form",onSubmit:y,children:[l&&o.jsx("div",{className:"register-error",children:l}),o.jsxs("div",{className:"register-field",children:[o.jsx("label",{htmlFor:"name",className:"register-label",children:"Nome completo"}),o.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:s.name,onChange:p,className:"register-input",placeholder:"Digite seu nome completo"})]}),o.jsxs("div",{className:"register-field",children:[o.jsx("label",{htmlFor:"email",className:"register-label",children:"Email"}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:p,className:"register-input",placeholder:"Digite seu e-mail"})]}),o.jsxs("div",{className:"register-field",children:[o.jsx("label",{htmlFor:"phone",className:"register-label",children:"Telefone (Opcional)"}),o.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",value:s.phone,onChange:p,className:"register-input",placeholder:"Digite seu telefone"})]}),o.jsxs("div",{className:"register-field",children:[o.jsx("label",{htmlFor:"password",className:"register-label",children:"Senha"}),o.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:s.password,onChange:p,className:"register-input",placeholder:"Digite sua senha (mn. 6 caracteres)"})]}),o.jsx("div",{className:"register-buttons",children:o.jsx(ZT,{type:"submit",size:"large",disabled:r||!s.email||!s.password||!s.name,className:"register-button",children:"Cadastrar"})}),o.jsx("div",{className:"register-footer",children:o.jsxs("span",{className:"register-footer-text",children:["J tem uma conta? ","",o.jsx(Ht,{to:Me.login,className:"register-footer-link",children:"Entrar"})]})})]})]})})})};var eS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},tE=ui.createContext&&ui.createContext(eS),qD=["attr","size","title"];function HD(s,e){if(s==null)return{};var n=GD(s,e),r,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(s);for(l=0;l<u.length;l++)r=u[l],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(s,r)&&(n[r]=s[r])}return n}function GD(s,e){if(s==null)return{};var n={};for(var r in s)if(Object.prototype.hasOwnProperty.call(s,r)){if(e.indexOf(r)>=0)continue;n[r]=s[r]}return n}function od(){return od=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])}return s},od.apply(this,arguments)}function nE(s,e){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,r)}return n}function ld(s){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nE(Object(n),!0).forEach(function(r){QD(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):nE(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}function QD(s,e,n){return e=$D(e),e in s?Object.defineProperty(s,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[e]=n,s}function $D(s){var e=KD(s,"string");return typeof e=="symbol"?e:e+""}function KD(s,e){if(typeof s!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var r=n.call(s,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function tS(s){return s&&s.map((e,n)=>ui.createElement(e.tag,ld({key:n},e.attr),tS(e.child)))}function Ee(s){return e=>ui.createElement(YD,od({attr:ld({},s.attr)},e),tS(s.child))}function YD(s){var e=n=>{var{attr:r,size:l,title:u}=s,d=HD(s,qD),p=l||n.size||"1em",g;return n.className&&(g=n.className),s.className&&(g=(g?g+" ":"")+s.className),ui.createElement("svg",od({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,d,{className:g,style:ld(ld({color:s.color||n.color},n.style),s.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),u&&ui.createElement("title",null,u),s.children)};return tE!==void 0?ui.createElement(tE.Consumer,null,n=>e(n)):e(eS)}function di(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(s)}function XD(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"polyline",attr:{points:"19 12 12 19 5 12"},child:[]}]})(s)}function cd(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(s)}function WD(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(s)}function sE(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(s)}function JD(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(s)}function ZD(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(s)}function ek(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(s)}function tk(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(s)}function nS(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(s)}function Tr(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(s)}function sS(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(s)}function Tc(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(s)}function Fc(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(s)}function aS(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(s)}function rS(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"},child:[]}]})(s)}function iS(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(s)}function nk(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 12 20 22 4 22 4 12"},child:[]},{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"7"},child:[]},{tag:"path",attr:{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"},child:[]},{tag:"path",attr:{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"},child:[]}]})(s)}function sk(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(s)}function oS(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"},child:[]},{tag:"path",attr:{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"},child:[]},{tag:"line",attr:{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"},child:[]}]})(s)}function ak(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"},child:[]},{tag:"rect",attr:{x:"2",y:"9",width:"4",height:"12"},child:[]},{tag:"circle",attr:{cx:"4",cy:"4",r:"2"},child:[]}]})(s)}function rk(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(s)}function Sc(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(s)}function ik(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(s)}function ok(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"},child:[]}]})(s)}function lk(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(s)}function lS(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(s)}function ck(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"},child:[]}]})(s)}function hr(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(s)}function uk(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"6",y:"4",width:"4",height:"16"},child:[]},{tag:"rect",attr:{x:"14",y:"4",width:"4",height:"16"},child:[]}]})(s)}function Pd(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(s)}function hk(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(s)}function dk(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(s)}function fi(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(s)}function fk(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(s)}function cS(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(s)}function mk(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(s)}function pk(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(s)}function gk(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(s)}function uS(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(s)}function yk(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(s)}function Rr(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(s)}function hS(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(s)}function dS(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(s)}function fS(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"},child:[]}]})(s)}function vk(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(s)}function jo(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(s)}function wc(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(s)}function _k(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"},child:[]},{tag:"path",attr:{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"},child:[]}]})(s)}function xk(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"},child:[]},{tag:"line",attr:{x1:"23",y1:"9",x2:"17",y2:"15"},child:[]},{tag:"line",attr:{x1:"17",y1:"9",x2:"23",y2:"15"},child:[]}]})(s)}function Ek(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(s)}function zp(s){return Ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(s)}const bk=()=>o.jsx("div",{className:"hero-section",children:o.jsxs("div",{className:"hero-container",children:[o.jsxs("header",{className:"hero-header",children:[o.jsxs("div",{className:"hero-logo",children:[o.jsx("div",{className:"logo-icon"}),o.jsx("span",{className:"logo-text",children:"Dolphinfast"})]}),o.jsxs(Ht,{to:Me.login,className:"hero-login-button",children:[o.jsx(jo,{size:16}),"Entrar"]})]}),o.jsxs("div",{className:"hero-content",children:[o.jsxs("div",{className:"hero-left",children:[o.jsxs("div",{className:"hero-badge",children:[o.jsx("span",{className:"badge-dot"}),o.jsx("span",{className:"badge-text",children:"SISTEMA DE GESTO COM IA"})]}),o.jsxs("h1",{className:"hero-headline",children:["Aceleramos seu ",o.jsx("span",{className:"highlight",children:"negcio automotivo"})," pra voc faturar"," ",o.jsx("span",{className:"highlight",children:"mais."})]}),o.jsx("p",{className:"hero-description",children:"Sem complicao e fcil de usar. A Dolphinfast ajuda estticas automotivas, valets e estacionamentos a terem mais velocidade na gesto, 24 horas por dia."}),o.jsxs("div",{className:"hero-cta",children:[o.jsxs("button",{className:"cta-button",children:["Quero velocidade na gesto",o.jsx(cd,{size:20})]}),o.jsx("p",{className:"cta-subtext",children:"Te atendemos em menos de 1 minuto."})]})]}),o.jsx("div",{className:"hero-right",children:o.jsxs("div",{className:"hero-visual-wrapper",children:[o.jsx("div",{className:"blue-accent-shape"}),o.jsxs("div",{className:"decorative-dots",children:[o.jsx("span",{className:"dot"}),o.jsx("span",{className:"dot"})]}),o.jsxs("div",{className:"visual-cards",children:[o.jsx("div",{className:"visual-card card-left",children:o.jsx("div",{className:"card-image people-card",children:o.jsxs("div",{className:"people-scene",children:[o.jsx("div",{className:"person person-1",children:o.jsx("div",{className:"person-avatar"})}),o.jsx("div",{className:"person person-2",children:o.jsx("div",{className:"person-avatar"})})]})})}),o.jsx("div",{className:"visual-card card-right",children:o.jsx("div",{className:"card-image car-card",children:o.jsx("div",{className:"car-scene",children:o.jsxs("div",{className:"car-polish",children:[o.jsx("div",{className:"polish-person",children:o.jsx("div",{className:"polish-avatar"})}),o.jsx("div",{className:"car-silhouette"})]})})})})]}),o.jsxs("div",{className:"chat-bubble chat-1",children:[o.jsx("div",{className:"chat-icon",children:o.jsx("div",{className:"icon-circle"})}),o.jsxs("div",{className:"chat-content",children:[o.jsx("span",{className:"chat-text",children:"Dolphin AI, quanto vendi esse ms?"}),o.jsx(cd,{size:14,className:"chat-arrow"})]})]}),o.jsxs("div",{className:"chat-bubble chat-2",children:[o.jsx("div",{className:"chat-icon check-icon",children:o.jsx(nS,{size:14})}),o.jsx("div",{className:"chat-content",children:o.jsx("span",{className:"chat-text",children:"Mensalista cadastrado."})})]})]})})]})]})}),Tk=()=>o.jsx("div",{className:"partners-section",children:o.jsx("div",{className:"partners-container",children:o.jsxs("div",{className:"partners-logos",children:[o.jsx("div",{className:"partner-logo",children:o.jsxs("div",{className:"logo-globo",children:[o.jsxs("div",{className:"globo-icon",children:[o.jsx("div",{className:"globo-circle-outer"}),o.jsx("div",{className:"globo-circle-inner"}),o.jsx("div",{className:"globo-square"})]}),o.jsx("span",{className:"logo-text",children:"globo"})]})}),o.jsx("div",{className:"partner-logo",children:o.jsxs("div",{className:"logo-estapar",children:[o.jsx("div",{className:"estapar-icon",children:o.jsx("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",children:o.jsx("path",{d:"M22.5 10L35 22.5H28V35H17V22.5H10L22.5 10Z",fill:"#000",fillRule:"evenodd"})})}),o.jsx("span",{className:"logo-text",children:"ESTAPAR"})]})}),o.jsx("div",{className:"partner-logo",children:o.jsxs("div",{className:"logo-maxipark",children:[o.jsx("div",{className:"maxipark-icon",children:o.jsxs("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",children:[o.jsx("path",{d:"M10 10L25 5L40 10V25L25 30L10 25V10Z",fill:"#000"}),o.jsx("path",{d:"M25 15L32.5 11.25V18.75L25 22.5L17.5 18.75V11.25L25 15Z",fill:"#fff"})]})}),o.jsx("span",{className:"logo-text",children:"MAXIPARK"})]})}),o.jsx("div",{className:"partner-logo",children:o.jsx("div",{className:"logo-gad",children:o.jsx("div",{className:"gad-icon",children:o.jsxs("svg",{width:"60",height:"42",viewBox:"0 0 60 42",fill:"none",children:[o.jsx("path",{d:"M6 6H18V13H12V19H18V26H6V6Z",fill:"#000"}),o.jsx("path",{d:"M22 6H28V18H34V6H40V26H22V6Z",fill:"#000"}),o.jsx("path",{d:"M46 6H56V13H51V15.5H56V20.5H51V26H46V6Z",fill:"#000"})]})})})}),o.jsx("div",{className:"partner-logo",children:o.jsx("div",{className:"logo-estudio",children:o.jsx("div",{className:"estudio-emblem",children:o.jsxs("svg",{width:"70",height:"70",viewBox:"0 0 70 70",fill:"none",children:[o.jsx("circle",{cx:"35",cy:"35",r:"32",stroke:"#000",strokeWidth:"2.5"}),o.jsx("text",{x:"35",y:"22",textAnchor:"middle",fontSize:"7",fill:"#000",fontWeight:"700",letterSpacing:"0.5",children:"ESTUDIO CAR"}),o.jsx("text",{x:"32",y:"25",fontSize:"4",fill:"#000",children:""}),o.jsx("text",{x:"38",y:"25",fontSize:"4",fill:"#000",children:""}),o.jsx("text",{x:"35",y:"58",textAnchor:"middle",fontSize:"7",fill:"#000",fontWeight:"700",letterSpacing:"0.5",children:"DETALHAMENTO"}),o.jsx("rect",{x:"22",y:"28",width:"26",height:"14",rx:"2",fill:"#000",opacity:"0.4"}),o.jsx("rect",{x:"24",y:"30",width:"6",height:"10",rx:"1",fill:"#fff"}),o.jsx("rect",{x:"32",y:"30",width:"6",height:"10",rx:"1",fill:"#fff"}),o.jsx("rect",{x:"40",y:"30",width:"6",height:"10",rx:"1",fill:"#fff"}),o.jsx("circle",{cx:"18",cy:"35",r:"5",fill:"#000",opacity:"0.6"}),o.jsx("circle",{cx:"52",cy:"35",r:"5",fill:"#000",opacity:"0.6"}),o.jsx("path",{d:"M12 35 Q8 32, 8 28 Q8 24, 12 25",stroke:"#000",strokeWidth:"1.5",fill:"none"}),o.jsx("path",{d:"M58 35 Q62 32, 62 28 Q62 24, 58 25",stroke:"#000",strokeWidth:"1.5",fill:"none"})]})})})})]})})}),Sk=()=>o.jsx("div",{className:"announcement-section",children:o.jsx("div",{className:"announcement-container",children:o.jsxs("div",{className:"announcement-content",children:[o.jsxs("div",{className:"announcement-badge",children:[o.jsx("div",{className:"badge-icon",children:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),o.jsx("path",{d:"M8 12L11 15L16 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),o.jsx("span",{className:"badge-text",children:" GESTO AUTOMOTIVA COM IA"})]}),o.jsxs("h2",{className:"announcement-headline",children:["Em breve um ",o.jsx("span",{className:"italic",children:"novo site"}),"."]}),o.jsx("p",{className:"announcement-description",children:"A Dolphinfast tem novidades para acelerar sua gesto automotiva! Enquanto o novo site no chega, acesse a plataforma normalmente ou fale com nossos especialistas."}),o.jsxs("button",{className:"announcement-button",children:["Quero velocidade na gesto",o.jsx(cd,{size:20})]}),o.jsx("p",{className:"announcement-subtext",children:"Te atendemos em menos de 1 minuto."})]})})}),wk="dQw4w9WgXcQ",Nk=()=>{const[s,e]=D.useState(!1),[n,r]=D.useState(!1),[l,u]=D.useState("0:00"),[d,p]=D.useState("0:00"),[g,y]=D.useState(null),[x,b]=D.useState(!1),T=D.useRef(null);D.useEffect(()=>{if(window.YT&&window.YT.Player){b(!0);return}const V=document.createElement("script");V.src="https://www.youtube.com/iframe_api";const ee=document.getElementsByTagName("script")[0];return ee.parentNode?.insertBefore(V,ee),window.onYouTubeIframeAPIReady=()=>{b(!0)},()=>{}},[]),D.useEffect(()=>{if(!x||!T.current||g)return;const V=new window.YT.Player(T.current,{videoId:wk,width:"100%",height:"100%",playerVars:{autoplay:0,controls:0,disablekb:1,enablejsapi:1,fs:0,iv_load_policy:3,modestbranding:1,playsinline:1,rel:0},events:{onReady:ee=>{const Z=ee.target.getDuration();p(q(Z))},onStateChange:ee=>{ee.data===window.YT.PlayerState.PLAYING?e(!0):e(!1),ee.data===window.YT.PlayerState.PLAYING&&R(ee.target)}}});return y(V),()=>{V&&V.destroy&&V.destroy()}},[x]),D.useEffect(()=>{if(!g||!s)return;const V=setInterval(()=>{R(g)},1e3);return()=>clearInterval(V)},[g,s]);const R=V=>{try{const ee=V.getCurrentTime();u(q(ee))}catch(ee){console.error("Erro ao obter tempo do vdeo:",ee)}},q=V=>{const ee=Math.floor(V/60),Z=Math.floor(V%60);return`${ee}:${Z.toString().padStart(2,"0")}`},k=()=>{if(g)try{s?g.pauseVideo():g.playVideo()}catch(V){console.error("Erro ao controlar reproduo:",V)}},z=()=>{if(g)try{n?(g.unMute(),r(!1)):(g.mute(),r(!0))}catch(V){console.error("Erro ao controlar udio:",V)}},$=()=>{if(g)try{g.getIframe().requestFullscreen?.()}catch(V){console.error("Erro ao entrar em tela cheia:",V)}};return o.jsx("div",{className:"video-player-section",children:o.jsxs("div",{className:"video-player-container",children:[o.jsxs("div",{className:"video-text-content",children:[o.jsxs("div",{className:"video-badge",children:[o.jsx("div",{className:"badge-icon-circle",children:o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[o.jsx("circle",{cx:"10",cy:"10",r:"9",stroke:"#60a5fa",strokeWidth:"1.5"}),o.jsx("path",{d:"M6 10L9 13L14 7",stroke:"#60a5fa",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),o.jsx("span",{className:"badge-label",children:" REVOLUCIONAMOS MAIS UMA VEZ"})]}),o.jsxs("h2",{className:"video-headline",children:["Conhea a nova ",o.jsx("span",{className:"brand-name",children:"Dolphinfast"})]}),o.jsxs("p",{className:"video-description",children:["Mais ",o.jsx("strong",{children:"tecnolgica"}),", mais ",o.jsx("strong",{children:"rpida"}),", mais ",o.jsx("strong",{children:"conectada"})," e usando ",o.jsx("strong",{children:"inteligncia artificial"})," pra entregar velocidade no seu negcio automotivo. Somos o primeiro sistema de gesto com IA do Brasil para estticas automotivas, valets e estacionamentos."]})]}),o.jsxs("div",{className:"video-player-wrapper",children:[o.jsx("div",{ref:T,className:"video-element youtube-player",style:{width:"100%",height:"100%"}}),o.jsxs("div",{className:"video-controls-bar",children:[o.jsxs("div",{className:"controls-left",children:[o.jsx("button",{className:"control-button play-button",onClick:k,"aria-label":s?"Pausar":"Reproduzir",children:s?o.jsx(uk,{size:18}):o.jsx(dk,{size:18})}),o.jsxs("span",{className:"time-display",children:[l," / ",d]})]}),o.jsxs("div",{className:"controls-right",children:[o.jsx("button",{className:"control-button",onClick:z,"aria-label":n?"Ativar som":"Desativar som",children:n?o.jsx(xk,{size:18}):o.jsx(_k,{size:18})}),o.jsx("button",{className:"control-button",onClick:$,"aria-label":"Tela cheia",children:o.jsx(ok,{size:18})}),o.jsx("button",{className:"control-button","aria-label":"Mais opes",children:o.jsx(ck,{size:18})})]})]})]})]})})},jk=()=>{const[s,e]=D.useState({name:"",email:"",whatsapp:"",isClient:"",businessSegment:[],companyName:"",challenge:""}),n=d=>{const{name:p,value:g}=d.target;e(y=>({...y,[p]:g}))},r=d=>{e(p=>({...p,isClient:d.target.value}))},l=d=>{const{value:p,checked:g}=d.target;e(y=>g?{...y,businessSegment:[...y.businessSegment,p]}:{...y,businessSegment:y.businessSegment.filter(x=>x!==p)})},u=d=>{d.preventDefault(),console.log("Form data:",s)};return o.jsx("div",{className:"contact-form-section",children:o.jsx("div",{className:"contact-form-container",children:o.jsxs("form",{className:"contact-form",onSubmit:u,children:[o.jsx("h2",{className:"form-title",children:"Preencha o formulrio e fale agora com um especialista da Dolphinfast."}),o.jsxs("div",{className:"form-field",children:[o.jsx("label",{htmlFor:"name",className:"field-label",children:"Qual o seu nome?"}),o.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:n,className:"form-input",required:!0})]}),o.jsxs("div",{className:"form-field",children:[o.jsx("label",{htmlFor:"email",className:"field-label",children:"Qual o seu e-mail?"}),o.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:n,className:"form-input",required:!0})]}),o.jsxs("div",{className:"form-field",children:[o.jsx("label",{htmlFor:"whatsapp",className:"field-label",children:"Qual o seu whatsapp, com DDD?"}),o.jsx("input",{type:"tel",id:"whatsapp",name:"whatsapp",value:s.whatsapp,onChange:n,className:"form-input",placeholder:"(00) 00000-0000",required:!0})]}),o.jsxs("div",{className:"form-field",children:[o.jsx("label",{className:"field-label",children:"Voc j  cliente Dolphinfast?"}),o.jsxs("div",{className:"radio-group",children:[o.jsxs("label",{className:"radio-label",children:[o.jsx("input",{type:"radio",name:"isClient",value:"sim",checked:s.isClient==="sim",onChange:r,className:"radio-input"}),o.jsx("span",{className:"radio-text",children:"Sim"})]}),o.jsxs("label",{className:"radio-label",children:[o.jsx("input",{type:"radio",name:"isClient",value:"nao",checked:s.isClient==="nao",onChange:r,className:"radio-input"}),o.jsx("span",{className:"radio-text",children:"No"})]})]})]}),o.jsxs("div",{className:"form-field",children:[o.jsx("label",{className:"field-label",children:"Qual  o segmento do seu negcio?"}),o.jsxs("div",{className:"checkbox-group",children:[o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",value:"estacionamento",checked:s.businessSegment.includes("estacionamento"),onChange:l,className:"checkbox-input"}),o.jsx("span",{className:"checkbox-text",children:"Estacionamento"})]}),o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",value:"valet",checked:s.businessSegment.includes("valet"),onChange:l,className:"checkbox-input"}),o.jsx("span",{className:"checkbox-text",children:"Valet"})]}),o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",value:"lava-rapido",checked:s.businessSegment.includes("lava-rapido"),onChange:l,className:"checkbox-input"}),o.jsx("span",{className:"checkbox-text",children:"Lava-Rpido"})]}),o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",value:"estetica-automotiva",checked:s.businessSegment.includes("estetica-automotiva"),onChange:l,className:"checkbox-input"}),o.jsx("span",{className:"checkbox-text",children:"Esttica Automotiva"})]})]})]}),o.jsxs("div",{className:"form-field",children:[o.jsx("label",{htmlFor:"companyName",className:"field-label",children:"Qual o nome da sua empresa?"}),o.jsx("input",{type:"text",id:"companyName",name:"companyName",value:s.companyName,onChange:n,className:"form-input"})]}),o.jsxs("div",{className:"form-field",children:[o.jsx("label",{htmlFor:"challenge",className:"field-label",children:"Qual  o seu maior desafio com gesto?"}),o.jsx("textarea",{id:"challenge",name:"challenge",value:s.challenge,onChange:n,className:"form-textarea",rows:3})]}),o.jsxs("button",{type:"submit",className:"submit-button",children:["Enviar para especialista",o.jsx(cd,{size:20})]})]})})})},Ak=()=>{const s=new Date().getFullYear();return o.jsx("footer",{className:"footer-section",children:o.jsxs("div",{className:"footer-container",children:[o.jsxs("div",{className:"footer-content",children:[o.jsxs("div",{className:"footer-column footer-brand",children:[o.jsxs("div",{className:"footer-logo",children:[o.jsx("div",{className:"logo-icon"}),o.jsx("span",{className:"logo-text",children:"Dolphinfast"})]}),o.jsx("p",{className:"footer-description",children:"Sistema de gesto com IA para acelerar seu negcio automotivo. Mais velocidade, mais resultados."}),o.jsxs("div",{className:"social-links",children:[o.jsx("a",{href:"#",className:"social-link","aria-label":"Facebook",children:o.jsx(rS,{size:20})}),o.jsx("a",{href:"#",className:"social-link","aria-label":"Instagram",children:o.jsx(oS,{size:20})}),o.jsx("a",{href:"#",className:"social-link","aria-label":"LinkedIn",children:o.jsx(ak,{size:20})}),o.jsx("a",{href:"#",className:"social-link","aria-label":"Twitter",children:o.jsx(fS,{size:20})})]})]}),o.jsxs("div",{className:"footer-column",children:[o.jsx("h3",{className:"footer-title",children:"Produtos"}),o.jsxs("ul",{className:"footer-links",children:[o.jsx("li",{children:o.jsx(Ht,{to:"#",className:"footer-link",children:"CRM"})}),o.jsx("li",{children:o.jsx(Ht,{to:"#",className:"footer-link",children:"Estoque"})}),o.jsx("li",{children:o.jsx(Ht,{to:"#",className:"footer-link",children:"RH"})}),o.jsx("li",{children:o.jsx(Ht,{to:"#",className:"footer-link",children:"Dashboard"})})]})]}),o.jsxs("div",{className:"footer-column",children:[o.jsx("h3",{className:"footer-title",children:"Empresa"}),o.jsxs("ul",{className:"footer-links",children:[o.jsx("li",{children:o.jsx(Ht,{to:"#",className:"footer-link",children:"Sobre Ns"})}),o.jsx("li",{children:o.jsx(Ht,{to:"#",className:"footer-link",children:"Blog"})}),o.jsx("li",{children:o.jsx(Ht,{to:"#",className:"footer-link",children:"Carreiras"})}),o.jsx("li",{children:o.jsx(Ht,{to:"#",className:"footer-link",children:"Parceiros"})})]})]}),o.jsxs("div",{className:"footer-column",children:[o.jsx("h3",{className:"footer-title",children:"Suporte"}),o.jsxs("ul",{className:"footer-links",children:[o.jsx("li",{children:o.jsx(Ht,{to:"#",className:"footer-link",children:"Central de Ajuda"})}),o.jsx("li",{children:o.jsx(Ht,{to:"#",className:"footer-link",children:"Documentao"})}),o.jsx("li",{children:o.jsx(Ht,{to:"#",className:"footer-link",children:"Contato"})}),o.jsx("li",{children:o.jsx(Ht,{to:"#",className:"footer-link",children:"Poltica de Privacidade"})})]})]}),o.jsxs("div",{className:"footer-column",children:[o.jsx("h3",{className:"footer-title",children:"Contato"}),o.jsxs("ul",{className:"footer-contact",children:[o.jsxs("li",{className:"contact-item",children:[o.jsx(Sc,{size:18,className:"contact-icon"}),o.jsx("a",{href:"mailto:contato@dolphinfast.com",className:"contact-link",children:"contato@dolphinfast.com"})]}),o.jsxs("li",{className:"contact-item",children:[o.jsx(Pd,{size:18,className:"contact-icon"}),o.jsx("a",{href:"tel:+5511999999999",className:"contact-link",children:"(11) 99999-9999"})]})]})]})]}),o.jsx("div",{className:"footer-bottom",children:o.jsxs("p",{className:"footer-copyright",children:[" ",s," Dolphinfast. Todos os direitos reservados."]})})]})})},aE=()=>o.jsxs("div",{className:"landing-page",children:[o.jsx(bk,{}),o.jsx(Tk,{}),o.jsx(Sk,{}),o.jsx(Nk,{}),o.jsx(jk,{}),o.jsx(Ak,{})]}),Ck=()=>{const s=Sa(),e=Ac(),{logout:n,loading:r,user:l}=Cr(),u=async()=>{try{await n(),e(Me.landing)}catch(g){console.error("Erro ao fazer logout:",g)}},p=[{path:Me.dashboard,label:"Dashboard",icon:JD,employeeOnly:!0},{path:Me.areaCliente,label:"rea do Cliente",icon:wc,employeeOnly:!0},{path:Me.pdv,label:"PDV",icon:uS,employeeOnly:!0},{path:Me.crm,label:"CRM",icon:Pd,employeeOnly:!0},{path:Me.gestaoFinanceira,label:"Gesto Financeira e Contbil",icon:sS,employeeOnly:!0},{path:Me.recursosHumanos,label:"Recursos Humanos e Ponto",icon:vk,employeeOnly:!0},{path:Me.estoque,label:"Estoque",icon:hr,employeeOnly:!0},{path:Me.planosLavagem,label:"Planos de Lavagem",icon:dS,employeeOnly:!0},{path:Me.seguranca,label:"Segurana e Backups",icon:pk,employeeOnly:!0},{path:Me.history,label:"Histrico de Compras e Servios",icon:Tr,employeeOnly:!1},{path:Me.profile,label:"Perfil",icon:jo,employeeOnly:!1},{path:Me.contactInfo,label:"Informaes de Contato",icon:sk,employeeOnly:!1}].filter(g=>zg(l?.role)?!0:!g.employeeOnly);return o.jsxs("aside",{className:"sidebar",children:[o.jsx("div",{className:"sidebar-header",children:o.jsx("h2",{className:"sidebar-logo",children:"DolphinFast"})}),o.jsx("nav",{className:"sidebar-nav",children:o.jsx("ul",{className:"sidebar-menu",children:p.map(g=>o.jsx("li",{className:"sidebar-menu-item",children:o.jsxs(Ht,{to:g.path,className:`sidebar-link ${s.pathname===g.path?"active":""}`,children:[o.jsx("span",{className:"sidebar-icon",children:o.jsx(g.icon,{size:20})}),o.jsx("span",{className:"sidebar-label",children:g.label})]})},g.path))})}),o.jsx("div",{className:"sidebar-footer",children:o.jsxs("button",{onClick:u,disabled:r,className:"sidebar-logout-button",children:[o.jsx("span",{className:"sidebar-icon",children:o.jsx(rk,{size:20})}),o.jsx("span",{className:"sidebar-label",children:"Sair"})]})})]})},Rk=()=>{const{user:s}=Cr();return o.jsx("header",{className:"header",children:o.jsxs("div",{className:"header-content",children:[o.jsx("div",{className:"header-left",children:o.jsx("h1",{className:"header-title",children:"Sistema de Gesto"})}),o.jsxs("div",{className:"header-right",children:[o.jsxs("button",{className:"header-notification",children:[o.jsx("span",{className:"notification-icon",children:o.jsx(ZD,{size:20})}),o.jsx("span",{className:"notification-badge",children:"3"})]}),o.jsxs("div",{className:"header-user",children:[o.jsx("div",{className:"user-avatar",children:o.jsx(jo,{size:20})}),o.jsxs("div",{className:"user-info",children:[o.jsx("span",{className:"user-name",children:s?.name||"Usurio"}),o.jsx("span",{className:"user-role",children:zD(s?.role)})]})]})]})]})})},Hn=({children:s})=>o.jsxs("div",{className:"layout",children:[o.jsx(Ck,{}),o.jsxs("div",{className:"layout-main",children:[o.jsx(Rk,{}),o.jsx("main",{className:"layout-content",children:s})]})]}),Ik=()=>{const s=[{title:"Vendas do Dia",value:"R$ 2.450,00",change:"+12%",changeType:"positive",icon:Tc,color:"#10b981"},{title:"Lavagens Realizadas",value:"47",change:"+8%",changeType:"positive",icon:dS,color:"#3b82f6"},{title:"Clientes Ativos",value:"156",change:"+5%",changeType:"positive",icon:wc,color:"#8b5cf6"},{title:"Caixa Atual",value:"R$ 8.750,00",change:"+15%",changeType:"positive",icon:sS,color:"#f59e0b"}];return o.jsxs("div",{className:"summary-cards",children:[o.jsx("h2",{className:"section-title",children:"Resumo"}),o.jsx("div",{className:"cards-grid",children:s.map((e,n)=>o.jsx("div",{className:"summary-card",style:{"--card-accent-color":e.color},children:o.jsxs("div",{className:"card-header",children:[o.jsxs("div",{className:"card-header-left",children:[o.jsx("div",{className:`card-change ${e.changeType}`,children:e.change}),o.jsx("div",{className:"card-icon",style:{backgroundColor:`${e.color}15`,boxShadow:`0 4px 12px ${e.color}20`},children:o.jsx(e.icon,{size:20,style:{color:e.color}})})]}),o.jsxs("div",{className:"card-header-right",children:[o.jsx("h3",{className:"card-title",children:e.title}),o.jsx("p",{className:"card-value",children:e.value.includes("R$")?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"currency-symbol",children:"R$"})," ",o.jsx("span",{className:"currency-value",children:e.value.replace("R$","").trim()})]}):e.value})]})]})},n))})]})},Dk=()=>o.jsxs("div",{className:"charts-section",children:[o.jsx("h2",{className:"section-title",children:"Grficos"}),o.jsxs("div",{className:"charts-grid",children:[o.jsxs("div",{className:"chart-card",children:[o.jsx("div",{className:"chart-header",children:o.jsxs("div",{className:"chart-title-section",children:[o.jsx(hS,{size:20,className:"chart-icon"}),o.jsx("h3",{className:"chart-title",children:"Faturamento Dirio/Semanal"})]})}),o.jsxs("div",{className:"chart-placeholder",children:[o.jsxs("div",{className:"chart-bars",children:[o.jsx("div",{className:"bar",style:{height:"60%"}}),o.jsx("div",{className:"bar",style:{height:"80%"}}),o.jsx("div",{className:"bar",style:{height:"45%"}}),o.jsx("div",{className:"bar",style:{height:"90%"}}),o.jsx("div",{className:"bar",style:{height:"70%"}}),o.jsx("div",{className:"bar",style:{height:"85%"}}),o.jsx("div",{className:"bar",style:{height:"95%"}})]}),o.jsxs("div",{className:"chart-labels",children:[o.jsx("span",{children:"Seg"}),o.jsx("span",{children:"Ter"}),o.jsx("span",{children:"Qua"}),o.jsx("span",{children:"Qui"}),o.jsx("span",{children:"Sex"}),o.jsx("span",{children:"Sb"}),o.jsx("span",{children:"Dom"})]})]})]}),o.jsxs("div",{className:"chart-card",children:[o.jsx("div",{className:"chart-header",children:o.jsxs("div",{className:"chart-title-section",children:[o.jsx(hk,{size:20,className:"chart-icon"}),o.jsx("h3",{className:"chart-title",children:"Servios Mais Vendidos"})]})}),o.jsxs("div",{className:"chart-placeholder",children:[o.jsxs("div",{className:"pie-chart",children:[o.jsx("div",{className:"pie-segment segment-1"}),o.jsx("div",{className:"pie-segment segment-2"}),o.jsx("div",{className:"pie-segment segment-3"}),o.jsx("div",{className:"pie-segment segment-4"})]}),o.jsxs("div",{className:"chart-legend",children:[o.jsxs("div",{className:"legend-item",children:[o.jsx("div",{className:"legend-color",style:{backgroundColor:"#3b82f6"}}),o.jsx("span",{children:"Lavagem Completa"})]}),o.jsxs("div",{className:"legend-item",children:[o.jsx("div",{className:"legend-color",style:{backgroundColor:"#10b981"}}),o.jsx("span",{children:"Lavagem Simples"})]}),o.jsxs("div",{className:"legend-item",children:[o.jsx("div",{className:"legend-color",style:{backgroundColor:"#f59e0b"}}),o.jsx("span",{children:"Enceramento"})]}),o.jsxs("div",{className:"legend-item",children:[o.jsx("div",{className:"legend-color",style:{backgroundColor:"#8b5cf6"}}),o.jsx("span",{children:"Detalhamento"})]})]})]})]})]})]}),kk=()=>{const s=[{type:"warning",icon:di,title:"Estoque Baixo",description:"Produto X est com apenas 5 unidades restantes",time:"2 horas atrs",color:"#f59e0b"},{type:"error",icon:Tr,title:"Funcionrios Atrasados",description:"Joo Silva ainda no registrou entrada",time:"1 hora atrs",color:"#ef4444"},{type:"info",icon:ek,title:"Planos a Vencer",description:"3 planos de lavagem vencem nos prximos 7 dias",time:"30 min atrs",color:"#3b82f6"}];return o.jsxs("div",{className:"alerts-section",children:[o.jsx("h2",{className:"section-title",children:"Alertas"}),o.jsx("div",{className:"alerts-list",children:s.map((e,n)=>o.jsxs("div",{className:`alert-item ${e.type}`,children:[o.jsx("div",{className:"alert-icon",style:{backgroundColor:`${e.color}15`},children:o.jsx(e.icon,{size:20,style:{color:e.color}})}),o.jsxs("div",{className:"alert-content",children:[o.jsx("h3",{className:"alert-title",children:e.title}),o.jsx("p",{className:"alert-description",children:e.description}),o.jsx("span",{className:"alert-time",children:e.time})]}),o.jsx("div",{className:"alert-actions",children:o.jsx("button",{className:"alert-button",children:"Ver"})})]},n))})]})},Ok=()=>o.jsxs("div",{className:"dashboard",children:[o.jsxs("div",{className:"dashboard-header",children:[o.jsx("h1",{className:"dashboard-title",children:"Dashboard"}),o.jsx("p",{className:"dashboard-subtitle",children:"Viso geral do sistema"})]}),o.jsxs("div",{className:"dashboard-content",children:[o.jsx(Ik,{}),o.jsx(Dk,{}),o.jsx(kk,{})]})]}),Mk=({customer:s,onSubmit:e,onCancel:n})=>{const[r,l]=D.useState({name:"",email:"",phone:"",whatsapp:"",cpf:"",birthDate:"",address:{street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zipCode:""},preferences:{favoriteProducts:[],dietaryRestrictions:[],observations:""}}),[u,d]=D.useState(!1),[p,g]=D.useState("");D.useEffect(()=>{s&&l({name:s.name,email:s.email,phone:s.phone,whatsapp:s.whatsapp||"",cpf:s.cpf||"",birthDate:s.birthDate||"",address:s.address||{street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zipCode:""},preferences:s.preferences||{favoriteProducts:[],dietaryRestrictions:[],observations:""}})},[s]);const y=async R=>{R.preventDefault(),g(""),d(!0);try{await e(r)}catch(q){g("Erro ao salvar cliente"),console.error(q)}finally{d(!1)}},x=R=>{const{name:q,value:k}=R.target;l(z=>({...z,[q]:k}))},b=R=>{const{name:q,value:k}=R.target;l(z=>({...z,address:{...z.address,[q]:k}}))},T=R=>{const{name:q,value:k}=R.target;l(z=>({...z,preferences:{...z.preferences,[q]:k}}))};return o.jsxs("div",{className:"customer-form-container",children:[o.jsx("h2",{children:s?"Editar Cliente":"Novo Cliente"}),p&&o.jsx("div",{className:"error-message",children:p}),o.jsxs("form",{onSubmit:y,className:"customer-form",children:[o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{children:"Informaes Bsicas"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"name",children:"Nome Completo *"}),o.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:x,required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"email",children:"E-mail *"}),o.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:x,required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"phone",children:"Telefone *"}),o.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:x,required:!0,placeholder:"(00) 00000-0000"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"whatsapp",children:"WhatsApp"}),o.jsx("input",{type:"tel",id:"whatsapp",name:"whatsapp",value:r.whatsapp,onChange:x,placeholder:"(00) 00000-0000"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"cpf",children:"CPF"}),o.jsx("input",{type:"text",id:"cpf",name:"cpf",value:r.cpf,onChange:x,placeholder:"000.000.000-00"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"birthDate",children:"Data de Nascimento"}),o.jsx("input",{type:"date",id:"birthDate",name:"birthDate",value:r.birthDate,onChange:x})]})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{children:"Endereo"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"zipCode",children:"CEP"}),o.jsx("input",{type:"text",id:"zipCode",name:"zipCode",value:r.address?.zipCode,onChange:b,placeholder:"00000-000"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"street",children:"Rua"}),o.jsx("input",{type:"text",id:"street",name:"street",value:r.address?.street,onChange:b})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"number",children:"Nmero"}),o.jsx("input",{type:"text",id:"number",name:"number",value:r.address?.number,onChange:b})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"complement",children:"Complemento"}),o.jsx("input",{type:"text",id:"complement",name:"complement",value:r.address?.complement,onChange:b})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"neighborhood",children:"Bairro"}),o.jsx("input",{type:"text",id:"neighborhood",name:"neighborhood",value:r.address?.neighborhood,onChange:b})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"city",children:"Cidade"}),o.jsx("input",{type:"text",id:"city",name:"city",value:r.address?.city,onChange:b})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"state",children:"Estado"}),o.jsx("input",{type:"text",id:"state",name:"state",value:r.address?.state,onChange:b,maxLength:2,placeholder:"SP"})]})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{children:"Preferncias"}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"observations",children:"Observaes"}),o.jsx("textarea",{id:"observations",name:"observations",value:r.preferences?.observations,onChange:T,rows:4,placeholder:"Preferncias alimentares, restries, observaes gerais..."})]})]}),o.jsxs("div",{className:"form-actions",children:[o.jsx("button",{type:"button",onClick:n,className:"btn-cancel",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:u,className:"btn-submit",children:u?"Salvando...":"Salvar"})]})]})]})},Vk=({customers:s,onEdit:e,onDelete:n,onViewDetails:r})=>{const[l,u]=D.useState(""),[d,p]=D.useState("all"),g=s.filter(b=>{const T=b.name.toLowerCase().includes(l.toLowerCase())||b.email.toLowerCase().includes(l.toLowerCase())||b.phone.includes(l),R=d==="all"||d==="active"&&b.active||d==="inactive"&&!b.active;return T&&R}),y=b=>b.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"),x=b=>new Date(b).toLocaleDateString("pt-BR");return o.jsxs("div",{className:"customer-list-container",children:[o.jsxs("div",{className:"list-header",children:[o.jsx("h2",{children:"Clientes"}),o.jsxs("div",{className:"list-controls",children:[o.jsx("input",{type:"text",placeholder:"Buscar por nome, e-mail ou telefone...",value:l,onChange:b=>u(b.target.value),className:"search-input"}),o.jsxs("div",{className:"filter-buttons",children:[o.jsx("button",{className:d==="all"?"filter-btn active":"filter-btn",onClick:()=>p("all"),children:"Todos"}),o.jsx("button",{className:d==="active"?"filter-btn active":"filter-btn",onClick:()=>p("active"),children:"Ativos"}),o.jsx("button",{className:d==="inactive"?"filter-btn active":"filter-btn",onClick:()=>p("inactive"),children:"Inativos"})]})]})]}),o.jsxs("div",{className:"customer-stats",children:[o.jsxs("div",{className:"stat-card",children:[o.jsx("div",{className:"stat-value",children:s.length}),o.jsx("div",{className:"stat-label",children:"Total de Clientes"})]}),o.jsxs("div",{className:"stat-card",children:[o.jsx("div",{className:"stat-value",children:s.filter(b=>b.active).length}),o.jsx("div",{className:"stat-label",children:"Clientes Ativos"})]}),o.jsxs("div",{className:"stat-card",children:[o.jsx("div",{className:"stat-value",children:s.reduce((b,T)=>b+T.loyaltyPoints,0).toLocaleString()}),o.jsx("div",{className:"stat-label",children:"Total de Pontos"})]})]}),g.length===0?o.jsx("div",{className:"empty-state",children:o.jsx("p",{children:"Nenhum cliente encontrado"})}):o.jsx("div",{className:"customer-table-wrapper",children:o.jsxs("table",{className:"customer-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Nome"}),o.jsx("th",{children:"E-mail"}),o.jsx("th",{children:"Telefone"}),o.jsx("th",{children:"Pontos"}),o.jsx("th",{children:"Total Compras"}),o.jsx("th",{children:"Status"}),o.jsx("th",{children:"Cadastro"}),o.jsx("th",{children:"Aes"})]})}),o.jsx("tbody",{children:g.map(b=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("div",{className:"customer-name",children:b.name})}),o.jsx("td",{children:b.email}),o.jsx("td",{children:y(b.phone)}),o.jsx("td",{children:o.jsx("span",{className:"points-badge",children:b.loyaltyPoints})}),o.jsxs("td",{children:["R$ ",b.totalPurchases.toFixed(2)]}),o.jsx("td",{children:o.jsx("span",{className:`status-badge ${b.active?"active":"inactive"}`,children:b.active?"Ativo":"Inativo"})}),o.jsx("td",{children:x(b.createdAt)}),o.jsx("td",{children:o.jsxs("div",{className:"action-buttons",children:[o.jsx("button",{onClick:()=>r(b),className:"btn-action btn-view",title:"Ver detalhes",children:o.jsx(aS,{size:18})}),o.jsx("button",{onClick:()=>e(b),className:"btn-action btn-edit",title:"Editar",children:o.jsx(Fc,{size:18})}),o.jsx("button",{onClick:()=>{confirm(`Deseja realmente excluir ${b.name}?`)&&n(b.id)},className:"btn-action btn-delete",title:"Excluir",children:o.jsx(Rr,{size:18})})]})})]},b.id))})]})})]})},Pk=({programs:s,promotions:e,onCreateProgram:n,onCreatePromotion:r,onToggleProgram:l,onTogglePromotion:u,onDeletePromotion:d})=>{const[p,g]=D.useState("programs"),[y,x]=D.useState(!1),[b,T]=D.useState(!1),[R,q]=D.useState({name:"",description:"",pointsPerReal:1,active:!0,rules:{}}),[k,z]=D.useState({title:"",description:"",discountType:"percentage",discountValue:0,pointsCost:0,validFrom:"",validUntil:"",active:!0}),$=async Z=>{Z.preventDefault(),await n(R),q({name:"",description:"",pointsPerReal:1,active:!0,rules:{}}),x(!1)},V=async Z=>{Z.preventDefault(),await r({...k,targetCustomers:[]}),z({title:"",description:"",discountType:"percentage",discountValue:0,pointsCost:0,validFrom:"",validUntil:"",active:!0}),T(!1)},ee=Z=>new Date(Z).toLocaleDateString("pt-BR");return o.jsxs("div",{className:"loyalty-section",children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h2",{children:"Fidelizao"}),o.jsxs("div",{className:"tab-buttons",children:[o.jsx("button",{className:p==="programs"?"tab-btn active":"tab-btn",onClick:()=>g("programs"),children:"Programas de Pontos"}),o.jsx("button",{className:p==="promotions"?"tab-btn active":"tab-btn",onClick:()=>g("promotions"),children:"Promoes"})]})]}),p==="programs"&&o.jsxs("div",{className:"programs-tab",children:[o.jsxs("div",{className:"tab-header",children:[o.jsx("h3",{children:"Programas de Pontos"}),o.jsx("button",{className:"btn-new",onClick:()=>x(!y),children:y?"Cancelar":"+ Novo Programa"})]}),y&&o.jsxs("form",{onSubmit:$,className:"program-form",children:[o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Nome do Programa"}),o.jsx("input",{type:"text",value:R.name,onChange:Z=>q({...R,name:Z.target.value}),required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Pontos por R$"}),o.jsx("input",{type:"number",step:"0.1",value:R.pointsPerReal,onChange:Z=>q({...R,pointsPerReal:parseFloat(Z.target.value)}),required:!0})]}),o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{children:"Descrio"}),o.jsx("textarea",{value:R.description,onChange:Z=>q({...R,description:Z.target.value}),rows:3,required:!0})]})]}),o.jsx("button",{type:"submit",className:"btn-submit",children:"Criar Programa"})]}),o.jsx("div",{className:"programs-list",children:s.length===0?o.jsx("div",{className:"empty-state",children:o.jsx("p",{children:"Nenhum programa cadastrado"})}):s.map(Z=>o.jsxs("div",{className:"program-card",children:[o.jsxs("div",{className:"card-header",children:[o.jsx("h4",{children:Z.name}),o.jsxs("label",{className:"toggle-switch",children:[o.jsx("input",{type:"checkbox",checked:Z.active,onChange:te=>l(Z.id,te.target.checked)}),o.jsx("span",{className:"toggle-slider"})]})]}),o.jsx("p",{className:"card-description",children:Z.description}),o.jsxs("div",{className:"card-info",children:[o.jsxs("span",{className:"info-badge",children:[Z.pointsPerReal," pontos por R$1"]}),o.jsx("span",{className:`status-badge ${Z.active?"active":"inactive"}`,children:Z.active?"Ativo":"Inativo"})]})]},Z.id))})]}),p==="promotions"&&o.jsxs("div",{className:"promotions-tab",children:[o.jsxs("div",{className:"tab-header",children:[o.jsx("h3",{children:"Promoes"}),o.jsx("button",{className:"btn-new",onClick:()=>T(!b),children:b?"Cancelar":"+ Nova Promoo"})]}),b&&o.jsxs("form",{onSubmit:V,className:"promotion-form",children:[o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Ttulo"}),o.jsx("input",{type:"text",value:k.title,onChange:Z=>z({...k,title:Z.target.value}),required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Tipo de Desconto"}),o.jsxs("select",{value:k.discountType,onChange:Z=>z({...k,discountType:Z.target.value}),children:[o.jsx("option",{value:"percentage",children:"Percentual"}),o.jsx("option",{value:"fixed",children:"Valor Fixo"}),o.jsx("option",{value:"points",children:"Pontos"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Valor do Desconto"}),o.jsx("input",{type:"number",step:"0.01",value:k.discountValue,onChange:Z=>z({...k,discountValue:parseFloat(Z.target.value)}),required:!0})]}),k.discountType==="points"&&o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Custo em Pontos"}),o.jsx("input",{type:"number",value:k.pointsCost,onChange:Z=>z({...k,pointsCost:parseInt(Z.target.value)}),required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Vlido De"}),o.jsx("input",{type:"date",value:k.validFrom,onChange:Z=>z({...k,validFrom:Z.target.value}),required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Vlido At"}),o.jsx("input",{type:"date",value:k.validUntil,onChange:Z=>z({...k,validUntil:Z.target.value}),required:!0})]}),o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{children:"Descrio"}),o.jsx("textarea",{value:k.description,onChange:Z=>z({...k,description:Z.target.value}),rows:3,required:!0})]})]}),o.jsx("button",{type:"submit",className:"btn-submit",children:"Criar Promoo"})]}),o.jsx("div",{className:"promotions-list",children:e.length===0?o.jsx("div",{className:"empty-state",children:o.jsx("p",{children:"Nenhuma promoo cadastrada"})}):e.map(Z=>o.jsxs("div",{className:"promotion-card",children:[o.jsxs("div",{className:"card-header",children:[o.jsx("h4",{children:Z.title}),o.jsxs("div",{className:"card-actions",children:[o.jsxs("label",{className:"toggle-switch",children:[o.jsx("input",{type:"checkbox",checked:Z.active,onChange:te=>u(Z.id,te.target.checked)}),o.jsx("span",{className:"toggle-slider"})]}),o.jsx("button",{onClick:()=>{confirm("Deseja realmente excluir esta promoo?")&&d(Z.id)},className:"btn-delete-small",children:o.jsx(Rr,{size:18})})]})]}),o.jsx("p",{className:"card-description",children:Z.description}),o.jsxs("div",{className:"card-info",children:[o.jsxs("span",{className:"info-badge",children:[Z.discountType==="percentage"&&`${Z.discountValue}% OFF`,Z.discountType==="fixed"&&`R$ ${Z.discountValue.toFixed(2)} OFF`,Z.discountType==="points"&&`${Z.pointsCost} pontos`]}),o.jsxs("span",{className:"date-range",children:[ee(Z.validFrom)," -"," ",ee(Z.validUntil)]}),o.jsx("span",{className:`status-badge ${Z.active?"active":"inactive"}`,children:Z.active?"Ativa":"Inativa"})]})]},Z.id))})]})]})},Lk=({communications:s,customers:e,onCreateCommunication:n,onSendCommunication:r,onDeleteCommunication:l})=>{const[u,d]=D.useState(!1),[p,g]=D.useState({title:"",message:"",type:"email",targetCustomers:[],status:"draft",scheduledFor:""}),[y,x]=D.useState(!1),[b,T]=D.useState(""),R=async te=>{te.preventDefault();const X=y?e.filter(A=>A.active).map(A=>A.id):p.targetCustomers;await n({...p,targetCustomers:X}),g({title:"",message:"",type:"email",targetCustomers:[],status:"draft",scheduledFor:""}),x(!1),d(!1)},q=te=>{g(X=>({...X,targetCustomers:X.targetCustomers.includes(te)?X.targetCustomers.filter(A=>A!==te):[...X.targetCustomers,te]}))},k=e.filter(te=>te.name.toLowerCase().includes(b.toLowerCase())||te.email.toLowerCase().includes(b.toLowerCase())),z=te=>new Date(te).toLocaleString("pt-BR"),$=te=>{switch(te){case"draft":return"draft";case"scheduled":return"scheduled";case"sent":return"sent";case"failed":return"failed";default:return"draft"}},V=te=>{switch(te){case"draft":return"Rascunho";case"scheduled":return"Agendado";case"sent":return"Enviado";case"failed":return"Falhou";default:return"Desconhecido"}},ee=te=>{switch(te){case"email":return o.jsx(Sc,{});case"sms":return o.jsx(lk,{});case"whatsapp":return o.jsx(yk,{});default:return o.jsx(Sc,{})}},Z=te=>{switch(te){case"email":return"E-mail";case"sms":return"SMS";case"whatsapp":return"WhatsApp";default:return"Desconhecido"}};return o.jsxs("div",{className:"communication-section",children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h2",{children:"Comunicao"}),o.jsx("button",{className:"btn-new",onClick:()=>d(!u),children:u?"Cancelar":"+ Nova Campanha"})]}),u&&o.jsxs("form",{onSubmit:R,className:"communication-form",children:[o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Ttulo da Campanha"}),o.jsx("input",{type:"text",value:p.title,onChange:te=>g({...p,title:te.target.value}),required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Canal de Comunicao"}),o.jsxs("select",{value:p.type,onChange:te=>g({...p,type:te.target.value}),children:[o.jsx("option",{value:"email",children:"E-mail"}),o.jsx("option",{value:"sms",children:"SMS"}),o.jsx("option",{value:"whatsapp",children:"WhatsApp"})]})]}),o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{children:"Mensagem"}),o.jsx("textarea",{value:p.message,onChange:te=>g({...p,message:te.target.value}),rows:6,required:!0,placeholder:"Digite a mensagem que ser enviada aos clientes..."}),o.jsxs("small",{className:"char-count",children:[p.message.length," caracteres"]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Agendar Envio (Opcional)"}),o.jsx("input",{type:"datetime-local",value:p.scheduledFor,onChange:te=>g({...p,scheduledFor:te.target.value})})]}),o.jsx("div",{className:"form-group full-width",children:o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",checked:y,onChange:te=>x(te.target.checked)}),"Enviar para todos os clientes ativos (",e.filter(te=>te.active).length,")"]})}),!y&&o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{children:"Selecionar Clientes"}),o.jsx("input",{type:"text",placeholder:"Buscar clientes...",value:b,onChange:te=>T(te.target.value),className:"search-input"}),o.jsx("div",{className:"customer-selection",children:k.map(te=>o.jsxs("label",{className:"customer-checkbox",children:[o.jsx("input",{type:"checkbox",checked:p.targetCustomers.includes(te.id),onChange:()=>q(te.id)}),o.jsxs("div",{className:"customer-info",children:[o.jsx("span",{className:"customer-name",children:te.name}),o.jsxs("span",{className:"customer-contact",children:[p.type==="email"&&te.email,p.type==="sms"&&te.phone,p.type==="whatsapp"&&(te.whatsapp||te.phone)]})]})]},te.id))}),o.jsxs("small",{className:"selection-count",children:[p.targetCustomers.length," clientes selecionados"]})]})]}),o.jsx("button",{type:"submit",className:"btn-submit",children:p.scheduledFor?"Agendar Campanha":"Criar Campanha"})]}),o.jsxs("div",{className:"communications-list",children:[o.jsx("h3",{children:"Campanhas"}),s.length===0?o.jsx("div",{className:"empty-state",children:o.jsx("p",{children:"Nenhuma campanha criada"})}):o.jsx("div",{className:"communications-grid",children:s.map(te=>o.jsxs("div",{className:"communication-card",children:[o.jsxs("div",{className:"card-header",children:[o.jsxs("div",{className:"card-title",children:[o.jsx("span",{className:"type-icon",children:ee(te.type)}),o.jsx("h4",{children:te.title})]}),o.jsx("span",{className:`status-badge ${$(te.status)}`,children:V(te.status)})]}),o.jsx("p",{className:"card-message",children:te.message}),o.jsxs("div",{className:"card-info",children:[o.jsxs("div",{className:"info-row",children:[o.jsx("span",{className:"info-label",children:"Canal:"}),o.jsx("span",{className:"info-value",children:Z(te.type)})]}),o.jsxs("div",{className:"info-row",children:[o.jsx("span",{className:"info-label",children:"Destinatrios:"}),o.jsx("span",{className:"info-value",children:te.targetCustomers.length})]}),te.scheduledFor&&o.jsxs("div",{className:"info-row",children:[o.jsx("span",{className:"info-label",children:"Agendado para:"}),o.jsx("span",{className:"info-value",children:z(te.scheduledFor)})]}),te.sentAt&&o.jsxs("div",{className:"info-row",children:[o.jsx("span",{className:"info-label",children:"Enviado em:"}),o.jsx("span",{className:"info-value",children:z(te.sentAt)})]})]}),te.stats&&o.jsxs("div",{className:"card-stats",children:[o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:"Enviados"}),o.jsx("span",{className:"stat-value",children:te.stats.sent})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:"Entregues"}),o.jsx("span",{className:"stat-value",children:te.stats.delivered})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:"Abertos"}),o.jsx("span",{className:"stat-value",children:te.stats.opened})]})]}),o.jsxs("div",{className:"card-actions",children:[te.status==="draft"&&o.jsx("button",{onClick:()=>r(te.id),className:"btn-send",children:"Enviar Agora"}),o.jsxs("button",{onClick:()=>{confirm("Deseja realmente excluir esta campanha?")&&l(te.id)},className:"btn-delete",children:[o.jsx(Rr,{size:16})," Excluir"]})]})]},te.id))})]})]})},Ld="customers",Bg="loyaltyPrograms",Ud="promotions",zd="communications",Uk=async s=>{try{const e={...s,loyaltyPoints:0,totalPurchases:0,active:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return(await $s(St(Ae,Ld),e)).id}catch(e){throw console.error("Erro ao criar cliente:",e),new Error("No foi possvel criar o cliente")}},zk=async(s,e)=>{try{const n=ct(Ae,Ld,s);await ms(n,{...e,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Erro ao atualizar cliente:",n),new Error("No foi possvel atualizar o cliente")}},Bk=async s=>{try{const e=ct(Ae,Ld,s);await Nr(e)}catch(e){throw console.error("Erro ao deletar cliente:",e),new Error("No foi possvel deletar o cliente")}},rE=async()=>{try{return(await fs(Tt(St(Ae,Ld),Qs("createdAt","desc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(s){throw console.error("Erro ao buscar clientes:",s),new Error("No foi possvel buscar os clientes")}},Fk=async s=>{try{const e={...s,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return(await $s(St(Ae,Bg),e)).id}catch(e){throw console.error("Erro ao criar programa de fidelidade:",e),new Error("No foi possvel criar o programa de fidelidade")}},qk=async(s,e)=>{try{const n=ct(Ae,Bg,s);await ms(n,{...e,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Erro ao atualizar programa de fidelidade:",n),new Error("No foi possvel atualizar o programa de fidelidade")}},iE=async()=>{try{return(await fs(Tt(St(Ae,Bg),Qs("createdAt","desc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(s){throw console.error("Erro ao buscar programas de fidelidade:",s),new Error("No foi possvel buscar os programas de fidelidade")}},Hk=async s=>{try{const e={...s,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return(await $s(St(Ae,Ud),e)).id}catch(e){throw console.error("Erro ao criar promoo:",e),new Error("No foi possvel criar a promoo")}},Gk=async(s,e)=>{try{const n=ct(Ae,Ud,s);await ms(n,{...e,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Erro ao atualizar promoo:",n),new Error("No foi possvel atualizar a promoo")}},Qk=async s=>{try{const e=ct(Ae,Ud,s);await Nr(e)}catch(e){throw console.error("Erro ao deletar promoo:",e),new Error("No foi possvel deletar a promoo")}},oE=async()=>{try{return(await fs(Tt(St(Ae,Ud),Qs("createdAt","desc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(s){throw console.error("Erro ao buscar promoes:",s),new Error("No foi possvel buscar as promoes")}},$k=async s=>{try{const e={...s,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return(await $s(St(Ae,zd),e)).id}catch(e){throw console.error("Erro ao criar comunicao:",e),new Error("No foi possvel criar a comunicao")}},Kk=async s=>{try{const e=ct(Ae,zd,s);await Nr(e)}catch(e){throw console.error("Erro ao deletar comunicao:",e),new Error("No foi possvel deletar a comunicao")}},lE=async()=>{try{return(await fs(Tt(St(Ae,zd),Qs("createdAt","desc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(s){throw console.error("Erro ao buscar comunicaes:",s),new Error("No foi possvel buscar as comunicaes")}},Yk=async s=>{try{const e=ct(Ae,zd,s);await ms(e,{status:"sent",sentAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}catch(e){throw console.error("Erro ao enviar comunicao:",e),new Error("No foi possvel enviar a comunicao")}},Xk=()=>{const[s,e]=D.useState("customers"),[n,r]=D.useState(!1),[l,u]=D.useState(void 0),[d,p]=D.useState(void 0),[g,y]=D.useState([]),[x,b]=D.useState([]),[T,R]=D.useState([]),[q,k]=D.useState([]),[z,$]=D.useState(!1),[V,ee]=D.useState("");D.useEffect(()=>{let B=!1;return(async()=>{const Te=setTimeout(()=>{B||$(!1)},15e3);try{$(!0);const M=await Promise.allSettled([rE(),iE(),oE(),lE()]);if(!B){const[se,he,me,Se]=M;se.status==="fulfilled"&&y(se.value),he.status==="fulfilled"&&b(he.value),me.status==="fulfilled"&&R(me.value),Se.status==="fulfilled"&&k(Se.value)}}catch{B||ee("Erro ao carregar dados do CRM")}finally{B||$(!1)}B||clearTimeout(Te)})(),()=>{B=!0}},[]);const Z=async()=>{$(!0);try{const[B,de,Te,M]=await Promise.all([rE(),iE(),oE(),lE()]);y(B),b(de),R(Te),k(M)}catch(B){ee("Erro ao carregar dados do CRM"),console.error(B)}finally{$(!1)}},te=async B=>{try{await Uk(B),await Z(),r(!1)}catch{throw new Error("Erro ao criar cliente")}},X=async B=>{if(l)try{await zk(l.id,B),await Z(),u(void 0),r(!1)}catch{throw new Error("Erro ao atualizar cliente")}},A=async B=>{try{await Bk(B),await Z()}catch{alert("Erro ao excluir cliente")}},C=B=>{u(B),r(!0),p(void 0)},j=B=>{p(B),r(!1),u(void 0)},L=async B=>{try{await Fk(B),await Z()}catch{alert("Erro ao criar programa de fidelidade")}},P=async(B,de)=>{try{await qk(B,{active:de}),await Z()}catch{alert("Erro ao atualizar programa")}},F=async B=>{try{await Hk(B),await Z()}catch{alert("Erro ao criar promoo")}},N=async(B,de)=>{try{await Gk(B,{active:de}),await Z()}catch{alert("Erro ao atualizar promoo")}},ce=async B=>{try{await Qk(B),await Z()}catch{alert("Erro ao excluir promoo")}},ve=async B=>{try{await $k(B),await Z()}catch{alert("Erro ao criar comunicao")}},I=async B=>{try{await Yk(B),await Z(),alert("Comunicao enviada com sucesso!")}catch{alert("Erro ao enviar comunicao")}},oe=async B=>{try{await Kk(B),await Z()}catch{alert("Erro ao excluir comunicao")}};return o.jsxs("div",{className:"crm-page",children:[o.jsxs("div",{className:"crm-header",children:[o.jsx("h1",{children:"CRM - Gesto de Relacionamento com o Cliente"}),o.jsx("p",{className:"crm-subtitle",children:"Gerencie clientes, programas de fidelidade e campanhas de comunicao"})]}),V&&o.jsxs("div",{className:"error-banner",children:[V,o.jsx("button",{onClick:()=>ee(""),children:""})]}),o.jsxs("div",{className:"crm-tabs",children:[o.jsxs("button",{className:s==="customers"?"tab-btn active":"tab-btn",onClick:()=>{e("customers"),r(!1),u(void 0),p(void 0)},children:[o.jsx(wc,{})," Clientes"]}),o.jsxs("button",{className:s==="loyalty"?"tab-btn active":"tab-btn",onClick:()=>{e("loyalty"),r(!1),u(void 0),p(void 0)},children:[o.jsx(nk,{})," Fidelizao"]}),o.jsxs("button",{className:s==="communication"?"tab-btn active":"tab-btn",onClick:()=>{e("communication"),r(!1),u(void 0),p(void 0)},children:[o.jsx(mk,{})," Comunicao"]})]}),o.jsx("div",{className:"crm-content",children:z?o.jsxs("div",{className:"loading-state",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Carregando..."})]}):o.jsxs(o.Fragment,{children:[s==="customers"&&o.jsxs("div",{className:"customers-section",children:[!n&&!d&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"section-actions",children:o.jsx("button",{className:"btn-primary",onClick:()=>{r(!0),u(void 0)},children:"+ Adicionar Cliente"})}),o.jsx(Vk,{customers:g,onEdit:C,onDelete:A,onViewDetails:j})]}),n&&o.jsx(Mk,{customer:l,onSubmit:l?X:te,onCancel:()=>{r(!1),u(void 0)}}),d&&o.jsxs("div",{className:"customer-details",children:[o.jsxs("div",{className:"details-header",children:[o.jsx("h2",{children:"Detalhes do Cliente"}),o.jsx("button",{className:"btn-back",onClick:()=>p(void 0),children:" Voltar"})]}),o.jsxs("div",{className:"details-content",children:[o.jsxs("div",{className:"detail-section",children:[o.jsx("h3",{children:"Informaes Pessoais"}),o.jsxs("div",{className:"detail-grid",children:[o.jsxs("div",{className:"detail-item",children:[o.jsx("span",{className:"detail-label",children:"Nome:"}),o.jsx("span",{className:"detail-value",children:d.name})]}),o.jsxs("div",{className:"detail-item",children:[o.jsx("span",{className:"detail-label",children:"E-mail:"}),o.jsx("span",{className:"detail-value",children:d.email})]}),o.jsxs("div",{className:"detail-item",children:[o.jsx("span",{className:"detail-label",children:"Telefone:"}),o.jsx("span",{className:"detail-value",children:d.phone})]}),d.whatsapp&&o.jsxs("div",{className:"detail-item",children:[o.jsx("span",{className:"detail-label",children:"WhatsApp:"}),o.jsx("span",{className:"detail-value",children:d.whatsapp})]}),d.cpf&&o.jsxs("div",{className:"detail-item",children:[o.jsx("span",{className:"detail-label",children:"CPF:"}),o.jsx("span",{className:"detail-value",children:d.cpf})]}),d.birthDate&&o.jsxs("div",{className:"detail-item",children:[o.jsx("span",{className:"detail-label",children:"Data de Nascimento:"}),o.jsx("span",{className:"detail-value",children:new Date(d.birthDate).toLocaleDateString("pt-BR")})]})]})]}),o.jsxs("div",{className:"detail-section",children:[o.jsx("h3",{children:"Fidelidade"}),o.jsxs("div",{className:"loyalty-info",children:[o.jsxs("div",{className:"loyalty-card",children:[o.jsx("span",{className:"loyalty-label",children:"Pontos Acumulados"}),o.jsx("span",{className:"loyalty-value",children:d.loyaltyPoints})]}),o.jsxs("div",{className:"loyalty-card",children:[o.jsx("span",{className:"loyalty-label",children:"Total de Compras"}),o.jsxs("span",{className:"loyalty-value",children:["R$ ",d.totalPurchases.toFixed(2)]})]})]})]}),d.address&&o.jsxs("div",{className:"detail-section",children:[o.jsx("h3",{children:"Endereo"}),o.jsxs("p",{className:"address-text",children:[d.address.street,","," ",d.address.number,d.address.complement&&` - ${d.address.complement}`,o.jsx("br",{}),d.address.neighborhood," -"," ",d.address.city,"/",d.address.state,o.jsx("br",{}),"CEP: ",d.address.zipCode]})]}),d.preferences?.observations&&o.jsxs("div",{className:"detail-section",children:[o.jsx("h3",{children:"Observaes"}),o.jsx("p",{className:"observations-text",children:d.preferences.observations})]})]})]})]}),s==="loyalty"&&o.jsx(Pk,{programs:x,promotions:T,onCreateProgram:L,onCreatePromotion:F,onToggleProgram:P,onTogglePromotion:N,onDeletePromotion:ce}),s==="communication"&&o.jsx(Lk,{communications:q,customers:g,onCreateCommunication:ve,onSendCommunication:I,onDeleteCommunication:oe})]})})]})},Wk=({employee:s,onSubmit:e,onCancel:n})=>{const[r,l]=D.useState({name:"",email:"",phone:"",cpf:"",rg:"",birthDate:"",address:{street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zipCode:""},position:"",department:"",salary:0,hireDate:"",workSchedule:{startTime:"08:00",endTime:"17:00",breakDuration:60,workDays:[1,2,3,4,5]},benefits:{healthInsurance:!1,mealVoucher:0,transportationVoucher:0,otherBenefits:[]},bankAccount:{bank:"",agency:"",account:"",accountType:"checking"}}),[u,d]=D.useState(!1),[p,g]=D.useState(""),[y,x]=D.useState("");D.useEffect(()=>{s&&l({name:s.name,email:s.email,phone:s.phone,cpf:s.cpf,rg:s.rg||"",birthDate:s.birthDate,address:s.address,position:s.position,department:s.department,salary:s.salary,hireDate:s.hireDate,workSchedule:s.workSchedule,benefits:s.benefits,bankAccount:s.bankAccount})},[s]);const b=async $=>{$.preventDefault(),g(""),d(!0);try{await e(r)}catch(V){g("Erro ao salvar funcionrio"),console.error(V)}finally{d(!1)}},T=$=>{const{name:V,value:ee,type:Z}=$.target;if(Z==="checkbox"){const te=$.target.checked;l(X=>({...X,[V]:te}))}else if(V.includes(".")){const[te,X]=V.split(".");l(A=>te==="address"?{...A,address:{...A.address,[X]:ee}}:te==="workSchedule"?{...A,workSchedule:{...A.workSchedule,[X]:ee}}:te==="benefits"?{...A,benefits:{...A.benefits,[X]:ee}}:te==="bankAccount"?{...A,bankAccount:{...A.bankAccount,[X]:ee}}:A)}else l(te=>({...te,[V]:Z==="number"?parseFloat(ee)||0:ee}))},R=$=>{l(V=>({...V,workSchedule:{...V.workSchedule,workDays:V.workSchedule.workDays.includes($)?V.workSchedule.workDays.filter(ee=>ee!==$):[...V.workSchedule.workDays,$]}}))},q=()=>{y.trim()&&(l($=>({...$,benefits:{...$.benefits,otherBenefits:[...$.benefits.otherBenefits,y.trim()]}})),x(""))},k=$=>{l(V=>({...V,benefits:{...V.benefits,otherBenefits:V.benefits.otherBenefits.filter((ee,Z)=>Z!==$)}}))},z=[{value:0,label:"Dom"},{value:1,label:"Seg"},{value:2,label:"Ter"},{value:3,label:"Qua"},{value:4,label:"Qui"},{value:5,label:"Sex"},{value:6,label:"Sb"}];return o.jsxs("div",{className:"employee-form-container",children:[o.jsx("h2",{children:s?"Editar Funcionrio":"Novo Funcionrio"}),p&&o.jsx("div",{className:"error-message",children:p}),o.jsxs("form",{onSubmit:b,className:"employee-form",children:[o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{children:"Informaes Pessoais"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"name",children:"Nome Completo *"}),o.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:T,required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"email",children:"E-mail *"}),o.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:T,required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"phone",children:"Telefone *"}),o.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:T,required:!0,placeholder:"(00) 00000-0000"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"cpf",children:"CPF *"}),o.jsx("input",{type:"text",id:"cpf",name:"cpf",value:r.cpf,onChange:T,required:!0,placeholder:"000.000.000-00"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"rg",children:"RG"}),o.jsx("input",{type:"text",id:"rg",name:"rg",value:r.rg,onChange:T,placeholder:"00.000.000-0"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"birthDate",children:"Data de Nascimento *"}),o.jsx("input",{type:"date",id:"birthDate",name:"birthDate",value:r.birthDate,onChange:T,required:!0})]})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{children:"Endereo"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"address.zipCode",children:"CEP"}),o.jsx("input",{type:"text",id:"address.zipCode",name:"address.zipCode",value:r.address.zipCode,onChange:T,placeholder:"00000-000"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"address.street",children:"Rua"}),o.jsx("input",{type:"text",id:"address.street",name:"address.street",value:r.address.street,onChange:T})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"address.number",children:"Nmero"}),o.jsx("input",{type:"text",id:"address.number",name:"address.number",value:r.address.number,onChange:T})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"address.complement",children:"Complemento"}),o.jsx("input",{type:"text",id:"address.complement",name:"address.complement",value:r.address.complement,onChange:T})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"address.neighborhood",children:"Bairro"}),o.jsx("input",{type:"text",id:"address.neighborhood",name:"address.neighborhood",value:r.address.neighborhood,onChange:T})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"address.city",children:"Cidade"}),o.jsx("input",{type:"text",id:"address.city",name:"address.city",value:r.address.city,onChange:T})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"address.state",children:"Estado"}),o.jsx("input",{type:"text",id:"address.state",name:"address.state",value:r.address.state,onChange:T,maxLength:2,placeholder:"SP"})]})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{children:"Informaes Profissionais"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"position",children:"Cargo *"}),o.jsx("input",{type:"text",id:"position",name:"position",value:r.position,onChange:T,required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"department",children:"Departamento *"}),o.jsx("input",{type:"text",id:"department",name:"department",value:r.department,onChange:T,required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"salary",children:"Salrio *"}),o.jsx("input",{type:"number",id:"salary",name:"salary",value:r.salary,onChange:T,required:!0,step:"0.01",min:"0"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"hireDate",children:"Data de Admisso *"}),o.jsx("input",{type:"date",id:"hireDate",name:"hireDate",value:r.hireDate,onChange:T,required:!0})]})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{children:"Horrio de Trabalho"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"workSchedule.startTime",children:"Horrio de Entrada"}),o.jsx("input",{type:"time",id:"workSchedule.startTime",name:"workSchedule.startTime",value:r.workSchedule.startTime,onChange:T})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"workSchedule.endTime",children:"Horrio de Sada"}),o.jsx("input",{type:"time",id:"workSchedule.endTime",name:"workSchedule.endTime",value:r.workSchedule.endTime,onChange:T})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"workSchedule.breakDuration",children:"Durao do Intervalo (min)"}),o.jsx("input",{type:"number",id:"workSchedule.breakDuration",name:"workSchedule.breakDuration",value:r.workSchedule.breakDuration,onChange:T,min:"0",max:"240"})]}),o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{children:"Dias de Trabalho"}),o.jsx("div",{className:"work-days",children:z.map($=>o.jsxs("label",{className:"day-checkbox",children:[o.jsx("input",{type:"checkbox",checked:r.workSchedule.workDays.includes($.value),onChange:()=>R($.value)}),$.label]},$.value))})]})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{children:"Benefcios"}),o.jsxs("div",{className:"form-grid",children:[o.jsx("div",{className:"form-group",children:o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",name:"benefits.healthInsurance",checked:r.benefits.healthInsurance,onChange:T}),"Plano de Sade"]})}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"benefits.mealVoucher",children:"Vale Refeio (R$)"}),o.jsx("input",{type:"number",id:"benefits.mealVoucher",name:"benefits.mealVoucher",value:r.benefits.mealVoucher,onChange:T,step:"0.01",min:"0"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"benefits.transportationVoucher",children:"Vale Transporte (R$)"}),o.jsx("input",{type:"number",id:"benefits.transportationVoucher",name:"benefits.transportationVoucher",value:r.benefits.transportationVoucher,onChange:T,step:"0.01",min:"0"})]}),o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{children:"Outros Benefcios"}),o.jsxs("div",{className:"other-benefits",children:[o.jsxs("div",{className:"benefit-input",children:[o.jsx("input",{type:"text",value:y,onChange:$=>x($.target.value),placeholder:"Digite um benefcio"}),o.jsx("button",{type:"button",onClick:q,className:"btn-add",children:o.jsx(fi,{size:16})})]}),o.jsx("div",{className:"benefits-list",children:r.benefits.otherBenefits.map(($,V)=>o.jsxs("div",{className:"benefit-item",children:[o.jsx("span",{children:$}),o.jsx("button",{type:"button",onClick:()=>k(V),className:"btn-remove",children:o.jsx(lS,{size:14})})]},V))})]})]})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{children:"Dados Bancrios"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"bankAccount.bank",children:"Banco"}),o.jsx("input",{type:"text",id:"bankAccount.bank",name:"bankAccount.bank",value:r.bankAccount.bank,onChange:T})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"bankAccount.agency",children:"Agncia"}),o.jsx("input",{type:"text",id:"bankAccount.agency",name:"bankAccount.agency",value:r.bankAccount.agency,onChange:T})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"bankAccount.account",children:"Conta"}),o.jsx("input",{type:"text",id:"bankAccount.account",name:"bankAccount.account",value:r.bankAccount.account,onChange:T})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"bankAccount.accountType",children:"Tipo de Conta"}),o.jsxs("select",{id:"bankAccount.accountType",name:"bankAccount.accountType",value:r.bankAccount.accountType,onChange:T,children:[o.jsx("option",{value:"checking",children:"Conta Corrente"}),o.jsx("option",{value:"savings",children:"Conta Poupana"})]})]})]})]}),o.jsxs("div",{className:"form-actions",children:[o.jsx("button",{type:"button",onClick:n,className:"btn-cancel",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:u,className:"btn-submit",children:u?"Salvando...":"Salvar"})]})]})]})},Jk=({employees:s,onEdit:e,onDelete:n,onViewDetails:r,onViewTimeRecords:l,onViewPayroll:u})=>{const[d,p]=D.useState(""),[g,y]=D.useState("all"),x=s.filter(k=>{const z=k.name.toLowerCase().includes(d.toLowerCase())||k.email.toLowerCase().includes(d.toLowerCase())||k.position.toLowerCase().includes(d.toLowerCase())||k.department.toLowerCase().includes(d.toLowerCase()),$=g==="all"||k.status===g;return z&&$}),b=k=>new Date(k).toLocaleDateString("pt-BR"),T=k=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(k),R=k=>{switch(k){case"active":return"active";case"inactive":return"inactive";case"on_leave":return"on_leave";default:return"unknown"}},q=k=>{switch(k){case"active":return"Ativo";case"inactive":return"Inativo";case"on_leave":return"Afastado";default:return"Desconhecido"}};return o.jsxs("div",{className:"employee-list-container",children:[o.jsxs("div",{className:"list-header",children:[o.jsx("h2",{children:"Funcionrios"}),o.jsxs("div",{className:"list-controls",children:[o.jsx("input",{type:"text",placeholder:"Buscar por nome, e-mail, cargo ou departamento...",value:d,onChange:k=>p(k.target.value),className:"search-input"}),o.jsxs("div",{className:"filter-buttons",children:[o.jsx("button",{className:g==="all"?"filter-btn active":"filter-btn",onClick:()=>y("all"),children:"Todos"}),o.jsx("button",{className:g==="active"?"filter-btn active":"filter-btn",onClick:()=>y("active"),children:"Ativos"}),o.jsx("button",{className:g==="inactive"?"filter-btn active":"filter-btn",onClick:()=>y("inactive"),children:"Inativos"}),o.jsx("button",{className:g==="on_leave"?"filter-btn active":"filter-btn",onClick:()=>y("on_leave"),children:"Afastados"})]})]})]}),o.jsxs("div",{className:"employee-stats",children:[o.jsxs("div",{className:"stat-card",children:[o.jsx("div",{className:"stat-value",children:s.length}),o.jsx("div",{className:"stat-label",children:"Total de Funcionrios"})]}),o.jsxs("div",{className:"stat-card",children:[o.jsx("div",{className:"stat-value",children:s.filter(k=>k.status==="active").length}),o.jsx("div",{className:"stat-label",children:"Funcionrios Ativos"})]}),o.jsxs("div",{className:"stat-card",children:[o.jsx("div",{className:"stat-value",children:T(s.reduce((k,z)=>k+z.salary,0))}),o.jsx("div",{className:"stat-label",children:"Folha Total"})]})]}),x.length===0?o.jsx("div",{className:"empty-state",children:o.jsx("p",{children:"Nenhum funcionrio encontrado"})}):o.jsx("div",{className:"employee-table-wrapper",children:o.jsxs("table",{className:"employee-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Nome"}),o.jsx("th",{children:"Cargo"}),o.jsx("th",{children:"Departamento"}),o.jsx("th",{children:"Salrio"}),o.jsx("th",{children:"Status"}),o.jsx("th",{children:"Admisso"}),o.jsx("th",{children:"Aes"})]})}),o.jsx("tbody",{children:x.map(k=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("div",{className:"employee-name",children:[o.jsx("div",{className:"name",children:k.name}),o.jsx("div",{className:"email",children:k.email})]})}),o.jsx("td",{children:o.jsx("div",{className:"position",children:k.position})}),o.jsx("td",{children:o.jsx("div",{className:"department",children:k.department})}),o.jsx("td",{children:o.jsx("div",{className:"salary",children:T(k.salary)})}),o.jsx("td",{children:o.jsx("span",{className:`status-badge ${R(k.status)}`,children:q(k.status)})}),o.jsx("td",{children:b(k.hireDate)}),o.jsx("td",{children:o.jsxs("div",{className:"action-buttons",children:[o.jsx("button",{onClick:()=>r(k),className:"btn-action btn-view",title:"Ver detalhes",children:o.jsx(aS,{size:18})}),o.jsx("button",{onClick:()=>l(k),className:"btn-action btn-time",title:"Controle de Ponto",children:o.jsx(Tr,{size:18})}),o.jsx("button",{onClick:()=>u(k),className:"btn-action btn-payroll",title:"Folha de Pagamento",children:o.jsx(Tc,{size:18})}),o.jsx("button",{onClick:()=>e(k),className:"btn-action btn-edit",title:"Editar",children:o.jsx(Fc,{size:18})}),o.jsx("button",{onClick:()=>{confirm(`Deseja realmente excluir ${k.name}?`)&&n(k.id)},className:"btn-action btn-delete",title:"Excluir",children:o.jsx(Rr,{size:18})})]})})]},k.id))})]})})]})},Zk=({employees:s,timeRecords:e,onCreateTimeRecord:n,onUpdateTimeRecord:r,onDeleteTimeRecord:l,onLoadTimeRecords:u})=>{const[d,p]=D.useState(!1),[g,y]=D.useState(void 0),[x,b]=D.useState({employeeId:"",date:new Date().toISOString().split("T")[0],clockIn:"",clockOut:"",breakStart:"",breakEnd:"",notes:""}),[T,R]=D.useState({employeeId:"",startDate:"",endDate:""}),[q,k]=D.useState(!1),[z,$]=D.useState(""),V=D.useCallback(async()=>{k(!0);try{await u(T.employeeId||void 0,T.startDate||void 0,T.endDate||void 0)}catch{$("Erro ao carregar registros de ponto")}finally{k(!1)}},[T.employeeId,T.startDate,T.endDate,u]);D.useEffect(()=>{V()},[V]);const ee=async N=>{N.preventDefault(),$(""),k(!0);try{g?await r(g.id,x):await n(x),Z()}catch{$("Erro ao salvar registro de ponto")}finally{k(!1)}},Z=()=>{b({employeeId:"",date:new Date().toISOString().split("T")[0],clockIn:"",clockOut:"",breakStart:"",breakEnd:"",notes:""}),y(void 0),p(!1)},te=N=>{y(N),b({employeeId:N.employeeId,date:N.date,clockIn:N.clockIn||"",clockOut:N.clockOut||"",breakStart:N.breakStart||"",breakEnd:N.breakEnd||"",notes:N.notes||""}),p(!0)},X=N=>{const{name:ce,value:ve}=N.target;b(I=>({...I,[ce]:ve}))},A=N=>N||"-",C=N=>new Date(N).toLocaleDateString("pt-BR"),j=N=>{switch(N){case"present":return"present";case"absent":return"absent";case"late":return"late";case"half_day":return"half_day";default:return"unknown"}},L=N=>{switch(N){case"present":return"Presente";case"absent":return"Faltou";case"late":return"Atrasado";case"half_day":return"Meio Perodo";default:return"Desconhecido"}},P=N=>{const ce=s.find(ve=>ve.id===N);return ce?ce.name:"Funcionrio no encontrado"},F=N=>`${N.totalHours.toFixed(1)}h`;return o.jsxs("div",{className:"time-record-section",children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h2",{children:"Controle de Ponto"}),o.jsx("button",{className:"btn-new",onClick:()=>p(!d),children:d?"Cancelar":o.jsxs(o.Fragment,{children:[o.jsx(fi,{size:16})," Novo Registro"]})})]}),d&&o.jsxs("form",{onSubmit:ee,className:"time-record-form",children:[o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Funcionrio *"}),o.jsxs("select",{name:"employeeId",value:x.employeeId,onChange:X,required:!0,children:[o.jsx("option",{value:"",children:"Selecione um funcionrio"}),s.map(N=>o.jsxs("option",{value:N.id,children:[N.name," - ",N.position]},N.id))]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Data *"}),o.jsx("input",{type:"date",name:"date",value:x.date,onChange:X,required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Entrada"}),o.jsx("input",{type:"time",name:"clockIn",value:x.clockIn,onChange:X})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Sada"}),o.jsx("input",{type:"time",name:"clockOut",value:x.clockOut,onChange:X})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Incio do Intervalo"}),o.jsx("input",{type:"time",name:"breakStart",value:x.breakStart,onChange:X})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Fim do Intervalo"}),o.jsx("input",{type:"time",name:"breakEnd",value:x.breakEnd,onChange:X})]}),o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{children:"Observaes"}),o.jsx("textarea",{name:"notes",value:x.notes,onChange:X,rows:3,placeholder:"Observaes sobre o registro de ponto..."})]})]}),o.jsxs("div",{className:"form-actions",children:[o.jsx("button",{type:"button",onClick:Z,className:"btn-cancel",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:q,className:"btn-submit",children:q?"Salvando...":g?"Atualizar":"Criar"})]})]}),o.jsxs("div",{className:"filters-section",children:[o.jsx("h3",{children:"Filtros"}),o.jsxs("div",{className:"filters-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Funcionrio"}),o.jsxs("select",{value:T.employeeId,onChange:N=>R(ce=>({...ce,employeeId:N.target.value})),children:[o.jsx("option",{value:"",children:"Todos os funcionrios"}),s.map(N=>o.jsx("option",{value:N.id,children:N.name},N.id))]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Data Inicial"}),o.jsx("input",{type:"date",value:T.startDate,onChange:N=>R(ce=>({...ce,startDate:N.target.value}))})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Data Final"}),o.jsx("input",{type:"date",value:T.endDate,onChange:N=>R(ce=>({...ce,endDate:N.target.value}))})]}),o.jsx("div",{className:"form-group",children:o.jsx("button",{type:"button",onClick:()=>R({employeeId:"",startDate:"",endDate:""}),className:"btn-clear-filters",children:"Limpar Filtros"})})]})]}),z&&o.jsx("div",{className:"error-message",children:z}),o.jsxs("div",{className:"time-records-list",children:[o.jsx("h3",{children:"Registros de Ponto"}),q?o.jsxs("div",{className:"loading-state",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Carregando..."})]}):e.length===0?o.jsx("div",{className:"empty-state",children:o.jsx("p",{children:"Nenhum registro de ponto encontrado"})}):o.jsx("div",{className:"time-records-table-wrapper",children:o.jsxs("table",{className:"time-records-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Funcionrio"}),o.jsx("th",{children:"Data"}),o.jsx("th",{children:"Entrada"}),o.jsx("th",{children:"Sada"}),o.jsx("th",{children:"Intervalo"}),o.jsx("th",{children:"Total"}),o.jsx("th",{children:"Status"}),o.jsx("th",{children:"Aes"})]})}),o.jsx("tbody",{children:e.map(N=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("div",{className:"employee-name",children:P(N.employeeId)})}),o.jsx("td",{children:C(N.date)}),o.jsx("td",{children:A(N.clockIn)}),o.jsx("td",{children:A(N.clockOut)}),o.jsx("td",{children:N.breakStart&&N.breakEnd?`${N.breakStart} - ${N.breakEnd}`:"-"}),o.jsx("td",{children:o.jsx("span",{className:"total-hours",children:F(N)})}),o.jsx("td",{children:o.jsx("span",{className:`status-badge ${j(N.status)}`,children:L(N.status)})}),o.jsx("td",{children:o.jsxs("div",{className:"action-buttons",children:[o.jsx("button",{onClick:()=>te(N),className:"btn-action btn-edit",title:"Editar",children:o.jsx(Fc,{size:16})}),o.jsx("button",{onClick:()=>{confirm("Deseja realmente excluir este registro?")&&l(N.id)},className:"btn-action btn-delete",title:"Excluir",children:o.jsx(Rr,{size:16})})]})})]},N.id))})]})})]})]})},eO=({employees:s,payrolls:e,onCreatePayroll:n,onUpdatePayroll:r,onDeletePayroll:l,onLoadPayrolls:u,onMarkAsPaid:d})=>{const[p,g]=D.useState(!1),[y,x]=D.useState(void 0),[b,T]=D.useState({employeeId:"",month:new Date().getMonth()+1,year:new Date().getFullYear(),calculation:{baseSalary:0,overtimeHours:0,overtimeRate:1.5,benefits:{healthInsurance:0,mealVoucher:0,transportationVoucher:0,otherBenefits:0},deductions:{inss:0,irrf:0,fgts:0,otherDeductions:0}}}),[R,q]=D.useState({employeeId:"",month:new Date().getMonth()+1,year:new Date().getFullYear()}),[k,z]=D.useState(!1),[$,V]=D.useState(""),ee=D.useCallback(async()=>{z(!0);try{await u(R.employeeId||void 0,R.month||void 0,R.year||void 0)}catch{V("Erro ao carregar folhas de pagamento")}finally{z(!1)}},[R.employeeId,R.month,R.year,u]);D.useEffect(()=>{ee()},[ee]);const Z=async ce=>{ce.preventDefault(),V(""),z(!0);try{y?await r(y.id,b):await n(b.employeeId,b.month,b.year,b.calculation),te()}catch{V("Erro ao salvar folha de pagamento")}finally{z(!1)}},te=()=>{T({employeeId:"",month:new Date().getMonth()+1,year:new Date().getFullYear(),calculation:{baseSalary:0,overtimeHours:0,overtimeRate:1.5,benefits:{healthInsurance:0,mealVoucher:0,transportationVoucher:0,otherBenefits:0},deductions:{inss:0,irrf:0,fgts:0,otherDeductions:0}}}),x(void 0),g(!1)},X=ce=>{const{name:ve,value:I,type:oe}=ce.target;if(ve.includes(".")){const[B,de]=ve.split(".");T(Te=>B==="calculation"?{...Te,calculation:{...Te.calculation,[de]:oe==="number"?parseFloat(I)||0:I}}:Te)}else T(B=>({...B,[ve]:oe==="number"?parseFloat(I)||0:I}))},A=()=>{const{baseSalary:ce,overtimeHours:ve,overtimeRate:I,benefits:oe}=b.calculation,B=ve*(ce/220)*I,de=Object.values(oe).reduce((Te,M)=>Te+M,0);return ce+B+de},C=()=>{const ce=A(),ve=Object.values(b.calculation.deductions).reduce((I,oe)=>I+oe,0);return ce-ve},j=ce=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ce),L=ce=>{const ve=s.find(I=>I.id===ce);return ve?ve.name:"Funcionrio no encontrado"},P=ce=>{switch(ce){case"draft":return"draft";case"calculated":return"calculated";case"paid":return"paid";default:return"unknown"}},F=ce=>{switch(ce){case"draft":return"Rascunho";case"calculated":return"Calculado";case"paid":return"Pago";default:return"Desconhecido"}},N=[{value:1,label:"Janeiro"},{value:2,label:"Fevereiro"},{value:3,label:"Maro"},{value:4,label:"Abril"},{value:5,label:"Maio"},{value:6,label:"Junho"},{value:7,label:"Julho"},{value:8,label:"Agosto"},{value:9,label:"Setembro"},{value:10,label:"Outubro"},{value:11,label:"Novembro"},{value:12,label:"Dezembro"}];return o.jsxs("div",{className:"payroll-section",children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h2",{children:"Folha de Pagamento"}),o.jsx("button",{className:"btn-new",onClick:()=>g(!p),children:p?"Cancelar":o.jsxs(o.Fragment,{children:[o.jsx(fi,{size:16})," Nova Folha"]})})]}),p&&o.jsxs("form",{onSubmit:Z,className:"payroll-form",children:[o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Funcionrio *"}),o.jsxs("select",{name:"employeeId",value:b.employeeId,onChange:X,required:!0,children:[o.jsx("option",{value:"",children:"Selecione um funcionrio"}),s.map(ce=>o.jsxs("option",{value:ce.id,children:[ce.name," - ",ce.position]},ce.id))]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Ms *"}),o.jsx("select",{name:"month",value:b.month,onChange:X,required:!0,children:N.map(ce=>o.jsx("option",{value:ce.value,children:ce.label},ce.value))})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Ano *"}),o.jsx("input",{type:"number",name:"year",value:b.year,onChange:X,required:!0,min:"2020",max:"2030"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Salrio Base (R$) *"}),o.jsx("input",{type:"number",name:"calculation.baseSalary",value:b.calculation.baseSalary,onChange:X,required:!0,step:"0.01",min:"0"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Horas Extras"}),o.jsx("input",{type:"number",name:"calculation.overtimeHours",value:b.calculation.overtimeHours,onChange:X,step:"0.1",min:"0"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Taxa Hora Extra"}),o.jsx("input",{type:"number",name:"calculation.overtimeRate",value:b.calculation.overtimeRate,onChange:X,step:"0.1",min:"1"})]})]}),o.jsxs("div",{className:"calculation-section",children:[o.jsx("h3",{children:"Clculo da Folha"}),o.jsxs("div",{className:"calculation-grid",children:[o.jsxs("div",{className:"calculation-item",children:[o.jsx("span",{children:"Salrio Base:"}),o.jsx("span",{children:j(b.calculation.baseSalary)})]}),o.jsxs("div",{className:"calculation-item",children:[o.jsx("span",{children:"Horas Extras:"}),o.jsx("span",{children:j(b.calculation.overtimeHours*(b.calculation.baseSalary/220)*b.calculation.overtimeRate)})]}),o.jsxs("div",{className:"calculation-item",children:[o.jsx("span",{children:"Benefcios:"}),o.jsx("span",{children:j(Object.values(b.calculation.benefits).reduce((ce,ve)=>ce+ve,0))})]}),o.jsxs("div",{className:"calculation-item total",children:[o.jsx("span",{children:"Salrio Bruto:"}),o.jsx("span",{children:j(A())})]}),o.jsxs("div",{className:"calculation-item",children:[o.jsx("span",{children:"Descontos:"}),o.jsx("span",{children:j(Object.values(b.calculation.deductions).reduce((ce,ve)=>ce+ve,0))})]}),o.jsxs("div",{className:"calculation-item final",children:[o.jsx("span",{children:"Salrio Lquido:"}),o.jsx("span",{children:j(C())})]})]})]}),o.jsxs("div",{className:"form-actions",children:[o.jsx("button",{type:"button",onClick:te,className:"btn-cancel",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:k,className:"btn-submit",children:k?"Salvando...":y?"Atualizar":"Criar"})]})]}),o.jsxs("div",{className:"filters-section",children:[o.jsx("h3",{children:"Filtros"}),o.jsxs("div",{className:"filters-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Funcionrio"}),o.jsxs("select",{value:R.employeeId,onChange:ce=>q(ve=>({...ve,employeeId:ce.target.value})),children:[o.jsx("option",{value:"",children:"Todos os funcionrios"}),s.map(ce=>o.jsx("option",{value:ce.id,children:ce.name},ce.id))]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Ms"}),o.jsx("select",{value:R.month,onChange:ce=>q(ve=>({...ve,month:parseInt(ce.target.value)})),children:N.map(ce=>o.jsx("option",{value:ce.value,children:ce.label},ce.value))})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Ano"}),o.jsx("input",{type:"number",value:R.year,onChange:ce=>q(ve=>({...ve,year:parseInt(ce.target.value)})),min:"2020",max:"2030"})]}),o.jsx("div",{className:"form-group",children:o.jsx("button",{type:"button",onClick:()=>q({employeeId:"",month:new Date().getMonth()+1,year:new Date().getFullYear()}),className:"btn-clear-filters",children:"Limpar Filtros"})})]})]}),$&&o.jsx("div",{className:"error-message",children:$}),o.jsxs("div",{className:"payrolls-list",children:[o.jsx("h3",{children:"Folhas de Pagamento"}),k?o.jsxs("div",{className:"loading-state",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Carregando..."})]}):e.length===0?o.jsx("div",{className:"empty-state",children:o.jsx("p",{children:"Nenhuma folha de pagamento encontrada"})}):o.jsx("div",{className:"payrolls-table-wrapper",children:o.jsxs("table",{className:"payrolls-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Funcionrio"}),o.jsx("th",{children:"Perodo"}),o.jsx("th",{children:"Salrio Bruto"}),o.jsx("th",{children:"Descontos"}),o.jsx("th",{children:"Salrio Lquido"}),o.jsx("th",{children:"Status"}),o.jsx("th",{children:"Aes"})]})}),o.jsx("tbody",{children:e.map(ce=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("div",{className:"employee-name",children:L(ce.employeeId)})}),o.jsx("td",{children:o.jsxs("div",{className:"period",children:[N.find(ve=>ve.value===ce.month)?.label," ",ce.year]})}),o.jsx("td",{children:o.jsx("div",{className:"gross-salary",children:j(ce.grossSalary)})}),o.jsx("td",{children:o.jsx("div",{className:"deductions",children:j(Object.values(ce.deductions).reduce((ve,I)=>ve+I,0))})}),o.jsx("td",{children:o.jsx("div",{className:"net-salary",children:j(ce.netSalary)})}),o.jsx("td",{children:o.jsx("span",{className:`status-badge ${P(ce.status)}`,children:F(ce.status)})}),o.jsx("td",{children:o.jsxs("div",{className:"action-buttons",children:[ce.status==="calculated"&&o.jsx("button",{onClick:()=>d(ce.id),className:"btn-action btn-paid",title:"Marcar como Pago",children:o.jsx(nS,{size:16})}),o.jsx("button",{onClick:()=>{confirm("Deseja realmente excluir esta folha?")&&l(ce.id)},className:"btn-action btn-delete",title:"Excluir",children:o.jsx(Rr,{size:16})})]})})]},ce.id))})]})})]})]})},Bd="employees",Fd="timeRecords",qc="payrolls",tO=async s=>{try{const e={...s,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return(await $s(St(Ae,Bd),e)).id}catch(e){throw console.error("Erro ao criar funcionrio:",e),new Error("No foi possvel criar o funcionrio")}},nO=async(s,e)=>{try{const n=ct(Ae,Bd,s);await ms(n,{...e,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Erro ao atualizar funcionrio:",n),new Error("No foi possvel atualizar o funcionrio")}},sO=async s=>{try{const e=ct(Ae,Bd,s);await Nr(e)}catch(e){throw console.error("Erro ao deletar funcionrio:",e),new Error("No foi possvel deletar o funcionrio")}},aO=async()=>{try{return(await fs(Tt(St(Ae,Bd),Qs("createdAt","desc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(s){throw console.error("Erro ao buscar funcionrios:",s),new Error("No foi possvel buscar os funcionrios")}},rO=async s=>{try{const e=Fg(s),n=Math.max(0,e-8),r={...s,totalHours:e,overtimeHours:n,status:mO(s),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return(await $s(St(Ae,Fd),r)).id}catch(e){throw console.error("Erro ao criar registro de ponto:",e),new Error("No foi possvel criar o registro de ponto")}},iO=async(s,e)=>{try{const n=ct(Ae,Fd,s),r={...e};if(e.clockIn||e.clockOut){const l=Fg(e),u=Math.max(0,l-8);Object.assign(r,{totalHours:l,overtimeHours:u})}await ms(n,{...r,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Erro ao atualizar registro de ponto:",n),new Error("No foi possvel atualizar o registro de ponto")}},oO=async s=>{try{const e=ct(Ae,Fd,s);await Nr(e)}catch(e){throw console.error("Erro ao deletar registro de ponto:",e),new Error("No foi possvel deletar o registro de ponto")}},lO=async(s,e,n)=>{try{let r=Tt(St(Ae,Fd),Qs("date","desc"));return s&&(r=Tt(r,Kn("employeeId","==",s))),e&&(r=Tt(r,Kn("date",">=",e))),n&&(r=Tt(r,Kn("date","<=",n))),(await fs(r)).docs.map(u=>({id:u.id,...u.data()}))}catch(r){throw console.error("Erro ao buscar registros de ponto:",r),new Error("No foi possvel buscar os registros de ponto")}},cO=async(s,e,n,r)=>{try{const l=r.overtimeHours*(r.baseSalary/220)*r.overtimeRate,u=r.baseSalary+l+Object.values(r.benefits).reduce((x,b)=>x+b,0),d=Object.values(r.deductions).reduce((x,b)=>x+b,0),p=u-d,g={employeeId:s,month:e,year:n,baseSalary:r.baseSalary,overtimePay:l,benefits:r.benefits,deductions:r.deductions,grossSalary:u,netSalary:p,status:"calculated",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return(await $s(St(Ae,qc),g)).id}catch(l){throw console.error("Erro ao criar folha de pagamento:",l),new Error("No foi possvel criar a folha de pagamento")}},uO=async(s,e)=>{try{const n=ct(Ae,qc,s);await ms(n,{...e,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Erro ao atualizar folha de pagamento:",n),new Error("No foi possvel atualizar a folha de pagamento")}},hO=async(s,e,n)=>{try{let r=Tt(St(Ae,qc),Qs("createdAt","desc"));return s&&(r=Tt(r,Kn("employeeId","==",s))),e&&(r=Tt(r,Kn("month","==",e))),n&&(r=Tt(r,Kn("year","==",n))),(await fs(r)).docs.map(u=>({id:u.id,...u.data()}))}catch(r){throw console.error("Erro ao buscar folhas de pagamento:",r),new Error("No foi possvel buscar as folhas de pagamento")}},dO=async s=>{try{const e=ct(Ae,qc,s);await ms(e,{status:"paid",paymentDate:new Date().toISOString(),updatedAt:new Date().toISOString()})}catch(e){throw console.error("Erro ao marcar folha como paga:",e),new Error("No foi possvel marcar a folha como paga")}},fO=async s=>{try{const e=ct(Ae,qc,s);await Nr(e)}catch(e){throw console.error("Erro ao deletar folha de pagamento:",e),new Error("No foi possvel deletar a folha de pagamento")}},Fg=s=>{if(!s.clockIn||!s.clockOut)return 0;const e=new Date(`2000-01-01T${s.clockIn}`);let r=(new Date(`2000-01-01T${s.clockOut}`).getTime()-e.getTime())/(1e3*60);if(s.breakStart&&s.breakEnd){const l=new Date(`2000-01-01T${s.breakStart}`),d=(new Date(`2000-01-01T${s.breakEnd}`).getTime()-l.getTime())/(1e3*60);r-=d}return Math.max(0,r/60)},mO=s=>s.clockIn?new Date(`2000-01-01T${s.clockIn}`)>new Date("2000-01-01T08:00")?"late":s.clockOut&&Fg(s)<4?"half_day":"present":"absent",pO=()=>{const[s,e]=D.useState("employees"),[n,r]=D.useState(!1),[l,u]=D.useState(void 0),[d,p]=D.useState([]),[g,y]=D.useState([]),[x,b]=D.useState([]),[T,R]=D.useState("");D.useEffect(()=>{q()},[]);const q=async()=>{try{const I=await aO();p(I)}catch{R("Erro ao carregar funcionrios")}},k=async(I,oe,B)=>{try{const de=await lO(I,oe,B);y(de)}catch{R("Erro ao carregar registros de ponto")}},z=async(I,oe,B)=>{try{const de=await hO(I,oe,B);b(de)}catch{R("Erro ao carregar folhas de pagamento")}},$=async I=>{try{await tO(I),await q(),r(!1)}catch{R("Erro ao criar funcionrio")}},V=async I=>{if(l)try{await nO(l.id,I),await q(),r(!1),u(void 0)}catch{R("Erro ao atualizar funcionrio")}},ee=async I=>{try{await sO(I),await q()}catch{R("Erro ao deletar funcionrio")}},Z=I=>{u(I),r(!0)},te=I=>{console.log("Ver detalhes do funcionrio:",I)},X=I=>{e("timeRecords"),k(I.id)},A=I=>{e("payroll"),z(I.id)},C=async I=>{try{await rO(I),await k()}catch{R("Erro ao criar registro de ponto")}},j=async(I,oe)=>{try{await iO(I,oe),await k()}catch{R("Erro ao atualizar registro de ponto")}},L=async I=>{try{await oO(I),await k()}catch{R("Erro ao deletar registro de ponto")}},P=async(I,oe,B,de)=>{try{await cO(I,oe,B,de),await z()}catch{R("Erro ao criar folha de pagamento")}},F=async(I,oe)=>{try{await uO(I,oe),await z()}catch{R("Erro ao atualizar folha de pagamento")}},N=async I=>{try{await fO(I),await z()}catch{R("Erro ao deletar folha de pagamento")}},ce=async I=>{try{await dO(I),await z()}catch{R("Erro ao marcar folha como paga")}},ve=[{id:"employees",label:"Funcionrios",icon:wc,count:d.length},{id:"timeRecords",label:"Controle de Ponto",icon:Tr,count:g.length},{id:"payroll",label:"Folha de Pagamento",icon:Tc,count:x.length}];return o.jsxs("div",{className:"rh-page",children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Recursos Humanos e Ponto"}),o.jsx("p",{children:"Gerencie funcionrios, controle de ponto e folha de pagamento"})]}),T&&o.jsxs("div",{className:"error-message",children:[T,o.jsx("button",{onClick:()=>R(""),className:"close-error",children:""})]}),o.jsx("div",{className:"tabs-container",children:o.jsx("div",{className:"tabs",children:ve.map(I=>o.jsxs("button",{className:`tab ${s===I.id?"active":""}`,onClick:()=>e(I.id),children:[o.jsx(I.icon,{size:20}),o.jsx("span",{children:I.label}),I.count>0&&o.jsx("span",{className:"tab-count",children:I.count})]},I.id))})}),o.jsxs("div",{className:"tab-content",children:[s==="employees"&&o.jsxs("div",{className:"employees-tab",children:[n?o.jsx(Wk,{employee:l,onSubmit:l?V:$,onCancel:()=>{r(!1),u(void 0)}}):o.jsx(Jk,{employees:d,onEdit:Z,onDelete:ee,onViewDetails:te,onViewTimeRecords:X,onViewPayroll:A}),!n&&o.jsx("div",{className:"tab-actions",children:o.jsxs("button",{onClick:()=>r(!0),className:"btn-primary",children:[o.jsx(wc,{size:16}),"Novo Funcionrio"]})})]}),s==="timeRecords"&&o.jsx(Zk,{employees:d,timeRecords:g,onCreateTimeRecord:C,onUpdateTimeRecord:j,onDeleteTimeRecord:L,onLoadTimeRecords:k}),s==="payroll"&&o.jsx(eO,{employees:d,payrolls:x,onCreatePayroll:P,onUpdatePayroll:F,onDeletePayroll:N,onLoadPayrolls:z,onMarkAsPaid:ce})]})]})},gO=({product:s,onSubmit:e,onCancel:n})=>{const[r,l]=D.useState({name:"",description:"",category:"",sku:"",barcode:"",unit:"unit",currentStock:0,minStock:0,maxStock:0,unitPrice:0,costPrice:0,supplier:"",supplierContact:"",location:"",status:"active",image:""}),[u,d]=D.useState(!1),[p,g]=D.useState("");D.useEffect(()=>{s&&l({name:s.name,description:s.description,category:s.category,sku:s.sku,barcode:s.barcode||"",unit:s.unit,currentStock:s.currentStock,minStock:s.minStock,maxStock:s.maxStock,unitPrice:s.unitPrice,costPrice:s.costPrice,supplier:s.supplier,supplierContact:s.supplierContact||"",location:s.location||"",status:s.status,image:s.image||""})},[s]);const y=async R=>{R.preventDefault(),g(""),d(!0);try{await e(r)}catch{g("Erro ao salvar produto")}finally{d(!1)}},x=R=>{const{name:q,value:k,type:z}=R.target;l($=>({...$,[q]:z==="number"?parseFloat(k)||0:k}))},b=["Produtos de Limpeza","Acessrios","Perfumaria","Ferramentas","Consumveis","Equipamentos","Outros"],T=[{value:"unit",label:"Unidade"},{value:"kg",label:"Quilograma (kg)"},{value:"l",label:"Litro (L)"},{value:"m",label:"Metro (m)"},{value:"box",label:"Caixa"},{value:"pack",label:"Pacote"}];return o.jsxs("div",{className:"product-form-container",children:[o.jsx("div",{className:"form-header",children:o.jsx("h2",{children:s?"Editar Produto":"Novo Produto"})}),p&&o.jsx("div",{className:"error-message",children:p}),o.jsxs("form",{onSubmit:y,className:"product-form",children:[o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{children:"Informaes Bsicas"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{children:"Nome do Produto *"}),o.jsx("input",{type:"text",name:"name",value:r.name,onChange:x,required:!0,placeholder:"Digite o nome do produto"})]}),o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{children:"Descrio"}),o.jsx("textarea",{name:"description",value:r.description,onChange:x,rows:3,placeholder:"Descrio detalhada do produto"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Categoria *"}),o.jsxs("select",{name:"category",value:r.category,onChange:x,required:!0,children:[o.jsx("option",{value:"",children:"Selecione uma categoria"}),b.map(R=>o.jsx("option",{value:R,children:R},R))]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"SKU *"}),o.jsx("input",{type:"text",name:"sku",value:r.sku,onChange:x,required:!0,placeholder:"Cdigo SKU"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Cdigo de Barras"}),o.jsx("input",{type:"text",name:"barcode",value:r.barcode,onChange:x,placeholder:"Cdigo de barras"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Unidade de Medida *"}),o.jsx("select",{name:"unit",value:r.unit,onChange:x,required:!0,children:T.map(R=>o.jsx("option",{value:R.value,children:R.label},R.value))})]})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{children:"Estoque"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Estoque Atual *"}),o.jsx("input",{type:"number",name:"currentStock",value:r.currentStock,onChange:x,required:!0,min:"0",step:"0.01"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Estoque Mnimo *"}),o.jsx("input",{type:"number",name:"minStock",value:r.minStock,onChange:x,required:!0,min:"0",step:"0.01"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Estoque Mximo *"}),o.jsx("input",{type:"number",name:"maxStock",value:r.maxStock,onChange:x,required:!0,min:"0",step:"0.01"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Localizao"}),o.jsx("input",{type:"text",name:"location",value:r.location,onChange:x,placeholder:"Ex: Prateleira A1"})]})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{children:"Preos"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Preo de Custo (R$) *"}),o.jsx("input",{type:"number",name:"costPrice",value:r.costPrice,onChange:x,required:!0,min:"0",step:"0.01"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Preo de Venda (R$) *"}),o.jsx("input",{type:"number",name:"unitPrice",value:r.unitPrice,onChange:x,required:!0,min:"0",step:"0.01"})]})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{children:"Fornecedor"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Nome do Fornecedor *"}),o.jsx("input",{type:"text",name:"supplier",value:r.supplier,onChange:x,required:!0,placeholder:"Nome do fornecedor"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Contato do Fornecedor"}),o.jsx("input",{type:"text",name:"supplierContact",value:r.supplierContact,onChange:x,placeholder:"Telefone ou e-mail"})]})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{children:"Status"}),o.jsx("div",{className:"form-grid",children:o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Status do Produto *"}),o.jsxs("select",{name:"status",value:r.status,onChange:x,required:!0,children:[o.jsx("option",{value:"active",children:"Ativo"}),o.jsx("option",{value:"inactive",children:"Inativo"}),o.jsx("option",{value:"discontinued",children:"Descontinuado"})]})]})})]}),o.jsxs("div",{className:"form-actions",children:[o.jsx("button",{type:"button",onClick:n,className:"btn-cancel",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:u,className:"btn-submit",children:u?"Salvando...":s?"Atualizar":"Criar"})]})]})]})},yO=({products:s,onEdit:e,onDelete:n,onViewMovements:r,onAddNew:l})=>{const[u,d]=D.useState(""),[p,g]=D.useState(""),[y,x]=D.useState(""),b=V=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(V),T=V=>V.currentStock===0?"out":V.currentStock<=V.minStock?"low":V.currentStock>=V.maxStock?"high":"normal",R=V=>{switch(V){case"out":return"Sem Estoque";case"low":return"Estoque Baixo";case"high":return"Estoque Alto";default:return"Normal"}},q=V=>{switch(V){case"active":return"active";case"inactive":return"inactive";case"discontinued":return"discontinued";default:return"unknown"}},k=V=>{switch(V){case"active":return"Ativo";case"inactive":return"Inativo";case"discontinued":return"Descontinuado";default:return V}},z=Array.from(new Set(s.map(V=>V.category))),$=s.filter(V=>{const ee=V.name.toLowerCase().includes(u.toLowerCase())||V.sku.toLowerCase().includes(u.toLowerCase()),Z=!p||V.category===p,te=!y||V.status===y;return ee&&Z&&te});return o.jsxs("div",{className:"product-list-container",children:[o.jsxs("div",{className:"list-header",children:[o.jsxs("div",{className:"header-left",children:[o.jsxs("h2",{children:[o.jsx(hr,{size:24}),"Produtos"]}),o.jsxs("div",{className:"header-stats",children:[o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:"Total"}),o.jsx("span",{className:"stat-value",children:s.length})]}),o.jsxs("div",{className:"stat-item alert",children:[o.jsx("span",{className:"stat-label",children:"Estoque Baixo"}),o.jsx("span",{className:"stat-value",children:s.filter(V=>V.currentStock<=V.minStock).length})]})]})]}),o.jsxs("button",{className:"btn-new",onClick:l,children:[o.jsx(hr,{size:16}),"Novo Produto"]})]}),o.jsxs("div",{className:"filters-section",children:[o.jsxs("div",{className:"search-box",children:[o.jsx(cS,{size:20}),o.jsx("input",{type:"text",placeholder:"Buscar por nome ou SKU...",value:u,onChange:V=>d(V.target.value)})]}),o.jsxs("div",{className:"filter-controls",children:[o.jsxs("select",{value:p,onChange:V=>g(V.target.value),className:"filter-select",children:[o.jsx("option",{value:"",children:"Todas as Categorias"}),z.map(V=>o.jsx("option",{value:V,children:V},V))]}),o.jsxs("select",{value:y,onChange:V=>x(V.target.value),className:"filter-select",children:[o.jsx("option",{value:"",children:"Todos os Status"}),o.jsx("option",{value:"active",children:"Ativo"}),o.jsx("option",{value:"inactive",children:"Inativo"}),o.jsx("option",{value:"discontinued",children:"Descontinuado"})]})]})]}),$.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx(hr,{size:48}),o.jsx("p",{children:"Nenhum produto encontrado"})]}):o.jsx("div",{className:"products-table-wrapper",children:o.jsxs("table",{className:"products-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"SKU"}),o.jsx("th",{children:"Nome"}),o.jsx("th",{children:"Categoria"}),o.jsx("th",{children:"Estoque Atual"}),o.jsx("th",{children:"Estoque Mn."}),o.jsx("th",{children:"Preo Venda"}),o.jsx("th",{children:"Status"}),o.jsx("th",{children:"Aes"})]})}),o.jsx("tbody",{children:$.map(V=>{const ee=T(V);return o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("span",{className:"sku",children:V.sku})}),o.jsx("td",{children:o.jsxs("div",{className:"product-info",children:[o.jsx("span",{className:"product-name",children:V.name}),ee==="low"||ee==="out"?o.jsx(di,{size:16,className:"warning-icon"}):null]})}),o.jsx("td",{children:V.category}),o.jsxs("td",{children:[o.jsxs("span",{className:`stock-badge ${ee}`,children:[V.currentStock," ",V.unit]}),o.jsx("span",{className:"stock-status-label",children:R(ee)})]}),o.jsxs("td",{children:[V.minStock," ",V.unit]}),o.jsx("td",{children:b(V.unitPrice)}),o.jsx("td",{children:o.jsx("span",{className:`status-badge ${q(V.status)}`,children:k(V.status)})}),o.jsx("td",{children:o.jsxs("div",{className:"action-buttons",children:[o.jsx("button",{onClick:()=>r(V),className:"btn-action btn-view",title:"Ver Movimentaes",children:o.jsx(hr,{size:16})}),o.jsx("button",{onClick:()=>e(V),className:"btn-action btn-edit",title:"Editar",children:o.jsx(Fc,{size:16})}),o.jsx("button",{onClick:()=>{confirm("Deseja realmente excluir este produto?")&&n(V.id)},className:"btn-action btn-delete",title:"Excluir",children:o.jsx(Rr,{size:16})})]})})]},V.id)})})]})})]})},vO=({products:s,movements:e,onCreateMovement:n,onDeleteMovement:r,onLoadMovements:l})=>{const[u,d]=D.useState(!1),[p,g]=D.useState({productId:"",type:"in",quantity:0,unitPrice:0,reason:"",reference:"",notes:"",date:new Date().toISOString().split("T")[0]}),[y,x]=D.useState({productId:"",startDate:"",endDate:""}),[b,T]=D.useState(!1),[R,q]=D.useState(""),k=D.useCallback(async()=>{T(!0);try{await l(y.productId||void 0,y.startDate||void 0,y.endDate||void 0)}catch{q("Erro ao carregar movimentaes")}finally{T(!1)}},[y.productId,y.startDate,y.endDate,l]);D.useEffect(()=>{k()},[k]);const z=async j=>{j.preventDefault(),q(""),T(!0);try{await n(p),$()}catch{q("Erro ao criar movimentao")}finally{T(!1)}},$=()=>{g({productId:"",type:"in",quantity:0,unitPrice:0,reason:"",reference:"",notes:"",date:new Date().toISOString().split("T")[0]}),d(!1)},V=j=>{const{name:L,value:P,type:F}=j.target;g(N=>({...N,[L]:F==="number"?parseFloat(P)||0:P}))},ee=j=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(j),Z=j=>new Date(j).toLocaleDateString("pt-BR"),te=j=>{switch(j){case"in":return o.jsx(XD,{className:"icon-in"});case"out":return o.jsx(WD,{className:"icon-out"});default:return null}},X=j=>{switch(j){case"in":return"Entrada";case"out":return"Sada";case"adjustment":return"Ajuste";case"loss":return"Perda";case"transfer":return"Transferncia";default:return j}},A=j=>{switch(j){case"in":return"in";case"out":return"out";case"adjustment":return"adjustment";case"loss":return"loss";case"transfer":return"transfer";default:return""}},C=j=>{const L=s.find(P=>P.id===j);return L?L.name:"Produto no encontrado"};return o.jsxs("div",{className:"stock-movement-section",children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h2",{children:"Movimentaes de Estoque"}),o.jsx("button",{className:"btn-new",onClick:()=>d(!u),children:u?"Cancelar":o.jsxs(o.Fragment,{children:[o.jsx(fi,{size:16})," Nova Movimentao"]})})]}),u&&o.jsxs("form",{onSubmit:z,className:"movement-form",children:[o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Produto *"}),o.jsxs("select",{name:"productId",value:p.productId,onChange:V,required:!0,children:[o.jsx("option",{value:"",children:"Selecione um produto"}),s.map(j=>o.jsxs("option",{value:j.id,children:[j.name," - Estoque: ",j.currentStock]},j.id))]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Tipo de Movimentao *"}),o.jsxs("select",{name:"type",value:p.type,onChange:V,required:!0,children:[o.jsx("option",{value:"in",children:"Entrada"}),o.jsx("option",{value:"out",children:"Sada"}),o.jsx("option",{value:"adjustment",children:"Ajuste"}),o.jsx("option",{value:"loss",children:"Perda"}),o.jsx("option",{value:"transfer",children:"Transferncia"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Quantidade *"}),o.jsx("input",{type:"number",name:"quantity",value:p.quantity,onChange:V,required:!0,min:"0",step:"0.01"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Preo Unitrio (R$)"}),o.jsx("input",{type:"number",name:"unitPrice",value:p.unitPrice,onChange:V,min:"0",step:"0.01"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Data *"}),o.jsx("input",{type:"date",name:"date",value:p.date,onChange:V,required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Motivo *"}),o.jsx("input",{type:"text",name:"reason",value:p.reason,onChange:V,required:!0,placeholder:"Ex: Compra, Venda, Devoluo"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Referncia"}),o.jsx("input",{type:"text",name:"reference",value:p.reference,onChange:V,placeholder:"Ex: NF-12345"})]}),o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{children:"Observaes"}),o.jsx("textarea",{name:"notes",value:p.notes,onChange:V,rows:3,placeholder:"Observaes sobre a movimentao..."})]})]}),o.jsxs("div",{className:"form-actions",children:[o.jsx("button",{type:"button",onClick:$,className:"btn-cancel",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:b,className:"btn-submit",children:b?"Salvando...":"Criar Movimentao"})]})]}),o.jsxs("div",{className:"filters-section",children:[o.jsx("h3",{children:"Filtros"}),o.jsxs("div",{className:"filters-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Produto"}),o.jsxs("select",{value:y.productId,onChange:j=>x(L=>({...L,productId:j.target.value})),children:[o.jsx("option",{value:"",children:"Todos os produtos"}),s.map(j=>o.jsx("option",{value:j.id,children:j.name},j.id))]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Data Inicial"}),o.jsx("input",{type:"date",value:y.startDate,onChange:j=>x(L=>({...L,startDate:j.target.value}))})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Data Final"}),o.jsx("input",{type:"date",value:y.endDate,onChange:j=>x(L=>({...L,endDate:j.target.value}))})]}),o.jsx("div",{className:"form-group",children:o.jsx("button",{type:"button",onClick:()=>x({productId:"",startDate:"",endDate:""}),className:"btn-clear-filters",children:"Limpar Filtros"})})]})]}),R&&o.jsx("div",{className:"error-message",children:R}),o.jsxs("div",{className:"movements-list",children:[o.jsx("h3",{children:"Histrico de Movimentaes"}),b?o.jsxs("div",{className:"loading-state",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Carregando..."})]}):e.length===0?o.jsx("div",{className:"empty-state",children:o.jsx("p",{children:"Nenhuma movimentao encontrada"})}):o.jsx("div",{className:"movements-table-wrapper",children:o.jsxs("table",{className:"movements-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Data"}),o.jsx("th",{children:"Produto"}),o.jsx("th",{children:"Tipo"}),o.jsx("th",{children:"Quantidade"}),o.jsx("th",{children:"Valor"}),o.jsx("th",{children:"Motivo"}),o.jsx("th",{children:"Referncia"}),o.jsx("th",{children:"Aes"})]})}),o.jsx("tbody",{children:e.map(j=>o.jsxs("tr",{children:[o.jsx("td",{children:Z(j.date)}),o.jsx("td",{children:o.jsx("div",{className:"product-name",children:C(j.productId)})}),o.jsx("td",{children:o.jsxs("span",{className:`type-badge ${A(j.type)}`,children:[te(j.type),X(j.type)]})}),o.jsx("td",{children:o.jsx("span",{className:"quantity",children:j.quantity})}),o.jsx("td",{children:ee(j.totalValue)}),o.jsx("td",{children:j.reason}),o.jsx("td",{children:j.reference||"-"}),o.jsx("td",{children:o.jsx("div",{className:"action-buttons",children:o.jsx("button",{onClick:()=>{confirm("Deseja realmente excluir esta movimentao?")&&r(j.id)},className:"btn-action btn-delete",title:"Excluir",children:o.jsx(Rr,{size:16})})})})]},j.id))})]})})]})]})},_O=({products:s,alerts:e,onLoadAlerts:n,onUpdateAlertStatus:r})=>{const[l,u]=D.useState(""),[d,p]=D.useState(!1),[g,y]=D.useState(""),x=D.useCallback(async()=>{p(!0);try{await n(l||void 0)}catch{y("Erro ao carregar alertas")}finally{p(!1)}},[l,n]);D.useEffect(()=>{x()},[x]);const b=async(X,A)=>{try{await r(X,A),await x()}catch{y("Erro ao atualizar status do alerta")}},T=X=>{const A=s.find(C=>C.id===X);return A?A.name:"Produto no encontrado"},R=X=>{const A=s.find(C=>C.id===X);return A?{current:A.currentStock,min:A.minStock,unit:A.unit}:null},q=X=>{switch(X){case"critical":return"critical";case"high":return"high";case"medium":return"medium";case"low":return"low";default:return""}},k=X=>{switch(X){case"critical":return"Crtico";case"high":return"Alto";case"medium":return"Mdio";case"low":return"Baixo";default:return X}},z=X=>{switch(X){case"active":return"active";case"resolved":return"resolved";case"ignored":return"ignored";default:return""}},$=X=>{switch(X){case"active":return"Ativo";case"resolved":return"Resolvido";case"ignored":return"Ignorado";default:return X}},V=X=>new Date(X).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),ee=e.filter(X=>X.status==="active"),Z=ee.filter(X=>X.priority==="critical"),te=ee.filter(X=>X.priority==="high");return o.jsxs("div",{className:"stock-alerts-section",children:[o.jsxs("div",{className:"section-header",children:[o.jsxs("h2",{children:[o.jsx(di,{size:24}),"Alertas de Estoque"]}),o.jsxs("div",{className:"alerts-summary",children:[o.jsxs("div",{className:"summary-item critical",children:[o.jsx("span",{className:"summary-label",children:"Crticos"}),o.jsx("span",{className:"summary-value",children:Z.length})]}),o.jsxs("div",{className:"summary-item high",children:[o.jsx("span",{className:"summary-label",children:"Alta Prioridade"}),o.jsx("span",{className:"summary-value",children:te.length})]}),o.jsxs("div",{className:"summary-item total",children:[o.jsx("span",{className:"summary-label",children:"Total Ativos"}),o.jsx("span",{className:"summary-value",children:ee.length})]})]})]}),o.jsxs("div",{className:"filters-section",children:[o.jsx("label",{children:"Filtrar por Status:"}),o.jsxs("select",{value:l,onChange:X=>u(X.target.value),className:"filter-select",children:[o.jsx("option",{value:"",children:"Todos os Status"}),o.jsx("option",{value:"active",children:"Ativos"}),o.jsx("option",{value:"resolved",children:"Resolvidos"}),o.jsx("option",{value:"ignored",children:"Ignorados"})]})]}),g&&o.jsx("div",{className:"error-message",children:g}),d?o.jsxs("div",{className:"loading-state",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Carregando..."})]}):e.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx(hr,{size:48}),o.jsx("p",{children:"Nenhum alerta encontrado"})]}):o.jsx("div",{className:"alerts-list",children:e.map(X=>{const A=R(X.productId);return o.jsxs("div",{className:`alert-card ${q(X.priority)} ${X.status!=="active"?"inactive":""}`,children:[o.jsxs("div",{className:"alert-header",children:[o.jsx("div",{className:"alert-icon",children:o.jsx(di,{size:24})}),o.jsxs("div",{className:"alert-info",children:[o.jsx("h3",{children:T(X.productId)}),o.jsx("p",{className:"alert-message",children:X.message}),A&&o.jsxs("div",{className:"stock-info",children:[o.jsxs("span",{children:["Estoque atual: ",o.jsx("strong",{children:A.current})," ",A.unit]}),o.jsx("span",{className:"separator",children:""}),o.jsxs("span",{children:["Estoque mnimo: ",o.jsx("strong",{children:A.min})," ",A.unit]})]})]}),o.jsxs("div",{className:"alert-badges",children:[o.jsx("span",{className:`priority-badge ${q(X.priority)}`,children:k(X.priority)}),o.jsx("span",{className:`status-badge ${z(X.status)}`,children:$(X.status)})]})]}),o.jsxs("div",{className:"alert-footer",children:[o.jsx("span",{className:"alert-date",children:V(X.createdAt)}),X.status==="active"&&o.jsxs("div",{className:"alert-actions",children:[o.jsxs("button",{onClick:()=>b(X.id,"resolved"),className:"btn-action btn-resolve",title:"Marcar como Resolvido",children:[o.jsx(tk,{size:16}),"Resolver"]}),o.jsxs("button",{onClick:()=>b(X.id,"ignored"),className:"btn-action btn-ignore",title:"Ignorar Alerta",children:[o.jsx(Ek,{size:16}),"Ignorar"]})]})]})]},X.id)})})]})},Hc="products",qg="stockMovements",Nc="stockAlerts",xO=async s=>{try{const e={...s,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},n=await $s(St(Ae,Hc),e);return s.currentStock<=s.minStock&&await yS(n.id,s.currentStock),n.id}catch(e){throw console.error("Erro ao criar produto:",e),new Error("No foi possvel criar o produto")}},mS=async(s,e)=>{try{const n=ct(Ae,Hc,s);if(await ms(n,{...e,updatedAt:new Date().toISOString()}),e.currentStock!==void 0){const r=await pS(s);r&&await SO(s,e.currentStock,r.minStock)}}catch(n){throw console.error("Erro ao atualizar produto:",n),new Error("No foi possvel atualizar o produto")}},EO=async s=>{try{const e=ct(Ae,Hc,s);await Nr(e)}catch(e){throw console.error("Erro ao deletar produto:",e),new Error("No foi possvel deletar o produto")}},pS=async s=>{try{const e=ct(Ae,Hc,s),n=await Mp(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Erro ao buscar produto:",e),new Error("No foi possvel buscar o produto")}},ud=async()=>{try{return(await fs(Tt(St(Ae,Hc),Qs("createdAt","desc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(s){throw console.error("Erro ao buscar produtos:",s),new Error("No foi possvel buscar os produtos")}},bO=async s=>{try{const e=await pS(s.productId);if(!e)throw new Error("Produto no encontrado");const n=e.currentStock;let r=n;switch(s.type){case"in":r=n+s.quantity;break;case"out":r=n-s.quantity;break;case"adjustment":r=s.quantity;break;case"loss":r=n-s.quantity;break;case"transfer":r=n-s.quantity;break}if(r<0)throw new Error("Estoque no pode ficar negativo");const l=(s.unitPrice||e.costPrice)*s.quantity,u={...s,previousStock:n,newStock:r,totalValue:l,responsibleUser:"current-user",createdAt:new Date().toISOString()},d=await $s(St(Ae,qg),u);return await mS(s.productId,{currentStock:r}),d.id}catch(e){throw console.error("Erro ao criar movimentao de estoque:",e),new Error(e instanceof Error?e.message:"No foi possvel criar a movimentao")}},gS=async(s,e,n)=>{try{let r=Tt(St(Ae,qg),Qs("date","desc"));return s&&(r=Tt(r,Kn("productId","==",s))),e&&(r=Tt(r,Kn("date",">=",e))),n&&(r=Tt(r,Kn("date","<=",n))),(await fs(r)).docs.map(u=>({id:u.id,...u.data()}))}catch(r){throw console.error("Erro ao buscar movimentaes:",r),new Error("No foi possvel buscar as movimentaes")}},TO=async s=>{try{const e=ct(Ae,qg,s);await Nr(e)}catch(e){throw console.error("Erro ao deletar movimentao:",e),new Error("No foi possvel deletar a movimentao")}},yS=async(s,e)=>{try{const n=e===0?"critical":"high",r=e===0?"out_of_stock":"low_stock",l=e===0?"Produto sem estoque":"Produto com estoque baixo";await $s(St(Ae,Nc),{productId:s,type:r,message:l,priority:n,status:"active",createdAt:new Date().toISOString()})}catch(n){console.error("Erro ao criar alerta:",n)}},SO=async(s,e,n)=>{try{const r=Tt(St(Ae,Nc),Kn("productId","==",s),Kn("status","==","active")),l=await fs(r);e<=n&&l.empty?await yS(s,e):e>n&&!l.empty&&l.forEach(async u=>{await ms(ct(Ae,Nc,u.id),{status:"resolved",resolvedAt:new Date().toISOString()})})}catch(r){console.error("Erro ao verificar alertas:",r)}},wO=async s=>{try{let e=Tt(St(Ae,Nc),Qs("createdAt","desc"));return s&&(e=Tt(e,Kn("status","==",s))),(await fs(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Erro ao buscar alertas:",e),new Error("No foi possvel buscar os alertas")}},NO=async(s,e)=>{try{const n=ct(Ae,Nc,s),r={status:e};e==="resolved"&&(r.resolvedAt=new Date().toISOString()),await ms(n,r)}catch(n){throw console.error("Erro ao atualizar status do alerta:",n),new Error("No foi possvel atualizar o status do alerta")}},jO=async()=>{try{const s=await ud(),e=await gS(),n=s.length,r=s.reduce((x,b)=>x+b.currentStock*b.costPrice,0),l=s.filter(x=>x.currentStock<=x.minStock&&x.currentStock>0).length,u=s.filter(x=>x.currentStock===0).length,d=new Map;e.filter(x=>x.type==="out").forEach(x=>{const b=d.get(x.productId)||{quantity:0,revenue:0};d.set(x.productId,{quantity:b.quantity+x.quantity,revenue:b.revenue+x.totalValue})});const p=Array.from(d.entries()).map(([x,b])=>{const T=s.find(R=>R.id===x);return{productId:x,productName:T?.name||"Produto no encontrado",quantitySold:b.quantity,totalRevenue:b.revenue}}).sort((x,b)=>b.quantitySold-x.quantitySold).slice(0,10),g=Array.from(s.reduce((x,b)=>{const T=x.get(b.category)||{quantity:0,value:0};return x.set(b.category,{quantity:T.quantity+b.currentStock,value:T.value+b.currentStock*b.costPrice}),x},new Map)).map(([x,b])=>({category:x,quantity:b.quantity,value:b.value})),y=e.slice(0,10);return{totalProducts:n,totalValue:r,lowStockItems:l,outOfStockItems:u,topSellingProducts:p,recentMovements:y,stockByCategory:g}}catch(s){throw console.error("Erro ao gerar relatrio:",s),new Error("No foi possvel gerar o relatrio")}},AO=()=>{const[s,e]=D.useState("products"),[n,r]=D.useState(!1),[l,u]=D.useState(void 0),[d,p]=D.useState([]),[g,y]=D.useState([]),[x,b]=D.useState([]),[T,R]=D.useState(null),[q,k]=D.useState(""),[z,$]=D.useState("");D.useEffect(()=>{V(),Z()},[]);const V=async()=>{try{const I=await ud();p(I)}catch{k("Erro ao carregar produtos")}},ee=async(I,oe,B)=>{try{const de=await gS(I,oe,B);y(de)}catch{k("Erro ao carregar movimentaes")}},Z=async I=>{try{const oe=await wO(I);b(oe)}catch{k("Erro ao carregar alertas")}},te=async()=>{try{const I=await jO();R(I)}catch{k("Erro ao carregar relatrio")}},X=async I=>{try{if(k(""),$(""),!I.name||I.name.trim()===""){k("O nome do produto  obrigatrio");return}if(!I.sku||I.sku.trim()===""){k("O SKU  obrigatrio");return}if(!I.category||I.category.trim()===""){k("A categoria  obrigatria");return}if(I.currentStock<0){k("O estoque atual no pode ser negativo");return}if(I.minStock<0){k("O estoque mnimo no pode ser negativo");return}if(I.maxStock<0){k("O estoque mximo no pode ser negativo");return}if(I.minStock>I.maxStock&&I.maxStock>0){k("O estoque mnimo no pode ser maior que o estoque mximo");return}if(I.costPrice<0){k("O preo de custo no pode ser negativo");return}if(I.unitPrice<0){k("O preo de venda no pode ser negativo");return}if(!I.supplier||I.supplier.trim()===""){k("O fornecedor  obrigatrio");return}if((await ud()).some(de=>de.sku.toLowerCase()===I.sku.toLowerCase())){k("J existe um produto com este SKU");return}await xO(I),await V(),await Z(),$("Produto criado com sucesso!"),setTimeout(()=>{r(!1),$("")},1500)}catch(oe){console.error("Erro ao criar produto:",oe),k(oe instanceof Error?oe.message:"Erro ao criar produto. Tente novamente.")}},A=async I=>{if(l)try{await mS(l.id,I),await V(),await Z(),r(!1),u(void 0)}catch{k("Erro ao atualizar produto")}},C=async I=>{try{await EO(I),await V()}catch{k("Erro ao deletar produto")}},j=I=>{u(I),r(!0)},L=I=>{e("movements"),ee(I.id)},P=async I=>{try{await bO(I),await ee(),await V(),await Z()}catch{k("Erro ao criar movimentao")}},F=async I=>{try{await TO(I),await ee()}catch{k("Erro ao deletar movimentao")}},N=async(I,oe)=>{try{await NO(I,oe),await Z()}catch{k("Erro ao atualizar status do alerta")}},ce=[{id:"products",label:"Produtos",icon:hr,count:d.length},{id:"movements",label:"Movimentaes",icon:hS,count:g.length},{id:"alerts",label:"Alertas",icon:di,count:x.filter(I=>I.status==="active").length},{id:"reports",label:"Relatrios",icon:sE,count:0}],ve=I=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(I);return o.jsxs("div",{className:"estoque-page",children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Gesto de Estoque"}),o.jsx("p",{children:"Controle completo do inventrio, movimentaes e alertas"})]}),q&&o.jsxs("div",{className:"error-message",children:[q,o.jsx("button",{onClick:()=>k(""),className:"close-error",children:""})]}),z&&o.jsxs("div",{className:"success-message",children:[z,o.jsx("button",{onClick:()=>$(""),className:"close-success",children:""})]}),o.jsx("div",{className:"tabs-container",children:o.jsx("div",{className:"tabs",children:ce.map(I=>o.jsxs("button",{className:`tab ${s===I.id?"active":""}`,onClick:()=>{e(I.id),I.id==="reports"&&!T&&te()},children:[o.jsx(I.icon,{size:20}),o.jsx("span",{children:I.label}),I.count>0&&o.jsx("span",{className:"tab-count",children:I.count})]},I.id))})}),o.jsxs("div",{className:"tab-content",children:[s==="products"&&o.jsx("div",{className:"products-tab",children:n?o.jsx(gO,{product:l,onSubmit:l?A:X,onCancel:()=>{r(!1),u(void 0)}}):o.jsx(yO,{products:d,onEdit:j,onDelete:C,onViewMovements:L,onAddNew:()=>r(!0)})}),s==="movements"&&o.jsx(vO,{products:d,movements:g,onCreateMovement:P,onDeleteMovement:F,onLoadMovements:ee}),s==="alerts"&&o.jsx(_O,{products:d,alerts:x,onLoadAlerts:Z,onUpdateAlertStatus:N}),s==="reports"&&o.jsx("div",{className:"reports-tab",children:T?o.jsxs("div",{className:"reports-container",children:[o.jsxs("div",{className:"report-summary",children:[o.jsxs("div",{className:"summary-card",children:[o.jsx("div",{className:"card-icon",children:o.jsx(hr,{size:32})}),o.jsxs("div",{className:"card-content",children:[o.jsx("h3",{children:"Total de Produtos"}),o.jsx("p",{className:"card-value",children:T.totalProducts})]})]}),o.jsxs("div",{className:"summary-card",children:[o.jsx("div",{className:"card-icon",children:o.jsx(sE,{size:32})}),o.jsxs("div",{className:"card-content",children:[o.jsx("h3",{children:"Valor Total do Estoque"}),o.jsx("p",{className:"card-value",children:ve(T.totalValue)})]})]}),o.jsxs("div",{className:"summary-card alert",children:[o.jsx("div",{className:"card-icon",children:o.jsx(di,{size:32})}),o.jsxs("div",{className:"card-content",children:[o.jsx("h3",{children:"Produtos com Estoque Baixo"}),o.jsx("p",{className:"card-value",children:T.lowStockItems})]})]}),o.jsxs("div",{className:"summary-card critical",children:[o.jsx("div",{className:"card-icon",children:o.jsx(di,{size:32})}),o.jsxs("div",{className:"card-content",children:[o.jsx("h3",{children:"Produtos Sem Estoque"}),o.jsx("p",{className:"card-value",children:T.outOfStockItems})]})]})]}),o.jsxs("div",{className:"report-sections",children:[o.jsxs("div",{className:"report-section",children:[o.jsx("h3",{children:"Produtos Mais Vendidos"}),T.topSellingProducts.length>0?o.jsxs("table",{className:"report-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Produto"}),o.jsx("th",{children:"Quantidade Vendida"}),o.jsx("th",{children:"Receita Total"})]})}),o.jsx("tbody",{children:T.topSellingProducts.map((I,oe)=>o.jsxs("tr",{children:[o.jsx("td",{children:I.productName}),o.jsx("td",{children:I.quantitySold}),o.jsx("td",{children:ve(I.totalRevenue)})]},oe))})]}):o.jsx("p",{children:"Nenhuma venda registrada"})]}),o.jsxs("div",{className:"report-section",children:[o.jsx("h3",{children:"Estoque por Categoria"}),T.stockByCategory.length>0?o.jsxs("table",{className:"report-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Categoria"}),o.jsx("th",{children:"Quantidade"}),o.jsx("th",{children:"Valor Total"})]})}),o.jsx("tbody",{children:T.stockByCategory.map((I,oe)=>o.jsxs("tr",{children:[o.jsx("td",{children:I.category}),o.jsx("td",{children:I.quantity}),o.jsx("td",{children:ve(I.value)})]},oe))})]}):o.jsx("p",{children:"Nenhuma categoria cadastrada"})]})]})]}):o.jsxs("div",{className:"loading-state",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Carregando relatrio..."})]})})]})]})},CO=()=>{const s=[{id:"1",date:"2024-01-15",service:"Lavagem Completa",amount:150,status:"Concludo"},{id:"2",date:"2024-01-10",service:"Lavagem Simples",amount:80,status:"Concludo"},{id:"3",date:"2024-01-05",service:"Lavagem Premium",amount:200,status:"Concludo"}],e=[{id:"1",date:"2024-01-15",type:"Plano Mensal",description:"Plano de lavagem mensal - 4 lavagens",status:"Ativo"},{id:"2",date:"2024-01-10",type:"Lavagem Avulsa",description:"Lavagem completa com cera",status:"Concludo"}];return o.jsxs("div",{className:"history-page",children:[o.jsxs("div",{className:"history-header",children:[o.jsx("h1",{className:"history-title",children:"Histrico de Compras e Servios"}),o.jsx("p",{className:"history-subtitle",children:"Visualize todo o seu histrico de transaes e servios contratados"})]}),o.jsxs("div",{className:"history-content",children:[o.jsxs("div",{className:"history-section",children:[o.jsxs("div",{className:"history-section-header",children:[o.jsx(gk,{size:24,className:"history-section-icon"}),o.jsx("h2",{className:"history-section-title",children:"Compras Realizadas"})]}),o.jsx("div",{className:"history-table-container",children:o.jsxs("table",{className:"history-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Data"}),o.jsx("th",{children:"Servio"}),o.jsx("th",{children:"Valor"}),o.jsx("th",{children:"Status"})]})}),o.jsx("tbody",{children:s.length>0?s.map(n=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("div",{className:"history-date",children:[o.jsx(Tr,{size:16}),o.jsx("span",{children:new Date(n.date).toLocaleDateString("pt-BR")})]})}),o.jsx("td",{children:n.service}),o.jsxs("td",{className:"history-amount",children:["R$ ",n.amount.toFixed(2).replace(".",",")]}),o.jsx("td",{children:o.jsx("span",{className:`history-status history-status-${n.status.toLowerCase()}`,children:n.status})})]},n.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"history-empty",children:"Nenhuma compra encontrada"})})})]})})]}),o.jsxs("div",{className:"history-section",children:[o.jsxs("div",{className:"history-section-header",children:[o.jsx(iS,{size:24,className:"history-section-icon"}),o.jsx("h2",{className:"history-section-title",children:"Servios Contratados"})]}),o.jsx("div",{className:"history-services-list",children:e.length>0?e.map(n=>o.jsxs("div",{className:"history-service-card",children:[o.jsxs("div",{className:"history-service-header",children:[o.jsxs("div",{className:"history-service-info",children:[o.jsx("h3",{className:"history-service-type",children:n.type}),o.jsx("p",{className:"history-service-description",children:n.description})]}),o.jsx("span",{className:`history-status history-status-${n.status.toLowerCase()}`,children:n.status})]}),o.jsx("div",{className:"history-service-footer",children:o.jsxs("span",{className:"history-service-date",children:[o.jsx(Tr,{size:14}),new Date(n.date).toLocaleDateString("pt-BR")]})})]},n.id)):o.jsx("div",{className:"history-empty-message",children:"Nenhum servio encontrado"})})]})]})]})},RO=()=>{const{user:s}=Cr(),[e,n]=D.useState(!1),[r,l]=D.useState({name:s?.name||"",email:s?.email||"",phone:s?.phone||""}),u=g=>{const{name:y,value:x}=g.target;l(b=>({...b,[y]:x}))},d=async()=>{try{console.log("Salvando dados:",r),n(!1)}catch(g){console.error("Erro ao salvar perfil:",g)}},p=()=>{l({name:s?.name||"",email:s?.email||"",phone:s?.phone||""}),n(!1)};return o.jsxs("div",{className:"profile-page",children:[o.jsxs("div",{className:"profile-header",children:[o.jsx("h1",{className:"profile-title",children:"Meu Perfil"}),o.jsx("p",{className:"profile-subtitle",children:"Gerencie suas informaes pessoais e configuraes da conta"})]}),o.jsxs("div",{className:"profile-content",children:[o.jsxs("div",{className:"profile-card",children:[o.jsxs("div",{className:"profile-card-header",children:[o.jsx("div",{className:"profile-avatar",children:o.jsx(jo,{size:48})}),o.jsx("div",{className:"profile-actions",children:e?o.jsxs("div",{className:"profile-edit-actions",children:[o.jsxs("button",{className:"profile-save-button",onClick:d,children:[o.jsx(fk,{size:18}),"Salvar"]}),o.jsxs("button",{className:"profile-cancel-button",onClick:p,children:[o.jsx(zp,{size:18}),"Cancelar"]})]}):o.jsxs("button",{className:"profile-edit-button",onClick:()=>n(!0),children:[o.jsx(Fc,{size:18}),"Editar Perfil"]})})]}),o.jsxs("div",{className:"profile-form",children:[o.jsxs("div",{className:"profile-field",children:[o.jsxs("label",{htmlFor:"name",className:"profile-label",children:[o.jsx(jo,{className:"profile-label-icon"}),"Nome Completo"]}),e?o.jsx("input",{id:"name",name:"name",type:"text",value:r.name,onChange:u,className:"profile-input",placeholder:"Digite seu nome completo"}):o.jsx("div",{className:"profile-value",children:s?.name||"No informado"})]}),o.jsxs("div",{className:"profile-field",children:[o.jsxs("label",{htmlFor:"email",className:"profile-label",children:[o.jsx(Sc,{className:"profile-label-icon"}),"Email"]}),e?o.jsx("input",{id:"email",name:"email",type:"email",value:r.email,onChange:u,className:"profile-input",placeholder:"Digite seu email",disabled:!0}):o.jsx("div",{className:"profile-value",children:s?.email||"No informado"}),e&&o.jsx("p",{className:"profile-field-hint",children:"O email no pode ser alterado"})]}),o.jsxs("div",{className:"profile-field",children:[o.jsxs("label",{htmlFor:"phone",className:"profile-label",children:[o.jsx(Pd,{className:"profile-label-icon"}),"Telefone"]}),e?o.jsx("input",{id:"phone",name:"phone",type:"tel",value:r.phone,onChange:u,className:"profile-input",placeholder:"Digite seu telefone"}):o.jsx("div",{className:"profile-value",children:s?.phone||"No informado"})]}),o.jsxs("div",{className:"profile-field",children:[o.jsxs("label",{className:"profile-label",children:[o.jsx(jo,{className:"profile-label-icon"}),"Tipo de Usurio"]}),o.jsxs("div",{className:"profile-value profile-role",children:[s?.role==="admin"&&"Administrador",s?.role==="gerente"&&"Gerente",s?.role==="caixa"&&"Caixa",s?.role==="lavador"&&"Lavador",s?.role==="user"&&"Cliente",!s?.role&&"No definido"]})]})]})]}),o.jsxs("div",{className:"profile-card",children:[o.jsx("h2",{className:"profile-card-title",children:"Informaes da Conta"}),o.jsxs("div",{className:"profile-info-grid",children:[o.jsxs("div",{className:"profile-info-item",children:[o.jsx("span",{className:"profile-info-label",children:"Data de Cadastro"}),o.jsx("span",{className:"profile-info-value",children:s?.createdAt?new Date(s.createdAt).toLocaleDateString("pt-BR"):"No disponvel"})]}),o.jsxs("div",{className:"profile-info-item",children:[o.jsx("span",{className:"profile-info-label",children:"ltimo Acesso"}),o.jsx("span",{className:"profile-info-value",children:s?.lastLogin?new Date(s.lastLogin).toLocaleDateString("pt-BR"):"No disponvel"})]})]})]})]})]})},IO=()=>{const s={address:{street:"Rua Exemplo, 123",neighborhood:"Centro",city:"So Paulo",state:"SP",zipCode:"01310-100"},phone:{primary:"(11) 1234-5678",secondary:"(11) 9876-5432",whatsapp:"(11) 98765-4321"},email:{primary:"contato@dolphinfast.com.br",support:"suporte@dolphinfast.com.br"},hours:{weekdays:"Segunda a Sexta: 08:00 - 18:00",saturday:"Sbado: 08:00 - 14:00",sunday:"Domingo: Fechado"},social:{facebook:"https://facebook.com/dolphinfast",instagram:"https://instagram.com/dolphinfast",twitter:"https://twitter.com/dolphinfast"}};return o.jsxs("div",{className:"contact-info-page",children:[o.jsxs("div",{className:"contact-info-header",children:[o.jsx("h1",{className:"contact-info-title",children:"Informaes de Contato"}),o.jsx("p",{className:"contact-info-subtitle",children:"Entre em contato conosco atravs dos canais abaixo"})]}),o.jsxs("div",{className:"contact-info-content",children:[o.jsxs("div",{className:"contact-info-card",children:[o.jsxs("div",{className:"contact-info-card-header",children:[o.jsx(ik,{size:24,className:"contact-info-icon"}),o.jsx("h2",{className:"contact-info-card-title",children:"Endereo"})]}),o.jsxs("div",{className:"contact-info-card-body",children:[o.jsx("p",{className:"contact-info-text",children:s.address.street}),o.jsx("p",{className:"contact-info-text",children:s.address.neighborhood}),o.jsxs("p",{className:"contact-info-text",children:[s.address.city," - ",s.address.state]}),o.jsxs("p",{className:"contact-info-text",children:["CEP: ",s.address.zipCode]})]})]}),o.jsxs("div",{className:"contact-info-card",children:[o.jsxs("div",{className:"contact-info-card-header",children:[o.jsx(Pd,{size:24,className:"contact-info-icon"}),o.jsx("h2",{className:"contact-info-card-title",children:"Telefones"})]}),o.jsxs("div",{className:"contact-info-card-body",children:[o.jsxs("div",{className:"contact-info-item",children:[o.jsx("span",{className:"contact-info-label",children:"Principal:"}),o.jsx("a",{href:`tel:${s.phone.primary}`,className:"contact-info-link",children:s.phone.primary})]}),o.jsxs("div",{className:"contact-info-item",children:[o.jsx("span",{className:"contact-info-label",children:"Secundrio:"}),o.jsx("a",{href:`tel:${s.phone.secondary}`,className:"contact-info-link",children:s.phone.secondary})]}),o.jsxs("div",{className:"contact-info-item",children:[o.jsx("span",{className:"contact-info-label",children:"WhatsApp:"}),o.jsx("a",{href:`https://wa.me/${s.phone.whatsapp.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"contact-info-link contact-info-whatsapp",children:s.phone.whatsapp})]})]})]}),o.jsxs("div",{className:"contact-info-card",children:[o.jsxs("div",{className:"contact-info-card-header",children:[o.jsx(Sc,{size:24,className:"contact-info-icon"}),o.jsx("h2",{className:"contact-info-card-title",children:"E-mail"})]}),o.jsxs("div",{className:"contact-info-card-body",children:[o.jsxs("div",{className:"contact-info-item",children:[o.jsx("span",{className:"contact-info-label",children:"Contato:"}),o.jsx("a",{href:`mailto:${s.email.primary}`,className:"contact-info-link",children:s.email.primary})]}),o.jsxs("div",{className:"contact-info-item",children:[o.jsx("span",{className:"contact-info-label",children:"Suporte:"}),o.jsx("a",{href:`mailto:${s.email.support}`,className:"contact-info-link",children:s.email.support})]})]})]}),o.jsxs("div",{className:"contact-info-card",children:[o.jsxs("div",{className:"contact-info-card-header",children:[o.jsx(Tr,{size:24,className:"contact-info-icon"}),o.jsx("h2",{className:"contact-info-card-title",children:"Horrio de Funcionamento"})]}),o.jsxs("div",{className:"contact-info-card-body",children:[o.jsx("p",{className:"contact-info-text",children:s.hours.weekdays}),o.jsx("p",{className:"contact-info-text",children:s.hours.saturday}),o.jsx("p",{className:"contact-info-text",children:s.hours.sunday})]})]}),o.jsxs("div",{className:"contact-info-card contact-info-social",children:[o.jsx("div",{className:"contact-info-card-header",children:o.jsx("h2",{className:"contact-info-card-title",children:"Redes Sociais"})}),o.jsx("div",{className:"contact-info-card-body",children:o.jsxs("div",{className:"contact-info-social-links",children:[o.jsxs("a",{href:s.social.facebook,target:"_blank",rel:"noopener noreferrer",className:"contact-info-social-link",children:[o.jsx(rS,{size:24}),o.jsx("span",{children:"Facebook"})]}),o.jsxs("a",{href:s.social.instagram,target:"_blank",rel:"noopener noreferrer",className:"contact-info-social-link",children:[o.jsx(oS,{size:24}),o.jsx("span",{children:"Instagram"})]}),o.jsxs("a",{href:s.social.twitter,target:"_blank",rel:"noopener noreferrer",className:"contact-info-social-link",children:[o.jsx(fS,{size:24}),o.jsx("span",{children:"Twitter"})]})]})})]})]})]})},DO=()=>{const{user:s}=Cr(),[e,n]=D.useState("venda"),[r,l]=D.useState([]),[u,d]=D.useState("pix"),[p,g]=D.useState(""),[y,x]=D.useState(0),[b,T]=D.useState(""),[R,q]=D.useState([]),[k,z]=D.useState(!0),V=[...[{id:"mock_1",name:"gua Mineral",price:3.5,category:"Bebidas",stock:50},{id:"mock_2",name:"Refrigerante",price:5,category:"Bebidas",stock:30},{id:"mock_3",name:"Chocolate",price:4.5,category:"Doces",stock:25},{id:"mock_4",name:"Salgadinho",price:3,category:"Salgados",stock:40}],...R.filter(B=>B.status==="active").map(B=>({id:`estoque_${B.id}`,name:B.name,price:B.unitPrice,category:B.category,stock:B.currentStock,description:B.description}))],[ee]=D.useState([{id:"1",name:"Lavagem Simples",price:25,category:"Lavagem",duration:30},{id:"2",name:"Lavagem Completa",price:50,category:"Lavagem",duration:60},{id:"3",name:"Lavagem Premium",price:80,category:"Lavagem",duration:90},{id:"4",name:"Aspirao",price:15,category:"Lavagem",duration:15}]),[Z,te]=D.useState([]),[X,A]=D.useState(null);D.useEffect(()=>{(async()=>{try{z(!0);const de=await ud();q(de)}catch(de){console.error("Erro ao carregar produtos do estoque:",de)}finally{z(!1)}})()},[]),D.useEffect(()=>{const B=new Date,de=localStorage.getItem(`cash_register_${B.toDateString()}`);if(de)A(JSON.parse(de));else{const Te={id:`cash_${Date.now()}`,date:B,openingAmount:0,totalSales:0,totalPayments:{pix:0,debito:0,credito:0,dinheiro:0},sales:[],status:"open",employeeId:s?.uid||"",employeeName:s?.name||""};A(Te),localStorage.setItem(`cash_register_${B.toDateString()}`,JSON.stringify(Te))}},[s]);const C=V.filter(B=>B.name.toLowerCase().includes(p.toLowerCase())),j=ee.filter(B=>B.name.toLowerCase().includes(p.toLowerCase())),L=(B,de)=>{if(de==="product"&&"stock"in B&&B.stock<=0){alert("Produto sem estoque!");return}const Te=r.find(M=>M.id===B.id&&M.type===de);if(Te){if(de==="product"&&"stock"in B&&Te.quantity>=B.stock){alert("Quantidade indisponvel no estoque!");return}l(r.map(M=>M.id===B.id&&M.type===de?{...M,quantity:M.quantity+1,subtotal:(M.quantity+1)*M.price}:M))}else l([...r,{id:B.id,type:de,name:B.name,price:B.price,quantity:1,subtotal:B.price}])},P=(B,de,Te)=>{l(r.map(M=>{if(M.id===B&&M.type===de){const se=M.quantity+Te;if(se<=0)return null;if(de==="product"){const he=V.find(me=>me.id===B);if(he&&se>he.stock)return alert("Quantidade indisponvel no estoque!"),M}return{...M,quantity:se,subtotal:se*M.price}}return M}).filter(Boolean))},F=(B,de)=>{l(r.filter(Te=>!(Te.id===B&&Te.type===de)))},N=r.reduce((B,de)=>B+de.subtotal,0),ce=N-y,ve=async()=>{if(r.length===0){alert("Adicione itens ao carrinho antes de finalizar a venda!");return}if(ce<=0){alert("Total deve ser maior que zero!");return}const B={id:`sale_${Date.now()}`,date:new Date,items:[...r],subtotal:N,discount:y>0?y:void 0,total:ce,payment:{method:u,amount:ce},customerName:b||void 0,employeeId:s?.uid||"",employeeName:s?.name||"",status:"completed"};if(te([...Z,B]),X){const de={...X,totalSales:X.totalSales+ce,totalPayments:{...X.totalPayments,[u]:X.totalPayments[u]+ce},sales:[...X.sales,B]};A(de),localStorage.setItem(`cash_register_${new Date().toDateString()}`,JSON.stringify(de))}l([]),x(0),T(""),d("pix"),alert("Venda realizada com sucesso!")},I=()=>{if(!X||X.status==="closed"){alert("Caixa j est fechado!");return}const B=X.openingAmount+X.totalSales,de={...X,closingAmount:B,status:"closed"};A(de),localStorage.setItem(`cash_register_${new Date().toDateString()}`,JSON.stringify(de)),alert("Caixa fechado com sucesso!")},oe=()=>X?X.sales:[];return o.jsxs("div",{className:"pdv-page",children:[o.jsxs("div",{className:"pdv-header",children:[o.jsx("h1",{className:"pdv-title",children:"PDV - Ponto de Venda"}),o.jsx("p",{className:"pdv-subtitle",children:"Gerencie vendas, pagamentos e caixa"})]}),o.jsxs("div",{className:"pdv-tabs",children:[o.jsxs("button",{className:`pdv-tab ${e==="venda"?"active":""}`,onClick:()=>n("venda"),children:[o.jsx(uS,{size:18}),"Nova Venda"]}),o.jsxs("button",{className:`pdv-tab ${e==="caixa"?"active":""}`,onClick:()=>n("caixa"),children:[o.jsx(Tc,{size:18}),"Gerenciamento de Caixa"]}),o.jsxs("button",{className:`pdv-tab ${e==="relatorio"?"active":""}`,onClick:()=>n("relatorio"),children:[o.jsx(iS,{size:18}),"Relatrios"]})]}),e==="venda"&&o.jsxs("div",{className:"pdv-content",children:[o.jsxs("div",{className:"pdv-left",children:[o.jsxs("div",{className:"pdv-search",children:[o.jsx(cS,{className:"pdv-search-icon"}),o.jsx("input",{type:"text",placeholder:"Buscar produtos ou servios...",value:p,onChange:B=>g(B.target.value),className:"pdv-search-input"})]}),o.jsxs("div",{className:"pdv-items",children:[o.jsxs("div",{className:"pdv-section",children:[o.jsxs("div",{className:"pdv-section-header",children:[o.jsx("h3",{className:"pdv-section-title",children:"Produtos"}),k&&o.jsx("span",{className:"pdv-loading-text",children:"Carregando produtos..."})]}),C.length===0&&!k?o.jsx("p",{className:"pdv-no-items",children:"Nenhum produto encontrado"}):o.jsx("div",{className:"pdv-items-grid",children:C.map(B=>o.jsxs("div",{className:"pdv-item-card",children:[o.jsxs("div",{className:"pdv-item-info",children:[o.jsx("h4",{className:"pdv-item-name",children:B.name}),o.jsx("p",{className:"pdv-item-category",children:B.category}),o.jsxs("p",{className:"pdv-item-price",children:["R$ ",B.price.toFixed(2).replace(".",",")]}),o.jsxs("p",{className:`pdv-item-stock ${B.stock===0?"out-of-stock":""}`,children:["Estoque: ",B.stock]}),B.description&&o.jsx("p",{className:"pdv-item-description",children:B.description})]}),o.jsx("button",{className:"pdv-add-button",onClick:()=>L(B,"product"),disabled:B.stock===0,children:o.jsx(fi,{size:18})})]},B.id))})]}),o.jsxs("div",{className:"pdv-section",children:[o.jsx("h3",{className:"pdv-section-title",children:"Servios"}),o.jsx("div",{className:"pdv-items-grid",children:j.map(B=>o.jsxs("div",{className:"pdv-item-card",children:[o.jsxs("div",{className:"pdv-item-info",children:[o.jsx("h4",{className:"pdv-item-name",children:B.name}),o.jsx("p",{className:"pdv-item-category",children:B.category}),o.jsxs("p",{className:"pdv-item-price",children:["R$ ",B.price.toFixed(2).replace(".",",")]}),B.duration&&o.jsxs("p",{className:"pdv-item-duration",children:[o.jsx(Tr,{size:14})," ",B.duration," min"]})]}),o.jsx("button",{className:"pdv-add-button",onClick:()=>L(B,"service"),children:o.jsx(fi,{size:18})})]},B.id))})]})]})]}),o.jsx("div",{className:"pdv-right",children:o.jsxs("div",{className:"pdv-cart",children:[o.jsx("h3",{className:"pdv-cart-title",children:"Carrinho"}),o.jsx("div",{className:"pdv-cart-items",children:r.length===0?o.jsx("p",{className:"pdv-cart-empty",children:"Carrinho vazio"}):r.map(B=>o.jsxs("div",{className:"pdv-cart-item",children:[o.jsxs("div",{className:"pdv-cart-item-info",children:[o.jsx("h4",{className:"pdv-cart-item-name",children:B.name}),o.jsxs("p",{className:"pdv-cart-item-price",children:["R$ ",B.price.toFixed(2).replace(".",",")]})]}),o.jsxs("div",{className:"pdv-cart-item-controls",children:[o.jsx("button",{className:"pdv-quantity-button",onClick:()=>P(B.id,B.type,-1),children:o.jsx(lS,{size:14})}),o.jsx("span",{className:"pdv-quantity",children:B.quantity}),o.jsx("button",{className:"pdv-quantity-button",onClick:()=>P(B.id,B.type,1),children:o.jsx(fi,{size:14})}),o.jsx("button",{className:"pdv-remove-button",onClick:()=>F(B.id,B.type),children:o.jsx(zp,{size:16})})]}),o.jsxs("p",{className:"pdv-cart-item-subtotal",children:["R$ ",B.subtotal.toFixed(2).replace(".",",")]})]},`${B.id}-${B.type}`))}),o.jsxs("div",{className:"pdv-cart-summary",children:[o.jsxs("div",{className:"pdv-summary-row",children:[o.jsx("span",{children:"Subtotal:"}),o.jsxs("span",{children:["R$ ",N.toFixed(2).replace(".",",")]})]}),o.jsxs("div",{className:"pdv-summary-row",children:[o.jsx("input",{type:"number",placeholder:"Desconto",value:y||"",onChange:B=>x(Number(B.target.value)),className:"pdv-discount-input",min:"0",max:N}),o.jsxs("span",{children:["R$ ",y.toFixed(2).replace(".",",")]})]}),o.jsxs("div",{className:"pdv-summary-row pdv-total",children:[o.jsx("span",{children:"Total:"}),o.jsxs("span",{children:["R$ ",ce.toFixed(2).replace(".",",")]})]})]}),o.jsxs("div",{className:"pdv-payment-section",children:[o.jsx("h4",{className:"pdv-payment-title",children:"Mtodo de Pagamento"}),o.jsxs("div",{className:"pdv-payment-methods",children:[o.jsx("button",{className:`pdv-payment-button ${u==="pix"?"active":""}`,onClick:()=>d("pix"),children:"PIX"}),o.jsx("button",{className:`pdv-payment-button ${u==="debito"?"active":""}`,onClick:()=>d("debito"),children:"Dbito"}),o.jsx("button",{className:`pdv-payment-button ${u==="credito"?"active":""}`,onClick:()=>d("credito"),children:"Crdito"}),o.jsx("button",{className:`pdv-payment-button ${u==="dinheiro"?"active":""}`,onClick:()=>d("dinheiro"),children:"Dinheiro"})]}),o.jsx("div",{className:"pdv-customer-section",children:o.jsx("input",{type:"text",placeholder:"Nome do cliente (opcional)",value:b,onChange:B=>T(B.target.value),className:"pdv-customer-input"})}),o.jsxs("button",{className:"pdv-finish-button",onClick:ve,children:[o.jsx(Tc,{size:18}),"Finalizar Venda"]})]})]})})]}),e==="caixa"&&o.jsx("div",{className:"pdv-cash-section",children:X?o.jsx("div",{className:"pdv-cash-info",children:o.jsxs("div",{className:"pdv-cash-card",children:[o.jsx("h3",{className:"pdv-cash-card-title",children:"Informaes do Caixa"}),o.jsxs("div",{className:"pdv-cash-details",children:[o.jsxs("div",{className:"pdv-cash-detail",children:[o.jsx("span",{className:"pdv-cash-label",children:"Data:"}),o.jsx("span",{className:"pdv-cash-value",children:new Date(X.date).toLocaleDateString("pt-BR")})]}),o.jsxs("div",{className:"pdv-cash-detail",children:[o.jsx("span",{className:"pdv-cash-label",children:"Status:"}),o.jsx("span",{className:`pdv-cash-status ${X.status==="open"?"open":"closed"}`,children:X.status==="open"?"Aberto":"Fechado"})]}),o.jsxs("div",{className:"pdv-cash-detail",children:[o.jsx("span",{className:"pdv-cash-label",children:"Valor de Abertura:"}),o.jsxs("span",{className:"pdv-cash-value",children:["R$ ",X.openingAmount.toFixed(2).replace(".",",")]})]}),o.jsxs("div",{className:"pdv-cash-detail",children:[o.jsx("span",{className:"pdv-cash-label",children:"Total de Vendas:"}),o.jsxs("span",{className:"pdv-cash-value",children:["R$ ",X.totalSales.toFixed(2).replace(".",",")]})]}),X.closingAmount!==void 0&&o.jsxs("div",{className:"pdv-cash-detail",children:[o.jsx("span",{className:"pdv-cash-label",children:"Valor de Fechamento:"}),o.jsxs("span",{className:"pdv-cash-value",children:["R$ ",X.closingAmount.toFixed(2).replace(".",",")]})]})]}),o.jsxs("div",{className:"pdv-payments-breakdown",children:[o.jsx("h4",{className:"pdv-breakdown-title",children:"Pagamentos por Mtodo"}),o.jsxs("div",{className:"pdv-breakdown-grid",children:[o.jsxs("div",{className:"pdv-breakdown-item",children:[o.jsx("span",{children:"PIX:"}),o.jsxs("span",{children:["R$ ",X.totalPayments.pix.toFixed(2).replace(".",",")]})]}),o.jsxs("div",{className:"pdv-breakdown-item",children:[o.jsx("span",{children:"Dbito:"}),o.jsxs("span",{children:["R$ ",X.totalPayments.debito.toFixed(2).replace(".",",")]})]}),o.jsxs("div",{className:"pdv-breakdown-item",children:[o.jsx("span",{children:"Crdito:"}),o.jsxs("span",{children:["R$ ",X.totalPayments.credito.toFixed(2).replace(".",",")]})]}),o.jsxs("div",{className:"pdv-breakdown-item",children:[o.jsx("span",{children:"Dinheiro:"}),o.jsxs("span",{children:["R$ ",X.totalPayments.dinheiro.toFixed(2).replace(".",",")]})]})]})]}),X.status==="open"&&o.jsxs("button",{className:"pdv-close-cash-button",onClick:I,children:[o.jsx(zp,{size:18}),"Fechar Caixa"]})]})}):o.jsx("p",{children:"Carregando informaes do caixa..."})}),e==="relatorio"&&o.jsxs("div",{className:"pdv-report-section",children:[o.jsx("h3",{className:"pdv-report-title",children:"Relatrio Dirio"}),o.jsxs("div",{className:"pdv-report-content",children:[o.jsxs("div",{className:"pdv-report-summary",children:[o.jsxs("div",{className:"pdv-report-card",children:[o.jsx("h4",{children:"Total de Vendas"}),o.jsxs("p",{className:"pdv-report-value",children:["R$ ",X?.totalSales.toFixed(2).replace(".",",")||"0,00"]})]}),o.jsxs("div",{className:"pdv-report-card",children:[o.jsx("h4",{children:"Nmero de Transaes"}),o.jsx("p",{className:"pdv-report-value",children:X?.sales.length||0})]})]}),o.jsxs("div",{className:"pdv-sales-list",children:[o.jsx("h4",{className:"pdv-sales-list-title",children:"Vendas do Dia"}),oe().length===0?o.jsx("p",{className:"pdv-no-sales",children:"Nenhuma venda registrada hoje"}):o.jsx("div",{className:"pdv-sales-table",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Hora"}),o.jsx("th",{children:"Itens"}),o.jsx("th",{children:"Total"}),o.jsx("th",{children:"Pagamento"}),o.jsx("th",{children:"Cliente"})]})}),o.jsx("tbody",{children:oe().map(B=>o.jsxs("tr",{children:[o.jsx("td",{children:new Date(B.date).toLocaleTimeString("pt-BR")}),o.jsxs("td",{children:[B.items.length," itens"]}),o.jsxs("td",{children:["R$ ",B.total.toFixed(2).replace(".",",")]}),o.jsx("td",{children:B.payment.method.toUpperCase()}),o.jsx("td",{children:B.customerName||"No informado"})]},B.id))})]})})]})]})]})]})},kO=()=>{const s=()=>o.jsxs("div",{children:[o.jsx("h1",{children:"rea do Cliente"}),o.jsx("p",{children:"Gerenciamento de clientes e relacionamento"})]}),e=()=>o.jsxs("div",{style:{padding:"20px"},children:[o.jsx("h1",{children:"Gesto Financeira e Contbil"}),o.jsx("p",{children:"Controle financeiro e contabilidade"})]}),n=()=>o.jsxs("div",{style:{padding:"20px"},children:[o.jsx("h1",{children:"Planos de Lavagem"}),o.jsx("p",{children:"Gerenciamento de planos e servios de lavagem"})]}),r=()=>o.jsxs("div",{style:{padding:"20px"},children:[o.jsx("h1",{children:"Segurana e Backups"}),o.jsx("p",{children:"Configuraes de segurana e backups do sistema"})]});return o.jsx(yN,{children:o.jsxs(Kw,{children:[o.jsx(Zt,{path:Me.home,element:o.jsx(aE,{})}),o.jsx(Zt,{path:Me.landing,element:o.jsx(aE,{})}),o.jsx(Zt,{path:Me.login,element:o.jsx(BD,{})}),o.jsx(Zt,{path:Me.register,element:o.jsx(FD,{})}),o.jsx(Zt,{path:Me.dashboard,element:o.jsx(fa,{children:o.jsx(Hn,{children:o.jsx(Ok,{})})})}),o.jsx(Zt,{path:Me.areaCliente,element:o.jsx(fa,{children:o.jsx(Hn,{children:o.jsx(s,{})})})}),o.jsx(Zt,{path:Me.pdv,element:o.jsx(fa,{children:o.jsx(Hn,{children:o.jsx(DO,{})})})}),o.jsx(Zt,{path:Me.crm,element:o.jsx(fa,{children:o.jsx(Hn,{children:o.jsx(Xk,{})})})}),o.jsx(Zt,{path:Me.gestaoFinanceira,element:o.jsx(fa,{children:o.jsx(Hn,{children:o.jsx(e,{})})})}),o.jsx(Zt,{path:Me.recursosHumanos,element:o.jsx(fa,{children:o.jsx(Hn,{children:o.jsx(pO,{})})})}),o.jsx(Zt,{path:Me.estoque,element:o.jsx(fa,{children:o.jsx(Hn,{children:o.jsx(AO,{})})})}),o.jsx(Zt,{path:Me.planosLavagem,element:o.jsx(fa,{children:o.jsx(Hn,{children:o.jsx(n,{})})})}),o.jsx(Zt,{path:Me.seguranca,element:o.jsx(fa,{children:o.jsx(Hn,{children:o.jsx(r,{})})})}),o.jsx(Zt,{path:Me.history,element:o.jsx(lp,{children:o.jsx(Hn,{children:o.jsx(CO,{})})})}),o.jsx(Zt,{path:Me.profile,element:o.jsx(lp,{children:o.jsx(Hn,{children:o.jsx(RO,{})})})}),o.jsx(Zt,{path:Me.contactInfo,element:o.jsx(lp,{children:o.jsx(Hn,{children:o.jsx(IO,{})})})})]})})};function OO(){return o.jsx(UD,{children:o.jsx(kO,{})})}aw.createRoot(document.getElementById("root")).render(o.jsx(D.StrictMode,{children:o.jsx(OO,{})}));
