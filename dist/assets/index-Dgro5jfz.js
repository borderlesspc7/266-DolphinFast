function G5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(r,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function gs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xb={exports:{}},Jd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qN;function W5(){if(qN)return Jd;qN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var d in a)d!=="key"&&(s[d]=a[d])}else s=a;return a=s.ref,{$$typeof:t,type:r,key:l,ref:a!==void 0?a:null,props:s}}return Jd.Fragment=e,Jd.jsx=n,Jd.jsxs=n,Jd}var $N;function Y5(){return $N||($N=1,Xb.exports=W5()),Xb.exports}var c=Y5(),Qb={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HN;function X5(){if(HN)return Ue;HN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function w(K){return K===null||typeof K!="object"?null:(K=b&&K[b]||K["@@iterator"],typeof K=="function"?K:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function T(K,oe,ve){this.props=K,this.context=oe,this.refs=S,this.updater=ve||j}T.prototype.isReactComponent={},T.prototype.setState=function(K,oe){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,oe,"setState")},T.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function C(){}C.prototype=T.prototype;function I(K,oe,ve){this.props=K,this.context=oe,this.refs=S,this.updater=ve||j}var U=I.prototype=new C;U.constructor=I,E(U,T.prototype),U.isPureReactComponent=!0;var L=Array.isArray;function B(){}var P={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function D(K,oe,ve){var ge=ve.ref;return{$$typeof:t,type:K,key:oe,ref:ge!==void 0?ge:null,props:ve}}function z(K,oe){return D(K.type,oe,K.props)}function k(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function F(K){var oe={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(ve){return oe[ve]})}var R=/\/+/g;function Q(K,oe){return typeof K=="object"&&K!==null&&K.key!=null?F(""+K.key):oe.toString(36)}function me(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(B,B):(K.status="pending",K.then(function(oe){K.status==="pending"&&(K.status="fulfilled",K.value=oe)},function(oe){K.status==="pending"&&(K.status="rejected",K.reason=oe)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function $(K,oe,ve,ge,Te){var De=typeof K;(De==="undefined"||De==="boolean")&&(K=null);var Re=!1;if(K===null)Re=!0;else switch(De){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(K.$$typeof){case t:case e:Re=!0;break;case p:return Re=K._init,$(Re(K._payload),oe,ve,ge,Te)}}if(Re)return Te=Te(K),Re=ge===""?"."+Q(K,0):ge,L(Te)?(ve="",Re!=null&&(ve=Re.replace(R,"$&/")+"/"),$(Te,oe,ve,"",function(Ve){return Ve})):Te!=null&&(k(Te)&&(Te=z(Te,ve+(Te.key==null||K&&K.key===Te.key?"":(""+Te.key).replace(R,"$&/")+"/")+Re)),oe.push(Te)),1;Re=0;var Tt=ge===""?".":ge+":";if(L(K))for(var ce=0;ce<K.length;ce++)ge=K[ce],De=Tt+Q(ge,ce),Re+=$(ge,oe,ve,De,Te);else if(ce=w(K),typeof ce=="function")for(K=ce.call(K),ce=0;!(ge=K.next()).done;)ge=ge.value,De=Tt+Q(ge,ce++),Re+=$(ge,oe,ve,De,Te);else if(De==="object"){if(typeof K.then=="function")return $(me(K),oe,ve,ge,Te);throw oe=String(K),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Re}function G(K,oe,ve){if(K==null)return K;var ge=[],Te=0;return $(K,ge,"","",function(De){return oe.call(ve,De,Te++)}),ge}function ee(K){if(K._status===-1){var oe=K._result;oe=oe(),oe.then(function(ve){(K._status===0||K._status===-1)&&(K._status=1,K._result=ve)},function(ve){(K._status===0||K._status===-1)&&(K._status=2,K._result=ve)}),K._status===-1&&(K._status=0,K._result=oe)}if(K._status===1)return K._result.default;throw K._result}var pe=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},Se={map:G,forEach:function(K,oe,ve){G(K,function(){oe.apply(this,arguments)},ve)},count:function(K){var oe=0;return G(K,function(){oe++}),oe},toArray:function(K){return G(K,function(oe){return oe})||[]},only:function(K){if(!k(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return Ue.Activity=v,Ue.Children=Se,Ue.Component=T,Ue.Fragment=n,Ue.Profiler=a,Ue.PureComponent=I,Ue.StrictMode=r,Ue.Suspense=h,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(K){return P.H.useMemoCache(K)}},Ue.cache=function(K){return function(){return K.apply(null,arguments)}},Ue.cacheSignal=function(){return null},Ue.cloneElement=function(K,oe,ve){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var ge=E({},K.props),Te=K.key;if(oe!=null)for(De in oe.key!==void 0&&(Te=""+oe.key),oe)!M.call(oe,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&oe.ref===void 0||(ge[De]=oe[De]);var De=arguments.length-2;if(De===1)ge.children=ve;else if(1<De){for(var Re=Array(De),Tt=0;Tt<De;Tt++)Re[Tt]=arguments[Tt+2];ge.children=Re}return D(K.type,Te,ge)},Ue.createContext=function(K){return K={$$typeof:l,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:s,_context:K},K},Ue.createElement=function(K,oe,ve){var ge,Te={},De=null;if(oe!=null)for(ge in oe.key!==void 0&&(De=""+oe.key),oe)M.call(oe,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Te[ge]=oe[ge]);var Re=arguments.length-2;if(Re===1)Te.children=ve;else if(1<Re){for(var Tt=Array(Re),ce=0;ce<Re;ce++)Tt[ce]=arguments[ce+2];Te.children=Tt}if(K&&K.defaultProps)for(ge in Re=K.defaultProps,Re)Te[ge]===void 0&&(Te[ge]=Re[ge]);return D(K,De,Te)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(K){return{$$typeof:d,render:K}},Ue.isValidElement=k,Ue.lazy=function(K){return{$$typeof:p,_payload:{_status:-1,_result:K},_init:ee}},Ue.memo=function(K,oe){return{$$typeof:f,type:K,compare:oe===void 0?null:oe}},Ue.startTransition=function(K){var oe=P.T,ve={};P.T=ve;try{var ge=K(),Te=P.S;Te!==null&&Te(ve,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(B,pe)}catch(De){pe(De)}finally{oe!==null&&ve.types!==null&&(oe.types=ve.types),P.T=oe}},Ue.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Ue.use=function(K){return P.H.use(K)},Ue.useActionState=function(K,oe,ve){return P.H.useActionState(K,oe,ve)},Ue.useCallback=function(K,oe){return P.H.useCallback(K,oe)},Ue.useContext=function(K){return P.H.useContext(K)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(K,oe){return P.H.useDeferredValue(K,oe)},Ue.useEffect=function(K,oe){return P.H.useEffect(K,oe)},Ue.useEffectEvent=function(K){return P.H.useEffectEvent(K)},Ue.useId=function(){return P.H.useId()},Ue.useImperativeHandle=function(K,oe,ve){return P.H.useImperativeHandle(K,oe,ve)},Ue.useInsertionEffect=function(K,oe){return P.H.useInsertionEffect(K,oe)},Ue.useLayoutEffect=function(K,oe){return P.H.useLayoutEffect(K,oe)},Ue.useMemo=function(K,oe){return P.H.useMemo(K,oe)},Ue.useOptimistic=function(K,oe){return P.H.useOptimistic(K,oe)},Ue.useReducer=function(K,oe,ve){return P.H.useReducer(K,oe,ve)},Ue.useRef=function(K){return P.H.useRef(K)},Ue.useState=function(K){return P.H.useState(K)},Ue.useSyncExternalStore=function(K,oe,ve){return P.H.useSyncExternalStore(K,oe,ve)},Ue.useTransition=function(){return P.H.useTransition()},Ue.version="19.2.0",Ue}var KN;function Cu(){return KN||(KN=1,Qb.exports=X5()),Qb.exports}var _=Cu();const bo=gs(_),Q5=G5({__proto__:null,default:bo},[_]);var Zb={exports:{}},eh={},Jb={exports:{}},ex={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GN;function Z5(){return GN||(GN=1,(function(t){function e($,G){var ee=$.length;$.push(G);e:for(;0<ee;){var pe=ee-1>>>1,Se=$[pe];if(0<a(Se,G))$[pe]=G,$[ee]=Se,ee=pe;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var G=$[0],ee=$.pop();if(ee!==G){$[0]=ee;e:for(var pe=0,Se=$.length,K=Se>>>1;pe<K;){var oe=2*(pe+1)-1,ve=$[oe],ge=oe+1,Te=$[ge];if(0>a(ve,ee))ge<Se&&0>a(Te,ve)?($[pe]=Te,$[ge]=ee,pe=ge):($[pe]=ve,$[oe]=ee,pe=oe);else if(ge<Se&&0>a(Te,ee))$[pe]=Te,$[ge]=ee,pe=ge;else break e}}return G}function a($,G){var ee=$.sortIndex-G.sortIndex;return ee!==0?ee:$.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var h=[],f=[],p=1,v=null,b=3,w=!1,j=!1,E=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function U($){for(var G=n(f);G!==null;){if(G.callback===null)r(f);else if(G.startTime<=$)r(f),G.sortIndex=G.expirationTime,e(h,G);else break;G=n(f)}}function L($){if(E=!1,U($),!j)if(n(h)!==null)j=!0,B||(B=!0,F());else{var G=n(f);G!==null&&me(L,G.startTime-$)}}var B=!1,P=-1,M=5,D=-1;function z(){return S?!0:!(t.unstable_now()-D<M)}function k(){if(S=!1,B){var $=t.unstable_now();D=$;var G=!0;try{e:{j=!1,E&&(E=!1,C(P),P=-1),w=!0;var ee=b;try{t:{for(U($),v=n(h);v!==null&&!(v.expirationTime>$&&z());){var pe=v.callback;if(typeof pe=="function"){v.callback=null,b=v.priorityLevel;var Se=pe(v.expirationTime<=$);if($=t.unstable_now(),typeof Se=="function"){v.callback=Se,U($),G=!0;break t}v===n(h)&&r(h),U($)}else r(h);v=n(h)}if(v!==null)G=!0;else{var K=n(f);K!==null&&me(L,K.startTime-$),G=!1}}break e}finally{v=null,b=ee,w=!1}G=void 0}}finally{G?F():B=!1}}}var F;if(typeof I=="function")F=function(){I(k)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Q=R.port2;R.port1.onmessage=k,F=function(){Q.postMessage(null)}}else F=function(){T(k,0)};function me($,G){P=T(function(){$(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function($){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var ee=b;b=G;try{return $()}finally{b=ee}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ee=b;b=$;try{return G()}finally{b=ee}},t.unstable_scheduleCallback=function($,G,ee){var pe=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?pe+ee:pe):ee=pe,$){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ee+Se,$={id:p++,callback:G,priorityLevel:$,startTime:ee,expirationTime:Se,sortIndex:-1},ee>pe?($.sortIndex=ee,e(f,$),n(h)===null&&$===n(f)&&(E?(C(P),P=-1):E=!0,me(L,ee-pe))):($.sortIndex=Se,e(h,$),j||w||(j=!0,B||(B=!0,F()))),$},t.unstable_shouldYield=z,t.unstable_wrapCallback=function($){var G=b;return function(){var ee=b;b=G;try{return $.apply(this,arguments)}finally{b=ee}}}})(ex)),ex}var WN;function J5(){return WN||(WN=1,Jb.exports=Z5()),Jb.exports}var tx={exports:{}},Qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YN;function eU(){if(YN)return Qn;YN=1;var t=Cu();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(h,f,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:h,containerInfo:f,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qn.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(h,f,null,p)},Qn.flushSync=function(h){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=f,r.p=p,r.d.f()}},Qn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},Qn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Qn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,v=d(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:w}):p==="script"&&r.d.X(h,{crossOrigin:v,integrity:b,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Qn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=d(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},Qn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,v=d(p,f.crossOrigin);r.d.L(h,p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Qn.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=d(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},Qn.requestFormReset=function(h){r.d.r(h)},Qn.unstable_batchedUpdates=function(h,f){return h(f)},Qn.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},Qn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Qn.version="19.2.0",Qn}var XN;function rD(){if(XN)return tx.exports;XN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tx.exports=eU(),tx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QN;function tU(){if(QN)return eh;QN=1;var t=J5(),e=Cu(),n=rD();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function h(i){if(s(i)!==i)throw Error(r(188))}function f(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(r(188));return o!==i?null:i}for(var u=i,m=o;;){var y=u.return;if(y===null)break;var x=y.alternate;if(x===null){if(m=y.return,m!==null){u=m;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===u)return h(y),i;if(x===m)return h(y),o;x=x.sibling}throw Error(r(188))}if(u.return!==m.return)u=y,m=x;else{for(var N=!1,V=y.child;V;){if(V===u){N=!0,u=y,m=x;break}if(V===m){N=!0,m=y,u=x;break}V=V.sibling}if(!N){for(V=x.child;V;){if(V===u){N=!0,u=x,m=y;break}if(V===m){N=!0,m=x,u=y;break}V=V.sibling}if(!N)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),I=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var R=Symbol.for("react.client.reference");function Q(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===R?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case L:return"Suspense";case B:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case j:return"Portal";case I:return i.displayName||"Context";case C:return(i._context.displayName||"Context")+".Consumer";case U:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return o=i.displayName||null,o!==null?o:Q(i.type)||"Memo";case M:o=i._payload,i=i._init;try{return Q(i(o))}catch{}}return null}var me=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},pe=[],Se=-1;function K(i){return{current:i}}function oe(i){0>Se||(i.current=pe[Se],pe[Se]=null,Se--)}function ve(i,o){Se++,pe[Se]=i.current,i.current=o}var ge=K(null),Te=K(null),De=K(null),Re=K(null);function Tt(i,o){switch(ve(De,o),ve(Te,i),ve(ge,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?hN(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=hN(o),i=fN(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}oe(ge),ve(ge,i)}function ce(){oe(ge),oe(Te),oe(De)}function Ve(i){i.memoizedState!==null&&ve(Re,i);var o=ge.current,u=fN(o,i.type);o!==u&&(ve(Te,i),ve(ge,u))}function re(i){Te.current===i&&(oe(ge),oe(Te)),Re.current===i&&(oe(Re),Yd._currentValue=ee)}var se,Je;function Ne(i){if(se===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);se=o&&o[1]||"",Je=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+i+Je}var Pt=!1;function It(i,o){if(!i||Pt)return"";Pt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ie){var ne=ie}Reflect.construct(i,[],he)}else{try{he.call()}catch(ie){ne=ie}i.call(he.prototype)}}else{try{throw Error()}catch(ie){ne=ie}(he=i())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ie){if(ie&&ne&&typeof ie.stack=="string")return[ie.stack,ne.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=m.DetermineComponentFrameRoot(),N=x[0],V=x[1];if(N&&V){var H=N.split(`
`),J=V.split(`
`);for(y=m=0;m<H.length&&!H[m].includes("DetermineComponentFrameRoot");)m++;for(;y<J.length&&!J[y].includes("DetermineComponentFrameRoot");)y++;if(m===H.length||y===J.length)for(m=H.length-1,y=J.length-1;1<=m&&0<=y&&H[m]!==J[y];)y--;for(;1<=m&&0<=y;m--,y--)if(H[m]!==J[y]){if(m!==1||y!==1)do if(m--,y--,0>y||H[m]!==J[y]){var le=`
`+H[m].replace(" at new "," at ");return i.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",i.displayName)),le}while(1<=m&&0<=y);break}}}finally{Pt=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Ne(u):""}function or(i,o){switch(i.tag){case 26:case 27:case 5:return Ne(i.type);case 16:return Ne("Lazy");case 13:return i.child!==o&&o!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return It(i.type,!1);case 11:return It(i.type.render,!1);case 1:return It(i.type,!0);case 31:return Ne("Activity");default:return""}}function Ts(i){try{var o="",u=null;do o+=or(i,u),u=i,i=i.return;while(i);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var en=Object.prototype.hasOwnProperty,gn=t.unstable_scheduleCallback,Ns=t.unstable_cancelCallback,Zy=t.unstable_shouldYield,Gf=t.unstable_requestPaint,lr=t.unstable_now,qo=t.unstable_getCurrentPriorityLevel,Zu=t.unstable_ImmediatePriority,Ju=t.unstable_UserBlockingPriority,Cs=t.unstable_NormalPriority,Jy=t.unstable_LowPriority,Wf=t.unstable_IdlePriority,Yf=t.log,Xf=t.unstable_setDisableYieldValue,ga=null,Vn=null;function Hr(i){if(typeof Yf=="function"&&Xf(i),Vn&&typeof Vn.setStrictMode=="function")try{Vn.setStrictMode(ga,i)}catch{}}var Kt=Math.clz32?Math.clz32:Zf,Qf=Math.log,rc=Math.LN2;function Zf(i){return i>>>=0,i===0?32:31-(Qf(i)/rc|0)|0}var $a=256,$o=262144,tn=4194304;function Ha(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ka(i,o,u){var m=i.pendingLanes;if(m===0)return 0;var y=0,x=i.suspendedLanes,N=i.pingedLanes;i=i.warmLanes;var V=m&134217727;return V!==0?(m=V&~x,m!==0?y=Ha(m):(N&=V,N!==0?y=Ha(N):u||(u=V&~i,u!==0&&(y=Ha(u))))):(V=m&~x,V!==0?y=Ha(V):N!==0?y=Ha(N):u||(u=m&~i,u!==0&&(y=Ha(u)))),y===0?0:o!==0&&o!==y&&(o&x)===0&&(x=y&-y,u=o&-o,x>=u||x===32&&(u&4194048)!==0)?o:y}function ya(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function e0(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jf(){var i=tn;return tn<<=1,(tn&62914560)===0&&(tn=4194304),i}function Ga(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Ho(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function t0(i,o,u,m,y,x){var N=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var V=i.entanglements,H=i.expirationTimes,J=i.hiddenUpdates;for(u=N&~u;0<u;){var le=31-Kt(u),he=1<<le;V[le]=0,H[le]=-1;var ne=J[le];if(ne!==null)for(J[le]=null,le=0;le<ne.length;le++){var ie=ne[le];ie!==null&&(ie.lane&=-536870913)}u&=~he}m!==0&&Ko(i,m,0),x!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=x&~(N&~o))}function Ko(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var m=31-Kt(o);i.entangledLanes|=o,i.entanglements[m]=i.entanglements[m]|1073741824|u&261930}function ed(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var m=31-Kt(u),y=1<<m;y&o|i[m]&o&&(i[m]|=o),u&=~y}}function td(i,o){var u=o&-o;return u=(u&42)!==0?1:Go(u),(u&(i.suspendedLanes|o))!==0?0:u}function Go(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ti(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function em(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:MN(i.type))}function ba(i,o){var u=G.p;try{return G.p=i,o()}finally{G.p=u}}var xa=Math.random().toString(36).slice(2),nn="__reactFiber$"+xa,An="__reactProps$"+xa,Wa="__reactContainer$"+xa,ac="__reactEvents$"+xa,n0="__reactListeners$"+xa,tm="__reactHandles$"+xa,nm="__reactResources$"+xa,Ya="__reactMarker$"+xa;function ic(i){delete i[nn],delete i[An],delete i[ac],delete i[n0],delete i[tm]}function Xa(i){var o=i[nn];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Wa]||u[nn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=xN(i);i!==null;){if(u=i[nn])return u;i=xN(i)}return o}i=u,u=i.parentNode}return null}function Kr(i){if(i=i[nn]||i[Wa]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Cr(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function Qa(i){var o=i[nm];return o||(o=i[nm]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function rn(i){i[Ya]=!0}var nd=new Set,rd={};function Za(i,o){Ja(i,o),Ja(i+"Capture",o)}function Ja(i,o){for(rd[i]=o,i=0;i<o.length;i++)nd.add(o[i])}var ad=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),id={},sd={};function rm(i){return en.call(sd,i)?!0:en.call(id,i)?!1:ad.test(i)?sd[i]=!0:(id[i]=!0,!1)}function sc(i,o,u){if(rm(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function Or(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function an(i,o,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+m)}}function Tn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Os(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function od(i,o,u){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var y=m.get,x=m.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(N){u=""+N,x.call(this,N)}}),Object.defineProperty(i,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function ft(i){if(!i._valueTracker){var o=Os(i)?"checked":"value";i._valueTracker=od(i,o,""+i[o])}}function Wo(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return i&&(m=Os(i)?i.checked?"true":"false":i.value),i=m,i!==u?(o.setValue(i),!0):!1}function ei(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Yo=/[\n"\\]/g;function vr(i){return i.replace(Yo,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function oc(i,o,u,m,y,x,N,V){i.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.type=N:i.removeAttribute("type"),o!=null?N==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Tn(o)):i.value!==""+Tn(o)&&(i.value=""+Tn(o)):N!=="submit"&&N!=="reset"||i.removeAttribute("value"),o!=null?ld(i,N,Tn(o)):u!=null?ld(i,N,Tn(u)):m!=null&&i.removeAttribute("value"),y==null&&x!=null&&(i.defaultChecked=!!x),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?i.name=""+Tn(V):i.removeAttribute("name")}function am(i,o,u,m,y,x,N,V){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),o!=null||u!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){ft(i);return}u=u!=null?""+Tn(u):"",o=o!=null?""+Tn(o):u,V||o===i.value||(i.value=o),i.defaultValue=o}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=V?i.checked:!!m,i.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.name=N),ft(i)}function ld(i,o,u){o==="number"&&ei(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Ps(i,o,u,m){if(i=i.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<i.length;u++)y=o.hasOwnProperty("$"+i[u].value),i[u].selected!==y&&(i[u].selected=y),y&&m&&(i[u].defaultSelected=!0)}else{for(u=""+Tn(u),o=null,y=0;y<i.length;y++){if(i[y].value===u){i[y].selected=!0,m&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function im(i,o,u){if(o!=null&&(o=""+Tn(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+Tn(u):""}function Is(i,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(r(92));if(me(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=Tn(o),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m),ft(i)}function gr(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var sm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cd(i,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":m?i.setProperty(o,u):typeof u!="number"||u===0||sm.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function ud(i,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var y in o)m=o[y],o.hasOwnProperty(y)&&u[y]!==m&&cd(i,y,m)}else for(var x in o)o.hasOwnProperty(x)&&cd(i,x,o[x])}function lc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var om=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cc(i){return Rs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function wa(){}var dd=null;function Gr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ds=null,ti=null;function Xo(i){var o=Kr(i);if(o&&(i=o.stateNode)){var u=i[An]||null;e:switch(i=o.stateNode,o.type){case"input":if(oc(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+vr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==i&&m.form===i.form){var y=m[An]||null;if(!y)throw Error(r(90));oc(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===i.form&&Wo(m)}break e;case"textarea":im(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Ps(i,!!u.multiple,o,!1)}}}var uc=!1;function ks(i,o,u){if(uc)return i(o,u);uc=!0;try{var m=i(o);return m}finally{if(uc=!1,(Ds!==null||ti!==null)&&(ep(),Ds&&(o=Ds,i=ti,ti=Ds=null,Xo(o),i)))for(o=0;o<i.length;o++)Xo(i[o])}}function _a(i,o){var u=i.stateNode;if(u===null)return null;var m=u[An]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qo=!1;if(Wr)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){Qo=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{Qo=!1}var ni=null,hd=null,Zo=null;function fd(){if(Zo)return Zo;var i,o=hd,u=o.length,m,y="value"in ni?ni.value:ni.textContent,x=y.length;for(i=0;i<u&&o[i]===y[i];i++);var N=u-i;for(m=1;m<=N&&o[u-m]===y[x-m];m++);return Zo=y.slice(i,1<m?1-m:void 0)}function Jo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Ni(){return!0}function Ea(){return!1}function zn(i){function o(u,m,y,x,N){this._reactName=u,this._targetInst=y,this.type=m,this.nativeEvent=x,this.target=N,this.currentTarget=null;for(var V in i)i.hasOwnProperty(V)&&(u=i[V],this[V]=u?u(x):x[V]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ni:Ea,this.isPropagationStopped=Ea,this}return v(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),o}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ri=zn(Ci),Ms=v({},Ci,{view:0,detail:0}),md=zn(Ms),Ls,dc,ai,hc=v({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ai&&(ai&&i.type==="mousemove"?(Ls=i.screenX-ai.screenX,dc=i.screenY-ai.screenY):dc=Ls=0,ai=i),Ls)},movementY:function(i){return"movementY"in i?i.movementY:dc}}),pd=zn(hc),el=v({},hc,{dataTransfer:0}),lm=zn(el),cm=v({},Ms,{relatedTarget:0}),tl=zn(cm),vd=v({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),um=zn(vd),fc=v({},Ci,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),dm=zn(fc),hm=v({},Ci,{data:0}),ii=zn(hm),fm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vm(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=pm[i])?!!o[i]:!1}function Vs(){return vm}var cr=v({},Ms,{key:function(i){if(i.key){var o=fm[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Jo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?mm[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(i){return i.type==="keypress"?Jo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Jo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),gm=zn(cr),ym=v({},hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=zn(ym),g=v({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),A=zn(g),O=v({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=zn(O),X=v({},hc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ae=zn(X),ye=v({},Ci,{newState:0,oldState:0}),Fe=zn(ye),Gt=[9,13,27,32],lt=Wr&&"CompositionEvent"in window,Rt=null;Wr&&"documentMode"in document&&(Rt=document.documentMode);var Yr=Wr&&"TextEvent"in window&&!Rt,si=Wr&&(!lt||Rt&&8<Rt&&11>=Rt),Sa=" ",ja=!1;function nl(i,o){switch(i){case"keyup":return Gt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mc(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var pc=!1;function gz(i,o){switch(i){case"compositionend":return mc(o);case"keypress":return o.which!==32?null:(ja=!0,Sa);case"textInput":return i=o.data,i===Sa&&ja?null:i;default:return null}}function yz(i,o){if(pc)return i==="compositionend"||!lt&&nl(i,o)?(i=fd(),Zo=hd=ni=null,pc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return si&&o.locale!=="ko"?null:o.data;default:return null}}var bz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ej(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!bz[i.type]:o==="textarea"}function Sj(i,o,u,m){Ds?ti?ti.push(m):ti=[m]:Ds=m,o=op(o,"onChange"),0<o.length&&(u=new ri("onChange","change",null,u,m),i.push({event:u,listeners:o}))}var gd=null,yd=null;function xz(i){sN(i,0)}function bm(i){var o=Cr(i);if(Wo(o))return i}function jj(i,o){if(i==="change")return o}var Aj=!1;if(Wr){var r0;if(Wr){var a0="oninput"in document;if(!a0){var Tj=document.createElement("div");Tj.setAttribute("oninput","return;"),a0=typeof Tj.oninput=="function"}r0=a0}else r0=!1;Aj=r0&&(!document.documentMode||9<document.documentMode)}function Nj(){gd&&(gd.detachEvent("onpropertychange",Cj),yd=gd=null)}function Cj(i){if(i.propertyName==="value"&&bm(yd)){var o=[];Sj(o,yd,i,Gr(i)),ks(xz,o)}}function wz(i,o,u){i==="focusin"?(Nj(),gd=o,yd=u,gd.attachEvent("onpropertychange",Cj)):i==="focusout"&&Nj()}function _z(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return bm(yd)}function Ez(i,o){if(i==="click")return bm(o)}function Sz(i,o){if(i==="input"||i==="change")return bm(o)}function jz(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Pr=typeof Object.is=="function"?Object.is:jz;function bd(i,o){if(Pr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var y=u[m];if(!en.call(o,y)||!Pr(i[y],o[y]))return!1}return!0}function Oj(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Pj(i,o){var u=Oj(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=o&&m>=o)return{node:u,offset:o-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Oj(u)}}function Ij(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Ij(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Rj(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=ei(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=ei(i.document)}return o}function i0(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var Az=Wr&&"documentMode"in document&&11>=document.documentMode,vc=null,s0=null,xd=null,o0=!1;function Dj(i,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;o0||vc==null||vc!==ei(m)||(m=vc,"selectionStart"in m&&i0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),xd&&bd(xd,m)||(xd=m,m=op(s0,"onSelect"),0<m.length&&(o=new ri("onSelect","select",null,o,u),i.push({event:o,listeners:m}),o.target=vc)))}function rl(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var gc={animationend:rl("Animation","AnimationEnd"),animationiteration:rl("Animation","AnimationIteration"),animationstart:rl("Animation","AnimationStart"),transitionrun:rl("Transition","TransitionRun"),transitionstart:rl("Transition","TransitionStart"),transitioncancel:rl("Transition","TransitionCancel"),transitionend:rl("Transition","TransitionEnd")},l0={},kj={};Wr&&(kj=document.createElement("div").style,"AnimationEvent"in window||(delete gc.animationend.animation,delete gc.animationiteration.animation,delete gc.animationstart.animation),"TransitionEvent"in window||delete gc.transitionend.transition);function al(i){if(l0[i])return l0[i];if(!gc[i])return i;var o=gc[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in kj)return l0[i]=o[u];return i}var Mj=al("animationend"),Lj=al("animationiteration"),Vj=al("animationstart"),Tz=al("transitionrun"),Nz=al("transitionstart"),Cz=al("transitioncancel"),zj=al("transitionend"),Uj=new Map,c0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");c0.push("scrollEnd");function Aa(i,o){Uj.set(i,o),Za(o,[i])}var xm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Xr=[],yc=0,u0=0;function wm(){for(var i=yc,o=u0=yc=0;o<i;){var u=Xr[o];Xr[o++]=null;var m=Xr[o];Xr[o++]=null;var y=Xr[o];Xr[o++]=null;var x=Xr[o];if(Xr[o++]=null,m!==null&&y!==null){var N=m.pending;N===null?y.next=y:(y.next=N.next,N.next=y),m.pending=y}x!==0&&Bj(u,y,x)}}function _m(i,o,u,m){Xr[yc++]=i,Xr[yc++]=o,Xr[yc++]=u,Xr[yc++]=m,u0|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function d0(i,o,u,m){return _m(i,o,u,m),Em(i)}function il(i,o){return _m(i,null,null,o),Em(i)}function Bj(i,o,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var y=!1,x=i.return;x!==null;)x.childLanes|=u,m=x.alternate,m!==null&&(m.childLanes|=u),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(y=!0)),i=x,x=x.return;return i.tag===3?(x=i.stateNode,y&&o!==null&&(y=31-Kt(u),i=x.hiddenUpdates,m=i[y],m===null?i[y]=[o]:m.push(o),o.lane=u|536870912),x):null}function Em(i){if(50<Fd)throw Fd=0,xb=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var bc={};function Oz(i,o,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(i,o,u,m){return new Oz(i,o,u,m)}function h0(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Pi(i,o){var u=i.alternate;return u===null?(u=Ir(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function Fj(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Sm(i,o,u,m,y,x){var N=0;if(m=i,typeof i=="function")h0(i)&&(N=1);else if(typeof i=="string")N=k5(i,u,ge.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=Ir(31,u,o,y),i.elementType=D,i.lanes=x,i;case E:return sl(u.children,y,x,o);case S:N=8,y|=24;break;case T:return i=Ir(12,u,o,y|2),i.elementType=T,i.lanes=x,i;case L:return i=Ir(13,u,o,y),i.elementType=L,i.lanes=x,i;case B:return i=Ir(19,u,o,y),i.elementType=B,i.lanes=x,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case I:N=10;break e;case C:N=9;break e;case U:N=11;break e;case P:N=14;break e;case M:N=16,m=null;break e}N=29,u=Error(r(130,i===null?"null":typeof i,"")),m=null}return o=Ir(N,u,o,y),o.elementType=i,o.type=m,o.lanes=x,o}function sl(i,o,u,m){return i=Ir(7,i,m,o),i.lanes=u,i}function f0(i,o,u){return i=Ir(6,i,null,o),i.lanes=u,i}function qj(i){var o=Ir(18,null,null,0);return o.stateNode=i,o}function m0(i,o,u){return o=Ir(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var $j=new WeakMap;function Qr(i,o){if(typeof i=="object"&&i!==null){var u=$j.get(i);return u!==void 0?u:(o={value:i,source:o,stack:Ts(o)},$j.set(i,o),o)}return{value:i,source:o,stack:Ts(o)}}var xc=[],wc=0,jm=null,wd=0,Zr=[],Jr=0,zs=null,oi=1,li="";function Ii(i,o){xc[wc++]=wd,xc[wc++]=jm,jm=i,wd=o}function Hj(i,o,u){Zr[Jr++]=oi,Zr[Jr++]=li,Zr[Jr++]=zs,zs=i;var m=oi;i=li;var y=32-Kt(m)-1;m&=~(1<<y),u+=1;var x=32-Kt(o)+y;if(30<x){var N=y-y%5;x=(m&(1<<N)-1).toString(32),m>>=N,y-=N,oi=1<<32-Kt(o)+y|u<<y|m,li=x+i}else oi=1<<x|u<<y|m,li=i}function p0(i){i.return!==null&&(Ii(i,1),Hj(i,1,0))}function v0(i){for(;i===jm;)jm=xc[--wc],xc[wc]=null,wd=xc[--wc],xc[wc]=null;for(;i===zs;)zs=Zr[--Jr],Zr[Jr]=null,li=Zr[--Jr],Zr[Jr]=null,oi=Zr[--Jr],Zr[Jr]=null}function Kj(i,o){Zr[Jr++]=oi,Zr[Jr++]=li,Zr[Jr++]=zs,oi=o.id,li=o.overflow,zs=i}var Un=null,Nt=null,et=!1,Us=null,ea=!1,g0=Error(r(519));function Bs(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _d(Qr(o,i)),g0}function Gj(i){var o=i.stateNode,u=i.type,m=i.memoizedProps;switch(o[nn]=i,o[An]=m,u){case"dialog":Ge("cancel",o),Ge("close",o);break;case"iframe":case"object":case"embed":Ge("load",o);break;case"video":case"audio":for(u=0;u<$d.length;u++)Ge($d[u],o);break;case"source":Ge("error",o);break;case"img":case"image":case"link":Ge("error",o),Ge("load",o);break;case"details":Ge("toggle",o);break;case"input":Ge("invalid",o),am(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Ge("invalid",o);break;case"textarea":Ge("invalid",o),Is(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||uN(o.textContent,u)?(m.popover!=null&&(Ge("beforetoggle",o),Ge("toggle",o)),m.onScroll!=null&&Ge("scroll",o),m.onScrollEnd!=null&&Ge("scrollend",o),m.onClick!=null&&(o.onclick=wa),o=!0):o=!1,o||Bs(i,!0)}function Wj(i){for(Un=i.return;Un;)switch(Un.tag){case 5:case 31:case 13:ea=!1;return;case 27:case 3:ea=!0;return;default:Un=Un.return}}function _c(i){if(i!==Un)return!1;if(!et)return Wj(i),et=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||kb(i.type,i.memoizedProps)),u=!u),u&&Nt&&Bs(i),Wj(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Nt=bN(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Nt=bN(i)}else o===27?(o=Nt,to(i.type)?(i=Ub,Ub=null,Nt=i):Nt=o):Nt=Un?na(i.stateNode.nextSibling):null;return!0}function ol(){Nt=Un=null,et=!1}function y0(){var i=Us;return i!==null&&(wr===null?wr=i:wr.push.apply(wr,i),Us=null),i}function _d(i){Us===null?Us=[i]:Us.push(i)}var b0=K(null),ll=null,Ri=null;function Fs(i,o,u){ve(b0,o._currentValue),o._currentValue=u}function Di(i){i._currentValue=b0.current,oe(b0)}function x0(i,o,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===u)break;i=i.return}}function w0(i,o,u,m){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var x=y.dependencies;if(x!==null){var N=y.child;x=x.firstContext;e:for(;x!==null;){var V=x;x=y;for(var H=0;H<o.length;H++)if(V.context===o[H]){x.lanes|=u,V=x.alternate,V!==null&&(V.lanes|=u),x0(x.return,u,i),m||(N=null);break e}x=V.next}}else if(y.tag===18){if(N=y.return,N===null)throw Error(r(341));N.lanes|=u,x=N.alternate,x!==null&&(x.lanes|=u),x0(N,u,i),N=null}else N=y.child;if(N!==null)N.return=y;else for(N=y;N!==null;){if(N===i){N=null;break}if(y=N.sibling,y!==null){y.return=N.return,N=y;break}N=N.return}y=N}}function Ec(i,o,u,m){i=null;for(var y=o,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var N=y.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var V=y.type;Pr(y.pendingProps.value,N.value)||(i!==null?i.push(V):i=[V])}}else if(y===Re.current){if(N=y.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(Yd):i=[Yd])}y=y.return}i!==null&&w0(o,i,u,m),o.flags|=262144}function Am(i){for(i=i.firstContext;i!==null;){if(!Pr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function cl(i){ll=i,Ri=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Bn(i){return Yj(ll,i)}function Tm(i,o){return ll===null&&cl(i),Yj(i,o)}function Yj(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Ri===null){if(i===null)throw Error(r(308));Ri=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Ri=Ri.next=o;return u}var Pz=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},Iz=t.unstable_scheduleCallback,Rz=t.unstable_NormalPriority,sn={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _0(){return{controller:new Pz,data:new Map,refCount:0}}function Ed(i){i.refCount--,i.refCount===0&&Iz(Rz,function(){i.controller.abort()})}var Sd=null,E0=0,Sc=0,jc=null;function Dz(i,o){if(Sd===null){var u=Sd=[];E0=0,Sc=Ab(),jc={status:"pending",value:void 0,then:function(m){u.push(m)}}}return E0++,o.then(Xj,Xj),o}function Xj(){if(--E0===0&&Sd!==null){jc!==null&&(jc.status="fulfilled");var i=Sd;Sd=null,Sc=0,jc=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function kz(i,o){var u=[],m={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return i.then(function(){m.status="fulfilled",m.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(m.status="rejected",m.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),m}var Qj=$.S;$.S=function(i,o){DT=lr(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&Dz(i,o),Qj!==null&&Qj(i,o)};var ul=K(null);function S0(){var i=ul.current;return i!==null?i:Et.pooledCache}function Nm(i,o){o===null?ve(ul,ul.current):ve(ul,o.pool)}function Zj(){var i=S0();return i===null?null:{parent:sn._currentValue,pool:i}}var Ac=Error(r(460)),j0=Error(r(474)),Cm=Error(r(542)),Om={then:function(){}};function Jj(i){return i=i.status,i==="fulfilled"||i==="rejected"}function eA(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(wa,wa),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,nA(i),i;default:if(typeof o.status=="string")o.then(wa,wa);else{if(i=Et,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(m){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=m}},function(m){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,nA(i),i}throw hl=o,Ac}}function dl(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(hl=u,Ac):u}}var hl=null;function tA(){if(hl===null)throw Error(r(459));var i=hl;return hl=null,i}function nA(i){if(i===Ac||i===Cm)throw Error(r(483))}var Tc=null,jd=0;function Pm(i){var o=jd;return jd+=1,Tc===null&&(Tc=[]),eA(Tc,i,o)}function Ad(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Im(i,o){throw o.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function rA(i){function o(Y,W){if(i){var Z=Y.deletions;Z===null?(Y.deletions=[W],Y.flags|=16):Z.push(W)}}function u(Y,W){if(!i)return null;for(;W!==null;)o(Y,W),W=W.sibling;return null}function m(Y){for(var W=new Map;Y!==null;)Y.key!==null?W.set(Y.key,Y):W.set(Y.index,Y),Y=Y.sibling;return W}function y(Y,W){return Y=Pi(Y,W),Y.index=0,Y.sibling=null,Y}function x(Y,W,Z){return Y.index=Z,i?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<W?(Y.flags|=67108866,W):Z):(Y.flags|=67108866,W)):(Y.flags|=1048576,W)}function N(Y){return i&&Y.alternate===null&&(Y.flags|=67108866),Y}function V(Y,W,Z,ue){return W===null||W.tag!==6?(W=f0(Z,Y.mode,ue),W.return=Y,W):(W=y(W,Z),W.return=Y,W)}function H(Y,W,Z,ue){var Pe=Z.type;return Pe===E?le(Y,W,Z.props.children,ue,Z.key):W!==null&&(W.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===M&&dl(Pe)===W.type)?(W=y(W,Z.props),Ad(W,Z),W.return=Y,W):(W=Sm(Z.type,Z.key,Z.props,null,Y.mode,ue),Ad(W,Z),W.return=Y,W)}function J(Y,W,Z,ue){return W===null||W.tag!==4||W.stateNode.containerInfo!==Z.containerInfo||W.stateNode.implementation!==Z.implementation?(W=m0(Z,Y.mode,ue),W.return=Y,W):(W=y(W,Z.children||[]),W.return=Y,W)}function le(Y,W,Z,ue,Pe){return W===null||W.tag!==7?(W=sl(Z,Y.mode,ue,Pe),W.return=Y,W):(W=y(W,Z),W.return=Y,W)}function he(Y,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=f0(""+W,Y.mode,Z),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return Z=Sm(W.type,W.key,W.props,null,Y.mode,Z),Ad(Z,W),Z.return=Y,Z;case j:return W=m0(W,Y.mode,Z),W.return=Y,W;case M:return W=dl(W),he(Y,W,Z)}if(me(W)||F(W))return W=sl(W,Y.mode,Z,null),W.return=Y,W;if(typeof W.then=="function")return he(Y,Pm(W),Z);if(W.$$typeof===I)return he(Y,Tm(Y,W),Z);Im(Y,W)}return null}function ne(Y,W,Z,ue){var Pe=W!==null?W.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Pe!==null?null:V(Y,W,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return Z.key===Pe?H(Y,W,Z,ue):null;case j:return Z.key===Pe?J(Y,W,Z,ue):null;case M:return Z=dl(Z),ne(Y,W,Z,ue)}if(me(Z)||F(Z))return Pe!==null?null:le(Y,W,Z,ue,null);if(typeof Z.then=="function")return ne(Y,W,Pm(Z),ue);if(Z.$$typeof===I)return ne(Y,W,Tm(Y,Z),ue);Im(Y,Z)}return null}function ie(Y,W,Z,ue,Pe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Y=Y.get(Z)||null,V(W,Y,""+ue,Pe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:return Y=Y.get(ue.key===null?Z:ue.key)||null,H(W,Y,ue,Pe);case j:return Y=Y.get(ue.key===null?Z:ue.key)||null,J(W,Y,ue,Pe);case M:return ue=dl(ue),ie(Y,W,Z,ue,Pe)}if(me(ue)||F(ue))return Y=Y.get(Z)||null,le(W,Y,ue,Pe,null);if(typeof ue.then=="function")return ie(Y,W,Z,Pm(ue),Pe);if(ue.$$typeof===I)return ie(Y,W,Z,Tm(W,ue),Pe);Im(W,ue)}return null}function _e(Y,W,Z,ue){for(var Pe=null,rt=null,je=W,$e=W=0,Ye=null;je!==null&&$e<Z.length;$e++){je.index>$e?(Ye=je,je=null):Ye=je.sibling;var at=ne(Y,je,Z[$e],ue);if(at===null){je===null&&(je=Ye);break}i&&je&&at.alternate===null&&o(Y,je),W=x(at,W,$e),rt===null?Pe=at:rt.sibling=at,rt=at,je=Ye}if($e===Z.length)return u(Y,je),et&&Ii(Y,$e),Pe;if(je===null){for(;$e<Z.length;$e++)je=he(Y,Z[$e],ue),je!==null&&(W=x(je,W,$e),rt===null?Pe=je:rt.sibling=je,rt=je);return et&&Ii(Y,$e),Pe}for(je=m(je);$e<Z.length;$e++)Ye=ie(je,Y,$e,Z[$e],ue),Ye!==null&&(i&&Ye.alternate!==null&&je.delete(Ye.key===null?$e:Ye.key),W=x(Ye,W,$e),rt===null?Pe=Ye:rt.sibling=Ye,rt=Ye);return i&&je.forEach(function(so){return o(Y,so)}),et&&Ii(Y,$e),Pe}function ke(Y,W,Z,ue){if(Z==null)throw Error(r(151));for(var Pe=null,rt=null,je=W,$e=W=0,Ye=null,at=Z.next();je!==null&&!at.done;$e++,at=Z.next()){je.index>$e?(Ye=je,je=null):Ye=je.sibling;var so=ne(Y,je,at.value,ue);if(so===null){je===null&&(je=Ye);break}i&&je&&so.alternate===null&&o(Y,je),W=x(so,W,$e),rt===null?Pe=so:rt.sibling=so,rt=so,je=Ye}if(at.done)return u(Y,je),et&&Ii(Y,$e),Pe;if(je===null){for(;!at.done;$e++,at=Z.next())at=he(Y,at.value,ue),at!==null&&(W=x(at,W,$e),rt===null?Pe=at:rt.sibling=at,rt=at);return et&&Ii(Y,$e),Pe}for(je=m(je);!at.done;$e++,at=Z.next())at=ie(je,Y,$e,at.value,ue),at!==null&&(i&&at.alternate!==null&&je.delete(at.key===null?$e:at.key),W=x(at,W,$e),rt===null?Pe=at:rt.sibling=at,rt=at);return i&&je.forEach(function(K5){return o(Y,K5)}),et&&Ii(Y,$e),Pe}function xt(Y,W,Z,ue){if(typeof Z=="object"&&Z!==null&&Z.type===E&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:e:{for(var Pe=Z.key;W!==null;){if(W.key===Pe){if(Pe=Z.type,Pe===E){if(W.tag===7){u(Y,W.sibling),ue=y(W,Z.props.children),ue.return=Y,Y=ue;break e}}else if(W.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===M&&dl(Pe)===W.type){u(Y,W.sibling),ue=y(W,Z.props),Ad(ue,Z),ue.return=Y,Y=ue;break e}u(Y,W);break}else o(Y,W);W=W.sibling}Z.type===E?(ue=sl(Z.props.children,Y.mode,ue,Z.key),ue.return=Y,Y=ue):(ue=Sm(Z.type,Z.key,Z.props,null,Y.mode,ue),Ad(ue,Z),ue.return=Y,Y=ue)}return N(Y);case j:e:{for(Pe=Z.key;W!==null;){if(W.key===Pe)if(W.tag===4&&W.stateNode.containerInfo===Z.containerInfo&&W.stateNode.implementation===Z.implementation){u(Y,W.sibling),ue=y(W,Z.children||[]),ue.return=Y,Y=ue;break e}else{u(Y,W);break}else o(Y,W);W=W.sibling}ue=m0(Z,Y.mode,ue),ue.return=Y,Y=ue}return N(Y);case M:return Z=dl(Z),xt(Y,W,Z,ue)}if(me(Z))return _e(Y,W,Z,ue);if(F(Z)){if(Pe=F(Z),typeof Pe!="function")throw Error(r(150));return Z=Pe.call(Z),ke(Y,W,Z,ue)}if(typeof Z.then=="function")return xt(Y,W,Pm(Z),ue);if(Z.$$typeof===I)return xt(Y,W,Tm(Y,Z),ue);Im(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,W!==null&&W.tag===6?(u(Y,W.sibling),ue=y(W,Z),ue.return=Y,Y=ue):(u(Y,W),ue=f0(Z,Y.mode,ue),ue.return=Y,Y=ue),N(Y)):u(Y,W)}return function(Y,W,Z,ue){try{jd=0;var Pe=xt(Y,W,Z,ue);return Tc=null,Pe}catch(je){if(je===Ac||je===Cm)throw je;var rt=Ir(29,je,null,Y.mode);return rt.lanes=ue,rt.return=Y,rt}finally{}}}var fl=rA(!0),aA=rA(!1),qs=!1;function A0(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function T0(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function $s(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Hs(i,o,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(ct&2)!==0){var y=m.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),m.pending=o,o=Em(i),Bj(i,null,u),o}return _m(i,m,o,u),Em(i)}function Td(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,ed(i,u)}}function N0(i,o){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var y=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};x===null?y=x=N:x=x.next=N,u=u.next}while(u!==null);x===null?y=x=o:x=x.next=o}else y=x=o;u={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var C0=!1;function Nd(){if(C0){var i=jc;if(i!==null)throw i}}function Cd(i,o,u,m){C0=!1;var y=i.updateQueue;qs=!1;var x=y.firstBaseUpdate,N=y.lastBaseUpdate,V=y.shared.pending;if(V!==null){y.shared.pending=null;var H=V,J=H.next;H.next=null,N===null?x=J:N.next=J,N=H;var le=i.alternate;le!==null&&(le=le.updateQueue,V=le.lastBaseUpdate,V!==N&&(V===null?le.firstBaseUpdate=J:V.next=J,le.lastBaseUpdate=H))}if(x!==null){var he=y.baseState;N=0,le=J=H=null,V=x;do{var ne=V.lane&-536870913,ie=ne!==V.lane;if(ie?(We&ne)===ne:(m&ne)===ne){ne!==0&&ne===Sc&&(C0=!0),le!==null&&(le=le.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var _e=i,ke=V;ne=o;var xt=u;switch(ke.tag){case 1:if(_e=ke.payload,typeof _e=="function"){he=_e.call(xt,he,ne);break e}he=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=ke.payload,ne=typeof _e=="function"?_e.call(xt,he,ne):_e,ne==null)break e;he=v({},he,ne);break e;case 2:qs=!0}}ne=V.callback,ne!==null&&(i.flags|=64,ie&&(i.flags|=8192),ie=y.callbacks,ie===null?y.callbacks=[ne]:ie.push(ne))}else ie={lane:ne,tag:V.tag,payload:V.payload,callback:V.callback,next:null},le===null?(J=le=ie,H=he):le=le.next=ie,N|=ne;if(V=V.next,V===null){if(V=y.shared.pending,V===null)break;ie=V,V=ie.next,ie.next=null,y.lastBaseUpdate=ie,y.shared.pending=null}}while(!0);le===null&&(H=he),y.baseState=H,y.firstBaseUpdate=J,y.lastBaseUpdate=le,x===null&&(y.shared.lanes=0),Xs|=N,i.lanes=N,i.memoizedState=he}}function iA(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function sA(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)iA(u[i],o)}var Nc=K(null),Rm=K(0);function oA(i,o){i=qi,ve(Rm,i),ve(Nc,o),qi=i|o.baseLanes}function O0(){ve(Rm,qi),ve(Nc,Nc.current)}function P0(){qi=Rm.current,oe(Nc),oe(Rm)}var Rr=K(null),ta=null;function Ks(i){var o=i.alternate;ve(Wt,Wt.current&1),ve(Rr,i),ta===null&&(o===null||Nc.current!==null||o.memoizedState!==null)&&(ta=i)}function I0(i){ve(Wt,Wt.current),ve(Rr,i),ta===null&&(ta=i)}function lA(i){i.tag===22?(ve(Wt,Wt.current),ve(Rr,i),ta===null&&(ta=i)):Gs()}function Gs(){ve(Wt,Wt.current),ve(Rr,Rr.current)}function Dr(i){oe(Rr),ta===i&&(ta=null),oe(Wt)}var Wt=K(0);function Dm(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Vb(u)||zb(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ki=0,qe=null,yt=null,on=null,km=!1,Cc=!1,ml=!1,Mm=0,Od=0,Oc=null,Mz=0;function qt(){throw Error(r(321))}function R0(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Pr(i[u],o[u]))return!1;return!0}function D0(i,o,u,m,y,x){return ki=x,qe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$.H=i===null||i.memoizedState===null?HA:Y0,ml=!1,x=u(m,y),ml=!1,Cc&&(x=uA(o,u,m,y)),cA(i),x}function cA(i){$.H=Rd;var o=yt!==null&&yt.next!==null;if(ki=0,on=yt=qe=null,km=!1,Od=0,Oc=null,o)throw Error(r(300));i===null||ln||(i=i.dependencies,i!==null&&Am(i)&&(ln=!0))}function uA(i,o,u,m){qe=i;var y=0;do{if(Cc&&(Oc=null),Od=0,Cc=!1,25<=y)throw Error(r(301));if(y+=1,on=yt=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}$.H=KA,x=o(u,m)}while(Cc);return x}function Lz(){var i=$.H,o=i.useState()[0];return o=typeof o.then=="function"?Pd(o):o,i=i.useState()[0],(yt!==null?yt.memoizedState:null)!==i&&(qe.flags|=1024),o}function k0(){var i=Mm!==0;return Mm=0,i}function M0(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function L0(i){if(km){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}km=!1}ki=0,on=yt=qe=null,Cc=!1,Od=Mm=0,Oc=null}function ur(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?qe.memoizedState=on=i:on=on.next=i,on}function Yt(){if(yt===null){var i=qe.alternate;i=i!==null?i.memoizedState:null}else i=yt.next;var o=on===null?qe.memoizedState:on.next;if(o!==null)on=o,yt=i;else{if(i===null)throw qe.alternate===null?Error(r(467)):Error(r(310));yt=i,i={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},on===null?qe.memoizedState=on=i:on=on.next=i}return on}function Lm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pd(i){var o=Od;return Od+=1,Oc===null&&(Oc=[]),i=eA(Oc,i,o),o=qe,(on===null?o.memoizedState:on.next)===null&&(o=o.alternate,$.H=o===null||o.memoizedState===null?HA:Y0),i}function Vm(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Pd(i);if(i.$$typeof===I)return Bn(i)}throw Error(r(438,String(i)))}function V0(i){var o=null,u=qe.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=qe.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Lm(),qe.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),m=0;m<i;m++)u[m]=z;return o.index++,u}function Mi(i,o){return typeof o=="function"?o(i):o}function zm(i){var o=Yt();return z0(o,yt,i)}function z0(i,o,u){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var y=i.baseQueue,x=m.pending;if(x!==null){if(y!==null){var N=y.next;y.next=x.next,x.next=N}o.baseQueue=y=x,m.pending=null}if(x=i.baseState,y===null)i.memoizedState=x;else{o=y.next;var V=N=null,H=null,J=o,le=!1;do{var he=J.lane&-536870913;if(he!==J.lane?(We&he)===he:(ki&he)===he){var ne=J.revertLane;if(ne===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),he===Sc&&(le=!0);else if((ki&ne)===ne){J=J.next,ne===Sc&&(le=!0);continue}else he={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},H===null?(V=H=he,N=x):H=H.next=he,qe.lanes|=ne,Xs|=ne;he=J.action,ml&&u(x,he),x=J.hasEagerState?J.eagerState:u(x,he)}else ne={lane:he,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},H===null?(V=H=ne,N=x):H=H.next=ne,qe.lanes|=he,Xs|=he;J=J.next}while(J!==null&&J!==o);if(H===null?N=x:H.next=V,!Pr(x,i.memoizedState)&&(ln=!0,le&&(u=jc,u!==null)))throw u;i.memoizedState=x,i.baseState=N,i.baseQueue=H,m.lastRenderedState=x}return y===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function U0(i){var o=Yt(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var m=u.dispatch,y=u.pending,x=o.memoizedState;if(y!==null){u.pending=null;var N=y=y.next;do x=i(x,N.action),N=N.next;while(N!==y);Pr(x,o.memoizedState)||(ln=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),u.lastRenderedState=x}return[x,m]}function dA(i,o,u){var m=qe,y=Yt(),x=et;if(x){if(u===void 0)throw Error(r(407));u=u()}else u=o();var N=!Pr((yt||y).memoizedState,u);if(N&&(y.memoizedState=u,ln=!0),y=y.queue,q0(mA.bind(null,m,y,i),[i]),y.getSnapshot!==o||N||on!==null&&on.memoizedState.tag&1){if(m.flags|=2048,Pc(9,{destroy:void 0},fA.bind(null,m,y,u,o),null),Et===null)throw Error(r(349));x||(ki&127)!==0||hA(m,o,u)}return u}function hA(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=qe.updateQueue,o===null?(o=Lm(),qe.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function fA(i,o,u,m){o.value=u,o.getSnapshot=m,pA(o)&&vA(i)}function mA(i,o,u){return u(function(){pA(o)&&vA(i)})}function pA(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Pr(i,u)}catch{return!0}}function vA(i){var o=il(i,2);o!==null&&_r(o,i,2)}function B0(i){var o=ur();if(typeof i=="function"){var u=i;if(i=u(),ml){Hr(!0);try{u()}finally{Hr(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:i},o}function gA(i,o,u,m){return i.baseState=u,z0(i,yt,typeof m=="function"?m:Mi)}function Vz(i,o,u,m,y){if(Fm(i))throw Error(r(485));if(i=o.action,i!==null){var x={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){x.listeners.push(N)}};$.T!==null?u(!0):x.isTransition=!1,m(x),u=o.pending,u===null?(x.next=o.pending=x,yA(o,x)):(x.next=u.next,o.pending=u.next=x)}}function yA(i,o){var u=o.action,m=o.payload,y=i.state;if(o.isTransition){var x=$.T,N={};$.T=N;try{var V=u(y,m),H=$.S;H!==null&&H(N,V),bA(i,o,V)}catch(J){F0(i,o,J)}finally{x!==null&&N.types!==null&&(x.types=N.types),$.T=x}}else try{x=u(y,m),bA(i,o,x)}catch(J){F0(i,o,J)}}function bA(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){xA(i,o,m)},function(m){return F0(i,o,m)}):xA(i,o,u)}function xA(i,o,u){o.status="fulfilled",o.value=u,wA(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,yA(i,u)))}function F0(i,o,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,wA(o),o=o.next;while(o!==m)}i.action=null}function wA(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function _A(i,o){return o}function EA(i,o){if(et){var u=Et.formState;if(u!==null){e:{var m=qe;if(et){if(Nt){t:{for(var y=Nt,x=ea;y.nodeType!==8;){if(!x){y=null;break t}if(y=na(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){Nt=na(y.nextSibling),m=y.data==="F!";break e}}Bs(m)}m=!1}m&&(o=u[0])}}return u=ur(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_A,lastRenderedState:o},u.queue=m,u=FA.bind(null,qe,m),m.dispatch=u,m=B0(!1),x=W0.bind(null,qe,!1,m.queue),m=ur(),y={state:o,dispatch:null,action:i,pending:null},m.queue=y,u=Vz.bind(null,qe,y,x,u),y.dispatch=u,m.memoizedState=i,[o,u,!1]}function SA(i){var o=Yt();return jA(o,yt,i)}function jA(i,o,u){if(o=z0(i,o,_A)[0],i=zm(Mi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Pd(o)}catch(N){throw N===Ac?Cm:N}else m=o;o=Yt();var y=o.queue,x=y.dispatch;return u!==o.memoizedState&&(qe.flags|=2048,Pc(9,{destroy:void 0},zz.bind(null,y,u),null)),[m,x,i]}function zz(i,o){i.action=o}function AA(i){var o=Yt(),u=yt;if(u!==null)return jA(o,u,i);Yt(),o=o.memoizedState,u=Yt();var m=u.queue.dispatch;return u.memoizedState=i,[o,m,!1]}function Pc(i,o,u,m){return i={tag:i,create:u,deps:m,inst:o,next:null},o=qe.updateQueue,o===null&&(o=Lm(),qe.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,o.lastEffect=i),i}function TA(){return Yt().memoizedState}function Um(i,o,u,m){var y=ur();qe.flags|=i,y.memoizedState=Pc(1|o,{destroy:void 0},u,m===void 0?null:m)}function Bm(i,o,u,m){var y=Yt();m=m===void 0?null:m;var x=y.memoizedState.inst;yt!==null&&m!==null&&R0(m,yt.memoizedState.deps)?y.memoizedState=Pc(o,x,u,m):(qe.flags|=i,y.memoizedState=Pc(1|o,x,u,m))}function NA(i,o){Um(8390656,8,i,o)}function q0(i,o){Bm(2048,8,i,o)}function Uz(i){qe.flags|=4;var o=qe.updateQueue;if(o===null)o=Lm(),qe.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function CA(i){var o=Yt().memoizedState;return Uz({ref:o,nextImpl:i}),function(){if((ct&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function OA(i,o){return Bm(4,2,i,o)}function PA(i,o){return Bm(4,4,i,o)}function IA(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function RA(i,o,u){u=u!=null?u.concat([i]):null,Bm(4,4,IA.bind(null,o,i),u)}function $0(){}function DA(i,o){var u=Yt();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&R0(o,m[1])?m[0]:(u.memoizedState=[i,o],i)}function kA(i,o){var u=Yt();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&R0(o,m[1]))return m[0];if(m=i(),ml){Hr(!0);try{i()}finally{Hr(!1)}}return u.memoizedState=[m,o],m}function H0(i,o,u){return u===void 0||(ki&1073741824)!==0&&(We&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=MT(),qe.lanes|=i,Xs|=i,u)}function MA(i,o,u,m){return Pr(u,o)?u:Nc.current!==null?(i=H0(i,u,m),Pr(i,o)||(ln=!0),i):(ki&42)===0||(ki&1073741824)!==0&&(We&261930)===0?(ln=!0,i.memoizedState=u):(i=MT(),qe.lanes|=i,Xs|=i,o)}function LA(i,o,u,m,y){var x=G.p;G.p=x!==0&&8>x?x:8;var N=$.T,V={};$.T=V,W0(i,!1,o,u);try{var H=y(),J=$.S;if(J!==null&&J(V,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var le=kz(H,m);Id(i,o,le,Lr(i))}else Id(i,o,m,Lr(i))}catch(he){Id(i,o,{then:function(){},status:"rejected",reason:he},Lr())}finally{G.p=x,N!==null&&V.types!==null&&(N.types=V.types),$.T=N}}function Bz(){}function K0(i,o,u,m){if(i.tag!==5)throw Error(r(476));var y=VA(i).queue;LA(i,y,o,ee,u===null?Bz:function(){return zA(i),u(m)})}function VA(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:ee},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function zA(i){var o=VA(i);o.next===null&&(o=i.alternate.memoizedState),Id(i,o.next.queue,{},Lr())}function G0(){return Bn(Yd)}function UA(){return Yt().memoizedState}function BA(){return Yt().memoizedState}function Fz(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=Lr();i=$s(u);var m=Hs(o,i,u);m!==null&&(_r(m,o,u),Td(m,o,u)),o={cache:_0()},i.payload=o;return}o=o.return}}function qz(i,o,u){var m=Lr();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Fm(i)?qA(o,u):(u=d0(i,o,u,m),u!==null&&(_r(u,i,m),$A(u,o,m)))}function FA(i,o,u){var m=Lr();Id(i,o,u,m)}function Id(i,o,u,m){var y={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Fm(i))qA(o,y);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var N=o.lastRenderedState,V=x(N,u);if(y.hasEagerState=!0,y.eagerState=V,Pr(V,N))return _m(i,o,y,0),Et===null&&wm(),!1}catch{}finally{}if(u=d0(i,o,y,m),u!==null)return _r(u,i,m),$A(u,o,m),!0}return!1}function W0(i,o,u,m){if(m={lane:2,revertLane:Ab(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Fm(i)){if(o)throw Error(r(479))}else o=d0(i,u,m,2),o!==null&&_r(o,i,2)}function Fm(i){var o=i.alternate;return i===qe||o!==null&&o===qe}function qA(i,o){Cc=km=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function $A(i,o,u){if((u&4194048)!==0){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,ed(i,u)}}var Rd={readContext:Bn,use:Vm,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt};Rd.useEffectEvent=qt;var HA={readContext:Bn,use:Vm,useCallback:function(i,o){return ur().memoizedState=[i,o===void 0?null:o],i},useContext:Bn,useEffect:NA,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,Um(4194308,4,IA.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Um(4194308,4,i,o)},useInsertionEffect:function(i,o){Um(4,2,i,o)},useMemo:function(i,o){var u=ur();o=o===void 0?null:o;var m=i();if(ml){Hr(!0);try{i()}finally{Hr(!1)}}return u.memoizedState=[m,o],m},useReducer:function(i,o,u){var m=ur();if(u!==void 0){var y=u(o);if(ml){Hr(!0);try{u(o)}finally{Hr(!1)}}}else y=o;return m.memoizedState=m.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},m.queue=i,i=i.dispatch=qz.bind(null,qe,i),[m.memoizedState,i]},useRef:function(i){var o=ur();return i={current:i},o.memoizedState=i},useState:function(i){i=B0(i);var o=i.queue,u=FA.bind(null,qe,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:$0,useDeferredValue:function(i,o){var u=ur();return H0(u,i,o)},useTransition:function(){var i=B0(!1);return i=LA.bind(null,qe,i.queue,!0,!1),ur().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var m=qe,y=ur();if(et){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Et===null)throw Error(r(349));(We&127)!==0||hA(m,o,u)}y.memoizedState=u;var x={value:u,getSnapshot:o};return y.queue=x,NA(mA.bind(null,m,x,i),[i]),m.flags|=2048,Pc(9,{destroy:void 0},fA.bind(null,m,x,u,o),null),u},useId:function(){var i=ur(),o=Et.identifierPrefix;if(et){var u=li,m=oi;u=(m&~(1<<32-Kt(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Mm++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=Mz++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:G0,useFormState:EA,useActionState:EA,useOptimistic:function(i){var o=ur();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=W0.bind(null,qe,!0,u),u.dispatch=o,[i,o]},useMemoCache:V0,useCacheRefresh:function(){return ur().memoizedState=Fz.bind(null,qe)},useEffectEvent:function(i){var o=ur(),u={impl:i};return o.memoizedState=u,function(){if((ct&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Y0={readContext:Bn,use:Vm,useCallback:DA,useContext:Bn,useEffect:q0,useImperativeHandle:RA,useInsertionEffect:OA,useLayoutEffect:PA,useMemo:kA,useReducer:zm,useRef:TA,useState:function(){return zm(Mi)},useDebugValue:$0,useDeferredValue:function(i,o){var u=Yt();return MA(u,yt.memoizedState,i,o)},useTransition:function(){var i=zm(Mi)[0],o=Yt().memoizedState;return[typeof i=="boolean"?i:Pd(i),o]},useSyncExternalStore:dA,useId:UA,useHostTransitionStatus:G0,useFormState:SA,useActionState:SA,useOptimistic:function(i,o){var u=Yt();return gA(u,yt,i,o)},useMemoCache:V0,useCacheRefresh:BA};Y0.useEffectEvent=CA;var KA={readContext:Bn,use:Vm,useCallback:DA,useContext:Bn,useEffect:q0,useImperativeHandle:RA,useInsertionEffect:OA,useLayoutEffect:PA,useMemo:kA,useReducer:U0,useRef:TA,useState:function(){return U0(Mi)},useDebugValue:$0,useDeferredValue:function(i,o){var u=Yt();return yt===null?H0(u,i,o):MA(u,yt.memoizedState,i,o)},useTransition:function(){var i=U0(Mi)[0],o=Yt().memoizedState;return[typeof i=="boolean"?i:Pd(i),o]},useSyncExternalStore:dA,useId:UA,useHostTransitionStatus:G0,useFormState:AA,useActionState:AA,useOptimistic:function(i,o){var u=Yt();return yt!==null?gA(u,yt,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:V0,useCacheRefresh:BA};KA.useEffectEvent=CA;function X0(i,o,u,m){o=i.memoizedState,u=u(m,o),u=u==null?o:v({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Q0={enqueueSetState:function(i,o,u){i=i._reactInternals;var m=Lr(),y=$s(m);y.payload=o,u!=null&&(y.callback=u),o=Hs(i,y,m),o!==null&&(_r(o,i,m),Td(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var m=Lr(),y=$s(m);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=Hs(i,y,m),o!==null&&(_r(o,i,m),Td(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Lr(),m=$s(u);m.tag=2,o!=null&&(m.callback=o),o=Hs(i,m,u),o!==null&&(_r(o,i,u),Td(o,i,u))}};function GA(i,o,u,m,y,x,N){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,x,N):o.prototype&&o.prototype.isPureReactComponent?!bd(u,m)||!bd(y,x):!0}function WA(i,o,u,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==i&&Q0.enqueueReplaceState(o,o.state,null)}function pl(i,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(i=i.defaultProps){u===o&&(u=v({},u));for(var y in i)u[y]===void 0&&(u[y]=i[y])}return u}function YA(i){xm(i)}function XA(i){console.error(i)}function QA(i){xm(i)}function qm(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function ZA(i,o,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Z0(i,o,u){return u=$s(u),u.tag=3,u.payload={element:null},u.callback=function(){qm(i,o)},u}function JA(i){return i=$s(i),i.tag=3,i}function eT(i,o,u,m){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var x=m.value;i.payload=function(){return y(x)},i.callback=function(){ZA(o,u,m)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(i.callback=function(){ZA(o,u,m),typeof y!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var V=m.stack;this.componentDidCatch(m.value,{componentStack:V!==null?V:""})})}function $z(i,o,u,m,y){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&Ec(o,u,y,!0),u=Rr.current,u!==null){switch(u.tag){case 31:case 13:return ta===null?tp():u.alternate===null&&$t===0&&($t=3),u.flags&=-257,u.flags|=65536,u.lanes=y,m===Om?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),Eb(i,m,y)),!1;case 22:return u.flags|=65536,m===Om?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),Eb(i,m,y)),!1}throw Error(r(435,u.tag))}return Eb(i,m,y),tp(),!1}if(et)return o=Rr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,m!==g0&&(i=Error(r(422),{cause:m}),_d(Qr(i,u)))):(m!==g0&&(o=Error(r(423),{cause:m}),_d(Qr(o,u))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,m=Qr(m,u),y=Z0(i.stateNode,m,y),N0(i,y),$t!==4&&($t=2)),!1;var x=Error(r(520),{cause:m});if(x=Qr(x,u),Bd===null?Bd=[x]:Bd.push(x),$t!==4&&($t=2),o===null)return!0;m=Qr(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=y&-y,u.lanes|=i,i=Z0(u.stateNode,m,i),N0(u,i),!1;case 1:if(o=u.type,x=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Qs===null||!Qs.has(x))))return u.flags|=65536,y&=-y,u.lanes|=y,y=JA(y),eT(y,i,u,m),N0(u,y),!1}u=u.return}while(u!==null);return!1}var J0=Error(r(461)),ln=!1;function Fn(i,o,u,m){o.child=i===null?aA(o,null,u,m):fl(o,i.child,u,m)}function tT(i,o,u,m,y){u=u.render;var x=o.ref;if("ref"in m){var N={};for(var V in m)V!=="ref"&&(N[V]=m[V])}else N=m;return cl(o),m=D0(i,o,u,N,x,y),V=k0(),i!==null&&!ln?(M0(i,o,y),Li(i,o,y)):(et&&V&&p0(o),o.flags|=1,Fn(i,o,m,y),o.child)}function nT(i,o,u,m,y){if(i===null){var x=u.type;return typeof x=="function"&&!h0(x)&&x.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=x,rT(i,o,x,m,y)):(i=Sm(u.type,null,m,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(x=i.child,!ob(i,y)){var N=x.memoizedProps;if(u=u.compare,u=u!==null?u:bd,u(N,m)&&i.ref===o.ref)return Li(i,o,y)}return o.flags|=1,i=Pi(x,m),i.ref=o.ref,i.return=o,o.child=i}function rT(i,o,u,m,y){if(i!==null){var x=i.memoizedProps;if(bd(x,m)&&i.ref===o.ref)if(ln=!1,o.pendingProps=m=x,ob(i,y))(i.flags&131072)!==0&&(ln=!0);else return o.lanes=i.lanes,Li(i,o,y)}return eb(i,o,u,m,y)}function aT(i,o,u,m){var y=m.children,x=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|u:u,i!==null){for(m=o.child=i.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;m=y&~x}else m=0,o.child=null;return iT(i,o,x,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Nm(o,x!==null?x.cachePool:null),x!==null?oA(o,x):O0(),lA(o);else return m=o.lanes=536870912,iT(i,o,x!==null?x.baseLanes|u:u,u,m)}else x!==null?(Nm(o,x.cachePool),oA(o,x),Gs(),o.memoizedState=null):(i!==null&&Nm(o,null),O0(),Gs());return Fn(i,o,y,u),o.child}function Dd(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function iT(i,o,u,m,y){var x=S0();return x=x===null?null:{parent:sn._currentValue,pool:x},o.memoizedState={baseLanes:u,cachePool:x},i!==null&&Nm(o,null),O0(),lA(o),i!==null&&Ec(i,o,m,!0),o.childLanes=y,null}function $m(i,o){return o=Km({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function sT(i,o,u){return fl(o,i.child,null,u),i=$m(o,o.pendingProps),i.flags|=2,Dr(o),o.memoizedState=null,i}function Hz(i,o,u){var m=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(et){if(m.mode==="hidden")return i=$m(o,m),o.lanes=536870912,Dd(null,i);if(I0(o),(i=Nt)?(i=yN(i,ea),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:zs!==null?{id:oi,overflow:li}:null,retryLane:536870912,hydrationErrors:null},u=qj(i),u.return=o,o.child=u,Un=o,Nt=null)):i=null,i===null)throw Bs(o);return o.lanes=536870912,null}return $m(o,m)}var x=i.memoizedState;if(x!==null){var N=x.dehydrated;if(I0(o),y)if(o.flags&256)o.flags&=-257,o=sT(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(ln||Ec(i,o,u,!1),y=(u&i.childLanes)!==0,ln||y){if(m=Et,m!==null&&(N=td(m,u),N!==0&&N!==x.retryLane))throw x.retryLane=N,il(i,N),_r(m,i,N),J0;tp(),o=sT(i,o,u)}else i=x.treeContext,Nt=na(N.nextSibling),Un=o,et=!0,Us=null,ea=!1,i!==null&&Kj(o,i),o=$m(o,m),o.flags|=4096;return o}return i=Pi(i.child,{mode:m.mode,children:m.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Hm(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function eb(i,o,u,m,y){return cl(o),u=D0(i,o,u,m,void 0,y),m=k0(),i!==null&&!ln?(M0(i,o,y),Li(i,o,y)):(et&&m&&p0(o),o.flags|=1,Fn(i,o,u,y),o.child)}function oT(i,o,u,m,y,x){return cl(o),o.updateQueue=null,u=uA(o,m,u,y),cA(i),m=k0(),i!==null&&!ln?(M0(i,o,x),Li(i,o,x)):(et&&m&&p0(o),o.flags|=1,Fn(i,o,u,x),o.child)}function lT(i,o,u,m,y){if(cl(o),o.stateNode===null){var x=bc,N=u.contextType;typeof N=="object"&&N!==null&&(x=Bn(N)),x=new u(m,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Q0,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=m,x.state=o.memoizedState,x.refs={},A0(o),N=u.contextType,x.context=typeof N=="object"&&N!==null?Bn(N):bc,x.state=o.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(X0(o,u,N,m),x.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(N=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),N!==x.state&&Q0.enqueueReplaceState(x,x.state,null),Cd(o,m,x,y),Nd(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(i===null){x=o.stateNode;var V=o.memoizedProps,H=pl(u,V);x.props=H;var J=x.context,le=u.contextType;N=bc,typeof le=="object"&&le!==null&&(N=Bn(le));var he=u.getDerivedStateFromProps;le=typeof he=="function"||typeof x.getSnapshotBeforeUpdate=="function",V=o.pendingProps!==V,le||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(V||J!==N)&&WA(o,x,m,N),qs=!1;var ne=o.memoizedState;x.state=ne,Cd(o,m,x,y),Nd(),J=o.memoizedState,V||ne!==J||qs?(typeof he=="function"&&(X0(o,u,he,m),J=o.memoizedState),(H=qs||GA(o,u,H,m,ne,J,N))?(le||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=J),x.props=m,x.state=J,x.context=N,m=H):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{x=o.stateNode,T0(i,o),N=o.memoizedProps,le=pl(u,N),x.props=le,he=o.pendingProps,ne=x.context,J=u.contextType,H=bc,typeof J=="object"&&J!==null&&(H=Bn(J)),V=u.getDerivedStateFromProps,(J=typeof V=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(N!==he||ne!==H)&&WA(o,x,m,H),qs=!1,ne=o.memoizedState,x.state=ne,Cd(o,m,x,y),Nd();var ie=o.memoizedState;N!==he||ne!==ie||qs||i!==null&&i.dependencies!==null&&Am(i.dependencies)?(typeof V=="function"&&(X0(o,u,V,m),ie=o.memoizedState),(le=qs||GA(o,u,le,m,ne,ie,H)||i!==null&&i.dependencies!==null&&Am(i.dependencies))?(J||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(m,ie,H),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(m,ie,H)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||N===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ie),x.props=m,x.state=ie,x.context=H,m=le):(typeof x.componentDidUpdate!="function"||N===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),m=!1)}return x=m,Hm(i,o),m=(o.flags&128)!==0,x||m?(x=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,i!==null&&m?(o.child=fl(o,i.child,null,y),o.child=fl(o,null,u,y)):Fn(i,o,u,y),o.memoizedState=x.state,i=o.child):i=Li(i,o,y),i}function cT(i,o,u,m){return ol(),o.flags|=256,Fn(i,o,u,m),o.child}var tb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nb(i){return{baseLanes:i,cachePool:Zj()}}function rb(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=Mr),i}function uT(i,o,u){var m=o.pendingProps,y=!1,x=(o.flags&128)!==0,N;if((N=x)||(N=i!==null&&i.memoizedState===null?!1:(Wt.current&2)!==0),N&&(y=!0,o.flags&=-129),N=(o.flags&32)!==0,o.flags&=-33,i===null){if(et){if(y?Ks(o):Gs(),(i=Nt)?(i=yN(i,ea),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:zs!==null?{id:oi,overflow:li}:null,retryLane:536870912,hydrationErrors:null},u=qj(i),u.return=o,o.child=u,Un=o,Nt=null)):i=null,i===null)throw Bs(o);return zb(i)?o.lanes=32:o.lanes=536870912,null}var V=m.children;return m=m.fallback,y?(Gs(),y=o.mode,V=Km({mode:"hidden",children:V},y),m=sl(m,y,u,null),V.return=o,m.return=o,V.sibling=m,o.child=V,m=o.child,m.memoizedState=nb(u),m.childLanes=rb(i,N,u),o.memoizedState=tb,Dd(null,m)):(Ks(o),ab(o,V))}var H=i.memoizedState;if(H!==null&&(V=H.dehydrated,V!==null)){if(x)o.flags&256?(Ks(o),o.flags&=-257,o=ib(i,o,u)):o.memoizedState!==null?(Gs(),o.child=i.child,o.flags|=128,o=null):(Gs(),V=m.fallback,y=o.mode,m=Km({mode:"visible",children:m.children},y),V=sl(V,y,u,null),V.flags|=2,m.return=o,V.return=o,m.sibling=V,o.child=m,fl(o,i.child,null,u),m=o.child,m.memoizedState=nb(u),m.childLanes=rb(i,N,u),o.memoizedState=tb,o=Dd(null,m));else if(Ks(o),zb(V)){if(N=V.nextSibling&&V.nextSibling.dataset,N)var J=N.dgst;N=J,m=Error(r(419)),m.stack="",m.digest=N,_d({value:m,source:null,stack:null}),o=ib(i,o,u)}else if(ln||Ec(i,o,u,!1),N=(u&i.childLanes)!==0,ln||N){if(N=Et,N!==null&&(m=td(N,u),m!==0&&m!==H.retryLane))throw H.retryLane=m,il(i,m),_r(N,i,m),J0;Vb(V)||tp(),o=ib(i,o,u)}else Vb(V)?(o.flags|=192,o.child=i.child,o=null):(i=H.treeContext,Nt=na(V.nextSibling),Un=o,et=!0,Us=null,ea=!1,i!==null&&Kj(o,i),o=ab(o,m.children),o.flags|=4096);return o}return y?(Gs(),V=m.fallback,y=o.mode,H=i.child,J=H.sibling,m=Pi(H,{mode:"hidden",children:m.children}),m.subtreeFlags=H.subtreeFlags&65011712,J!==null?V=Pi(J,V):(V=sl(V,y,u,null),V.flags|=2),V.return=o,m.return=o,m.sibling=V,o.child=m,Dd(null,m),m=o.child,V=i.child.memoizedState,V===null?V=nb(u):(y=V.cachePool,y!==null?(H=sn._currentValue,y=y.parent!==H?{parent:H,pool:H}:y):y=Zj(),V={baseLanes:V.baseLanes|u,cachePool:y}),m.memoizedState=V,m.childLanes=rb(i,N,u),o.memoizedState=tb,Dd(i.child,m)):(Ks(o),u=i.child,i=u.sibling,u=Pi(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,i!==null&&(N=o.deletions,N===null?(o.deletions=[i],o.flags|=16):N.push(i)),o.child=u,o.memoizedState=null,u)}function ab(i,o){return o=Km({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Km(i,o){return i=Ir(22,i,null,o),i.lanes=0,i}function ib(i,o,u){return fl(o,i.child,null,u),i=ab(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function dT(i,o,u){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),x0(i.return,o,u)}function sb(i,o,u,m,y,x){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:y,treeForkCount:x}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=u,N.tailMode=y,N.treeForkCount=x)}function hT(i,o,u){var m=o.pendingProps,y=m.revealOrder,x=m.tail;m=m.children;var N=Wt.current,V=(N&2)!==0;if(V?(N=N&1|2,o.flags|=128):N&=1,ve(Wt,N),Fn(i,o,m,u),m=et?wd:0,!V&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&dT(i,u,o);else if(i.tag===19)dT(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(u=o.child,y=null;u!==null;)i=u.alternate,i!==null&&Dm(i)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),sb(o,!1,y,u,x,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&Dm(i)===null){o.child=y;break}i=y.sibling,y.sibling=u,u=y,y=i}sb(o,!0,u,null,x,m);break;case"together":sb(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function Li(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Xs|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(Ec(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,u=Pi(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Pi(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function ob(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Am(i)))}function Kz(i,o,u){switch(o.tag){case 3:Tt(o,o.stateNode.containerInfo),Fs(o,sn,i.memoizedState.cache),ol();break;case 27:case 5:Ve(o);break;case 4:Tt(o,o.stateNode.containerInfo);break;case 10:Fs(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,I0(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(Ks(o),o.flags|=128,null):(u&o.child.childLanes)!==0?uT(i,o,u):(Ks(o),i=Li(i,o,u),i!==null?i.sibling:null);Ks(o);break;case 19:var y=(i.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(Ec(i,o,u,!1),m=(u&o.childLanes)!==0),y){if(m)return hT(i,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ve(Wt,Wt.current),m)break;return null;case 22:return o.lanes=0,aT(i,o,u,o.pendingProps);case 24:Fs(o,sn,i.memoizedState.cache)}return Li(i,o,u)}function fT(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)ln=!0;else{if(!ob(i,u)&&(o.flags&128)===0)return ln=!1,Kz(i,o,u);ln=(i.flags&131072)!==0}else ln=!1,et&&(o.flags&1048576)!==0&&Hj(o,wd,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(i=dl(o.elementType),o.type=i,typeof i=="function")h0(i)?(m=pl(i,m),o.tag=1,o=lT(null,o,i,m,u)):(o.tag=0,o=eb(null,o,i,m,u));else{if(i!=null){var y=i.$$typeof;if(y===U){o.tag=11,o=tT(null,o,i,m,u);break e}else if(y===P){o.tag=14,o=nT(null,o,i,m,u);break e}}throw o=Q(i)||i,Error(r(306,o,""))}}return o;case 0:return eb(i,o,o.type,o.pendingProps,u);case 1:return m=o.type,y=pl(m,o.pendingProps),lT(i,o,m,y,u);case 3:e:{if(Tt(o,o.stateNode.containerInfo),i===null)throw Error(r(387));m=o.pendingProps;var x=o.memoizedState;y=x.element,T0(i,o),Cd(o,m,null,u);var N=o.memoizedState;if(m=N.cache,Fs(o,sn,m),m!==x.cache&&w0(o,[sn],u,!0),Nd(),m=N.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:N.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=cT(i,o,m,u);break e}else if(m!==y){y=Qr(Error(r(424)),o),_d(y),o=cT(i,o,m,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Nt=na(i.firstChild),Un=o,et=!0,Us=null,ea=!0,u=aA(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ol(),m===y){o=Li(i,o,u);break e}Fn(i,o,m,u)}o=o.child}return o;case 26:return Hm(i,o),i===null?(u=SN(o.type,null,o.pendingProps,null))?o.memoizedState=u:et||(u=o.type,i=o.pendingProps,m=lp(De.current).createElement(u),m[nn]=o,m[An]=i,qn(m,u,i),rn(m),o.stateNode=m):o.memoizedState=SN(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Ve(o),i===null&&et&&(m=o.stateNode=wN(o.type,o.pendingProps,De.current),Un=o,ea=!0,y=Nt,to(o.type)?(Ub=y,Nt=na(m.firstChild)):Nt=y),Fn(i,o,o.pendingProps.children,u),Hm(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&et&&((y=m=Nt)&&(m=_5(m,o.type,o.pendingProps,ea),m!==null?(o.stateNode=m,Un=o,Nt=na(m.firstChild),ea=!1,y=!0):y=!1),y||Bs(o)),Ve(o),y=o.type,x=o.pendingProps,N=i!==null?i.memoizedProps:null,m=x.children,kb(y,x)?m=null:N!==null&&kb(y,N)&&(o.flags|=32),o.memoizedState!==null&&(y=D0(i,o,Lz,null,null,u),Yd._currentValue=y),Hm(i,o),Fn(i,o,m,u),o.child;case 6:return i===null&&et&&((i=u=Nt)&&(u=E5(u,o.pendingProps,ea),u!==null?(o.stateNode=u,Un=o,Nt=null,i=!0):i=!1),i||Bs(o)),null;case 13:return uT(i,o,u);case 4:return Tt(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=fl(o,null,m,u):Fn(i,o,m,u),o.child;case 11:return tT(i,o,o.type,o.pendingProps,u);case 7:return Fn(i,o,o.pendingProps,u),o.child;case 8:return Fn(i,o,o.pendingProps.children,u),o.child;case 12:return Fn(i,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,Fs(o,o.type,m.value),Fn(i,o,m.children,u),o.child;case 9:return y=o.type._context,m=o.pendingProps.children,cl(o),y=Bn(y),m=m(y),o.flags|=1,Fn(i,o,m,u),o.child;case 14:return nT(i,o,o.type,o.pendingProps,u);case 15:return rT(i,o,o.type,o.pendingProps,u);case 19:return hT(i,o,u);case 31:return Hz(i,o,u);case 22:return aT(i,o,u,o.pendingProps);case 24:return cl(o),m=Bn(sn),i===null?(y=S0(),y===null&&(y=Et,x=_0(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=u),y=x),o.memoizedState={parent:m,cache:y},A0(o),Fs(o,sn,y)):((i.lanes&u)!==0&&(T0(i,o),Cd(o,null,null,u),Nd()),y=i.memoizedState,x=o.memoizedState,y.parent!==m?(y={parent:m,cache:m},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Fs(o,sn,m)):(m=x.cache,Fs(o,sn,m),m!==y.cache&&w0(o,[sn],u,!0))),Fn(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Vi(i){i.flags|=4}function lb(i,o,u,m,y){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(UT())i.flags|=8192;else throw hl=Om,j0}else i.flags&=-16777217}function mT(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!CN(o))if(UT())i.flags|=8192;else throw hl=Om,j0}function Gm(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Jf():536870912,i.lanes|=o,kc|=o)}function kd(i,o){if(!et)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Ct(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(o)for(var y=i.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=m,i.childLanes=u,o}function Gz(i,o,u){var m=o.pendingProps;switch(v0(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(o),null;case 1:return Ct(o),null;case 3:return u=o.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Di(sn),ce(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(_c(o)?Vi(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,y0())),Ct(o),null;case 26:var y=o.type,x=o.memoizedState;return i===null?(Vi(o),x!==null?(Ct(o),mT(o,x)):(Ct(o),lb(o,y,null,m,u))):x?x!==i.memoizedState?(Vi(o),Ct(o),mT(o,x)):(Ct(o),o.flags&=-16777217):(i=i.memoizedProps,i!==m&&Vi(o),Ct(o),lb(o,y,i,m,u)),null;case 27:if(re(o),u=De.current,y=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&Vi(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Ct(o),null}i=ge.current,_c(o)?Gj(o):(i=wN(y,m,u),o.stateNode=i,Vi(o))}return Ct(o),null;case 5:if(re(o),y=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&Vi(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Ct(o),null}if(x=ge.current,_c(o))Gj(o);else{var N=lp(De.current);switch(x){case 1:x=N.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:x=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":x=N.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":x=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":x=N.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof m.is=="string"?N.createElement("select",{is:m.is}):N.createElement("select"),m.multiple?x.multiple=!0:m.size&&(x.size=m.size);break;default:x=typeof m.is=="string"?N.createElement(y,{is:m.is}):N.createElement(y)}}x[nn]=o,x[An]=m;e:for(N=o.child;N!==null;){if(N.tag===5||N.tag===6)x.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===o)break e;for(;N.sibling===null;){if(N.return===null||N.return===o)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}o.stateNode=x;e:switch(qn(x,y,m),y){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Vi(o)}}return Ct(o),lb(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==m&&Vi(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(i=De.current,_c(o)){if(i=o.stateNode,u=o.memoizedProps,m=null,y=Un,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}i[nn]=o,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||uN(i.nodeValue,u)),i||Bs(o,!0)}else i=lp(i).createTextNode(m),i[nn]=o,o.stateNode=i}return Ct(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(m=_c(o),u!==null){if(i===null){if(!m)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[nn]=o}else ol(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ct(o),i=!1}else u=y0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(Dr(o),o):(Dr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Ct(o),null;case 13:if(m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=_c(o),m!==null&&m.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[nn]=o}else ol(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ct(o),y=!1}else y=y0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Dr(o),o):(Dr(o),null)}return Dr(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,i=i!==null&&i.memoizedState!==null,u&&(m=o.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool),x=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),x!==y&&(m.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),Gm(o,o.updateQueue),Ct(o),null);case 4:return ce(),i===null&&Ob(o.stateNode.containerInfo),Ct(o),null;case 10:return Di(o.type),Ct(o),null;case 19:if(oe(Wt),m=o.memoizedState,m===null)return Ct(o),null;if(y=(o.flags&128)!==0,x=m.rendering,x===null)if(y)kd(m,!1);else{if($t!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(x=Dm(i),x!==null){for(o.flags|=128,kd(m,!1),i=x.updateQueue,o.updateQueue=i,Gm(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)Fj(u,i),u=u.sibling;return ve(Wt,Wt.current&1|2),et&&Ii(o,m.treeForkCount),o.child}i=i.sibling}m.tail!==null&&lr()>Zm&&(o.flags|=128,y=!0,kd(m,!1),o.lanes=4194304)}else{if(!y)if(i=Dm(x),i!==null){if(o.flags|=128,y=!0,i=i.updateQueue,o.updateQueue=i,Gm(o,i),kd(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!et)return Ct(o),null}else 2*lr()-m.renderingStartTime>Zm&&u!==536870912&&(o.flags|=128,y=!0,kd(m,!1),o.lanes=4194304);m.isBackwards?(x.sibling=o.child,o.child=x):(i=m.last,i!==null?i.sibling=x:o.child=x,m.last=x)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=lr(),i.sibling=null,u=Wt.current,ve(Wt,y?u&1|2:u&1),et&&Ii(o,m.treeForkCount),i):(Ct(o),null);case 22:case 23:return Dr(o),P0(),m=o.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(Ct(o),o.subtreeFlags&6&&(o.flags|=8192)):Ct(o),u=o.updateQueue,u!==null&&Gm(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),i!==null&&oe(ul),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Di(sn),Ct(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function Wz(i,o){switch(v0(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Di(sn),ce(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return re(o),null;case 31:if(o.memoizedState!==null){if(Dr(o),o.alternate===null)throw Error(r(340));ol()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(Dr(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));ol()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return oe(Wt),null;case 4:return ce(),null;case 10:return Di(o.type),null;case 22:case 23:return Dr(o),P0(),i!==null&&oe(ul),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Di(sn),null;case 25:return null;default:return null}}function pT(i,o){switch(v0(o),o.tag){case 3:Di(sn),ce();break;case 26:case 27:case 5:re(o);break;case 4:ce();break;case 31:o.memoizedState!==null&&Dr(o);break;case 13:Dr(o);break;case 19:oe(Wt);break;case 10:Di(o.type);break;case 22:case 23:Dr(o),P0(),i!==null&&oe(ul);break;case 24:Di(sn)}}function Md(i,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&i)===i){m=void 0;var x=u.create,N=u.inst;m=x(),N.destroy=m}u=u.next}while(u!==y)}}catch(V){pt(o,o.return,V)}}function Ws(i,o,u){try{var m=o.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var x=y.next;m=x;do{if((m.tag&i)===i){var N=m.inst,V=N.destroy;if(V!==void 0){N.destroy=void 0,y=o;var H=u,J=V;try{J()}catch(le){pt(y,H,le)}}}m=m.next}while(m!==x)}}catch(le){pt(o,o.return,le)}}function vT(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{sA(o,u)}catch(m){pt(i,i.return,m)}}}function gT(i,o,u){u.props=pl(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){pt(i,o,m)}}function Ld(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(y){pt(i,o,y)}}function ci(i,o){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(y){pt(i,o,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){pt(i,o,y)}else u.current=null}function yT(i){var o=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(y){pt(i,i.return,y)}}function cb(i,o,u){try{var m=i.stateNode;v5(m,i.type,u,o),m[An]=o}catch(y){pt(i,i.return,y)}}function bT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&to(i.type)||i.tag===4}function ub(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||bT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&to(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function db(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=wa));else if(m!==4&&(m===27&&to(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(db(i,o,u),i=i.sibling;i!==null;)db(i,o,u),i=i.sibling}function Wm(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(m!==4&&(m===27&&to(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Wm(i,o,u),i=i.sibling;i!==null;)Wm(i,o,u),i=i.sibling}function xT(i){var o=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);qn(o,m,u),o[nn]=i,o[An]=u}catch(x){pt(i,i.return,x)}}var zi=!1,cn=!1,hb=!1,wT=typeof WeakSet=="function"?WeakSet:Set,Nn=null;function Yz(i,o){if(i=i.containerInfo,Rb=pp,i=Rj(i),i0(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var y=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var N=0,V=-1,H=-1,J=0,le=0,he=i,ne=null;t:for(;;){for(var ie;he!==u||y!==0&&he.nodeType!==3||(V=N+y),he!==x||m!==0&&he.nodeType!==3||(H=N+m),he.nodeType===3&&(N+=he.nodeValue.length),(ie=he.firstChild)!==null;)ne=he,he=ie;for(;;){if(he===i)break t;if(ne===u&&++J===y&&(V=N),ne===x&&++le===m&&(H=N),(ie=he.nextSibling)!==null)break;he=ne,ne=he.parentNode}he=ie}u=V===-1||H===-1?null:{start:V,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(Db={focusedElem:i,selectionRange:u},pp=!1,Nn=o;Nn!==null;)if(o=Nn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Nn=i;else for(;Nn!==null;){switch(o=Nn,x=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)y=i[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&x!==null){i=void 0,u=o,y=x.memoizedProps,x=x.memoizedState,m=u.stateNode;try{var _e=pl(u.type,y);i=m.getSnapshotBeforeUpdate(_e,x),m.__reactInternalSnapshotBeforeUpdate=i}catch(ke){pt(u,u.return,ke)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)Lb(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Lb(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Nn=i;break}Nn=o.return}}function _T(i,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:Bi(i,u),m&4&&Md(5,u);break;case 1:if(Bi(i,u),m&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(N){pt(u,u.return,N)}else{var y=pl(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(y,o,i.__reactInternalSnapshotBeforeUpdate)}catch(N){pt(u,u.return,N)}}m&64&&vT(u),m&512&&Ld(u,u.return);break;case 3:if(Bi(i,u),m&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{sA(i,o)}catch(N){pt(u,u.return,N)}}break;case 27:o===null&&m&4&&xT(u);case 26:case 5:Bi(i,u),o===null&&m&4&&yT(u),m&512&&Ld(u,u.return);break;case 12:Bi(i,u);break;case 31:Bi(i,u),m&4&&jT(i,u);break;case 13:Bi(i,u),m&4&&AT(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=a5.bind(null,u),S5(i,u))));break;case 22:if(m=u.memoizedState!==null||zi,!m){o=o!==null&&o.memoizedState!==null||cn,y=zi;var x=cn;zi=m,(cn=o)&&!x?Fi(i,u,(u.subtreeFlags&8772)!==0):Bi(i,u),zi=y,cn=x}break;case 30:break;default:Bi(i,u)}}function ET(i){var o=i.alternate;o!==null&&(i.alternate=null,ET(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&ic(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Dt=null,yr=!1;function Ui(i,o,u){for(u=u.child;u!==null;)ST(i,o,u),u=u.sibling}function ST(i,o,u){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(ga,u)}catch{}switch(u.tag){case 26:cn||ci(u,o),Ui(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:cn||ci(u,o);var m=Dt,y=yr;to(u.type)&&(Dt=u.stateNode,yr=!1),Ui(i,o,u),Kd(u.stateNode),Dt=m,yr=y;break;case 5:cn||ci(u,o);case 6:if(m=Dt,y=yr,Dt=null,Ui(i,o,u),Dt=m,yr=y,Dt!==null)if(yr)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(u.stateNode)}catch(x){pt(u,o,x)}else try{Dt.removeChild(u.stateNode)}catch(x){pt(u,o,x)}break;case 18:Dt!==null&&(yr?(i=Dt,vN(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),qc(i)):vN(Dt,u.stateNode));break;case 4:m=Dt,y=yr,Dt=u.stateNode.containerInfo,yr=!0,Ui(i,o,u),Dt=m,yr=y;break;case 0:case 11:case 14:case 15:Ws(2,u,o),cn||Ws(4,u,o),Ui(i,o,u);break;case 1:cn||(ci(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&gT(u,o,m)),Ui(i,o,u);break;case 21:Ui(i,o,u);break;case 22:cn=(m=cn)||u.memoizedState!==null,Ui(i,o,u),cn=m;break;default:Ui(i,o,u)}}function jT(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{qc(i)}catch(u){pt(o,o.return,u)}}}function AT(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{qc(i)}catch(u){pt(o,o.return,u)}}function Xz(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new wT),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new wT),o;default:throw Error(r(435,i.tag))}}function Ym(i,o){var u=Xz(i);o.forEach(function(m){if(!u.has(m)){u.add(m);var y=i5.bind(null,i,m);m.then(y,y)}})}function br(i,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var y=u[m],x=i,N=o,V=N;e:for(;V!==null;){switch(V.tag){case 27:if(to(V.type)){Dt=V.stateNode,yr=!1;break e}break;case 5:Dt=V.stateNode,yr=!1;break e;case 3:case 4:Dt=V.stateNode.containerInfo,yr=!0;break e}V=V.return}if(Dt===null)throw Error(r(160));ST(x,N,y),Dt=null,yr=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)TT(o,i),o=o.sibling}var Ta=null;function TT(i,o){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:br(o,i),xr(i),m&4&&(Ws(3,i,i.return),Md(3,i),Ws(5,i,i.return));break;case 1:br(o,i),xr(i),m&512&&(cn||u===null||ci(u,u.return)),m&64&&zi&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var y=Ta;if(br(o,i),xr(i),m&512&&(cn||u===null||ci(u,u.return)),m&4){var x=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":x=y.getElementsByTagName("title")[0],(!x||x[Ya]||x[nn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(m),y.head.insertBefore(x,y.querySelector("head > title"))),qn(x,m,u),x[nn]=i,rn(x),m=x;break e;case"link":var N=TN("link","href",y).get(m+(u.href||""));if(N){for(var V=0;V<N.length;V++)if(x=N[V],x.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&x.getAttribute("rel")===(u.rel==null?null:u.rel)&&x.getAttribute("title")===(u.title==null?null:u.title)&&x.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(V,1);break t}}x=y.createElement(m),qn(x,m,u),y.head.appendChild(x);break;case"meta":if(N=TN("meta","content",y).get(m+(u.content||""))){for(V=0;V<N.length;V++)if(x=N[V],x.getAttribute("content")===(u.content==null?null:""+u.content)&&x.getAttribute("name")===(u.name==null?null:u.name)&&x.getAttribute("property")===(u.property==null?null:u.property)&&x.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&x.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(V,1);break t}}x=y.createElement(m),qn(x,m,u),y.head.appendChild(x);break;default:throw Error(r(468,m))}x[nn]=i,rn(x),m=x}i.stateNode=m}else NN(y,i.type,i.stateNode);else i.stateNode=AN(y,m,i.memoizedProps);else x!==m?(x===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):x.count--,m===null?NN(y,i.type,i.stateNode):AN(y,m,i.memoizedProps)):m===null&&i.stateNode!==null&&cb(i,i.memoizedProps,u.memoizedProps)}break;case 27:br(o,i),xr(i),m&512&&(cn||u===null||ci(u,u.return)),u!==null&&m&4&&cb(i,i.memoizedProps,u.memoizedProps);break;case 5:if(br(o,i),xr(i),m&512&&(cn||u===null||ci(u,u.return)),i.flags&32){y=i.stateNode;try{gr(y,"")}catch(_e){pt(i,i.return,_e)}}m&4&&i.stateNode!=null&&(y=i.memoizedProps,cb(i,y,u!==null?u.memoizedProps:y)),m&1024&&(hb=!0);break;case 6:if(br(o,i),xr(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(_e){pt(i,i.return,_e)}}break;case 3:if(dp=null,y=Ta,Ta=cp(o.containerInfo),br(o,i),Ta=y,xr(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{qc(o.containerInfo)}catch(_e){pt(i,i.return,_e)}hb&&(hb=!1,NT(i));break;case 4:m=Ta,Ta=cp(i.stateNode.containerInfo),br(o,i),xr(i),Ta=m;break;case 12:br(o,i),xr(i);break;case 31:br(o,i),xr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Ym(i,m)));break;case 13:br(o,i),xr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Qm=lr()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Ym(i,m)));break;case 22:y=i.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,J=zi,le=cn;if(zi=J||y,cn=le||H,br(o,i),cn=le,zi=J,xr(i),m&8192)e:for(o=i.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||H||zi||cn||vl(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){H=u=o;try{if(x=H.stateNode,y)N=x.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{V=H.stateNode;var he=H.memoizedProps.style,ne=he!=null&&he.hasOwnProperty("display")?he.display:null;V.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(_e){pt(H,H.return,_e)}}}else if(o.tag===6){if(u===null){H=o;try{H.stateNode.nodeValue=y?"":H.memoizedProps}catch(_e){pt(H,H.return,_e)}}}else if(o.tag===18){if(u===null){H=o;try{var ie=H.stateNode;y?gN(ie,!0):gN(H.stateNode,!1)}catch(_e){pt(H,H.return,_e)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Ym(i,u))));break;case 19:br(o,i),xr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Ym(i,m)));break;case 30:break;case 21:break;default:br(o,i),xr(i)}}function xr(i){var o=i.flags;if(o&2){try{for(var u,m=i.return;m!==null;){if(bT(m)){u=m;break}m=m.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,x=ub(i);Wm(i,x,y);break;case 5:var N=u.stateNode;u.flags&32&&(gr(N,""),u.flags&=-33);var V=ub(i);Wm(i,V,N);break;case 3:case 4:var H=u.stateNode.containerInfo,J=ub(i);db(i,J,H);break;default:throw Error(r(161))}}catch(le){pt(i,i.return,le)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function NT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;NT(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Bi(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)_T(i,o.alternate,o),o=o.sibling}function vl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Ws(4,o,o.return),vl(o);break;case 1:ci(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&gT(o,o.return,u),vl(o);break;case 27:Kd(o.stateNode);case 26:case 5:ci(o,o.return),vl(o);break;case 22:o.memoizedState===null&&vl(o);break;case 30:vl(o);break;default:vl(o)}i=i.sibling}}function Fi(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,y=i,x=o,N=x.flags;switch(x.tag){case 0:case 11:case 15:Fi(y,x,u),Md(4,x);break;case 1:if(Fi(y,x,u),m=x,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(J){pt(m,m.return,J)}if(m=x,y=m.updateQueue,y!==null){var V=m.stateNode;try{var H=y.shared.hiddenCallbacks;if(H!==null)for(y.shared.hiddenCallbacks=null,y=0;y<H.length;y++)iA(H[y],V)}catch(J){pt(m,m.return,J)}}u&&N&64&&vT(x),Ld(x,x.return);break;case 27:xT(x);case 26:case 5:Fi(y,x,u),u&&m===null&&N&4&&yT(x),Ld(x,x.return);break;case 12:Fi(y,x,u);break;case 31:Fi(y,x,u),u&&N&4&&jT(y,x);break;case 13:Fi(y,x,u),u&&N&4&&AT(y,x);break;case 22:x.memoizedState===null&&Fi(y,x,u),Ld(x,x.return);break;case 30:break;default:Fi(y,x,u)}o=o.sibling}}function fb(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Ed(u))}function mb(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Ed(i))}function Na(i,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)CT(i,o,u,m),o=o.sibling}function CT(i,o,u,m){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Na(i,o,u,m),y&2048&&Md(9,o);break;case 1:Na(i,o,u,m);break;case 3:Na(i,o,u,m),y&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Ed(i)));break;case 12:if(y&2048){Na(i,o,u,m),i=o.stateNode;try{var x=o.memoizedProps,N=x.id,V=x.onPostCommit;typeof V=="function"&&V(N,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){pt(o,o.return,H)}}else Na(i,o,u,m);break;case 31:Na(i,o,u,m);break;case 13:Na(i,o,u,m);break;case 23:break;case 22:x=o.stateNode,N=o.alternate,o.memoizedState!==null?x._visibility&2?Na(i,o,u,m):Vd(i,o):x._visibility&2?Na(i,o,u,m):(x._visibility|=2,Ic(i,o,u,m,(o.subtreeFlags&10256)!==0||!1)),y&2048&&fb(N,o);break;case 24:Na(i,o,u,m),y&2048&&mb(o.alternate,o);break;default:Na(i,o,u,m)}}function Ic(i,o,u,m,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=i,N=o,V=u,H=m,J=N.flags;switch(N.tag){case 0:case 11:case 15:Ic(x,N,V,H,y),Md(8,N);break;case 23:break;case 22:var le=N.stateNode;N.memoizedState!==null?le._visibility&2?Ic(x,N,V,H,y):Vd(x,N):(le._visibility|=2,Ic(x,N,V,H,y)),y&&J&2048&&fb(N.alternate,N);break;case 24:Ic(x,N,V,H,y),y&&J&2048&&mb(N.alternate,N);break;default:Ic(x,N,V,H,y)}o=o.sibling}}function Vd(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,m=o,y=m.flags;switch(m.tag){case 22:Vd(u,m),y&2048&&fb(m.alternate,m);break;case 24:Vd(u,m),y&2048&&mb(m.alternate,m);break;default:Vd(u,m)}o=o.sibling}}var zd=8192;function Rc(i,o,u){if(i.subtreeFlags&zd)for(i=i.child;i!==null;)OT(i,o,u),i=i.sibling}function OT(i,o,u){switch(i.tag){case 26:Rc(i,o,u),i.flags&zd&&i.memoizedState!==null&&M5(u,Ta,i.memoizedState,i.memoizedProps);break;case 5:Rc(i,o,u);break;case 3:case 4:var m=Ta;Ta=cp(i.stateNode.containerInfo),Rc(i,o,u),Ta=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=zd,zd=16777216,Rc(i,o,u),zd=m):Rc(i,o,u));break;default:Rc(i,o,u)}}function PT(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Ud(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Nn=m,RT(m,i)}PT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)IT(i),i=i.sibling}function IT(i){switch(i.tag){case 0:case 11:case 15:Ud(i),i.flags&2048&&Ws(9,i,i.return);break;case 3:Ud(i);break;case 12:Ud(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Xm(i)):Ud(i);break;default:Ud(i)}}function Xm(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Nn=m,RT(m,i)}PT(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Ws(8,o,o.return),Xm(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Xm(o));break;default:Xm(o)}i=i.sibling}}function RT(i,o){for(;Nn!==null;){var u=Nn;switch(u.tag){case 0:case 11:case 15:Ws(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Ed(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Nn=m;else e:for(u=i;Nn!==null;){m=Nn;var y=m.sibling,x=m.return;if(ET(m),m===u){Nn=null;break e}if(y!==null){y.return=x,Nn=y;break e}Nn=x}}}var Qz={getCacheForType:function(i){var o=Bn(sn),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return Bn(sn).controller.signal}},Zz=typeof WeakMap=="function"?WeakMap:Map,ct=0,Et=null,Ke=null,We=0,mt=0,kr=null,Ys=!1,Dc=!1,pb=!1,qi=0,$t=0,Xs=0,gl=0,vb=0,Mr=0,kc=0,Bd=null,wr=null,gb=!1,Qm=0,DT=0,Zm=1/0,Jm=null,Qs=null,yn=0,Zs=null,Mc=null,$i=0,yb=0,bb=null,kT=null,Fd=0,xb=null;function Lr(){return(ct&2)!==0&&We!==0?We&-We:$.T!==null?Ab():em()}function MT(){if(Mr===0)if((We&536870912)===0||et){var i=$o;$o<<=1,($o&3932160)===0&&($o=262144),Mr=i}else Mr=536870912;return i=Rr.current,i!==null&&(i.flags|=32),Mr}function _r(i,o,u){(i===Et&&(mt===2||mt===9)||i.cancelPendingCommit!==null)&&(Lc(i,0),Js(i,We,Mr,!1)),Ho(i,u),((ct&2)===0||i!==Et)&&(i===Et&&((ct&2)===0&&(gl|=u),$t===4&&Js(i,We,Mr,!1)),ui(i))}function LT(i,o,u){if((ct&6)!==0)throw Error(r(327));var m=!u&&(o&127)===0&&(o&i.expiredLanes)===0||ya(i,o),y=m?t5(i,o):_b(i,o,!0),x=m;do{if(y===0){Dc&&!m&&Js(i,o,0,!1);break}else{if(u=i.current.alternate,x&&!Jz(u)){y=_b(i,o,!1),x=!1;continue}if(y===2){if(x=o,i.errorRecoveryDisabledLanes&x)var N=0;else N=i.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){o=N;e:{var V=i;y=Bd;var H=V.current.memoizedState.isDehydrated;if(H&&(Lc(V,N).flags|=256),N=_b(V,N,!1),N!==2){if(pb&&!H){V.errorRecoveryDisabledLanes|=x,gl|=x,y=4;break e}x=wr,wr=y,x!==null&&(wr===null?wr=x:wr.push.apply(wr,x))}y=N}if(x=!1,y!==2)continue}}if(y===1){Lc(i,0),Js(i,o,0,!0);break}e:{switch(m=i,x=y,x){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Js(m,o,Mr,!Ys);break e;case 2:wr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=Qm+300-lr(),10<y)){if(Js(m,o,Mr,!Ys),Ka(m,0,!0)!==0)break e;$i=o,m.timeoutHandle=mN(VT.bind(null,m,u,wr,Jm,gb,o,Mr,gl,kc,Ys,x,"Throttled",-0,0),y);break e}VT(m,u,wr,Jm,gb,o,Mr,gl,kc,Ys,x,null,-0,0)}}break}while(!0);ui(i)}function VT(i,o,u,m,y,x,N,V,H,J,le,he,ne,ie){if(i.timeoutHandle=-1,he=o.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wa},OT(o,x,he);var _e=(x&62914560)===x?Qm-lr():(x&4194048)===x?DT-lr():0;if(_e=L5(he,_e),_e!==null){$i=x,i.cancelPendingCommit=_e(KT.bind(null,i,o,x,u,m,y,N,V,H,le,he,null,ne,ie)),Js(i,x,N,!J);return}}KT(i,o,x,u,m,y,N,V,H)}function Jz(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var y=u[m],x=y.getSnapshot;y=y.value;try{if(!Pr(x(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Js(i,o,u,m){o&=~vb,o&=~gl,i.suspendedLanes|=o,i.pingedLanes&=~o,m&&(i.warmLanes|=o),m=i.expirationTimes;for(var y=o;0<y;){var x=31-Kt(y),N=1<<x;m[x]=-1,y&=~N}u!==0&&Ko(i,u,o)}function ep(){return(ct&6)===0?(qd(0),!1):!0}function wb(){if(Ke!==null){if(mt===0)var i=Ke.return;else i=Ke,Ri=ll=null,L0(i),Tc=null,jd=0,i=Ke;for(;i!==null;)pT(i.alternate,i),i=i.return;Ke=null}}function Lc(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,b5(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),$i=0,wb(),Et=i,Ke=u=Pi(i.current,null),We=o,mt=0,kr=null,Ys=!1,Dc=ya(i,o),pb=!1,kc=Mr=vb=gl=Xs=$t=0,wr=Bd=null,gb=!1,(o&8)!==0&&(o|=o&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=o;0<m;){var y=31-Kt(m),x=1<<y;o|=i[y],m&=~x}return qi=o,wm(),u}function zT(i,o){qe=null,$.H=Rd,o===Ac||o===Cm?(o=tA(),mt=3):o===j0?(o=tA(),mt=4):mt=o===J0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,kr=o,Ke===null&&($t=1,qm(i,Qr(o,i.current)))}function UT(){var i=Rr.current;return i===null?!0:(We&4194048)===We?ta===null:(We&62914560)===We||(We&536870912)!==0?i===ta:!1}function BT(){var i=$.H;return $.H=Rd,i===null?Rd:i}function FT(){var i=$.A;return $.A=Qz,i}function tp(){$t=4,Ys||(We&4194048)!==We&&Rr.current!==null||(Dc=!0),(Xs&134217727)===0&&(gl&134217727)===0||Et===null||Js(Et,We,Mr,!1)}function _b(i,o,u){var m=ct;ct|=2;var y=BT(),x=FT();(Et!==i||We!==o)&&(Jm=null,Lc(i,o)),o=!1;var N=$t;e:do try{if(mt!==0&&Ke!==null){var V=Ke,H=kr;switch(mt){case 8:wb(),N=6;break e;case 3:case 2:case 9:case 6:Rr.current===null&&(o=!0);var J=mt;if(mt=0,kr=null,Vc(i,V,H,J),u&&Dc){N=0;break e}break;default:J=mt,mt=0,kr=null,Vc(i,V,H,J)}}e5(),N=$t;break}catch(le){zT(i,le)}while(!0);return o&&i.shellSuspendCounter++,Ri=ll=null,ct=m,$.H=y,$.A=x,Ke===null&&(Et=null,We=0,wm()),N}function e5(){for(;Ke!==null;)qT(Ke)}function t5(i,o){var u=ct;ct|=2;var m=BT(),y=FT();Et!==i||We!==o?(Jm=null,Zm=lr()+500,Lc(i,o)):Dc=ya(i,o);e:do try{if(mt!==0&&Ke!==null){o=Ke;var x=kr;t:switch(mt){case 1:mt=0,kr=null,Vc(i,o,x,1);break;case 2:case 9:if(Jj(x)){mt=0,kr=null,$T(o);break}o=function(){mt!==2&&mt!==9||Et!==i||(mt=7),ui(i)},x.then(o,o);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Jj(x)?(mt=0,kr=null,$T(o)):(mt=0,kr=null,Vc(i,o,x,7));break;case 5:var N=null;switch(Ke.tag){case 26:N=Ke.memoizedState;case 5:case 27:var V=Ke;if(N?CN(N):V.stateNode.complete){mt=0,kr=null;var H=V.sibling;if(H!==null)Ke=H;else{var J=V.return;J!==null?(Ke=J,np(J)):Ke=null}break t}}mt=0,kr=null,Vc(i,o,x,5);break;case 6:mt=0,kr=null,Vc(i,o,x,6);break;case 8:wb(),$t=6;break e;default:throw Error(r(462))}}n5();break}catch(le){zT(i,le)}while(!0);return Ri=ll=null,$.H=m,$.A=y,ct=u,Ke!==null?0:(Et=null,We=0,wm(),$t)}function n5(){for(;Ke!==null&&!Zy();)qT(Ke)}function qT(i){var o=fT(i.alternate,i,qi);i.memoizedProps=i.pendingProps,o===null?np(i):Ke=o}function $T(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=oT(u,o,o.pendingProps,o.type,void 0,We);break;case 11:o=oT(u,o,o.pendingProps,o.type.render,o.ref,We);break;case 5:L0(o);default:pT(u,o),o=Ke=Fj(o,qi),o=fT(u,o,qi)}i.memoizedProps=i.pendingProps,o===null?np(i):Ke=o}function Vc(i,o,u,m){Ri=ll=null,L0(o),Tc=null,jd=0;var y=o.return;try{if($z(i,y,o,u,We)){$t=1,qm(i,Qr(u,i.current)),Ke=null;return}}catch(x){if(y!==null)throw Ke=y,x;$t=1,qm(i,Qr(u,i.current)),Ke=null;return}o.flags&32768?(et||m===1?i=!0:Dc||(We&536870912)!==0?i=!1:(Ys=i=!0,(m===2||m===9||m===3||m===6)&&(m=Rr.current,m!==null&&m.tag===13&&(m.flags|=16384))),HT(o,i)):np(o)}function np(i){var o=i;do{if((o.flags&32768)!==0){HT(o,Ys);return}i=o.return;var u=Gz(o.alternate,o,qi);if(u!==null){Ke=u;return}if(o=o.sibling,o!==null){Ke=o;return}Ke=o=i}while(o!==null);$t===0&&($t=5)}function HT(i,o){do{var u=Wz(i.alternate,i);if(u!==null){u.flags&=32767,Ke=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){Ke=i;return}Ke=i=u}while(i!==null);$t=6,Ke=null}function KT(i,o,u,m,y,x,N,V,H){i.cancelPendingCommit=null;do rp();while(yn!==0);if((ct&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(x=o.lanes|o.childLanes,x|=u0,t0(i,u,x,N,V,H),i===Et&&(Ke=Et=null,We=0),Mc=o,Zs=i,$i=u,yb=x,bb=y,kT=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,s5(Cs,function(){return QT(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=$.T,$.T=null,y=G.p,G.p=2,N=ct,ct|=4;try{Yz(i,o,u)}finally{ct=N,G.p=y,$.T=m}}yn=1,GT(),WT(),YT()}}function GT(){if(yn===1){yn=0;var i=Zs,o=Mc,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=$.T,$.T=null;var m=G.p;G.p=2;var y=ct;ct|=4;try{TT(o,i);var x=Db,N=Rj(i.containerInfo),V=x.focusedElem,H=x.selectionRange;if(N!==V&&V&&V.ownerDocument&&Ij(V.ownerDocument.documentElement,V)){if(H!==null&&i0(V)){var J=H.start,le=H.end;if(le===void 0&&(le=J),"selectionStart"in V)V.selectionStart=J,V.selectionEnd=Math.min(le,V.value.length);else{var he=V.ownerDocument||document,ne=he&&he.defaultView||window;if(ne.getSelection){var ie=ne.getSelection(),_e=V.textContent.length,ke=Math.min(H.start,_e),xt=H.end===void 0?ke:Math.min(H.end,_e);!ie.extend&&ke>xt&&(N=xt,xt=ke,ke=N);var Y=Pj(V,ke),W=Pj(V,xt);if(Y&&W&&(ie.rangeCount!==1||ie.anchorNode!==Y.node||ie.anchorOffset!==Y.offset||ie.focusNode!==W.node||ie.focusOffset!==W.offset)){var Z=he.createRange();Z.setStart(Y.node,Y.offset),ie.removeAllRanges(),ke>xt?(ie.addRange(Z),ie.extend(W.node,W.offset)):(Z.setEnd(W.node,W.offset),ie.addRange(Z))}}}}for(he=[],ie=V;ie=ie.parentNode;)ie.nodeType===1&&he.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<he.length;V++){var ue=he[V];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}pp=!!Rb,Db=Rb=null}finally{ct=y,G.p=m,$.T=u}}i.current=o,yn=2}}function WT(){if(yn===2){yn=0;var i=Zs,o=Mc,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=$.T,$.T=null;var m=G.p;G.p=2;var y=ct;ct|=4;try{_T(i,o.alternate,o)}finally{ct=y,G.p=m,$.T=u}}yn=3}}function YT(){if(yn===4||yn===3){yn=0,Gf();var i=Zs,o=Mc,u=$i,m=kT;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?yn=5:(yn=0,Mc=Zs=null,XT(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(Qs=null),Ti(u),o=o.stateNode,Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(ga,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=$.T,y=G.p,G.p=2,$.T=null;try{for(var x=i.onRecoverableError,N=0;N<m.length;N++){var V=m[N];x(V.value,{componentStack:V.stack})}}finally{$.T=o,G.p=y}}($i&3)!==0&&rp(),ui(i),y=i.pendingLanes,(u&261930)!==0&&(y&42)!==0?i===xb?Fd++:(Fd=0,xb=i):Fd=0,qd(0)}}function XT(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Ed(o)))}function rp(){return GT(),WT(),YT(),QT()}function QT(){if(yn!==5)return!1;var i=Zs,o=yb;yb=0;var u=Ti($i),m=$.T,y=G.p;try{G.p=32>u?32:u,$.T=null,u=bb,bb=null;var x=Zs,N=$i;if(yn=0,Mc=Zs=null,$i=0,(ct&6)!==0)throw Error(r(331));var V=ct;if(ct|=4,IT(x.current),CT(x,x.current,N,u),ct=V,qd(0,!1),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(ga,x)}catch{}return!0}finally{G.p=y,$.T=m,XT(i,o)}}function ZT(i,o,u){o=Qr(u,o),o=Z0(i.stateNode,o,2),i=Hs(i,o,2),i!==null&&(Ho(i,2),ui(i))}function pt(i,o,u){if(i.tag===3)ZT(i,i,u);else for(;o!==null;){if(o.tag===3){ZT(o,i,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Qs===null||!Qs.has(m))){i=Qr(u,i),u=JA(2),m=Hs(o,u,2),m!==null&&(eT(u,m,o,i),Ho(m,2),ui(m));break}}o=o.return}}function Eb(i,o,u){var m=i.pingCache;if(m===null){m=i.pingCache=new Zz;var y=new Set;m.set(o,y)}else y=m.get(o),y===void 0&&(y=new Set,m.set(o,y));y.has(u)||(pb=!0,y.add(u),i=r5.bind(null,i,o,u),o.then(i,i))}function r5(i,o,u){var m=i.pingCache;m!==null&&m.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Et===i&&(We&u)===u&&($t===4||$t===3&&(We&62914560)===We&&300>lr()-Qm?(ct&2)===0&&Lc(i,0):vb|=u,kc===We&&(kc=0)),ui(i)}function JT(i,o){o===0&&(o=Jf()),i=il(i,o),i!==null&&(Ho(i,o),ui(i))}function a5(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),JT(i,u)}function i5(i,o){var u=0;switch(i.tag){case 31:case 13:var m=i.stateNode,y=i.memoizedState;y!==null&&(u=y.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),JT(i,u)}function s5(i,o){return gn(i,o)}var ap=null,zc=null,Sb=!1,ip=!1,jb=!1,eo=0;function ui(i){i!==zc&&i.next===null&&(zc===null?ap=zc=i:zc=zc.next=i),ip=!0,Sb||(Sb=!0,l5())}function qd(i,o){if(!jb&&ip){jb=!0;do for(var u=!1,m=ap;m!==null;){if(i!==0){var y=m.pendingLanes;if(y===0)var x=0;else{var N=m.suspendedLanes,V=m.pingedLanes;x=(1<<31-Kt(42|i)+1)-1,x&=y&~(N&~V),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(u=!0,rN(m,x))}else x=We,x=Ka(m,m===Et?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(x&3)===0||ya(m,x)||(u=!0,rN(m,x));m=m.next}while(u);jb=!1}}function o5(){eN()}function eN(){ip=Sb=!1;var i=0;eo!==0&&y5()&&(i=eo);for(var o=lr(),u=null,m=ap;m!==null;){var y=m.next,x=tN(m,o);x===0?(m.next=null,u===null?ap=y:u.next=y,y===null&&(zc=u)):(u=m,(i!==0||(x&3)!==0)&&(ip=!0)),m=y}yn!==0&&yn!==5||qd(i),eo!==0&&(eo=0)}function tN(i,o){for(var u=i.suspendedLanes,m=i.pingedLanes,y=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var N=31-Kt(x),V=1<<N,H=y[N];H===-1?((V&u)===0||(V&m)!==0)&&(y[N]=e0(V,o)):H<=o&&(i.expiredLanes|=V),x&=~V}if(o=Et,u=We,u=Ka(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===o&&(mt===2||mt===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&Ns(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||ya(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(m!==null&&Ns(m),Ti(u)){case 2:case 8:u=Ju;break;case 32:u=Cs;break;case 268435456:u=Wf;break;default:u=Cs}return m=nN.bind(null,i),u=gn(u,m),i.callbackPriority=o,i.callbackNode=u,o}return m!==null&&m!==null&&Ns(m),i.callbackPriority=2,i.callbackNode=null,2}function nN(i,o){if(yn!==0&&yn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(rp()&&i.callbackNode!==u)return null;var m=We;return m=Ka(i,i===Et?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(LT(i,m,o),tN(i,lr()),i.callbackNode!=null&&i.callbackNode===u?nN.bind(null,i):null)}function rN(i,o){if(rp())return null;LT(i,o,!0)}function l5(){x5(function(){(ct&6)!==0?gn(Zu,o5):eN()})}function Ab(){if(eo===0){var i=Sc;i===0&&(i=$a,$a<<=1,($a&261888)===0&&($a=256)),eo=i}return eo}function aN(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:cc(""+i)}function iN(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function c5(i,o,u,m,y){if(o==="submit"&&u&&u.stateNode===y){var x=aN((y[An]||null).action),N=m.submitter;N&&(o=(o=N[An]||null)?aN(o.formAction):N.getAttribute("formAction"),o!==null&&(x=o,N=null));var V=new ri("action","action",null,m,y);i.push({event:V,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(eo!==0){var H=N?iN(y,N):new FormData(y);K0(u,{pending:!0,data:H,method:y.method,action:x},null,H)}}else typeof x=="function"&&(V.preventDefault(),H=N?iN(y,N):new FormData(y),K0(u,{pending:!0,data:H,method:y.method,action:x},x,H))},currentTarget:y}]})}}for(var Tb=0;Tb<c0.length;Tb++){var Nb=c0[Tb],u5=Nb.toLowerCase(),d5=Nb[0].toUpperCase()+Nb.slice(1);Aa(u5,"on"+d5)}Aa(Mj,"onAnimationEnd"),Aa(Lj,"onAnimationIteration"),Aa(Vj,"onAnimationStart"),Aa("dblclick","onDoubleClick"),Aa("focusin","onFocus"),Aa("focusout","onBlur"),Aa(Tz,"onTransitionRun"),Aa(Nz,"onTransitionStart"),Aa(Cz,"onTransitionCancel"),Aa(zj,"onTransitionEnd"),Ja("onMouseEnter",["mouseout","mouseover"]),Ja("onMouseLeave",["mouseout","mouseover"]),Ja("onPointerEnter",["pointerout","pointerover"]),Ja("onPointerLeave",["pointerout","pointerover"]),Za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Za("onBeforeInput",["compositionend","keypress","textInput","paste"]),Za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($d));function sN(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],y=m.event;m=m.listeners;e:{var x=void 0;if(o)for(var N=m.length-1;0<=N;N--){var V=m[N],H=V.instance,J=V.currentTarget;if(V=V.listener,H!==x&&y.isPropagationStopped())break e;x=V,y.currentTarget=J;try{x(y)}catch(le){xm(le)}y.currentTarget=null,x=H}else for(N=0;N<m.length;N++){if(V=m[N],H=V.instance,J=V.currentTarget,V=V.listener,H!==x&&y.isPropagationStopped())break e;x=V,y.currentTarget=J;try{x(y)}catch(le){xm(le)}y.currentTarget=null,x=H}}}}function Ge(i,o){var u=o[ac];u===void 0&&(u=o[ac]=new Set);var m=i+"__bubble";u.has(m)||(oN(o,i,2,!1),u.add(m))}function Cb(i,o,u){var m=0;o&&(m|=4),oN(u,i,m,o)}var sp="_reactListening"+Math.random().toString(36).slice(2);function Ob(i){if(!i[sp]){i[sp]=!0,nd.forEach(function(u){u!=="selectionchange"&&(h5.has(u)||Cb(u,!1,i),Cb(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[sp]||(o[sp]=!0,Cb("selectionchange",!1,o))}}function oN(i,o,u,m){switch(MN(o)){case 2:var y=U5;break;case 8:y=B5;break;default:y=Hb}u=y.bind(null,o,u,i),y=void 0,!Qo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),m?y!==void 0?i.addEventListener(o,u,{capture:!0,passive:y}):i.addEventListener(o,u,!0):y!==void 0?i.addEventListener(o,u,{passive:y}):i.addEventListener(o,u,!1)}function Pb(i,o,u,m,y){var x=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var V=m.stateNode.containerInfo;if(V===y)break;if(N===4)for(N=m.return;N!==null;){var H=N.tag;if((H===3||H===4)&&N.stateNode.containerInfo===y)return;N=N.return}for(;V!==null;){if(N=Xa(V),N===null)return;if(H=N.tag,H===5||H===6||H===26||H===27){m=x=N;continue e}V=V.parentNode}}m=m.return}ks(function(){var J=x,le=Gr(u),he=[];e:{var ne=Uj.get(i);if(ne!==void 0){var ie=ri,_e=i;switch(i){case"keypress":if(Jo(u)===0)break e;case"keydown":case"keyup":ie=gm;break;case"focusin":_e="focus",ie=tl;break;case"focusout":_e="blur",ie=tl;break;case"beforeblur":case"afterblur":ie=tl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=A;break;case Mj:case Lj:case Vj:ie=um;break;case zj:ie=q;break;case"scroll":case"scrollend":ie=md;break;case"wheel":ie=ae;break;case"copy":case"cut":case"paste":ie=dm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Oi;break;case"toggle":case"beforetoggle":ie=Fe}var ke=(o&4)!==0,xt=!ke&&(i==="scroll"||i==="scrollend"),Y=ke?ne!==null?ne+"Capture":null:ne;ke=[];for(var W=J,Z;W!==null;){var ue=W;if(Z=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Z===null||Y===null||(ue=_a(W,Y),ue!=null&&ke.push(Hd(W,ue,Z))),xt)break;W=W.return}0<ke.length&&(ne=new ie(ne,_e,null,u,le),he.push({event:ne,listeners:ke}))}}if((o&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",ie=i==="mouseout"||i==="pointerout",ne&&u!==dd&&(_e=u.relatedTarget||u.fromElement)&&(Xa(_e)||_e[Wa]))break e;if((ie||ne)&&(ne=le.window===le?le:(ne=le.ownerDocument)?ne.defaultView||ne.parentWindow:window,ie?(_e=u.relatedTarget||u.toElement,ie=J,_e=_e?Xa(_e):null,_e!==null&&(xt=s(_e),ke=_e.tag,_e!==xt||ke!==5&&ke!==27&&ke!==6)&&(_e=null)):(ie=null,_e=J),ie!==_e)){if(ke=pd,ue="onMouseLeave",Y="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(ke=Oi,ue="onPointerLeave",Y="onPointerEnter",W="pointer"),xt=ie==null?ne:Cr(ie),Z=_e==null?ne:Cr(_e),ne=new ke(ue,W+"leave",ie,u,le),ne.target=xt,ne.relatedTarget=Z,ue=null,Xa(le)===J&&(ke=new ke(Y,W+"enter",_e,u,le),ke.target=Z,ke.relatedTarget=xt,ue=ke),xt=ue,ie&&_e)t:{for(ke=f5,Y=ie,W=_e,Z=0,ue=Y;ue;ue=ke(ue))Z++;ue=0;for(var Pe=W;Pe;Pe=ke(Pe))ue++;for(;0<Z-ue;)Y=ke(Y),Z--;for(;0<ue-Z;)W=ke(W),ue--;for(;Z--;){if(Y===W||W!==null&&Y===W.alternate){ke=Y;break t}Y=ke(Y),W=ke(W)}ke=null}else ke=null;ie!==null&&lN(he,ne,ie,ke,!1),_e!==null&&xt!==null&&lN(he,xt,_e,ke,!0)}}e:{if(ne=J?Cr(J):window,ie=ne.nodeName&&ne.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ne.type==="file")var rt=jj;else if(Ej(ne))if(Aj)rt=Sz;else{rt=_z;var je=wz}else ie=ne.nodeName,!ie||ie.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?J&&lc(J.elementType)&&(rt=jj):rt=Ez;if(rt&&(rt=rt(i,J))){Sj(he,rt,u,le);break e}je&&je(i,ne,J),i==="focusout"&&J&&ne.type==="number"&&J.memoizedProps.value!=null&&ld(ne,"number",ne.value)}switch(je=J?Cr(J):window,i){case"focusin":(Ej(je)||je.contentEditable==="true")&&(vc=je,s0=J,xd=null);break;case"focusout":xd=s0=vc=null;break;case"mousedown":o0=!0;break;case"contextmenu":case"mouseup":case"dragend":o0=!1,Dj(he,u,le);break;case"selectionchange":if(Az)break;case"keydown":case"keyup":Dj(he,u,le)}var $e;if(lt)e:{switch(i){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else pc?nl(i,u)&&(Ye="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ye="onCompositionStart");Ye&&(si&&u.locale!=="ko"&&(pc||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&pc&&($e=fd()):(ni=le,hd="value"in ni?ni.value:ni.textContent,pc=!0)),je=op(J,Ye),0<je.length&&(Ye=new ii(Ye,i,null,u,le),he.push({event:Ye,listeners:je}),$e?Ye.data=$e:($e=mc(u),$e!==null&&(Ye.data=$e)))),($e=Yr?gz(i,u):yz(i,u))&&(Ye=op(J,"onBeforeInput"),0<Ye.length&&(je=new ii("onBeforeInput","beforeinput",null,u,le),he.push({event:je,listeners:Ye}),je.data=$e)),c5(he,i,J,u,le)}sN(he,o)})}function Hd(i,o,u){return{instance:i,listener:o,currentTarget:u}}function op(i,o){for(var u=o+"Capture",m=[];i!==null;){var y=i,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=_a(i,u),y!=null&&m.unshift(Hd(i,y,x)),y=_a(i,o),y!=null&&m.push(Hd(i,y,x))),i.tag===3)return m;i=i.return}return[]}function f5(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function lN(i,o,u,m,y){for(var x=o._reactName,N=[];u!==null&&u!==m;){var V=u,H=V.alternate,J=V.stateNode;if(V=V.tag,H!==null&&H===m)break;V!==5&&V!==26&&V!==27||J===null||(H=J,y?(J=_a(u,x),J!=null&&N.unshift(Hd(u,J,H))):y||(J=_a(u,x),J!=null&&N.push(Hd(u,J,H)))),u=u.return}N.length!==0&&i.push({event:o,listeners:N})}var m5=/\r\n?/g,p5=/\u0000|\uFFFD/g;function cN(i){return(typeof i=="string"?i:""+i).replace(m5,`
`).replace(p5,"")}function uN(i,o){return o=cN(o),cN(i)===o}function bt(i,o,u,m,y,x){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||gr(i,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&gr(i,""+m);break;case"className":Or(i,"class",m);break;case"tabIndex":Or(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Or(i,u,m);break;case"style":ud(i,m,x);break;case"data":if(o!=="object"){Or(i,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=cc(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(u==="formAction"?(o!=="input"&&bt(i,o,"name",y.name,y,null),bt(i,o,"formEncType",y.formEncType,y,null),bt(i,o,"formMethod",y.formMethod,y,null),bt(i,o,"formTarget",y.formTarget,y,null)):(bt(i,o,"encType",y.encType,y,null),bt(i,o,"method",y.method,y,null),bt(i,o,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=cc(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=wa);break;case"onScroll":m!=null&&Ge("scroll",i);break;case"onScrollEnd":m!=null&&Ge("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=cc(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":Ge("beforetoggle",i),Ge("toggle",i),sc(i,"popover",m);break;case"xlinkActuate":an(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":an(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":an(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":an(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":an(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":an(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":an(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":an(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":an(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":sc(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=om.get(u)||u,sc(i,u,m))}}function Ib(i,o,u,m,y,x){switch(u){case"style":ud(i,m,x);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof m=="string"?gr(i,m):(typeof m=="number"||typeof m=="bigint")&&gr(i,""+m);break;case"onScroll":m!=null&&Ge("scroll",i);break;case"onScrollEnd":m!=null&&Ge("scrollend",i);break;case"onClick":m!=null&&(i.onclick=wa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rd.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),x=i[An]||null,x=x!=null?x[u]:null,typeof x=="function"&&i.removeEventListener(o,x,y),typeof m=="function")){typeof x!="function"&&x!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,m,y);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):sc(i,u,m)}}}function qn(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",i),Ge("load",i);var m=!1,y=!1,x;for(x in u)if(u.hasOwnProperty(x)){var N=u[x];if(N!=null)switch(x){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:bt(i,o,x,N,u,null)}}y&&bt(i,o,"srcSet",u.srcSet,u,null),m&&bt(i,o,"src",u.src,u,null);return;case"input":Ge("invalid",i);var V=x=N=y=null,H=null,J=null;for(m in u)if(u.hasOwnProperty(m)){var le=u[m];if(le!=null)switch(m){case"name":y=le;break;case"type":N=le;break;case"checked":H=le;break;case"defaultChecked":J=le;break;case"value":x=le;break;case"defaultValue":V=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:bt(i,o,m,le,u,null)}}am(i,x,V,H,J,N,y,!1);return;case"select":Ge("invalid",i),m=N=x=null;for(y in u)if(u.hasOwnProperty(y)&&(V=u[y],V!=null))switch(y){case"value":x=V;break;case"defaultValue":N=V;break;case"multiple":m=V;default:bt(i,o,y,V,u,null)}o=x,u=N,i.multiple=!!m,o!=null?Ps(i,!!m,o,!1):u!=null&&Ps(i,!!m,u,!0);return;case"textarea":Ge("invalid",i),x=y=m=null;for(N in u)if(u.hasOwnProperty(N)&&(V=u[N],V!=null))switch(N){case"value":m=V;break;case"defaultValue":y=V;break;case"children":x=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(91));break;default:bt(i,o,N,V,u,null)}Is(i,m,y,x);return;case"option":for(H in u)if(u.hasOwnProperty(H)&&(m=u[H],m!=null))switch(H){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:bt(i,o,H,m,u,null)}return;case"dialog":Ge("beforetoggle",i),Ge("toggle",i),Ge("cancel",i),Ge("close",i);break;case"iframe":case"object":Ge("load",i);break;case"video":case"audio":for(m=0;m<$d.length;m++)Ge($d[m],i);break;case"image":Ge("error",i),Ge("load",i);break;case"details":Ge("toggle",i);break;case"embed":case"source":case"link":Ge("error",i),Ge("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in u)if(u.hasOwnProperty(J)&&(m=u[J],m!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:bt(i,o,J,m,u,null)}return;default:if(lc(o)){for(le in u)u.hasOwnProperty(le)&&(m=u[le],m!==void 0&&Ib(i,o,le,m,u,void 0));return}}for(V in u)u.hasOwnProperty(V)&&(m=u[V],m!=null&&bt(i,o,V,m,u,null))}function v5(i,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,N=null,V=null,H=null,J=null,le=null;for(ie in u){var he=u[ie];if(u.hasOwnProperty(ie)&&he!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":H=he;default:m.hasOwnProperty(ie)||bt(i,o,ie,null,m,he)}}for(var ne in m){var ie=m[ne];if(he=u[ne],m.hasOwnProperty(ne)&&(ie!=null||he!=null))switch(ne){case"type":x=ie;break;case"name":y=ie;break;case"checked":J=ie;break;case"defaultChecked":le=ie;break;case"value":N=ie;break;case"defaultValue":V=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,o));break;default:ie!==he&&bt(i,o,ne,ie,m,he)}}oc(i,N,V,H,J,le,x,y);return;case"select":ie=N=V=ne=null;for(x in u)if(H=u[x],u.hasOwnProperty(x)&&H!=null)switch(x){case"value":break;case"multiple":ie=H;default:m.hasOwnProperty(x)||bt(i,o,x,null,m,H)}for(y in m)if(x=m[y],H=u[y],m.hasOwnProperty(y)&&(x!=null||H!=null))switch(y){case"value":ne=x;break;case"defaultValue":V=x;break;case"multiple":N=x;default:x!==H&&bt(i,o,y,x,m,H)}o=V,u=N,m=ie,ne!=null?Ps(i,!!u,ne,!1):!!m!=!!u&&(o!=null?Ps(i,!!u,o,!0):Ps(i,!!u,u?[]:"",!1));return;case"textarea":ie=ne=null;for(V in u)if(y=u[V],u.hasOwnProperty(V)&&y!=null&&!m.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:bt(i,o,V,null,m,y)}for(N in m)if(y=m[N],x=u[N],m.hasOwnProperty(N)&&(y!=null||x!=null))switch(N){case"value":ne=y;break;case"defaultValue":ie=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==x&&bt(i,o,N,y,m,x)}im(i,ne,ie);return;case"option":for(var _e in u)if(ne=u[_e],u.hasOwnProperty(_e)&&ne!=null&&!m.hasOwnProperty(_e))switch(_e){case"selected":i.selected=!1;break;default:bt(i,o,_e,null,m,ne)}for(H in m)if(ne=m[H],ie=u[H],m.hasOwnProperty(H)&&ne!==ie&&(ne!=null||ie!=null))switch(H){case"selected":i.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:bt(i,o,H,ne,m,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in u)ne=u[ke],u.hasOwnProperty(ke)&&ne!=null&&!m.hasOwnProperty(ke)&&bt(i,o,ke,null,m,ne);for(J in m)if(ne=m[J],ie=u[J],m.hasOwnProperty(J)&&ne!==ie&&(ne!=null||ie!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,o));break;default:bt(i,o,J,ne,m,ie)}return;default:if(lc(o)){for(var xt in u)ne=u[xt],u.hasOwnProperty(xt)&&ne!==void 0&&!m.hasOwnProperty(xt)&&Ib(i,o,xt,void 0,m,ne);for(le in m)ne=m[le],ie=u[le],!m.hasOwnProperty(le)||ne===ie||ne===void 0&&ie===void 0||Ib(i,o,le,ne,m,ie);return}}for(var Y in u)ne=u[Y],u.hasOwnProperty(Y)&&ne!=null&&!m.hasOwnProperty(Y)&&bt(i,o,Y,null,m,ne);for(he in m)ne=m[he],ie=u[he],!m.hasOwnProperty(he)||ne===ie||ne==null&&ie==null||bt(i,o,he,ne,m,ie)}function dN(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function g5(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var y=u[m],x=y.transferSize,N=y.initiatorType,V=y.duration;if(x&&V&&dN(N)){for(N=0,V=y.responseEnd,m+=1;m<u.length;m++){var H=u[m],J=H.startTime;if(J>V)break;var le=H.transferSize,he=H.initiatorType;le&&dN(he)&&(H=H.responseEnd,N+=le*(H<V?1:(V-J)/(H-J)))}if(--m,o+=8*(x+N)/(y.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Rb=null,Db=null;function lp(i){return i.nodeType===9?i:i.ownerDocument}function hN(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fN(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function kb(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Mb=null;function y5(){var i=window.event;return i&&i.type==="popstate"?i===Mb?!1:(Mb=i,!0):(Mb=null,!1)}var mN=typeof setTimeout=="function"?setTimeout:void 0,b5=typeof clearTimeout=="function"?clearTimeout:void 0,pN=typeof Promise=="function"?Promise:void 0,x5=typeof queueMicrotask=="function"?queueMicrotask:typeof pN<"u"?function(i){return pN.resolve(null).then(i).catch(w5)}:mN;function w5(i){setTimeout(function(){throw i})}function to(i){return i==="head"}function vN(i,o){var u=o,m=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(m===0){i.removeChild(y),qc(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")Kd(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Kd(u);for(var x=u.firstChild;x;){var N=x.nextSibling,V=x.nodeName;x[Ya]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&x.rel.toLowerCase()==="stylesheet"||u.removeChild(x),x=N}}else u==="body"&&Kd(i.ownerDocument.body);u=y}while(u);qc(o)}function gN(i,o){var u=i;i=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=m}while(u)}function Lb(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Lb(u),ic(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function _5(i,o,u,m){for(;i.nodeType===1;){var y=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[Ya])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=na(i.nextSibling),i===null)break}return null}function E5(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=na(i.nextSibling),i===null))return null;return i}function yN(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=na(i.nextSibling),i===null))return null;return i}function Vb(i){return i.data==="$?"||i.data==="$~"}function zb(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function S5(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function na(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var Ub=null;function bN(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return na(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function xN(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function wN(i,o,u){switch(o=lp(u),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Kd(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);ic(i)}var ra=new Map,_N=new Set;function cp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Hi=G.d;G.d={f:j5,r:A5,D:T5,C:N5,L:C5,m:O5,X:I5,S:P5,M:R5};function j5(){var i=Hi.f(),o=ep();return i||o}function A5(i){var o=Kr(i);o!==null&&o.tag===5&&o.type==="form"?zA(o):Hi.r(i)}var Uc=typeof document>"u"?null:document;function EN(i,o,u){var m=Uc;if(m&&typeof o=="string"&&o){var y=vr(o);y='link[rel="'+i+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),_N.has(y)||(_N.add(y),i={rel:i,crossOrigin:u,href:o},m.querySelector(y)===null&&(o=m.createElement("link"),qn(o,"link",i),rn(o),m.head.appendChild(o)))}}function T5(i){Hi.D(i),EN("dns-prefetch",i,null)}function N5(i,o){Hi.C(i,o),EN("preconnect",i,o)}function C5(i,o,u){Hi.L(i,o,u);var m=Uc;if(m&&i&&o){var y='link[rel="preload"][as="'+vr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+vr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+vr(u.imageSizes)+'"]')):y+='[href="'+vr(i)+'"]';var x=y;switch(o){case"style":x=Bc(i);break;case"script":x=Fc(i)}ra.has(x)||(i=v({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),ra.set(x,i),m.querySelector(y)!==null||o==="style"&&m.querySelector(Gd(x))||o==="script"&&m.querySelector(Wd(x))||(o=m.createElement("link"),qn(o,"link",i),rn(o),m.head.appendChild(o)))}}function O5(i,o){Hi.m(i,o);var u=Uc;if(u&&i){var m=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+vr(m)+'"][href="'+vr(i)+'"]',x=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Fc(i)}if(!ra.has(x)&&(i=v({rel:"modulepreload",href:i},o),ra.set(x,i),u.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Wd(x)))return}m=u.createElement("link"),qn(m,"link",i),rn(m),u.head.appendChild(m)}}}function P5(i,o,u){Hi.S(i,o,u);var m=Uc;if(m&&i){var y=Qa(m).hoistableStyles,x=Bc(i);o=o||"default";var N=y.get(x);if(!N){var V={loading:0,preload:null};if(N=m.querySelector(Gd(x)))V.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":o},u),(u=ra.get(x))&&Bb(i,u);var H=N=m.createElement("link");rn(H),qn(H,"link",i),H._p=new Promise(function(J,le){H.onload=J,H.onerror=le}),H.addEventListener("load",function(){V.loading|=1}),H.addEventListener("error",function(){V.loading|=2}),V.loading|=4,up(N,o,m)}N={type:"stylesheet",instance:N,count:1,state:V},y.set(x,N)}}}function I5(i,o){Hi.X(i,o);var u=Uc;if(u&&i){var m=Qa(u).hoistableScripts,y=Fc(i),x=m.get(y);x||(x=u.querySelector(Wd(y)),x||(i=v({src:i,async:!0},o),(o=ra.get(y))&&Fb(i,o),x=u.createElement("script"),rn(x),qn(x,"link",i),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(y,x))}}function R5(i,o){Hi.M(i,o);var u=Uc;if(u&&i){var m=Qa(u).hoistableScripts,y=Fc(i),x=m.get(y);x||(x=u.querySelector(Wd(y)),x||(i=v({src:i,async:!0,type:"module"},o),(o=ra.get(y))&&Fb(i,o),x=u.createElement("script"),rn(x),qn(x,"link",i),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(y,x))}}function SN(i,o,u,m){var y=(y=De.current)?cp(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Bc(u.href),u=Qa(y).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Bc(u.href);var x=Qa(y).hoistableStyles,N=x.get(i);if(N||(y=y.ownerDocument||y,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,N),(x=y.querySelector(Gd(i)))&&!x._p&&(N.instance=x,N.state.loading=5),ra.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ra.set(i,u),x||D5(y,i,u,N.state))),o&&m===null)throw Error(r(528,""));return N}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Fc(u),u=Qa(y).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Bc(i){return'href="'+vr(i)+'"'}function Gd(i){return'link[rel="stylesheet"]['+i+"]"}function jN(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function D5(i,o,u,m){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=i.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),qn(o,"link",u),rn(o),i.head.appendChild(o))}function Fc(i){return'[src="'+vr(i)+'"]'}function Wd(i){return"script[async]"+i}function AN(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=i.querySelector('style[data-href~="'+vr(u.href)+'"]');if(m)return o.instance=m,rn(m),m;var y=v({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),rn(m),qn(m,"style",y),up(m,u.precedence,i),o.instance=m;case"stylesheet":y=Bc(u.href);var x=i.querySelector(Gd(y));if(x)return o.state.loading|=4,o.instance=x,rn(x),x;m=jN(u),(y=ra.get(y))&&Bb(m,y),x=(i.ownerDocument||i).createElement("link"),rn(x);var N=x;return N._p=new Promise(function(V,H){N.onload=V,N.onerror=H}),qn(x,"link",m),o.state.loading|=4,up(x,u.precedence,i),o.instance=x;case"script":return x=Fc(u.src),(y=i.querySelector(Wd(x)))?(o.instance=y,rn(y),y):(m=u,(y=ra.get(x))&&(m=v({},u),Fb(m,y)),i=i.ownerDocument||i,y=i.createElement("script"),rn(y),qn(y,"link",m),i.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,up(m,u.precedence,i));return o.instance}function up(i,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,x=y,N=0;N<m.length;N++){var V=m[N];if(V.dataset.precedence===o)x=V;else if(x!==y)break}x?x.parentNode.insertBefore(i,x.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function Bb(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Fb(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var dp=null;function TN(i,o,u){if(dp===null){var m=new Map,y=dp=new Map;y.set(u,m)}else y=dp,m=y.get(u),m||(m=new Map,y.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),y=0;y<u.length;y++){var x=u[y];if(!(x[Ya]||x[nn]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var N=x.getAttribute(o)||"";N=i+N;var V=m.get(N);V?V.push(x):m.set(N,[x])}}return m}function NN(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function k5(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function CN(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function M5(i,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Bc(m.href),x=o.querySelector(Gd(y));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=hp.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=x,rn(x);return}x=o.ownerDocument||o,m=jN(m),(y=ra.get(y))&&Bb(m,y),x=x.createElement("link"),rn(x);var N=x;N._p=new Promise(function(V,H){N.onload=V,N.onerror=H}),qn(x,"link",m),u.instance=x}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=hp.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var qb=0;function L5(i,o){return i.stylesheets&&i.count===0&&mp(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var m=setTimeout(function(){if(i.stylesheets&&mp(i,i.stylesheets),i.unsuspend){var x=i.unsuspend;i.unsuspend=null,x()}},6e4+o);0<i.imgBytes&&qb===0&&(qb=62500*g5());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&mp(i,i.stylesheets),i.unsuspend)){var x=i.unsuspend;i.unsuspend=null,x()}},(i.imgBytes>qb?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(y)}}:null}function hp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var fp=null;function mp(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,fp=new Map,o.forEach(V5,i),fp=null,hp.call(i))}function V5(i,o){if(!(o.state.loading&4)){var u=fp.get(i);if(u)var m=u.get(null);else{u=new Map,fp.set(i,u);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var N=y[x];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),m=N)}m&&u.set(null,m)}y=o.instance,N=y.getAttribute("data-precedence"),x=u.get(N)||m,x===m&&u.set(null,y),u.set(N,y),this.count++,m=hp.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),x?x.parentNode.insertBefore(y,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),o.state.loading|=4}}var Yd={$$typeof:I,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function z5(i,o,u,m,y,x,N,V,H){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ga(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ga(0),this.hiddenUpdates=Ga(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function ON(i,o,u,m,y,x,N,V,H,J,le,he){return i=new z5(i,o,u,N,H,J,le,he,V),o=1,x===!0&&(o|=24),x=Ir(3,null,null,o),i.current=x,x.stateNode=i,o=_0(),o.refCount++,i.pooledCache=o,o.refCount++,x.memoizedState={element:m,isDehydrated:u,cache:o},A0(x),i}function PN(i){return i?(i=bc,i):bc}function IN(i,o,u,m,y,x){y=PN(y),m.context===null?m.context=y:m.pendingContext=y,m=$s(o),m.payload={element:u},x=x===void 0?null:x,x!==null&&(m.callback=x),u=Hs(i,m,o),u!==null&&(_r(u,i,o),Td(u,i,o))}function RN(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function $b(i,o){RN(i,o),(i=i.alternate)&&RN(i,o)}function DN(i){if(i.tag===13||i.tag===31){var o=il(i,67108864);o!==null&&_r(o,i,67108864),$b(i,67108864)}}function kN(i){if(i.tag===13||i.tag===31){var o=Lr();o=Go(o);var u=il(i,o);u!==null&&_r(u,i,o),$b(i,o)}}var pp=!0;function U5(i,o,u,m){var y=$.T;$.T=null;var x=G.p;try{G.p=2,Hb(i,o,u,m)}finally{G.p=x,$.T=y}}function B5(i,o,u,m){var y=$.T;$.T=null;var x=G.p;try{G.p=8,Hb(i,o,u,m)}finally{G.p=x,$.T=y}}function Hb(i,o,u,m){if(pp){var y=Kb(m);if(y===null)Pb(i,o,m,vp,u),LN(i,m);else if(q5(y,i,o,u,m))m.stopPropagation();else if(LN(i,m),o&4&&-1<F5.indexOf(i)){for(;y!==null;){var x=Kr(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var N=Ha(x.pendingLanes);if(N!==0){var V=x;for(V.pendingLanes|=2,V.entangledLanes|=2;N;){var H=1<<31-Kt(N);V.entanglements[1]|=H,N&=~H}ui(x),(ct&6)===0&&(Zm=lr()+500,qd(0))}}break;case 31:case 13:V=il(x,2),V!==null&&_r(V,x,2),ep(),$b(x,2)}if(x=Kb(m),x===null&&Pb(i,o,m,vp,u),x===y)break;y=x}y!==null&&m.stopPropagation()}else Pb(i,o,m,null,u)}}function Kb(i){return i=Gr(i),Gb(i)}var vp=null;function Gb(i){if(vp=null,i=Xa(i),i!==null){var o=s(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=l(o),i!==null)return i;i=null}else if(u===31){if(i=d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return vp=i,null}function MN(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qo()){case Zu:return 2;case Ju:return 8;case Cs:case Jy:return 32;case Wf:return 268435456;default:return 32}default:return 32}}var Wb=!1,no=null,ro=null,ao=null,Xd=new Map,Qd=new Map,io=[],F5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LN(i,o){switch(i){case"focusin":case"focusout":no=null;break;case"dragenter":case"dragleave":ro=null;break;case"mouseover":case"mouseout":ao=null;break;case"pointerover":case"pointerout":Xd.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qd.delete(o.pointerId)}}function Zd(i,o,u,m,y,x){return i===null||i.nativeEvent!==x?(i={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:x,targetContainers:[y]},o!==null&&(o=Kr(o),o!==null&&DN(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function q5(i,o,u,m,y){switch(o){case"focusin":return no=Zd(no,i,o,u,m,y),!0;case"dragenter":return ro=Zd(ro,i,o,u,m,y),!0;case"mouseover":return ao=Zd(ao,i,o,u,m,y),!0;case"pointerover":var x=y.pointerId;return Xd.set(x,Zd(Xd.get(x)||null,i,o,u,m,y)),!0;case"gotpointercapture":return x=y.pointerId,Qd.set(x,Zd(Qd.get(x)||null,i,o,u,m,y)),!0}return!1}function VN(i){var o=Xa(i.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){i.blockedOn=o,ba(i.priority,function(){kN(u)});return}}else if(o===31){if(o=d(u),o!==null){i.blockedOn=o,ba(i.priority,function(){kN(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function gp(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Kb(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);dd=m,u.target.dispatchEvent(m),dd=null}else return o=Kr(u),o!==null&&DN(o),i.blockedOn=u,!1;o.shift()}return!0}function zN(i,o,u){gp(i)&&u.delete(o)}function $5(){Wb=!1,no!==null&&gp(no)&&(no=null),ro!==null&&gp(ro)&&(ro=null),ao!==null&&gp(ao)&&(ao=null),Xd.forEach(zN),Qd.forEach(zN)}function yp(i,o){i.blockedOn===o&&(i.blockedOn=null,Wb||(Wb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$5)))}var bp=null;function UN(i){bp!==i&&(bp=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){bp===i&&(bp=null);for(var o=0;o<i.length;o+=3){var u=i[o],m=i[o+1],y=i[o+2];if(typeof m!="function"){if(Gb(m||u)===null)continue;break}var x=Kr(u);x!==null&&(i.splice(o,3),o-=3,K0(x,{pending:!0,data:y,method:u.method,action:m},m,y))}}))}function qc(i){function o(H){return yp(H,i)}no!==null&&yp(no,i),ro!==null&&yp(ro,i),ao!==null&&yp(ao,i),Xd.forEach(o),Qd.forEach(o);for(var u=0;u<io.length;u++){var m=io[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<io.length&&(u=io[0],u.blockedOn===null);)VN(u),u.blockedOn===null&&io.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var y=u[m],x=u[m+1],N=y[An]||null;if(typeof x=="function")N||UN(u);else if(N){var V=null;if(x&&x.hasAttribute("formAction")){if(y=x,N=x[An]||null)V=N.formAction;else if(Gb(y)!==null)continue}else V=N.action;typeof V=="function"?u[m+1]=V:(u.splice(m,3),m-=3),UN(u)}}}function BN(){function i(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(N){return y=N})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Yb(i){this._internalRoot=i}xp.prototype.render=Yb.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,m=Lr();IN(u,m,i,o,null,null)},xp.prototype.unmount=Yb.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;IN(i.current,2,null,i,null,null),ep(),o[Wa]=null}};function xp(i){this._internalRoot=i}xp.prototype.unstable_scheduleHydration=function(i){if(i){var o=em();i={blockedOn:null,target:i,priority:o};for(var u=0;u<io.length&&o!==0&&o<io[u].priority;u++);io.splice(u,0,i),u===0&&VN(i)}};var FN=e.version;if(FN!=="19.2.0")throw Error(r(527,FN,"19.2.0"));G.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var H5={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wp.isDisabled&&wp.supportsFiber)try{ga=wp.inject(H5),Vn=wp}catch{}}return eh.createRoot=function(i,o){if(!a(i))throw Error(r(299));var u=!1,m="",y=YA,x=XA,N=QA;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError)),o=ON(i,1,!1,null,null,u,m,null,y,x,N,BN),i[Wa]=o.current,Ob(i),new Yb(o)},eh.hydrateRoot=function(i,o,u){if(!a(i))throw Error(r(299));var m=!1,y="",x=YA,N=XA,V=QA,H=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(V=u.onRecoverableError),u.formState!==void 0&&(H=u.formState)),o=ON(i,1,!0,o,u??null,m,y,H,x,N,V,BN),o.context=PN(null),u=o.current,m=Lr(),m=Go(m),y=$s(m),y.callback=null,Hs(u,y,m),u=m,o.current.lanes=u,Ho(o,u),ui(o),i[Wa]=o.current,Ob(i),new xp(o)},eh.version="19.2.0",eh}var ZN;function nU(){if(ZN)return Zb.exports;ZN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zb.exports=tU(),Zb.exports}var rU=nU();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var JN="popstate";function aU(t={}){function e(r,a){let{pathname:s,search:l,hash:d}=r.location;return Yw("",{pathname:s,search:l,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Ch(a)}return sU(e,n,null,t)}function Vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Da(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iU(){return Math.random().toString(36).substring(2,10)}function eC(t,e){return{usr:t.state,key:t.key,idx:e}}function Yw(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ou(e):e,state:n,key:e&&e.key||r||iU()}}function Ch({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ou(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function sU(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:s=!1}=r,l=a.history,d="POP",h=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function v(){d="POP";let S=p(),T=S==null?null:S-f;f=S,h&&h({action:d,location:E.location,delta:T})}function b(S,T){d="PUSH";let C=Yw(E.location,S,T);f=p()+1;let I=eC(C,f),U=E.createHref(C);try{l.pushState(I,"",U)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;a.location.assign(U)}s&&h&&h({action:d,location:E.location,delta:1})}function w(S,T){d="REPLACE";let C=Yw(E.location,S,T);f=p();let I=eC(C,f),U=E.createHref(C);l.replaceState(I,"",U),s&&h&&h({action:d,location:E.location,delta:0})}function j(S){return oU(S)}let E={get action(){return d},get location(){return t(a,l)},listen(S){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(JN,v),h=S,()=>{a.removeEventListener(JN,v),h=null}},createHref(S){return e(a,S)},createURL:j,encodeLocation(S){let T=j(S);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:b,replace:w,go(S){return l.go(S)}};return E}function oU(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Vt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ch(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function aD(t,e,n="/"){return lU(t,e,n,!1)}function lU(t,e,n,r){let a=typeof e=="string"?Ou(e):e,s=is(a.pathname||"/",n);if(s==null)return null;let l=iD(t);cU(l);let d=null;for(let h=0;d==null&&h<l.length;++h){let f=xU(s);d=yU(l[h],f,r)}return d}function iD(t,e=[],n=[],r="",a=!1){let s=(l,d,h=a,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&h)return;Vt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let v=es([r,p.relativePath]),b=n.concat(p);l.children&&l.children.length>0&&(Vt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),iD(l.children,e,b,v,h)),!(l.path==null&&!l.index)&&e.push({path:v,score:vU(v,l.index),routesMeta:b})};return t.forEach((l,d)=>{if(l.path===""||!l.path?.includes("?"))s(l,d);else for(let h of sD(l.path))s(l,d,!0,h)}),e}function sD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let l=sD(r.join("/")),d=[];return d.push(...l.map(h=>h===""?s:[s,h].join("/"))),a&&d.push(...l),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function cU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var uU=/^:[\w-]+$/,dU=3,hU=2,fU=1,mU=10,pU=-2,tC=t=>t==="*";function vU(t,e){let n=t.split("/"),r=n.length;return n.some(tC)&&(r+=pU),e&&(r+=hU),n.filter(a=>!tC(a)).reduce((a,s)=>a+(uU.test(s)?dU:s===""?fU:mU),r)}function gU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function yU(t,e,n=!1){let{routesMeta:r}=t,a={},s="/",l=[];for(let d=0;d<r.length;++d){let h=r[d],f=d===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",v=hv({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),b=h.route;if(!v&&f&&n&&!r[r.length-1].route.index&&(v=hv({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!v)return null;Object.assign(a,v.params),l.push({params:a,pathname:es([s,v.pathname]),pathnameBase:SU(es([s,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(s=es([s,v.pathnameBase]))}return l}function hv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bU(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:v},b)=>{if(p==="*"){let j=d[b]||"";l=s.slice(0,s.length-j.length).replace(/(.)\/+$/,"$1")}const w=d[b];return v&&!w?f[p]=void 0:f[p]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:t}}function bU(t,e=!1,n=!0){Da(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function xU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Da(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function is(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function wU(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Ou(t):t;return{pathname:n?n.startsWith("/")?n:_U(n,e):e,search:jU(r),hash:AU(a)}}function _U(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function nx(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function TE(t){let e=EU(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function NE(t,e,n,r=!1){let a;typeof t=="string"?a=Ou(t):(a={...t},Vt(!a.pathname||!a.pathname.includes("?"),nx("?","pathname","search",a)),Vt(!a.pathname||!a.pathname.includes("#"),nx("#","pathname","hash",a)),Vt(!a.search||!a.search.includes("#"),nx("#","search","hash",a)));let s=t===""||a.pathname==="",l=s?"/":a.pathname,d;if(l==null)d=n;else{let v=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),v-=1;a.pathname=b.join("/")}d=v>=0?e[v]:"/"}let h=wU(a,d),f=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var es=t=>t.join("/").replace(/\/\/+/g,"/"),SU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function TU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var oD=["POST","PUT","PATCH","DELETE"];new Set(oD);var NU=["GET",...oD];new Set(NU);var Pu=_.createContext(null);Pu.displayName="DataRouter";var Ng=_.createContext(null);Ng.displayName="DataRouterState";_.createContext(!1);var lD=_.createContext({isTransitioning:!1});lD.displayName="ViewTransition";var CU=_.createContext(new Map);CU.displayName="Fetchers";var OU=_.createContext(null);OU.displayName="Await";var Ba=_.createContext(null);Ba.displayName="Navigation";var sf=_.createContext(null);sf.displayName="Location";var Si=_.createContext({outlet:null,matches:[],isDataRoute:!1});Si.displayName="Route";var CE=_.createContext(null);CE.displayName="RouteError";function PU(t,{relative:e}={}){Vt(Iu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(Ba),{hash:a,pathname:s,search:l}=of(t,{relative:e}),d=s;return n!=="/"&&(d=s==="/"?n:es([n,s])),r.createHref({pathname:d,search:l,hash:a})}function Iu(){return _.useContext(sf)!=null}function ys(){return Vt(Iu(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(sf).location}var cD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uD(t){_.useContext(Ba).static||_.useLayoutEffect(t)}function Ru(){let{isDataRoute:t}=_.useContext(Si);return t?$U():IU()}function IU(){Vt(Iu(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(Pu),{basename:e,navigator:n}=_.useContext(Ba),{matches:r}=_.useContext(Si),{pathname:a}=ys(),s=JSON.stringify(TE(r)),l=_.useRef(!1);return uD(()=>{l.current=!0}),_.useCallback((h,f={})=>{if(Da(l.current,cD),!l.current)return;if(typeof h=="number"){n.go(h);return}let p=NE(h,JSON.parse(s),a,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:es([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,s,a,t])}_.createContext(null);function of(t,{relative:e}={}){let{matches:n}=_.useContext(Si),{pathname:r}=ys(),a=JSON.stringify(TE(n));return _.useMemo(()=>NE(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function RU(t,e){return dD(t,e)}function dD(t,e,n,r,a){Vt(Iu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=_.useContext(Ba),{matches:l}=_.useContext(Si),d=l[l.length-1],h=d?d.params:{},f=d?d.pathname:"/",p=d?d.pathnameBase:"/",v=d&&d.route;{let C=v&&v.path||"";hD(f,!v||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let b=ys(),w;if(e){let C=typeof e=="string"?Ou(e):e;Vt(p==="/"||C.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${C.pathname}" was given in the \`location\` prop.`),w=C}else w=b;let j=w.pathname||"/",E=j;if(p!=="/"){let C=p.replace(/^\//,"").split("/");E="/"+j.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=aD(t,{pathname:E});Da(v||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Da(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=VU(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},h,C.params),pathname:es([p,s.encodeLocation?s.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:es([p,s.encodeLocation?s.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),l,n,r,a);return e&&T?_.createElement(sf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},T):T}function DU(){let t=qU(),e=TU(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:s},"ErrorBoundary")," or"," ",_.createElement("code",{style:s},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:a},n):null,l)}var kU=_.createElement(DU,null),MU=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?_.createElement(Si.Provider,{value:this.props.routeContext},_.createElement(CE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LU({routeContext:t,match:e,children:n}){let r=_.useContext(Pu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(Si.Provider,{value:t},n)}function VU(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n?.errors;if(l!=null){let f=s.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);Vt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let d=!1,h=-1;if(n)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:v,errors:b}=n,w=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||w){d=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,p,v)=>{let b,w=!1,j=null,E=null;n&&(b=l&&p.route.id?l[p.route.id]:void 0,j=p.route.errorElement||kU,d&&(h<0&&v===0?(hD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,E=null):h===v&&(w=!0,E=p.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,v+1)),T=()=>{let C;return b?C=j:w?C=E:p.route.Component?C=_.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=f,_.createElement(LU,{match:p,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?_.createElement(MU,{location:n.location,revalidation:n.revalidation,component:j,error:b,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):T()},null)}function OE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zU(t){let e=_.useContext(Pu);return Vt(e,OE(t)),e}function UU(t){let e=_.useContext(Ng);return Vt(e,OE(t)),e}function BU(t){let e=_.useContext(Si);return Vt(e,OE(t)),e}function PE(t){let e=BU(t),n=e.matches[e.matches.length-1];return Vt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function FU(){return PE("useRouteId")}function qU(){let t=_.useContext(CE),e=UU("useRouteError"),n=PE("useRouteError");return t!==void 0?t:e.errors?.[n]}function $U(){let{router:t}=zU("useNavigate"),e=PE("useNavigate"),n=_.useRef(!1);return uD(()=>{n.current=!0}),_.useCallback(async(a,s={})=>{Da(n.current,cD),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...s}))},[t,e])}var nC={};function hD(t,e,n){!e&&!nC[t]&&(nC[t]=!0,Da(!1,n))}_.memo(HU);function HU({routes:t,future:e,state:n,unstable_onError:r}){return dD(t,void 0,n,r,e)}function Xw({to:t,replace:e,state:n,relative:r}){Vt(Iu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=_.useContext(Ba);Da(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=_.useContext(Si),{pathname:l}=ys(),d=Ru(),h=NE(t,TE(s),l,r==="path"),f=JSON.stringify(h);return _.useEffect(()=>{d(JSON.parse(f),{replace:e,state:n,relative:r})},[d,f,r,e,n]),null}function $n(t){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KU({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:s=!1}){Vt(!Iu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),d=_.useMemo(()=>({basename:l,navigator:a,static:s,future:{}}),[l,a,s]);typeof n=="string"&&(n=Ou(n));let{pathname:h="/",search:f="",hash:p="",state:v=null,key:b="default"}=n,w=_.useMemo(()=>{let j=is(h,l);return j==null?null:{location:{pathname:j,search:f,hash:p,state:v,key:b},navigationType:r}},[l,h,f,p,v,b,r]);return Da(w!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:_.createElement(Ba.Provider,{value:d},_.createElement(sf.Provider,{children:e,value:w}))}function GU({children:t,location:e}){return RU(Qw(t),e)}function Qw(t,e=[]){let n=[];return _.Children.forEach(t,(r,a)=>{if(!_.isValidElement(r))return;let s=[...e,a];if(r.type===_.Fragment){n.push.apply(n,Qw(r.props.children,s));return}Vt(r.type===$n,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Qw(r.props.children,s)),n.push(l)}),n}var Wp="get",Yp="application/x-www-form-urlencoded";function Cg(t){return t!=null&&typeof t.tagName=="string"}function WU(t){return Cg(t)&&t.tagName.toLowerCase()==="button"}function YU(t){return Cg(t)&&t.tagName.toLowerCase()==="form"}function XU(t){return Cg(t)&&t.tagName.toLowerCase()==="input"}function QU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZU(t,e){return t.button===0&&(!e||e==="_self")&&!QU(t)}var _p=null;function JU(){if(_p===null)try{new FormData(document.createElement("form"),0),_p=!1}catch{_p=!0}return _p}var e9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rx(t){return t!=null&&!e9.has(t)?(Da(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yp}"`),null):t}function t9(t,e){let n,r,a,s,l;if(YU(t)){let d=t.getAttribute("action");r=d?is(d,e):null,n=t.getAttribute("method")||Wp,a=rx(t.getAttribute("enctype"))||Yp,s=new FormData(t)}else if(WU(t)||XU(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(r=h?is(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Wp,a=rx(t.getAttribute("formenctype"))||rx(d.getAttribute("enctype"))||Yp,s=new FormData(d,t),!JU()){let{name:f,type:p,value:v}=t;if(p==="image"){let b=f?`${f}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else f&&s.append(f,v)}}else{if(Cg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wp,r=null,a=Yp,l=t}return s&&a==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function IE(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function n9(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&is(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function r9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function a9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function i9(t,e,n){let r=await Promise.all(t.map(async a=>{let s=e.routes[a.route.id];if(s){let l=await r9(s,n);return l.links?l.links():[]}return[]}));return c9(r.flat(1).filter(a9).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function rC(t,e,n,r,a,s){let l=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,d=(h,f)=>n[f].pathname!==h.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==h.params["*"];return s==="assets"?e.filter((h,f)=>l(h,f)||d(h,f)):s==="data"?e.filter((h,f)=>{let p=r.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,f)||d(h,f))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function s9(t,e,{includeHydrateFallback:n}={}){return o9(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function o9(t){return[...new Set(t)]}function l9(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function c9(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let s=JSON.stringify(l9(a));return n.has(s)||(n.add(s),r.push({key:s,link:a})),r},[])}function fD(){let t=_.useContext(Pu);return IE(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function u9(){let t=_.useContext(Ng);return IE(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var RE=_.createContext(void 0);RE.displayName="FrameworkContext";function mD(){let t=_.useContext(RE);return IE(t,"You must render this element inside a <HydratedRouter> element"),t}function d9(t,e){let n=_.useContext(RE),[r,a]=_.useState(!1),[s,l]=_.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:v}=e,b=_.useRef(null);_.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let E=T=>{T.forEach(C=>{l(C.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[t]),_.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let w=()=>{a(!0)},j=()=>{a(!1),l(!1)};return n?t!=="intent"?[s,b,{}]:[s,b,{onFocus:th(d,w),onBlur:th(h,j),onMouseEnter:th(f,w),onMouseLeave:th(p,j),onTouchStart:th(v,w)}]:[!1,b,{}]}function th(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function h9({page:t,...e}){let{router:n}=fD(),r=_.useMemo(()=>aD(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?_.createElement(m9,{page:t,matches:r,...e}):null}function f9(t){let{manifest:e,routeModules:n}=mD(),[r,a]=_.useState([]);return _.useEffect(()=>{let s=!1;return i9(t,e,n).then(l=>{s||a(l)}),()=>{s=!0}},[t,e,n]),r}function m9({page:t,matches:e,...n}){let r=ys(),{manifest:a,routeModules:s}=mD(),{basename:l}=fD(),{loaderData:d,matches:h}=u9(),f=_.useMemo(()=>rC(t,e,h,a,r,"data"),[t,e,h,a,r]),p=_.useMemo(()=>rC(t,e,h,a,r,"assets"),[t,e,h,a,r]),v=_.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let j=new Set,E=!1;if(e.forEach(T=>{let C=a.routes[T.route.id];!C||!C.hasLoader||(!f.some(I=>I.route.id===T.route.id)&&T.route.id in d&&s[T.route.id]?.shouldRevalidate||C.hasClientLoader?E=!0:j.add(T.route.id))}),j.size===0)return[];let S=n9(t,l,"data");return E&&j.size>0&&S.searchParams.set("_routes",e.filter(T=>j.has(T.route.id)).map(T=>T.route.id).join(",")),[S.pathname+S.search]},[l,d,r,a,f,e,t,s]),b=_.useMemo(()=>s9(p,a),[p,a]),w=f9(p);return _.createElement(_.Fragment,null,v.map(j=>_.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),b.map(j=>_.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),w.map(({key:j,link:E})=>_.createElement("link",{key:j,nonce:n.nonce,...E})))}function p9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pD&&(window.__reactRouterVersion="7.9.4")}catch{}function v9({basename:t,children:e,window:n}){let r=_.useRef();r.current==null&&(r.current=aU({window:n,v5Compat:!0}));let a=r.current,[s,l]=_.useState({action:a.action,location:a.location}),d=_.useCallback(h=>{_.startTransition(()=>l(h))},[l]);return _.useLayoutEffect(()=>a.listen(d),[a,d]),_.createElement(KU,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a})}var vD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pn=_.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:s,replace:l,state:d,target:h,to:f,preventScrollReset:p,viewTransition:v,...b},w){let{basename:j}=_.useContext(Ba),E=typeof f=="string"&&vD.test(f),S,T=!1;if(typeof f=="string"&&E&&(S=f,pD))try{let D=new URL(window.location.href),z=f.startsWith("//")?new URL(D.protocol+f):new URL(f),k=is(z.pathname,j);z.origin===D.origin&&k!=null?f=k+z.search+z.hash:T=!0}catch{Da(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=PU(f,{relative:a}),[I,U,L]=d9(r,b),B=x9(f,{replace:l,state:d,target:h,preventScrollReset:p,relative:a,viewTransition:v});function P(D){e&&e(D),D.defaultPrevented||B(D)}let M=_.createElement("a",{...b,...L,href:S||C,onClick:T||s?e:P,ref:p9(w,U),target:h,"data-discover":!E&&n==="render"?"true":void 0});return I&&!E?_.createElement(_.Fragment,null,M,_.createElement(h9,{page:C})):M});Pn.displayName="Link";var g9=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:s,to:l,viewTransition:d,children:h,...f},p){let v=of(l,{relative:f.relative}),b=ys(),w=_.useContext(Ng),{navigator:j,basename:E}=_.useContext(Ba),S=w!=null&&j9(v)&&d===!0,T=j.encodeLocation?j.encodeLocation(v).pathname:v.pathname,C=b.pathname,I=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(C=C.toLowerCase(),I=I?I.toLowerCase():null,T=T.toLowerCase()),I&&E&&(I=is(I,E)||I);const U=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let L=C===T||!a&&C.startsWith(T)&&C.charAt(U)==="/",B=I!=null&&(I===T||!a&&I.startsWith(T)&&I.charAt(T.length)==="/"),P={isActive:L,isPending:B,isTransitioning:S},M=L?e:void 0,D;typeof r=="function"?D=r(P):D=[r,L?"active":null,B?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let z=typeof s=="function"?s(P):s;return _.createElement(Pn,{...f,"aria-current":M,className:D,ref:p,style:z,to:l,viewTransition:d},typeof h=="function"?h(P):h)});g9.displayName="NavLink";var y9=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:s,method:l=Wp,action:d,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:v,...b},w)=>{let j=E9(),E=S9(d,{relative:f}),S=l.toLowerCase()==="get"?"get":"post",T=typeof d=="string"&&vD.test(d),C=I=>{if(h&&h(I),I.defaultPrevented)return;I.preventDefault();let U=I.nativeEvent.submitter,L=U?.getAttribute("formmethod")||l;j(U||I.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:a,state:s,relative:f,preventScrollReset:p,viewTransition:v})};return _.createElement("form",{ref:w,method:S,action:E,onSubmit:r?h:C,...b,"data-discover":!T&&t==="render"?"true":void 0})});y9.displayName="Form";function b9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gD(t){let e=_.useContext(Pu);return Vt(e,b9(t)),e}function x9(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:l}={}){let d=Ru(),h=ys(),f=of(t,{relative:s});return _.useCallback(p=>{if(ZU(p,e)){p.preventDefault();let v=n!==void 0?n:Ch(h)===Ch(f);d(t,{replace:v,state:r,preventScrollReset:a,relative:s,viewTransition:l})}},[h,d,f,n,r,e,t,a,s,l])}var w9=0,_9=()=>`__${String(++w9)}__`;function E9(){let{router:t}=gD("useSubmit"),{basename:e}=_.useContext(Ba),n=FU();return _.useCallback(async(r,a={})=>{let{action:s,method:l,encType:d,formData:h,body:f}=t9(r,e);if(a.navigate===!1){let p=a.fetcherKey||_9();await t.fetch(p,n,a.action||s,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||l,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||l,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function S9(t,{relative:e}={}){let{basename:n}=_.useContext(Ba),r=_.useContext(Si);Vt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s={...of(t||".",{relative:e})},l=ys();if(t==null){s.search=l.search;let d=new URLSearchParams(s.search),h=d.getAll("index");if(h.some(p=>p==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let p=d.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:es([n,s.pathname])),Ch(s)}function j9(t,{relative:e}={}){let n=_.useContext(lD);Vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=gD("useViewTransitionState"),a=of(t,{relative:e});if(!n.isTransitioning)return!1;let s=is(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=is(n.nextLocation.pathname,r)||n.nextLocation.pathname;return hv(a.pathname,l)!=null||hv(a.pathname,s)!=null}var yD=rD();const He={home:"/",landing:"/landing",login:"/login",register:"/register",dashboard:"/dashboard",areaCliente:"/area-cliente",pdv:"/pdv",crm:"/crm",gestaoFinanceira:"/gestao-financeira",recursosHumanos:"/recursos-humanos",estoque:"/estoque",planosLavagem:"/planos-lavagem",seguranca:"/seguranca",history:"/historico",profile:"/perfil",contactInfo:"/informacoes-contato"},A9=()=>{};var aC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},T9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=t[n++];e[r++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=t[n++],l=t[n++],d=t[n++],h=((a&7)<<18|(s&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(s&63)<<6|l&63)}}return e.join("")},xD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const s=t[a],l=a+1<t.length,d=l?t[a+1]:0,h=a+2<t.length,f=h?t[a+2]:0,p=s>>2,v=(s&3)<<4|d>>4;let b=(d&15)<<2|f>>6,w=f&63;h||(w=64,l||(b=64)),r.push(n[p],n[v],n[b],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):T9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const s=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const f=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,s==null||d==null||f==null||v==null)throw new N9;const b=s<<2|d>>4;if(r.push(b),f!==64){const w=d<<4&240|f>>2;if(r.push(w),v!==64){const j=f<<6&192|v;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class N9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C9=function(t){const e=bD(t);return xD.encodeByteArray(e,!0)},fv=function(t){return C9(t).replace(/\./g,"")},wD=function(t){try{return xD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=()=>O9().__FIREBASE_DEFAULTS__,I9=()=>{if(typeof process>"u"||typeof aC>"u")return;const t=aC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},R9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wD(t[1]);return e&&JSON.parse(e)},Og=()=>{try{return A9()||P9()||I9()||R9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_D=t=>Og()?.emulatorHosts?.[t],D9=t=>{const e=_D(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ED=()=>Og()?.config,SD=t=>Og()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jD(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[fv(JSON.stringify(n)),fv(JSON.stringify(l)),""].join(".")}const xh={};function L9(){const t={prod:[],emulator:[]};for(const e of Object.keys(xh))xh[e]?t.emulator.push(e):t.prod.push(e);return t}function V9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let iC=!1;function AD(t,e){if(typeof window>"u"||typeof document>"u"||!Du(window.location.host)||xh[t]===e||xh[t]||iC)return;xh[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",s=L9().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function h(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{iC=!0,l()},b}function p(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=V9(r),w=n("text"),j=document.getElementById(w)||document.createElement("span"),E=n("learnmore"),S=document.getElementById(E)||document.createElement("a"),T=n("preprendIcon"),C=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const I=b.element;d(I),p(S,E);const U=f();h(C,T),I.append(C,j,S,U),document.body.appendChild(I)}s?(j.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ir())}function U9(){const t=Og()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function B9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function F9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function q9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $9(){const t=ir();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function H9(){return!U9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K9(){try{return typeof indexedDB=="object"}catch{return!1}}function G9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9="FirebaseError";class bs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=W9,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lf.prototype.create)}}class lf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,s=this.errors[e],l=s?Y9(s,r):"Error",d=`${this.serviceName}: ${l} (${a}).`;return new bs(a,d,r)}}function Y9(t,e){return t.replace(X9,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const X9=/\{\$([^}]+)}/g;function Q9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Dl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const s=t[a],l=e[a];if(sC(s)&&sC(l)){if(!Dl(s,l))return!1}else if(s!==l)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function sC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,s]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(s)}}),e}function fh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Z9(t,e){const n=new J9(t,e);return n.subscribe.bind(n)}class J9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eB(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=ax),a.error===void 0&&(a.error=ax),a.complete===void 0&&(a.complete=ax);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ax(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t){return t&&t._delegate?t._delegate:t}class kl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tB=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new k9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rB(e))try{this.getOrInitializeService({instanceIdentifier:yl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:a});r.resolve(s)}catch{}}}}clearInstance(e=yl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yl){return this.instances.has(e)}getOptions(e=yl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(s);r===d&&l.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yl){return this.component?this.component.multipleInstances?e:yl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function nB(t){return t===yl?void 0:t}function rB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xe||(Xe={}));const iB={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},sB=Xe.INFO,oB={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},lB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=oB[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class DE{constructor(e){this.name=e,this._logLevel=sB,this._logHandler=lB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const cB=(t,e)=>e.some(n=>t instanceof n);let oC,lC;function uB(){return oC||(oC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dB(){return lC||(lC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TD=new WeakMap,Zw=new WeakMap,ND=new WeakMap,ix=new WeakMap,kE=new WeakMap;function hB(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(xo(t.result)),a()},l=()=>{r(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&TD.set(n,t)}).catch(()=>{}),kE.set(e,t),e}function fB(t){if(Zw.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),a()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});Zw.set(t,e)}let Jw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ND.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mB(t){Jw=t(Jw)}function pB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sx(this),e,...n);return ND.set(r,e.sort?e.sort():[e]),xo(r)}:dB().includes(t)?function(...e){return t.apply(sx(this),e),xo(TD.get(this))}:function(...e){return xo(t.apply(sx(this),e))}}function vB(t){return typeof t=="function"?pB(t):(t instanceof IDBTransaction&&fB(t),cB(t,uB())?new Proxy(t,Jw):t)}function xo(t){if(t instanceof IDBRequest)return hB(t);if(ix.has(t))return ix.get(t);const e=vB(t);return e!==t&&(ix.set(t,e),kE.set(e,t)),e}const sx=t=>kE.get(t);function gB(t,e,{blocked:n,upgrade:r,blocking:a,terminated:s}={}){const l=indexedDB.open(t,e),d=xo(l);return r&&l.addEventListener("upgradeneeded",h=>{r(xo(l.result),h.oldVersion,h.newVersion,xo(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{s&&h.addEventListener("close",()=>s()),a&&h.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),d}const yB=["get","getKey","getAll","getAllKeys","count"],bB=["put","add","delete","clear"],ox=new Map;function cC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ox.get(e))return ox.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=bB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||yB.includes(n)))return;const s=async function(l,...d){const h=this.transaction(l,a?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(d.shift())),(await Promise.all([f[n](...d),a&&h.done]))[0]};return ox.set(e,s),s}mB(t=>({...t,get:(e,n,r)=>cC(e,n)||t.get(e,n,r),has:(e,n)=>!!cC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wB(t){return t.getComponent()?.type==="VERSION"}const e_="@firebase/app",uC="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new DE("@firebase/app"),_B="@firebase/app-compat",EB="@firebase/analytics-compat",SB="@firebase/analytics",jB="@firebase/app-check-compat",AB="@firebase/app-check",TB="@firebase/auth",NB="@firebase/auth-compat",CB="@firebase/database",OB="@firebase/data-connect",PB="@firebase/database-compat",IB="@firebase/functions",RB="@firebase/functions-compat",DB="@firebase/installations",kB="@firebase/installations-compat",MB="@firebase/messaging",LB="@firebase/messaging-compat",VB="@firebase/performance",zB="@firebase/performance-compat",UB="@firebase/remote-config",BB="@firebase/remote-config-compat",FB="@firebase/storage",qB="@firebase/storage-compat",$B="@firebase/firestore",HB="@firebase/ai",KB="@firebase/firestore-compat",GB="firebase",WB="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="[DEFAULT]",YB={[e_]:"fire-core",[_B]:"fire-core-compat",[SB]:"fire-analytics",[EB]:"fire-analytics-compat",[AB]:"fire-app-check",[jB]:"fire-app-check-compat",[TB]:"fire-auth",[NB]:"fire-auth-compat",[CB]:"fire-rtdb",[OB]:"fire-data-connect",[PB]:"fire-rtdb-compat",[IB]:"fire-fn",[RB]:"fire-fn-compat",[DB]:"fire-iid",[kB]:"fire-iid-compat",[MB]:"fire-fcm",[LB]:"fire-fcm-compat",[VB]:"fire-perf",[zB]:"fire-perf-compat",[UB]:"fire-rc",[BB]:"fire-rc-compat",[FB]:"fire-gcs",[qB]:"fire-gcs-compat",[$B]:"fire-fst",[KB]:"fire-fst-compat",[HB]:"fire-vertex","fire-js":"fire-js",[GB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=new Map,XB=new Map,n_=new Map;function dC(t,e){try{t.container.addComponent(e)}catch(n){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function uu(t){const e=t.name;if(n_.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;n_.set(e,t);for(const n of mv.values())dC(n,t);for(const n of XB.values())dC(n,t);return!0}function ME(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function la(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wo=new lf("app","Firebase",QB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=WB;function CD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:t_,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw wo.create("bad-app-name",{appName:String(a)});if(n||(n=ED()),!n)throw wo.create("no-options");const s=mv.get(a);if(s){if(Dl(n,s.options)&&Dl(r,s.config))return s;throw wo.create("duplicate-app",{appName:a})}const l=new aB(a);for(const h of n_.values())l.addComponent(h);const d=new ZB(n,r,l);return mv.set(a,d),d}function OD(t=t_){const e=mv.get(t);if(!e&&t===t_&&ED())return CD();if(!e)throw wo.create("no-app",{appName:t});return e}function _o(t,e,n){let r=YB[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const l=[`Unable to register library "${r}" with version "${e}":`];a&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(l.join(" "));return}uu(new kl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB="firebase-heartbeat-database",eF=1,Oh="firebase-heartbeat-store";let lx=null;function PD(){return lx||(lx=gB(JB,eF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oh)}catch(n){console.warn(n)}}}}).catch(t=>{throw wo.create("idb-open",{originalErrorMessage:t.message})})),lx}async function tF(t){try{const n=(await PD()).transaction(Oh),r=await n.objectStore(Oh).get(ID(t));return await n.done,r}catch(e){if(e instanceof bs)ss.warn(e.message);else{const n=wo.create("idb-get",{originalErrorMessage:e?.message});ss.warn(n.message)}}}async function hC(t,e){try{const r=(await PD()).transaction(Oh,"readwrite");await r.objectStore(Oh).put(e,ID(t)),await r.done}catch(n){if(n instanceof bs)ss.warn(n.message);else{const r=wo.create("idb-set",{originalErrorMessage:n?.message});ss.warn(r.message)}}}function ID(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=1024,rF=30;class aF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=fC();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>rF){const a=oF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fC(),{heartbeatsToSend:n,unsentEntries:r}=iF(this._heartbeatsCache.heartbeats),a=fv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ss.warn(e),""}}}function fC(){return new Date().toISOString().substring(0,10)}function iF(t,e=nF){const n=[];let r=t.slice();for(const a of t){const s=n.find(l=>l.agent===a.agent);if(s){if(s.dates.push(a.date),mC(n)>e){s.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),mC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return K9()?G9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return hC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return hC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function mC(t){return fv(JSON.stringify({version:2,heartbeats:t})).length}function oF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lF(t){uu(new kl("platform-logger",e=>new xB(e),"PRIVATE")),uu(new kl("heartbeat",e=>new aF(e),"PRIVATE")),_o(e_,uC,t),_o(e_,uC,"esm2020"),_o("fire-js","")}lF("");var cF="firebase",uF="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_o(cF,uF,"app");var pC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Eo,RD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,M){function D(){}D.prototype=M.prototype,P.F=M.prototype,P.prototype=new D,P.prototype.constructor=P,P.D=function(z,k,F){for(var R=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)R[Q-2]=arguments[Q];return M.prototype[k].apply(z,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,M,D){D||(D=0);const z=Array(16);if(typeof M=="string")for(var k=0;k<16;++k)z[k]=M.charCodeAt(D++)|M.charCodeAt(D++)<<8|M.charCodeAt(D++)<<16|M.charCodeAt(D++)<<24;else for(k=0;k<16;++k)z[k]=M[D++]|M[D++]<<8|M[D++]<<16|M[D++]<<24;M=P.g[0],D=P.g[1],k=P.g[2];let F=P.g[3],R;R=M+(F^D&(k^F))+z[0]+3614090360&4294967295,M=D+(R<<7&4294967295|R>>>25),R=F+(k^M&(D^k))+z[1]+3905402710&4294967295,F=M+(R<<12&4294967295|R>>>20),R=k+(D^F&(M^D))+z[2]+606105819&4294967295,k=F+(R<<17&4294967295|R>>>15),R=D+(M^k&(F^M))+z[3]+3250441966&4294967295,D=k+(R<<22&4294967295|R>>>10),R=M+(F^D&(k^F))+z[4]+4118548399&4294967295,M=D+(R<<7&4294967295|R>>>25),R=F+(k^M&(D^k))+z[5]+1200080426&4294967295,F=M+(R<<12&4294967295|R>>>20),R=k+(D^F&(M^D))+z[6]+2821735955&4294967295,k=F+(R<<17&4294967295|R>>>15),R=D+(M^k&(F^M))+z[7]+4249261313&4294967295,D=k+(R<<22&4294967295|R>>>10),R=M+(F^D&(k^F))+z[8]+1770035416&4294967295,M=D+(R<<7&4294967295|R>>>25),R=F+(k^M&(D^k))+z[9]+2336552879&4294967295,F=M+(R<<12&4294967295|R>>>20),R=k+(D^F&(M^D))+z[10]+4294925233&4294967295,k=F+(R<<17&4294967295|R>>>15),R=D+(M^k&(F^M))+z[11]+2304563134&4294967295,D=k+(R<<22&4294967295|R>>>10),R=M+(F^D&(k^F))+z[12]+1804603682&4294967295,M=D+(R<<7&4294967295|R>>>25),R=F+(k^M&(D^k))+z[13]+4254626195&4294967295,F=M+(R<<12&4294967295|R>>>20),R=k+(D^F&(M^D))+z[14]+2792965006&4294967295,k=F+(R<<17&4294967295|R>>>15),R=D+(M^k&(F^M))+z[15]+1236535329&4294967295,D=k+(R<<22&4294967295|R>>>10),R=M+(k^F&(D^k))+z[1]+4129170786&4294967295,M=D+(R<<5&4294967295|R>>>27),R=F+(D^k&(M^D))+z[6]+3225465664&4294967295,F=M+(R<<9&4294967295|R>>>23),R=k+(M^D&(F^M))+z[11]+643717713&4294967295,k=F+(R<<14&4294967295|R>>>18),R=D+(F^M&(k^F))+z[0]+3921069994&4294967295,D=k+(R<<20&4294967295|R>>>12),R=M+(k^F&(D^k))+z[5]+3593408605&4294967295,M=D+(R<<5&4294967295|R>>>27),R=F+(D^k&(M^D))+z[10]+38016083&4294967295,F=M+(R<<9&4294967295|R>>>23),R=k+(M^D&(F^M))+z[15]+3634488961&4294967295,k=F+(R<<14&4294967295|R>>>18),R=D+(F^M&(k^F))+z[4]+3889429448&4294967295,D=k+(R<<20&4294967295|R>>>12),R=M+(k^F&(D^k))+z[9]+568446438&4294967295,M=D+(R<<5&4294967295|R>>>27),R=F+(D^k&(M^D))+z[14]+3275163606&4294967295,F=M+(R<<9&4294967295|R>>>23),R=k+(M^D&(F^M))+z[3]+4107603335&4294967295,k=F+(R<<14&4294967295|R>>>18),R=D+(F^M&(k^F))+z[8]+1163531501&4294967295,D=k+(R<<20&4294967295|R>>>12),R=M+(k^F&(D^k))+z[13]+2850285829&4294967295,M=D+(R<<5&4294967295|R>>>27),R=F+(D^k&(M^D))+z[2]+4243563512&4294967295,F=M+(R<<9&4294967295|R>>>23),R=k+(M^D&(F^M))+z[7]+1735328473&4294967295,k=F+(R<<14&4294967295|R>>>18),R=D+(F^M&(k^F))+z[12]+2368359562&4294967295,D=k+(R<<20&4294967295|R>>>12),R=M+(D^k^F)+z[5]+4294588738&4294967295,M=D+(R<<4&4294967295|R>>>28),R=F+(M^D^k)+z[8]+2272392833&4294967295,F=M+(R<<11&4294967295|R>>>21),R=k+(F^M^D)+z[11]+1839030562&4294967295,k=F+(R<<16&4294967295|R>>>16),R=D+(k^F^M)+z[14]+4259657740&4294967295,D=k+(R<<23&4294967295|R>>>9),R=M+(D^k^F)+z[1]+2763975236&4294967295,M=D+(R<<4&4294967295|R>>>28),R=F+(M^D^k)+z[4]+1272893353&4294967295,F=M+(R<<11&4294967295|R>>>21),R=k+(F^M^D)+z[7]+4139469664&4294967295,k=F+(R<<16&4294967295|R>>>16),R=D+(k^F^M)+z[10]+3200236656&4294967295,D=k+(R<<23&4294967295|R>>>9),R=M+(D^k^F)+z[13]+681279174&4294967295,M=D+(R<<4&4294967295|R>>>28),R=F+(M^D^k)+z[0]+3936430074&4294967295,F=M+(R<<11&4294967295|R>>>21),R=k+(F^M^D)+z[3]+3572445317&4294967295,k=F+(R<<16&4294967295|R>>>16),R=D+(k^F^M)+z[6]+76029189&4294967295,D=k+(R<<23&4294967295|R>>>9),R=M+(D^k^F)+z[9]+3654602809&4294967295,M=D+(R<<4&4294967295|R>>>28),R=F+(M^D^k)+z[12]+3873151461&4294967295,F=M+(R<<11&4294967295|R>>>21),R=k+(F^M^D)+z[15]+530742520&4294967295,k=F+(R<<16&4294967295|R>>>16),R=D+(k^F^M)+z[2]+3299628645&4294967295,D=k+(R<<23&4294967295|R>>>9),R=M+(k^(D|~F))+z[0]+4096336452&4294967295,M=D+(R<<6&4294967295|R>>>26),R=F+(D^(M|~k))+z[7]+1126891415&4294967295,F=M+(R<<10&4294967295|R>>>22),R=k+(M^(F|~D))+z[14]+2878612391&4294967295,k=F+(R<<15&4294967295|R>>>17),R=D+(F^(k|~M))+z[5]+4237533241&4294967295,D=k+(R<<21&4294967295|R>>>11),R=M+(k^(D|~F))+z[12]+1700485571&4294967295,M=D+(R<<6&4294967295|R>>>26),R=F+(D^(M|~k))+z[3]+2399980690&4294967295,F=M+(R<<10&4294967295|R>>>22),R=k+(M^(F|~D))+z[10]+4293915773&4294967295,k=F+(R<<15&4294967295|R>>>17),R=D+(F^(k|~M))+z[1]+2240044497&4294967295,D=k+(R<<21&4294967295|R>>>11),R=M+(k^(D|~F))+z[8]+1873313359&4294967295,M=D+(R<<6&4294967295|R>>>26),R=F+(D^(M|~k))+z[15]+4264355552&4294967295,F=M+(R<<10&4294967295|R>>>22),R=k+(M^(F|~D))+z[6]+2734768916&4294967295,k=F+(R<<15&4294967295|R>>>17),R=D+(F^(k|~M))+z[13]+1309151649&4294967295,D=k+(R<<21&4294967295|R>>>11),R=M+(k^(D|~F))+z[4]+4149444226&4294967295,M=D+(R<<6&4294967295|R>>>26),R=F+(D^(M|~k))+z[11]+3174756917&4294967295,F=M+(R<<10&4294967295|R>>>22),R=k+(M^(F|~D))+z[2]+718787259&4294967295,k=F+(R<<15&4294967295|R>>>17),R=D+(F^(k|~M))+z[9]+3951481745&4294967295,P.g[0]=P.g[0]+M&4294967295,P.g[1]=P.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,P.g[2]=P.g[2]+k&4294967295,P.g[3]=P.g[3]+F&4294967295}r.prototype.v=function(P,M){M===void 0&&(M=P.length);const D=M-this.blockSize,z=this.C;let k=this.h,F=0;for(;F<M;){if(k==0)for(;F<=D;)a(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<M;)if(z[k++]=P.charCodeAt(F++),k==this.blockSize){a(this,z),k=0;break}}else for(;F<M;)if(z[k++]=P[F++],k==this.blockSize){a(this,z),k=0;break}}this.h=k,this.o+=M},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var M=1;M<P.length-8;++M)P[M]=0;M=this.o*8;for(var D=P.length-8;D<P.length;++D)P[D]=M&255,M/=256;for(this.v(P),P=Array(16),M=0,D=0;D<4;++D)for(let z=0;z<32;z+=8)P[M++]=this.g[D]>>>z&255;return P};function s(P,M){var D=d;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=M(P)}function l(P,M){this.h=M;const D=[];let z=!0;for(let k=P.length-1;k>=0;k--){const F=P[k]|0;z&&F==M||(D[k]=F,z=!1)}this.g=D}var d={};function h(P){return-128<=P&&P<128?s(P,function(M){return new l([M|0],M<0?-1:0)}):new l([P|0],P<0?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return v;if(P<0)return S(f(-P));const M=[];let D=1;for(let z=0;P>=D;z++)M[z]=P/D|0,D*=4294967296;return new l(M,0)}function p(P,M){if(P.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(P.charAt(0)=="-")return S(p(P.substring(1),M));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=f(Math.pow(M,8));let z=v;for(let F=0;F<P.length;F+=8){var k=Math.min(8,P.length-F);const R=parseInt(P.substring(F,F+k),M);k<8?(k=f(Math.pow(M,k)),z=z.j(k).add(f(R))):(z=z.j(D),z=z.add(f(R)))}return z}var v=h(0),b=h(1),w=h(16777216);t=l.prototype,t.m=function(){if(E(this))return-S(this).m();let P=0,M=1;for(let D=0;D<this.g.length;D++){const z=this.i(D);P+=(z>=0?z:4294967296+z)*M,M*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(j(this))return"0";if(E(this))return"-"+S(this).toString(P);const M=f(Math.pow(P,6));var D=this;let z="";for(;;){const k=U(D,M).g;D=T(D,k.j(M));let F=((D.g.length>0?D.g[0]:D.h)>>>0).toString(P);if(D=k,j(D))return F+z;for(;F.length<6;)F="0"+F;z=F+z}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function j(P){if(P.h!=0)return!1;for(let M=0;M<P.g.length;M++)if(P.g[M]!=0)return!1;return!0}function E(P){return P.h==-1}t.l=function(P){return P=T(this,P),E(P)?-1:j(P)?0:1};function S(P){const M=P.g.length,D=[];for(let z=0;z<M;z++)D[z]=~P.g[z];return new l(D,~P.h).add(b)}t.abs=function(){return E(this)?S(this):this},t.add=function(P){const M=Math.max(this.g.length,P.g.length),D=[];let z=0;for(let k=0;k<=M;k++){let F=z+(this.i(k)&65535)+(P.i(k)&65535),R=(F>>>16)+(this.i(k)>>>16)+(P.i(k)>>>16);z=R>>>16,F&=65535,R&=65535,D[k]=R<<16|F}return new l(D,D[D.length-1]&-2147483648?-1:0)};function T(P,M){return P.add(S(M))}t.j=function(P){if(j(this)||j(P))return v;if(E(this))return E(P)?S(this).j(S(P)):S(S(this).j(P));if(E(P))return S(this.j(S(P)));if(this.l(w)<0&&P.l(w)<0)return f(this.m()*P.m());const M=this.g.length+P.g.length,D=[];for(var z=0;z<2*M;z++)D[z]=0;for(z=0;z<this.g.length;z++)for(let k=0;k<P.g.length;k++){const F=this.i(z)>>>16,R=this.i(z)&65535,Q=P.i(k)>>>16,me=P.i(k)&65535;D[2*z+2*k]+=R*me,C(D,2*z+2*k),D[2*z+2*k+1]+=F*me,C(D,2*z+2*k+1),D[2*z+2*k+1]+=R*Q,C(D,2*z+2*k+1),D[2*z+2*k+2]+=F*Q,C(D,2*z+2*k+2)}for(P=0;P<M;P++)D[P]=D[2*P+1]<<16|D[2*P];for(P=M;P<2*M;P++)D[P]=0;return new l(D,0)};function C(P,M){for(;(P[M]&65535)!=P[M];)P[M+1]+=P[M]>>>16,P[M]&=65535,M++}function I(P,M){this.g=P,this.h=M}function U(P,M){if(j(M))throw Error("division by zero");if(j(P))return new I(v,v);if(E(P))return M=U(S(P),M),new I(S(M.g),S(M.h));if(E(M))return M=U(P,S(M)),new I(S(M.g),M.h);if(P.g.length>30){if(E(P)||E(M))throw Error("slowDivide_ only works with positive integers.");for(var D=b,z=M;z.l(P)<=0;)D=L(D),z=L(z);var k=B(D,1),F=B(z,1);for(z=B(z,2),D=B(D,2);!j(z);){var R=F.add(z);R.l(P)<=0&&(k=k.add(D),F=R),z=B(z,1),D=B(D,1)}return M=T(P,k.j(M)),new I(k,M)}for(k=v;P.l(M)>=0;){for(D=Math.max(1,Math.floor(P.m()/M.m())),z=Math.ceil(Math.log(D)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),F=f(D),R=F.j(M);E(R)||R.l(P)>0;)D-=z,F=f(D),R=F.j(M);j(F)&&(F=b),k=k.add(F),P=T(P,R)}return new I(k,P)}t.B=function(P){return U(this,P).h},t.and=function(P){const M=Math.max(this.g.length,P.g.length),D=[];for(let z=0;z<M;z++)D[z]=this.i(z)&P.i(z);return new l(D,this.h&P.h)},t.or=function(P){const M=Math.max(this.g.length,P.g.length),D=[];for(let z=0;z<M;z++)D[z]=this.i(z)|P.i(z);return new l(D,this.h|P.h)},t.xor=function(P){const M=Math.max(this.g.length,P.g.length),D=[];for(let z=0;z<M;z++)D[z]=this.i(z)^P.i(z);return new l(D,this.h^P.h)};function L(P){const M=P.g.length+1,D=[];for(let z=0;z<M;z++)D[z]=P.i(z)<<1|P.i(z-1)>>>31;return new l(D,P.h)}function B(P,M){const D=M>>5;M%=32;const z=P.g.length-D,k=[];for(let F=0;F<z;F++)k[F]=M>0?P.i(F+D)>>>M|P.i(F+D+1)<<32-M:P.i(F+D);return new l(k,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,RD=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,Eo=l}).apply(typeof pC<"u"?pC:typeof self<"u"?self:typeof window<"u"?window:{});var Ep=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DD,mh,kD,Xp,r_,MD,LD,VD;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ep=="object"&&Ep];for(var A=0;A<g.length;++A){var O=g[A];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function a(g,A){if(A)e:{var O=r;g=g.split(".");for(var q=0;q<g.length-1;q++){var X=g[q];if(!(X in O))break e;O=O[X]}g=g[g.length-1],q=O[g],A=A(q),A!=q&&A!=null&&e(O,g,{configurable:!0,writable:!0,value:A})}}a("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(g){return g||function(A){var O=[],q;for(q in A)Object.prototype.hasOwnProperty.call(A,q)&&O.push([q,A[q]]);return O}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function d(g){var A=typeof g;return A=="object"&&g!=null||A=="function"}function h(g,A,O){return g.call.apply(g.bind,arguments)}function f(g,A,O){return f=h,f.apply(null,arguments)}function p(g,A){var O=Array.prototype.slice.call(arguments,1);return function(){var q=O.slice();return q.push.apply(q,arguments),g.apply(this,q)}}function v(g,A){function O(){}O.prototype=A.prototype,g.Z=A.prototype,g.prototype=new O,g.prototype.constructor=g,g.Ob=function(q,X,ae){for(var ye=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)ye[Fe-2]=arguments[Fe];return A.prototype[X].apply(q,ye)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function w(g){const A=g.length;if(A>0){const O=Array(A);for(let q=0;q<A;q++)O[q]=g[q];return O}return[]}function j(g,A){for(let q=1;q<arguments.length;q++){const X=arguments[q];var O=typeof X;if(O=O!="object"?O:X?Array.isArray(X)?"array":O:"null",O=="array"||O=="object"&&typeof X.length=="number"){O=g.length||0;const ae=X.length||0;g.length=O+ae;for(let ye=0;ye<ae;ye++)g[O+ye]=X[ye]}else g.push(X)}}class E{constructor(A,O){this.i=A,this.j=O,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function S(g){l.setTimeout(()=>{throw g},0)}function T(){var g=P;let A=null;return g.g&&(A=g.g,g.g=g.g.next,g.g||(g.h=null),A.next=null),A}class C{constructor(){this.h=this.g=null}add(A,O){const q=I.get();q.set(A,O),this.h?this.h.next=q:this.g=q,this.h=q}}var I=new E(()=>new U,g=>g.reset());class U{constructor(){this.next=this.g=this.h=null}set(A,O){this.h=A,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let L,B=!1,P=new C,M=()=>{const g=Promise.resolve(void 0);L=()=>{g.then(D)}};function D(){for(var g;g=T();){try{g.h.call(g.g)}catch(O){S(O)}var A=I;A.j(g),A.h<100&&(A.h++,g.next=A.g,A.g=g)}B=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(g,A){this.type=g,this.g=this.target=A,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,A=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const O=()=>{};l.addEventListener("test",O,A),l.removeEventListener("test",O,A)}catch{}return g})();function R(g){return/^[\s\xa0]*$/.test(g)}function Q(g,A){k.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,A)}v(Q,k),Q.prototype.init=function(g,A){const O=this.type=g.type,q=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=A,A=g.relatedTarget,A||(O=="mouseover"?A=g.fromElement:O=="mouseout"&&(A=g.toElement)),this.relatedTarget=A,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),$=0;function G(g,A,O,q,X){this.listener=g,this.proxy=null,this.src=A,this.type=O,this.capture=!!q,this.ha=X,this.key=++$,this.da=this.fa=!1}function ee(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function pe(g,A,O){for(const q in g)A.call(O,g[q],q,g)}function Se(g,A){for(const O in g)A.call(void 0,g[O],O,g)}function K(g){const A={};for(const O in g)A[O]=g[O];return A}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(g,A){let O,q;for(let X=1;X<arguments.length;X++){q=arguments[X];for(O in q)g[O]=q[O];for(let ae=0;ae<oe.length;ae++)O=oe[ae],Object.prototype.hasOwnProperty.call(q,O)&&(g[O]=q[O])}}function ge(g){this.src=g,this.g={},this.h=0}ge.prototype.add=function(g,A,O,q,X){const ae=g.toString();g=this.g[ae],g||(g=this.g[ae]=[],this.h++);const ye=De(g,A,q,X);return ye>-1?(A=g[ye],O||(A.fa=!1)):(A=new G(A,this.src,ae,!!q,X),A.fa=O,g.push(A)),A};function Te(g,A){const O=A.type;if(O in g.g){var q=g.g[O],X=Array.prototype.indexOf.call(q,A,void 0),ae;(ae=X>=0)&&Array.prototype.splice.call(q,X,1),ae&&(ee(A),g.g[O].length==0&&(delete g.g[O],g.h--))}}function De(g,A,O,q){for(let X=0;X<g.length;++X){const ae=g[X];if(!ae.da&&ae.listener==A&&ae.capture==!!O&&ae.ha==q)return X}return-1}var Re="closure_lm_"+(Math.random()*1e6|0),Tt={};function ce(g,A,O,q,X){if(Array.isArray(A)){for(let ae=0;ae<A.length;ae++)ce(g,A[ae],O,q,X);return null}return O=Ts(O),g&&g[me]?g.J(A,O,d(q)?!!q.capture:!1,X):Ve(g,A,O,!1,q,X)}function Ve(g,A,O,q,X,ae){if(!A)throw Error("Invalid event type");const ye=d(X)?!!X.capture:!!X;let Fe=It(g);if(Fe||(g[Re]=Fe=new ge(g)),O=Fe.add(A,O,q,ye,ae),O.proxy)return O;if(q=re(),O.proxy=q,q.src=g,q.listener=O,g.addEventListener)F||(X=ye),X===void 0&&(X=!1),g.addEventListener(A.toString(),q,X);else if(g.attachEvent)g.attachEvent(Ne(A.toString()),q);else if(g.addListener&&g.removeListener)g.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return O}function re(){function g(O){return A.call(g.src,g.listener,O)}const A=Pt;return g}function se(g,A,O,q,X){if(Array.isArray(A))for(var ae=0;ae<A.length;ae++)se(g,A[ae],O,q,X);else q=d(q)?!!q.capture:!!q,O=Ts(O),g&&g[me]?(g=g.i,ae=String(A).toString(),ae in g.g&&(A=g.g[ae],O=De(A,O,q,X),O>-1&&(ee(A[O]),Array.prototype.splice.call(A,O,1),A.length==0&&(delete g.g[ae],g.h--)))):g&&(g=It(g))&&(A=g.g[A.toString()],g=-1,A&&(g=De(A,O,q,X)),(O=g>-1?A[g]:null)&&Je(O))}function Je(g){if(typeof g!="number"&&g&&!g.da){var A=g.src;if(A&&A[me])Te(A.i,g);else{var O=g.type,q=g.proxy;A.removeEventListener?A.removeEventListener(O,q,g.capture):A.detachEvent?A.detachEvent(Ne(O),q):A.addListener&&A.removeListener&&A.removeListener(q),(O=It(A))?(Te(O,g),O.h==0&&(O.src=null,A[Re]=null)):ee(g)}}}function Ne(g){return g in Tt?Tt[g]:Tt[g]="on"+g}function Pt(g,A){if(g.da)g=!0;else{A=new Q(A,this);const O=g.listener,q=g.ha||g.src;g.fa&&Je(g),g=O.call(q,A)}return g}function It(g){return g=g[Re],g instanceof ge?g:null}var or="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ts(g){return typeof g=="function"?g:(g[or]||(g[or]=function(A){return g.handleEvent(A)}),g[or])}function en(){z.call(this),this.i=new ge(this),this.M=this,this.G=null}v(en,z),en.prototype[me]=!0,en.prototype.removeEventListener=function(g,A,O,q){se(this,g,A,O,q)};function gn(g,A){var O,q=g.G;if(q)for(O=[];q;q=q.G)O.push(q);if(g=g.M,q=A.type||A,typeof A=="string")A=new k(A,g);else if(A instanceof k)A.target=A.target||g;else{var X=A;A=new k(q,g),ve(A,X)}X=!0;let ae,ye;if(O)for(ye=O.length-1;ye>=0;ye--)ae=A.g=O[ye],X=Ns(ae,q,!0,A)&&X;if(ae=A.g=g,X=Ns(ae,q,!0,A)&&X,X=Ns(ae,q,!1,A)&&X,O)for(ye=0;ye<O.length;ye++)ae=A.g=O[ye],X=Ns(ae,q,!1,A)&&X}en.prototype.N=function(){if(en.Z.N.call(this),this.i){var g=this.i;for(const A in g.g){const O=g.g[A];for(let q=0;q<O.length;q++)ee(O[q]);delete g.g[A],g.h--}}this.G=null},en.prototype.J=function(g,A,O,q){return this.i.add(String(g),A,!1,O,q)},en.prototype.K=function(g,A,O,q){return this.i.add(String(g),A,!0,O,q)};function Ns(g,A,O,q){if(A=g.i.g[String(A)],!A)return!0;A=A.concat();let X=!0;for(let ae=0;ae<A.length;++ae){const ye=A[ae];if(ye&&!ye.da&&ye.capture==O){const Fe=ye.listener,Gt=ye.ha||ye.src;ye.fa&&Te(g.i,ye),X=Fe.call(Gt,q)!==!1&&X}}return X&&!q.defaultPrevented}function Zy(g,A){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=f(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:l.setTimeout(g,A||0)}function Gf(g){g.g=Zy(()=>{g.g=null,g.i&&(g.i=!1,Gf(g))},g.l);const A=g.h;g.h=null,g.m.apply(null,A)}class lr extends z{constructor(A,O){super(),this.m=A,this.l=O,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Gf(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qo(g){z.call(this),this.h=g,this.g={}}v(qo,z);var Zu=[];function Ju(g){pe(g.g,function(A,O){this.g.hasOwnProperty(O)&&Je(A)},g),g.g={}}qo.prototype.N=function(){qo.Z.N.call(this),Ju(this)},qo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cs=l.JSON.stringify,Jy=l.JSON.parse,Wf=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function Yf(){}function Xf(){}var ga={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Vn(){k.call(this,"d")}v(Vn,k);function Hr(){k.call(this,"c")}v(Hr,k);var Kt={},Qf=null;function rc(){return Qf=Qf||new en}Kt.Ia="serverreachability";function Zf(g){k.call(this,Kt.Ia,g)}v(Zf,k);function $a(g){const A=rc();gn(A,new Zf(A))}Kt.STAT_EVENT="statevent";function $o(g,A){k.call(this,Kt.STAT_EVENT,g),this.stat=A}v($o,k);function tn(g){const A=rc();gn(A,new $o(A,g))}Kt.Ja="timingevent";function Ha(g,A){k.call(this,Kt.Ja,g),this.size=A}v(Ha,k);function Ka(g,A){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},A)}function ya(){this.g=!0}ya.prototype.ua=function(){this.g=!1};function e0(g,A,O,q,X,ae){g.info(function(){if(g.g)if(ae){var ye="",Fe=ae.split("&");for(let lt=0;lt<Fe.length;lt++){var Gt=Fe[lt].split("=");if(Gt.length>1){const Rt=Gt[0];Gt=Gt[1];const Yr=Rt.split("_");ye=Yr.length>=2&&Yr[1]=="type"?ye+(Rt+"="+Gt+"&"):ye+(Rt+"=redacted&")}}}else ye=null;else ye=ae;return"XMLHTTP REQ ("+q+") [attempt "+X+"]: "+A+`
`+O+`
`+ye})}function Jf(g,A,O,q,X,ae,ye){g.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+X+"]: "+A+`
`+O+`
`+ae+" "+ye})}function Ga(g,A,O,q){g.info(function(){return"XMLHTTP TEXT ("+A+"): "+t0(g,O)+(q?" "+q:"")})}function Ho(g,A){g.info(function(){return"TIMEOUT: "+A})}ya.prototype.info=function(){};function t0(g,A){if(!g.g)return A;if(!A)return null;try{const ae=JSON.parse(A);if(ae){for(g=0;g<ae.length;g++)if(Array.isArray(ae[g])){var O=ae[g];if(!(O.length<2)){var q=O[1];if(Array.isArray(q)&&!(q.length<1)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ye=1;ye<q.length;ye++)q[ye]=""}}}}return Cs(ae)}catch{return A}}var Ko={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ed={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},td;function Go(){}v(Go,Yf),Go.prototype.g=function(){return new XMLHttpRequest},td=new Go;function Ti(g){return encodeURIComponent(String(g))}function em(g){var A=1;g=g.split(":");const O=[];for(;A>0&&g.length;)O.push(g.shift()),A--;return g.length&&O.push(g.join(":")),O}function ba(g,A,O,q){this.j=g,this.i=A,this.l=O,this.S=q||1,this.V=new qo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xa}function xa(){this.i=null,this.g="",this.h=!1}var nn={},An={};function Wa(g,A,O){g.M=1,g.A=Wo(an(A)),g.u=O,g.R=!0,ac(g,null)}function ac(g,A){g.F=Date.now(),Ya(g),g.B=an(g.A);var O=g.B,q=g.S;Array.isArray(q)||(q=[String(q)]),lc(O.i,"t",q),g.C=0,O=g.j.L,g.h=new xa,g.g=pm(g.j,O?A:null,!g.u),g.P>0&&(g.O=new lr(f(g.Y,g,g.g),g.P)),A=g.V,O=g.g,q=g.ba;var X="readystatechange";Array.isArray(X)||(X&&(Zu[0]=X.toString()),X=Zu);for(let ae=0;ae<X.length;ae++){const ye=ce(O,X[ae],q||A.handleEvent,!1,A.h||A);if(!ye)break;A.g[ye.key]=ye}A=g.J?K(g.J):{},g.u?(g.v||(g.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,A)):(g.v="GET",g.g.ea(g.B,g.v,null,A)),$a(),e0(g.i,g.v,g.B,g.l,g.S,g.u)}ba.prototype.ba=function(g){g=g.target;const A=this.O;A&&Ea(g)==3?A.j():this.Y(g)},ba.prototype.Y=function(g){try{if(g==this.g)e:{const Fe=Ea(this.g),Gt=this.g.ya(),lt=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||zn(this.g)))){this.K||Fe!=4||Gt==7||(Gt==8||lt<=0?$a(3):$a(2)),Xa(this);var A=this.g.ca();this.X=A;var O=n0(this);if(this.o=A==200,Jf(this.i,this.v,this.B,this.l,this.S,Fe,A),this.o){if(this.U&&!this.L){t:{if(this.g){var q,X=this.g;if((q=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(q)){var ae=q;break t}}ae=null}if(g=ae)Ga(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qa(this,g);else{this.o=!1,this.m=3,tn(12),Cr(this),Kr(this);break e}}if(this.R){g=!0;let Rt;for(;!this.K&&this.C<O.length;)if(Rt=nm(this,O),Rt==An){Fe==4&&(this.m=4,tn(14),g=!1),Ga(this.i,this.l,null,"[Incomplete Response]");break}else if(Rt==nn){this.m=4,tn(15),Ga(this.i,this.l,O,"[Invalid Chunk]"),g=!1;break}else Ga(this.i,this.l,Rt,null),Qa(this,Rt);if(tm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||O.length!=0||this.h.h||(this.m=1,tn(16),g=!1),this.o=this.o&&g,!g)Ga(this.i,this.l,O,"[Invalid Chunked Response]"),Cr(this),Kr(this);else if(O.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),vd(ye),ye.P=!0,tn(11))}}else Ga(this.i,this.l,O,null),Qa(this,O);Fe==4&&Cr(this),this.o&&!this.K&&(Fe==4?dm(this.j,this):(this.o=!1,Ya(this)))}else Ci(this.g),A==400&&O.indexOf("Unknown SID")>0?(this.m=3,tn(12)):(this.m=0,tn(13)),Cr(this),Kr(this)}}}catch{}finally{}};function n0(g){if(!tm(g))return g.g.la();const A=zn(g.g);if(A==="")return"";let O="";const q=A.length,X=Ea(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Cr(g),Kr(g),"";g.h.i=new l.TextDecoder}for(let ae=0;ae<q;ae++)g.h.h=!0,O+=g.h.i.decode(A[ae],{stream:!(X&&ae==q-1)});return A.length=0,g.h.g+=O,g.C=0,g.h.g}function tm(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function nm(g,A){var O=g.C,q=A.indexOf(`
`,O);return q==-1?An:(O=Number(A.substring(O,q)),isNaN(O)?nn:(q+=1,q+O>A.length?An:(A=A.slice(q,q+O),g.C=q+O,A)))}ba.prototype.cancel=function(){this.K=!0,Cr(this)};function Ya(g){g.T=Date.now()+g.H,ic(g,g.H)}function ic(g,A){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Ka(f(g.aa,g),A)}function Xa(g){g.D&&(l.clearTimeout(g.D),g.D=null)}ba.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Ho(this.i,this.B),this.M!=2&&($a(),tn(17)),Cr(this),this.m=2,Kr(this)):ic(this,this.T-g)};function Kr(g){g.j.I==0||g.K||dm(g.j,g)}function Cr(g){Xa(g);var A=g.O;A&&typeof A.dispose=="function"&&A.dispose(),g.O=null,Ju(g.V),g.g&&(A=g.g,g.g=null,A.abort(),A.dispose())}function Qa(g,A){try{var O=g.j;if(O.I!=0&&(O.g==g||Ja(O.h,g))){if(!g.L&&Ja(O.h,g)&&O.I==3){try{var q=O.Ba.g.parse(A)}catch{q=null}if(Array.isArray(q)&&q.length==3){var X=q;if(X[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<g.F)fc(O),Ls(O);else break e;tl(O),tn(18)}}else O.xa=X[1],0<O.xa-O.K&&X[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=Ka(f(O.Va,O),6e3));Za(O.h)<=1&&O.ta&&(O.ta=void 0)}else ii(O,11)}else if((g.L||O.g==g)&&fc(O),!R(A))for(X=O.Ba.g.parse(A),A=0;A<X.length;A++){let lt=X[A];const Rt=lt[0];if(!(Rt<=O.K))if(O.K=Rt,lt=lt[1],O.I==2)if(lt[0]=="c"){O.M=lt[1],O.ba=lt[2];const Yr=lt[3];Yr!=null&&(O.ka=Yr,O.j.info("VER="+O.ka));const si=lt[4];si!=null&&(O.za=si,O.j.info("SVER="+O.za));const Sa=lt[5];Sa!=null&&typeof Sa=="number"&&Sa>0&&(q=1.5*Sa,O.O=q,O.j.info("backChannelRequestTimeoutMs_="+q)),q=O;const ja=g.g;if(ja){const nl=ja.g?ja.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nl){var ae=q.h;ae.g||nl.indexOf("spdy")==-1&&nl.indexOf("quic")==-1&&nl.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(ad(ae,ae.h),ae.h=null))}if(q.G){const mc=ja.g?ja.g.getResponseHeader("X-HTTP-Session-Id"):null;mc&&(q.wa=mc,ft(q.J,q.G,mc))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-g.F,O.j.info("Handshake RTT: "+O.T+"ms")),q=O;var ye=g;if(q.na=mm(q,q.L?q.ba:null,q.W),ye.L){id(q.h,ye);var Fe=ye,Gt=q.O;Gt&&(Fe.H=Gt),Fe.D&&(Xa(Fe),Ya(Fe)),q.g=ye}else cm(q);O.i.length>0&&ai(O)}else lt[0]!="stop"&&lt[0]!="close"||ii(O,7);else O.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?ii(O,7):md(O):lt[0]!="noop"&&O.l&&O.l.qa(lt),O.A=0)}}$a(4)}catch{}}var rn=class{constructor(g,A){this.g=g,this.map=A}};function nd(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function rd(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Za(g){return g.h?1:g.g?g.g.size:0}function Ja(g,A){return g.h?g.h==A:g.g?g.g.has(A):!1}function ad(g,A){g.g?g.g.add(A):g.h=A}function id(g,A){g.h&&g.h==A?g.h=null:g.g&&g.g.has(A)&&g.g.delete(A)}nd.prototype.cancel=function(){if(this.i=sd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function sd(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let A=g.i;for(const O of g.g.values())A=A.concat(O.G);return A}return w(g.i)}var rm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sc(g,A){if(g){g=g.split("&");for(let O=0;O<g.length;O++){const q=g[O].indexOf("=");let X,ae=null;q>=0?(X=g[O].substring(0,q),ae=g[O].substring(q+1)):X=g[O],A(X,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Or(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;g instanceof Or?(this.l=g.l,Tn(this,g.j),this.o=g.o,this.g=g.g,Os(this,g.u),this.h=g.h,od(this,om(g.i)),this.m=g.m):g&&(A=String(g).match(rm))?(this.l=!1,Tn(this,A[1]||"",!0),this.o=ei(A[2]||""),this.g=ei(A[3]||"",!0),Os(this,A[4]),this.h=ei(A[5]||"",!0),od(this,A[6]||"",!0),this.m=ei(A[7]||"")):(this.l=!1,this.i=new Is(null,this.l))}Or.prototype.toString=function(){const g=[];var A=this.j;A&&g.push(Yo(A,oc,!0),":");var O=this.g;return(O||A=="file")&&(g.push("//"),(A=this.o)&&g.push(Yo(A,oc,!0),"@"),g.push(Ti(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&g.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&g.push("/"),g.push(Yo(O,O.charAt(0)=="/"?ld:am,!0))),(O=this.i.toString())&&g.push("?",O),(O=this.m)&&g.push("#",Yo(O,im)),g.join("")},Or.prototype.resolve=function(g){const A=an(this);let O=!!g.j;O?Tn(A,g.j):O=!!g.o,O?A.o=g.o:O=!!g.g,O?A.g=g.g:O=g.u!=null;var q=g.h;if(O)Os(A,g.u);else if(O=!!g.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var X=A.h.lastIndexOf("/");X!=-1&&(q=A.h.slice(0,X+1)+q)}if(X=q,X==".."||X==".")q="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){q=X.lastIndexOf("/",0)==0,X=X.split("/");const ae=[];for(let ye=0;ye<X.length;){const Fe=X[ye++];Fe=="."?q&&ye==X.length&&ae.push(""):Fe==".."?((ae.length>1||ae.length==1&&ae[0]!="")&&ae.pop(),q&&ye==X.length&&ae.push("")):(ae.push(Fe),q=!0)}q=ae.join("/")}else q=X}return O?A.h=q:O=g.i.toString()!=="",O?od(A,om(g.i)):O=!!g.m,O&&(A.m=g.m),A};function an(g){return new Or(g)}function Tn(g,A,O){g.j=O?ei(A,!0):A,g.j&&(g.j=g.j.replace(/:$/,""))}function Os(g,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);g.u=A}else g.u=null}function od(g,A,O){A instanceof Is?(g.i=A,cc(g.i,g.l)):(O||(A=Yo(A,Ps)),g.i=new Is(A,g.l))}function ft(g,A,O){g.i.set(A,O)}function Wo(g){return ft(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function ei(g,A){return g?A?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Yo(g,A,O){return typeof g=="string"?(g=encodeURI(g).replace(A,vr),O&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function vr(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var oc=/[#\/\?@]/g,am=/[#\?:]/g,ld=/[#\?]/g,Ps=/[#\?@]/g,im=/#/g;function Is(g,A){this.h=this.g=null,this.i=g||null,this.j=!!A}function gr(g){g.g||(g.g=new Map,g.h=0,g.i&&sc(g.i,function(A,O){g.add(decodeURIComponent(A.replace(/\+/g," ")),O)}))}t=Is.prototype,t.add=function(g,A){gr(this),this.i=null,g=Rs(this,g);let O=this.g.get(g);return O||this.g.set(g,O=[]),O.push(A),this.h+=1,this};function sm(g,A){gr(g),A=Rs(g,A),g.g.has(A)&&(g.i=null,g.h-=g.g.get(A).length,g.g.delete(A))}function cd(g,A){return gr(g),A=Rs(g,A),g.g.has(A)}t.forEach=function(g,A){gr(this),this.g.forEach(function(O,q){O.forEach(function(X){g.call(A,X,q,this)},this)},this)};function ud(g,A){gr(g);let O=[];if(typeof A=="string")cd(g,A)&&(O=O.concat(g.g.get(Rs(g,A))));else for(g=Array.from(g.g.values()),A=0;A<g.length;A++)O=O.concat(g[A]);return O}t.set=function(g,A){return gr(this),this.i=null,g=Rs(this,g),cd(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[A]),this.h+=1,this},t.get=function(g,A){return g?(g=ud(this,g),g.length>0?String(g[0]):A):A};function lc(g,A,O){sm(g,A),O.length>0&&(g.i=null,g.g.set(Rs(g,A),w(O)),g.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],A=Array.from(this.g.keys());for(let q=0;q<A.length;q++){var O=A[q];const X=Ti(O);O=ud(this,O);for(let ae=0;ae<O.length;ae++){let ye=X;O[ae]!==""&&(ye+="="+Ti(O[ae])),g.push(ye)}}return this.i=g.join("&")};function om(g){const A=new Is;return A.i=g.i,g.g&&(A.g=new Map(g.g),A.h=g.h),A}function Rs(g,A){return A=String(A),g.j&&(A=A.toLowerCase()),A}function cc(g,A){A&&!g.j&&(gr(g),g.i=null,g.g.forEach(function(O,q){const X=q.toLowerCase();q!=X&&(sm(this,q),lc(this,X,O))},g)),g.j=A}function wa(g,A){const O=new ya;if(l.Image){const q=new Image;q.onload=p(Gr,O,"TestLoadImage: loaded",!0,A,q),q.onerror=p(Gr,O,"TestLoadImage: error",!1,A,q),q.onabort=p(Gr,O,"TestLoadImage: abort",!1,A,q),q.ontimeout=p(Gr,O,"TestLoadImage: timeout",!1,A,q),l.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=g}else A(!1)}function dd(g,A){const O=new ya,q=new AbortController,X=setTimeout(()=>{q.abort(),Gr(O,"TestPingServer: timeout",!1,A)},1e4);fetch(g,{signal:q.signal}).then(ae=>{clearTimeout(X),ae.ok?Gr(O,"TestPingServer: ok",!0,A):Gr(O,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(X),Gr(O,"TestPingServer: error",!1,A)})}function Gr(g,A,O,q,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),q(O)}catch{}}function Ds(){this.g=new Wf}function ti(g){this.i=g.Sb||null,this.h=g.ab||!1}v(ti,Yf),ti.prototype.g=function(){return new Xo(this.i,this.h)};function Xo(g,A){en.call(this),this.H=g,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Xo,en),t=Xo.prototype,t.open=function(g,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=A,this.readyState=1,_a(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(A.body=g),(this.H||l).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ks(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,_a(this)),this.g&&(this.readyState=3,_a(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;uc(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function uc(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var A=g.value?g.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!g.done}))&&(this.response=this.responseText+=A)}g.done?ks(this):_a(this),this.readyState==3&&uc(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,ks(this))},t.Na=function(g){this.g&&(this.response=g,ks(this))},t.ga=function(){this.g&&ks(this)};function ks(g){g.readyState=4,g.l=null,g.j=null,g.B=null,_a(g)}t.setRequestHeader=function(g,A){this.A.append(g,A)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],A=this.h.entries();for(var O=A.next();!O.done;)O=O.value,g.push(O[0]+": "+O[1]),O=A.next();return g.join(`\r
`)};function _a(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Xo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Wr(g){let A="";return pe(g,function(O,q){A+=q,A+=":",A+=O,A+=`\r
`}),A}function Qo(g,A,O){e:{for(q in O){var q=!1;break e}q=!0}q||(O=Wr(O),typeof g=="string"?O!=null&&Ti(O):ft(g,A,O))}function gt(g){en.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(gt,en);var ni=/^https?$/i,hd=["POST","PUT"];t=gt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,A,O,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);A=A?A.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():td.g(),this.g.onreadystatechange=b(f(this.Ca,this));try{this.B=!0,this.g.open(A,String(g),!0),this.B=!1}catch(ae){Zo(this,ae);return}if(g=O||"",O=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var X in q)O.set(X,q[X]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const ae of q.keys())O.set(ae,q.get(ae));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(O.keys()).find(ae=>ae.toLowerCase()=="content-type"),X=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(hd,A,void 0)>=0)||q||X||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,ye]of O)this.g.setRequestHeader(ae,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(ae){Zo(this,ae)}};function Zo(g,A){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=A,g.o=5,fd(g),Ni(g)}function fd(g){g.A||(g.A=!0,gn(g,"complete"),gn(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,gn(this,"complete"),gn(this,"abort"),Ni(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),gt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Jo(this):this.Xa())},t.Xa=function(){Jo(this)};function Jo(g){if(g.h&&typeof s<"u"){if(g.v&&Ea(g)==4)setTimeout(g.Ca.bind(g),0);else if(gn(g,"readystatechange"),Ea(g)==4){g.h=!1;try{const ae=g.ca();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var O;if(!(O=A)){var q;if(q=ae===0){let ye=String(g.D).match(rm)[1]||null;!ye&&l.self&&l.self.location&&(ye=l.self.location.protocol.slice(0,-1)),q=!ni.test(ye?ye.toLowerCase():"")}O=q}if(O)gn(g,"complete"),gn(g,"success");else{g.o=6;try{var X=Ea(g)>2?g.g.statusText:""}catch{X=""}g.l=X+" ["+g.ca()+"]",fd(g)}}finally{Ni(g)}}}}function Ni(g,A){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const O=g.g;g.g=null,A||gn(g,"ready");try{O.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ea(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Ea(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var A=this.g.responseText;return g&&A.indexOf(g)==0&&(A=A.substring(g.length)),Jy(A)}};function zn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Ci(g){const A={};g=(g.g&&Ea(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<g.length;q++){if(R(g[q]))continue;var O=em(g[q]);const X=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const ae=A[X]||[];A[X]=ae,ae.push(O)}Se(A,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ri(g,A,O){return O&&O.internalChannelParams&&O.internalChannelParams[g]||A}function Ms(g){this.za=0,this.i=[],this.j=new ya,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ri("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ri("baseRetryDelayMs",5e3,g),this.Za=ri("retryDelaySeedMs",1e4,g),this.Ta=ri("forwardChannelMaxRetries",2,g),this.va=ri("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new nd(g&&g.concurrentRequestLimit),this.Ba=new Ds,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ms.prototype,t.ka=8,t.I=1,t.connect=function(g,A,O,q){tn(0),this.W=g,this.H=A||{},O&&q!==void 0&&(this.H.OSID=O,this.H.OAID=q),this.F=this.X,this.J=mm(this,null,this.W),ai(this)};function md(g){if(dc(g),g.I==3){var A=g.V++,O=an(g.J);if(ft(O,"SID",g.M),ft(O,"RID",A),ft(O,"TYPE","terminate"),el(g,O),A=new ba(g,g.j,A),A.M=2,A.A=Wo(an(O)),O=!1,l.navigator&&l.navigator.sendBeacon)try{O=l.navigator.sendBeacon(A.A.toString(),"")}catch{}!O&&l.Image&&(new Image().src=A.A,O=!0),O||(A.g=pm(A.j,null),A.g.ea(A.A)),A.F=Date.now(),Ya(A)}fm(g)}function Ls(g){g.g&&(vd(g),g.g.cancel(),g.g=null)}function dc(g){Ls(g),g.v&&(l.clearTimeout(g.v),g.v=null),fc(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function ai(g){if(!rd(g.h)&&!g.m){g.m=!0;var A=g.Ea;L||M(),B||(L(),B=!0),P.add(A,g),g.D=0}}function hc(g,A){return Za(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=A.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Ka(f(g.Ea,g,A),hm(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const X=new ba(this,this.j,g);let ae=this.o;if(this.U&&(ae?(ae=K(ae),ve(ae,this.U)):ae=this.U),this.u!==null||this.R||(X.J=ae,ae=null),this.S)e:{for(var A=0,O=0;O<this.i.length;O++){t:{var q=this.i[O];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(A+=q,A>4096){A=O;break e}if(A===4096||O===this.i.length-1){A=O+1;break e}}A=1e3}else A=1e3;A=lm(this,X,A),O=an(this.J),ft(O,"RID",g),ft(O,"CVER",22),this.G&&ft(O,"X-HTTP-Session-Id",this.G),el(this,O),ae&&(this.R?A="headers="+Ti(Wr(ae))+"&"+A:this.u&&Qo(O,this.u,ae)),ad(this.h,X),this.Ra&&ft(O,"TYPE","init"),this.S?(ft(O,"$req",A),ft(O,"SID","null"),X.U=!0,Wa(X,O,null)):Wa(X,O,A),this.I=2}}else this.I==3&&(g?pd(this,g):this.i.length==0||rd(this.h)||pd(this))};function pd(g,A){var O;A?O=A.l:O=g.V++;const q=an(g.J);ft(q,"SID",g.M),ft(q,"RID",O),ft(q,"AID",g.K),el(g,q),g.u&&g.o&&Qo(q,g.u,g.o),O=new ba(g,g.j,O,g.D+1),g.u===null&&(O.J=g.o),A&&(g.i=A.G.concat(g.i)),A=lm(g,O,1e3),O.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),ad(g.h,O),Wa(O,q,A)}function el(g,A){g.H&&pe(g.H,function(O,q){ft(A,q,O)}),g.l&&pe({},function(O,q){ft(A,q,O)})}function lm(g,A,O){O=Math.min(g.i.length,O);const q=g.l?f(g.l.Ka,g.l,g):null;e:{var X=g.i;let Fe=-1;for(;;){const Gt=["count="+O];Fe==-1?O>0?(Fe=X[0].g,Gt.push("ofs="+Fe)):Fe=0:Gt.push("ofs="+Fe);let lt=!0;for(let Rt=0;Rt<O;Rt++){var ae=X[Rt].g;const Yr=X[Rt].map;if(ae-=Fe,ae<0)Fe=Math.max(0,X[Rt].g-100),lt=!1;else try{ae="req"+ae+"_"||"";try{var ye=Yr instanceof Map?Yr:Object.entries(Yr);for(const[si,Sa]of ye){let ja=Sa;d(Sa)&&(ja=Cs(Sa)),Gt.push(ae+si+"="+encodeURIComponent(ja))}}catch(si){throw Gt.push(ae+"type="+encodeURIComponent("_badmap")),si}}catch{q&&q(Yr)}}if(lt){ye=Gt.join("&");break e}}ye=void 0}return g=g.i.splice(0,O),A.G=g,ye}function cm(g){if(!g.g&&!g.v){g.Y=1;var A=g.Da;L||M(),B||(L(),B=!0),P.add(A,g),g.A=0}}function tl(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Ka(f(g.Da,g),hm(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,um(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Ka(f(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,tn(10),Ls(this),um(this))};function vd(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function um(g){g.g=new ba(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var A=an(g.na);ft(A,"RID","rpc"),ft(A,"SID",g.M),ft(A,"AID",g.K),ft(A,"CI",g.F?"0":"1"),!g.F&&g.ia&&ft(A,"TO",g.ia),ft(A,"TYPE","xmlhttp"),el(g,A),g.u&&g.o&&Qo(A,g.u,g.o),g.O&&(g.g.H=g.O);var O=g.g;g=g.ba,O.M=1,O.A=Wo(an(A)),O.u=null,O.R=!0,ac(O,g)}t.Va=function(){this.C!=null&&(this.C=null,Ls(this),tl(this),tn(19))};function fc(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function dm(g,A){var O=null;if(g.g==A){fc(g),vd(g),g.g=null;var q=2}else if(Ja(g.h,A))O=A.G,id(g.h,A),q=1;else return;if(g.I!=0){if(A.o)if(q==1){O=A.u?A.u.length:0,A=Date.now()-A.F;var X=g.D;q=rc(),gn(q,new Ha(q,O)),ai(g)}else cm(g);else if(X=A.m,X==3||X==0&&A.X>0||!(q==1&&hc(g,A)||q==2&&tl(g)))switch(O&&O.length>0&&(A=g.h,A.i=A.i.concat(O)),X){case 1:ii(g,5);break;case 4:ii(g,10);break;case 3:ii(g,6);break;default:ii(g,2)}}}function hm(g,A){let O=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(O*=2),O*A}function ii(g,A){if(g.j.info("Error code "+A),A==2){var O=f(g.bb,g),q=g.Ua;const X=!q;q=new Or(q||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Tn(q,"https"),Wo(q),X?wa(q.toString(),O):dd(q.toString(),O)}else tn(2);g.I=0,g.l&&g.l.pa(A),fm(g),dc(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function fm(g){if(g.I=0,g.ja=[],g.l){const A=sd(g.h);(A.length!=0||g.i.length!=0)&&(j(g.ja,A),j(g.ja,g.i),g.h.i.length=0,w(g.i),g.i.length=0),g.l.oa()}}function mm(g,A,O){var q=O instanceof Or?an(O):new Or(O);if(q.g!="")A&&(q.g=A+"."+q.g),Os(q,q.u);else{var X=l.location;q=X.protocol,A=A?A+"."+X.hostname:X.hostname,X=+X.port;const ae=new Or(null);q&&Tn(ae,q),A&&(ae.g=A),X&&Os(ae,X),O&&(ae.h=O),q=ae}return O=g.G,A=g.wa,O&&A&&ft(q,O,A),ft(q,"VER",g.ka),el(g,q),q}function pm(g,A,O){if(A&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=g.Aa&&!g.ma?new gt(new ti({ab:O})):new gt(g.ma),A.Fa(g.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vm(){}t=vm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Vs(){}Vs.prototype.g=function(g,A){return new cr(g,A)};function cr(g,A){en.call(this),this.g=new Ms(A),this.l=g,this.h=A&&A.messageUrlParams||null,g=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(g?g["X-WebChannel-Content-Type"]=A.messageContentType:g={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(g?g["X-WebChannel-Client-Profile"]=A.sa:g={"X-WebChannel-Client-Profile":A.sa}),this.g.U=g,(g=A&&A.Qb)&&!R(g)&&(this.g.u=g),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!R(A)&&(this.g.G=A,g=this.h,g!==null&&A in g&&(g=this.h,A in g&&delete g[A])),this.j=new Oi(this)}v(cr,en),cr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cr.prototype.close=function(){md(this.g)},cr.prototype.o=function(g){var A=this.g;if(typeof g=="string"){var O={};O.__data__=g,g=O}else this.v&&(O={},O.__data__=Cs(g),g=O);A.i.push(new rn(A.Ya++,g)),A.I==3&&ai(A)},cr.prototype.N=function(){this.g.l=null,delete this.j,md(this.g),delete this.g,cr.Z.N.call(this)};function gm(g){Vn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var A=g.__sm__;if(A){e:{for(const O in A){g=O;break e}g=void 0}(this.i=g)&&(g=this.i,A=A!==null&&g in A?A[g]:void 0),this.data=A}else this.data=g}v(gm,Vn);function ym(){Hr.call(this),this.status=1}v(ym,Hr);function Oi(g){this.g=g}v(Oi,vm),Oi.prototype.ra=function(){gn(this.g,"a")},Oi.prototype.qa=function(g){gn(this.g,new gm(g))},Oi.prototype.pa=function(g){gn(this.g,new ym)},Oi.prototype.oa=function(){gn(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,cr.prototype.send=cr.prototype.o,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,VD=function(){return new Vs},LD=function(){return rc()},MD=Kt,r_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ko.NO_ERROR=0,Ko.TIMEOUT=8,Ko.HTTP_ERROR=6,Xp=Ko,ed.COMPLETE="complete",kD=ed,Xf.EventType=ga,ga.OPEN="a",ga.CLOSE="b",ga.ERROR="c",ga.MESSAGE="d",en.prototype.listen=en.prototype.J,mh=Xf,gt.prototype.listenOnce=gt.prototype.K,gt.prototype.getLastError=gt.prototype.Ha,gt.prototype.getLastErrorCode=gt.prototype.ya,gt.prototype.getStatus=gt.prototype.ca,gt.prototype.getResponseJson=gt.prototype.La,gt.prototype.getResponseText=gt.prototype.la,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Fa,DD=gt}).apply(typeof Ep<"u"?Ep:typeof self<"u"?self:typeof window<"u"?window:{});const vC="@firebase/firestore",gC="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}er.UNAUTHENTICATED=new er(null),er.GOOGLE_CREDENTIALS=new er("google-credentials-uid"),er.FIRST_PARTY=new er("first-party-uid"),er.MOCK_USER=new er("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=new DE("@firebase/firestore");function Gc(){return Ml.logLevel}function xe(t,...e){if(Ml.logLevel<=Xe.DEBUG){const n=e.map(LE);Ml.debug(`Firestore (${Mu}): ${t}`,...n)}}function os(t,...e){if(Ml.logLevel<=Xe.ERROR){const n=e.map(LE);Ml.error(`Firestore (${Mu}): ${t}`,...n)}}function du(t,...e){if(Ml.logLevel<=Xe.WARN){const n=e.map(LE);Ml.warn(`Firestore (${Mu}): ${t}`,...n)}}function LE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,zD(t,r,n)}function zD(t,e,n){let r=`FIRESTORE (${Mu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw os(r),new Error(r)}function ht(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||zD(e,a,r)}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends bs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(er.UNAUTHENTICATED)))}shutdown(){}}class hF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class fF{constructor(e){this.t=e,this.currentUser=er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let s=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ts,e.enqueueRetryable((()=>a(this.currentUser)))};const l=()=>{const h=s;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},d=h=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>d(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ts)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string",31837,{l:r}),new UD(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new er(e)}}class mF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=er.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new mF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(er.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,la(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ht(this.o===void 0,3512);const r=s=>{s.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,xe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const a=s=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>a(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yC(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=gF(40);for(let s=0;s<a.length;++s)r.length<20&&a[s]<n&&(r+=e.charAt(a[s]%62))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function a_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),s=e.charAt(r);if(a!==s)return cx(a)===cx(s)?Qe(a,s):cx(a)?1:-1}return Qe(t.length,e.length)}const yF=55296,bF=57343;function cx(t){const e=t.charCodeAt(0);return e>=yF&&e<=bF}function hu(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="__name__";class di{constructor(e,n,r){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof di?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const s=di.compareSegments(e.get(a),n.get(a));if(s!==0)return s}return Qe(e.length,n.length)}static compareSegments(e,n){const r=di.isNumericId(e),a=di.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?di.extractNumericId(e).compare(di.extractNumericId(n)):a_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Eo.fromString(e.substring(4,e.length-2))}}class At extends di{construct(e,n,r){return new At(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new At(n)}static emptyPath(){return new At([])}}const xF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends di{construct(e,n,r){return new Gn(e,n,r)}static isValidIdentifier(e){return xF.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bC}static keyField(){return new Gn([bC])}static fromServerFormat(e){const n=[];let r="",a=0;const s=()=>{if(r.length===0)throw new be(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new be(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new be(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else d==="`"?(l=!l,a++):d!=="."||l?(r+=d,a++):(s(),a++)}if(s(),l)throw new be(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(n)}static emptyPath(){return new Gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(At.fromString(e))}static fromName(e){return new Ie(At.fromString(e).popFirst(5))}static empty(){return new Ie(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new At(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t,e,n){if(!n)throw new be(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wF(t,e,n,r){if(e===!0&&r===!0)throw new be(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xC(t){if(!Ie.isDocumentKey(t))throw new be(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wC(t){if(Ie.isDocumentKey(t))throw new be(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function FD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Pg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function ka(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pg(t);throw new be(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t,e){const n={typeString:t};return e&&(n.value=e),n}function uf(t,e){if(!FD(t))throw new be(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(a&&typeof l!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new be(de.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=-62135596800,EC=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*EC);return new it(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_C)throw new be(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/EC}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uf(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_C;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:fn("string",it._jsonSchemaVersion),seconds:fn("number"),nanoseconds:fn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new it(0,0))}static max(){return new ze(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=-1;function _F(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=ze.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new To(a,Ie.empty(),e)}function EF(t){return new To(t.readTime,t.key,Ph)}class To{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new To(ze.min(),Ie.empty(),Ph)}static max(){return new To(ze.max(),Ie.empty(),Ph)}}function SF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lu(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==jF)throw t;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((r,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,a)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,r)=>{n(e)}))}static reject(e){return new fe(((n,r)=>{r(e)}))}static waitFor(e){return new fe(((n,r)=>{let a=0,s=0,l=!1;e.forEach((d=>{++a,d.next((()=>{++s,l&&s===a&&n()}),(h=>r(h)))})),l=!0,s===a&&n()}))}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next((a=>a?fe.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,s)=>{r.push(n.call(this,a,s))})),this.waitFor(r)}static mapArray(e,n){return new fe(((r,a)=>{const s=e.length,l=new Array(s);let d=0;for(let h=0;h<s;h++){const f=h;n(e[f]).next((p=>{l[f]=p,++d,d===s&&r(l)}),(p=>a(p)))}}))}static doWhile(e,n){return new fe(((r,a)=>{const s=()=>{e()===!0?n().next((()=>{s()}),a):r()};s()}))}}function TF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ig.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=-1;function Rg(t){return t==null}function pv(t){return t===0&&1/t==-1/0}function NF(t){return typeof t=="number"&&Number.isInteger(t)&&!pv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="";function CF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=SC(e)),e=OF(t.get(n),e);return SC(e)}function OF(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const s=t.charAt(a);switch(s){case"\0":n+="";break;case qD:n+="";break;default:n+=s}}return n}function SC(t){return t+qD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ko(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $D(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.comparator=e,this.root=n||Kn.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sp(this.root,e,this.comparator,!0)}}class Sp{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kn{constructor(e,n,r,a,s){this.key=e,this.value=n,this.color=r??Kn.RED,this.left=a??Kn.EMPTY,this.right=s??Kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,s){return new Kn(e??this.key,n??this.value,r??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const s=r(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,n,r),null):s===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Kn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}Kn.EMPTY=null,Kn.RED=!0,Kn.BLACK=!1;Kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,r,a,s){return this}insert(e,n,r){return new Kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new AC(this.data.getIterator())}getIteratorFrom(e){return new AC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new wn(this.comparator);return n.data=e,n}}class AC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new Ur([])}unionWith(e){let n=new wn(Gn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ur(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new HD("Invalid base64 string: "+s):s}})(e);return new Yn(n)}static fromUint8Array(e){const n=(function(a){let s="";for(let l=0;l<a.length;++l)s+=String.fromCharCode(a[l]);return s})(e);return new Yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yn.EMPTY_BYTE_STRING=new Yn("");const PF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function No(t){if(ht(!!t,39018),typeof t=="string"){let e=0;const n=PF.exec(t);if(ht(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(t.seconds),nanos:Qt(t.nanos)}}function Qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Co(t){return typeof t=="string"?Yn.fromBase64String(t):Yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="server_timestamp",GD="__type__",WD="__previous_value__",YD="__local_write_time__";function UE(t){return(t?.mapValue?.fields||{})[GD]?.stringValue===KD}function Dg(t){const e=t.mapValue.fields[WD];return UE(e)?Dg(e):e}function Ih(t){const e=No(t.mapValue.fields[YD].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,n,r,a,s,l,d,h,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=p}}const vv="(default)";class Rh{constructor(e,n){this.projectId=e,this.database=n||vv}static empty(){return new Rh("","")}get isDefaultDatabase(){return this.database===vv}isEqual(e){return e instanceof Rh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="__type__",RF="__max__",jp={mapValue:{}},QD="__vector__",gv="value";function Oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?UE(t)?4:kF(t)?9007199254740991:DF(t)?10:11:Le(28295,{value:t})}function xi(t,e){if(t===e)return!0;const n=Oo(t);if(n!==Oo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ih(t).isEqual(Ih(e));case 3:return(function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const l=No(a.timestampValue),d=No(s.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,s){return Co(a.bytesValue).isEqual(Co(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,s){return Qt(a.geoPointValue.latitude)===Qt(s.geoPointValue.latitude)&&Qt(a.geoPointValue.longitude)===Qt(s.geoPointValue.longitude)})(t,e);case 2:return(function(a,s){if("integerValue"in a&&"integerValue"in s)return Qt(a.integerValue)===Qt(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const l=Qt(a.doubleValue),d=Qt(s.doubleValue);return l===d?pv(l)===pv(d):isNaN(l)&&isNaN(d)}return!1})(t,e);case 9:return hu(t.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return(function(a,s){const l=a.mapValue.fields||{},d=s.mapValue.fields||{};if(jC(l)!==jC(d))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(d[h]===void 0||!xi(l[h],d[h])))return!1;return!0})(t,e);default:return Le(52216,{left:t})}}function Dh(t,e){return(t.values||[]).find((n=>xi(n,e)))!==void 0}function fu(t,e){if(t===e)return 0;const n=Oo(t),r=Oo(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const d=Qt(s.integerValue||s.doubleValue),h=Qt(l.integerValue||l.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1})(t,e);case 3:return TC(t.timestampValue,e.timestampValue);case 4:return TC(Ih(t),Ih(e));case 5:return a_(t.stringValue,e.stringValue);case 6:return(function(s,l){const d=Co(s),h=Co(l);return d.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const d=s.split("/"),h=l.split("/");for(let f=0;f<d.length&&f<h.length;f++){const p=Qe(d[f],h[f]);if(p!==0)return p}return Qe(d.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const d=Qe(Qt(s.latitude),Qt(l.latitude));return d!==0?d:Qe(Qt(s.longitude),Qt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return NC(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const d=s.fields||{},h=l.fields||{},f=d[gv]?.arrayValue,p=h[gv]?.arrayValue,v=Qe(f?.values?.length||0,p?.values?.length||0);return v!==0?v:NC(f,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===jp.mapValue&&l===jp.mapValue)return 0;if(s===jp.mapValue)return 1;if(l===jp.mapValue)return-1;const d=s.fields||{},h=Object.keys(d),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let v=0;v<h.length&&v<p.length;++v){const b=a_(h[v],p[v]);if(b!==0)return b;const w=fu(d[h[v]],f[p[v]]);if(w!==0)return w}return Qe(h.length,p.length)})(t.mapValue,e.mapValue);default:throw Le(23264,{he:n})}}function TC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=No(t),r=No(e),a=Qe(n.seconds,r.seconds);return a!==0?a:Qe(n.nanos,r.nanos)}function NC(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const s=fu(n[a],r[a]);if(s)return s}return Qe(n.length,r.length)}function mu(t){return i_(t)}function i_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=No(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Co(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const s of n.values||[])a?a=!1:r+=",",r+=i_(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",s=!0;for(const l of r)s?s=!1:a+=",",a+=`${l}:${i_(n.fields[l])}`;return a+"}"})(t.mapValue):Le(61005,{value:t})}function Qp(t){switch(Oo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dg(t);return e?16+Qp(e):16;case 5:return 2*t.stringValue.length;case 6:return Co(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,s)=>a+Qp(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return ko(r.fields,((s,l)=>{a+=s.length+Qp(l)})),a})(t.mapValue);default:throw Le(13486,{value:t})}}function CC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function s_(t){return!!t&&"integerValue"in t}function BE(t){return!!t&&"arrayValue"in t}function OC(t){return!!t&&"nullValue"in t}function PC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zp(t){return!!t&&"mapValue"in t}function DF(t){return(t?.mapValue?.fields||{})[XD]?.stringValue===QD}function wh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ko(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=wh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wh(t.arrayValue.values[n]);return e}return{...t}}function kF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===RF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.value=e}static empty(){return new jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wh(n)}setAll(e){let n=Gn.emptyPath(),r={},a=[];e.forEach(((l,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,r,a),r={},a=[],n=d.popLast()}l?r[d.lastSegment()]=wh(l):a.push(d.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,a)}delete(e){const n=this.field(e.popLast());Zp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Zp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){ko(n,((a,s)=>e[a]=s));for(const a of r)delete e[a]}clone(){return new jr(wh(this.value))}}function ZD(t){const e=[];return ko(t.fields,((n,r)=>{const a=new Gn([n]);if(Zp(r)){const s=ZD(r.mapValue).fields;if(s.length===0)e.push(a);else for(const l of s)e.push(a.child(l))}else e.push(a)})),new Ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n,r,a,s,l,d){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=s,this.data=l,this.documentState=d}static newInvalidDocument(e){return new tr(e,0,ze.min(),ze.min(),ze.min(),jr.empty(),0)}static newFoundDocument(e,n,r,a){return new tr(e,1,n,ze.min(),r,a,0)}static newNoDocument(e,n){return new tr(e,2,n,ze.min(),ze.min(),jr.empty(),0)}static newUnknownDocument(e,n){return new tr(e,3,n,ze.min(),ze.min(),jr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,n){this.position=e,this.inclusive=n}}function IC(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const s=e[a],l=t.position[a];if(s.field.isKeyField()?r=Ie.comparator(Ie.fromName(l.referenceValue),n.key):r=fu(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function RC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n="asc"){this.field=e,this.dir=n}}function MF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{}class hn extends JD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new VF(e,n,r):n==="array-contains"?new BF(e,r):n==="in"?new FF(e,r):n==="not-in"?new qF(e,r):n==="array-contains-any"?new $F(e,r):new hn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zF(e,r):new UF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fu(n,this.value)):n!==null&&Oo(this.value)===Oo(n)&&this.matchesComparison(fu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ma extends JD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ma(e,n)}matches(e){return ek(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ek(t){return t.op==="and"}function tk(t){return LF(t)&&ek(t)}function LF(t){for(const e of t.filters)if(e instanceof Ma)return!1;return!0}function o_(t){if(t instanceof hn)return t.field.canonicalString()+t.op.toString()+mu(t.value);if(tk(t))return t.filters.map((e=>o_(e))).join(",");{const e=t.filters.map((n=>o_(n))).join(",");return`${t.op}(${e})`}}function nk(t,e){return t instanceof hn?(function(r,a){return a instanceof hn&&r.op===a.op&&r.field.isEqual(a.field)&&xi(r.value,a.value)})(t,e):t instanceof Ma?(function(r,a){return a instanceof Ma&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((s,l,d)=>s&&nk(l,a.filters[d])),!0):!1})(t,e):void Le(19439)}function rk(t){return t instanceof hn?(function(n){return`${n.field.canonicalString()} ${n.op} ${mu(n.value)}`})(t):t instanceof Ma?(function(n){return n.op.toString()+" {"+n.getFilters().map(rk).join(" ,")+"}"})(t):"Filter"}class VF extends hn{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class zF extends hn{constructor(e,n){super(e,"in",n),this.keys=ak("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class UF extends hn{constructor(e,n){super(e,"not-in",n),this.keys=ak("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ak(t,e){return(e.arrayValue?.values||[]).map((n=>Ie.fromName(n.referenceValue)))}class BF extends hn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return BE(n)&&Dh(n.arrayValue,this.value)}}class FF extends hn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dh(this.value.arrayValue,n)}}class qF extends hn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Dh(this.value.arrayValue,n)}}class $F extends hn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!BE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Dh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n=null,r=[],a=[],s=null,l=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=s,this.startAt=l,this.endAt=d,this.Te=null}}function DC(t,e=null,n=[],r=[],a=null,s=null,l=null){return new HF(t,e,n,r,a,s,l)}function FE(t){const e=Be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>o_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Rg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>mu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>mu(r))).join(",")),e.Te=n}return e.Te}function qE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!MF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RC(t.startAt,e.startAt)&&RC(t.endAt,e.endAt)}function l_(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n=null,r=[],a=[],s=null,l="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=s,this.limitType=l,this.startAt=d,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function KF(t,e,n,r,a,s,l,d){return new zu(t,e,n,r,a,s,l,d)}function $E(t){return new zu(t)}function kC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ik(t){return t.collectionGroup!==null}function _h(t){const e=Be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new wn(Gn.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(d=d.add(f.field))}))})),d})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new kh(s,r))})),n.has(Gn.keyField().canonicalString())||e.Ie.push(new kh(Gn.keyField(),r))}return e.Ie}function fi(t){const e=Be(t);return e.Ee||(e.Ee=GF(e,_h(t))),e.Ee}function GF(t,e){if(t.limitType==="F")return DC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const s=a.dir==="desc"?"asc":"desc";return new kh(a.field,s)}));const n=t.endAt?new yv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yv(t.startAt.position,t.startAt.inclusive):null;return DC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function c_(t,e){const n=t.filters.concat([e]);return new zu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function u_(t,e,n){return new zu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kg(t,e){return qE(fi(t),fi(e))&&t.limitType===e.limitType}function sk(t){return`${FE(fi(t))}|lt:${t.limitType}`}function Wc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>rk(a))).join(", ")}]`),Rg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>mu(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>mu(a))).join(",")),`Target(${r})`})(fi(t))}; limitType=${t.limitType})`}function Mg(t,e){return e.isFoundDocument()&&(function(r,a){const s=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,a){for(const s of _h(r))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const s of r.filters)if(!s.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(l,d,h){const f=IC(l,d,h);return l.inclusive?f<=0:f<0})(r.startAt,_h(r),a)||r.endAt&&!(function(l,d,h){const f=IC(l,d,h);return l.inclusive?f>=0:f>0})(r.endAt,_h(r),a))})(t,e)}function WF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ok(t){return(e,n)=>{let r=!1;for(const a of _h(t)){const s=YF(a,e,n);if(s!==0)return s;r=r||a.field.isKeyField()}return 0}}function YF(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(s,l,d){const h=l.data.field(s),f=d.data.field(s);return h!==null&&f!==null?fu(h,f):Le(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,s]of r)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ko(this.inner,((n,r)=>{for(const[a,s]of r)e(a,s)}))}isEmpty(){return $D(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=new Bt(Ie.comparator);function ls(){return XF}const lk=new Bt(Ie.comparator);function ph(...t){let e=lk;for(const n of t)e=e.insert(n.key,n);return e}function ck(t){let e=lk;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function _l(){return Eh()}function uk(){return Eh()}function Eh(){return new Wl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const QF=new Bt(Ie.comparator),ZF=new wn(Ie.comparator);function Ze(...t){let e=ZF;for(const n of t)e=e.add(n);return e}const JF=new wn(Qe);function eq(){return JF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pv(e)?"-0":e}}function dk(t){return{integerValue:""+t}}function tq(t,e){return NF(e)?dk(e):HE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(){this._=void 0}}function nq(t,e,n){return t instanceof Mh?(function(a,s){const l={fields:{[GD]:{stringValue:KD},[YD]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&UE(s)&&(s=Dg(s)),s&&(l.fields[WD]=s),{mapValue:l}})(n,e):t instanceof Lh?fk(t,e):t instanceof Vh?mk(t,e):(function(a,s){const l=hk(a,s),d=MC(l)+MC(a.Ae);return s_(l)&&s_(a.Ae)?dk(d):HE(a.serializer,d)})(t,e)}function rq(t,e,n){return t instanceof Lh?fk(t,e):t instanceof Vh?mk(t,e):n}function hk(t,e){return t instanceof bv?(function(r){return s_(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Mh extends Lg{}class Lh extends Lg{constructor(e){super(),this.elements=e}}function fk(t,e){const n=pk(e);for(const r of t.elements)n.some((a=>xi(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Vh extends Lg{constructor(e){super(),this.elements=e}}function mk(t,e){let n=pk(e);for(const r of t.elements)n=n.filter((a=>!xi(a,r)));return{arrayValue:{values:n}}}class bv extends Lg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function MC(t){return Qt(t.integerValue||t.doubleValue)}function pk(t){return BE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e,n){this.field=e,this.transform=n}}function iq(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof Lh&&a instanceof Lh||r instanceof Vh&&a instanceof Vh?hu(r.elements,a.elements,xi):r instanceof bv&&a instanceof bv?xi(r.Ae,a.Ae):r instanceof Mh&&a instanceof Mh})(t.transform,e.transform)}class sq{constructor(e,n){this.version=e,this.transformResults=n}}class da{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new da}static exists(e){return new da(void 0,e)}static updateTime(e){return new da(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vg{}function vk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new KE(t.key,da.none()):new df(t.key,t.data,da.none());{const n=t.data,r=jr.empty();let a=new wn(Gn.comparator);for(let s of e.fields)if(!a.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),a=a.add(s)}return new Mo(t.key,r,new Ur(a.toArray()),da.none())}}function oq(t,e,n){t instanceof df?(function(a,s,l){const d=a.value.clone(),h=VC(a.fieldTransforms,s,l.transformResults);d.setAll(h),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Mo?(function(a,s,l){if(!Jp(a.precondition,s))return void s.convertToUnknownDocument(l.version);const d=VC(a.fieldTransforms,s,l.transformResults),h=s.data;h.setAll(gk(a)),h.setAll(d),s.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(a,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Sh(t,e,n,r){return t instanceof df?(function(s,l,d,h){if(!Jp(s.precondition,l))return d;const f=s.value.clone(),p=zC(s.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Mo?(function(s,l,d,h){if(!Jp(s.precondition,l))return d;const f=zC(s.fieldTransforms,h,l),p=l.data;return p.setAll(gk(s)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),d===null?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(s,l,d){return Jp(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d})(t,e,n)}function lq(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),s=hk(r.transform,a||null);s!=null&&(n===null&&(n=jr.empty()),n.set(r.field,s))}return n||null}function LC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&hu(r,a,((s,l)=>iq(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class df extends Vg{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Mo extends Vg{constructor(e,n,r,a,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function gk(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function VC(t,e,n){const r=new Map;ht(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const s=t[a],l=s.transform,d=e.data.field(s.field);r.set(s.field,rq(l,d,n[a]))}return r}function zC(t,e,n){const r=new Map;for(const a of t){const s=a.transform,l=n.data.field(a.field);r.set(a.field,nq(s,l,e))}return r}class KE extends Vg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cq extends Vg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&oq(s,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uk();return this.mutations.forEach((a=>{const s=e.get(a.key),l=s.overlayedDocument;let d=this.applyToLocalView(l,s.mutatedFields);d=n.has(a.key)?null:d;const h=vk(l,d);h!==null&&r.set(a.key,h),l.isValidDocument()||l.convertToNoDocument(ze.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ze())}isEqual(e){return this.batchId===e.batchId&&hu(this.mutations,e.mutations,((n,r)=>LC(n,r)))&&hu(this.baseMutations,e.baseMutations,((n,r)=>LC(n,r)))}}class GE{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){ht(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return QF})();const s=e.mutations;for(let l=0;l<s.length;l++)a=a.insert(s[l].key,r[l].version);return new GE(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,tt;function fq(t){switch(t){case de.OK:return Le(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function yk(t){if(t===void 0)return os("GRPC error has no .code"),de.UNKNOWN;switch(t){case un.OK:return de.OK;case un.CANCELLED:return de.CANCELLED;case un.UNKNOWN:return de.UNKNOWN;case un.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case un.INTERNAL:return de.INTERNAL;case un.UNAVAILABLE:return de.UNAVAILABLE;case un.UNAUTHENTICATED:return de.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case un.NOT_FOUND:return de.NOT_FOUND;case un.ALREADY_EXISTS:return de.ALREADY_EXISTS;case un.PERMISSION_DENIED:return de.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case un.ABORTED:return de.ABORTED;case un.OUT_OF_RANGE:return de.OUT_OF_RANGE;case un.UNIMPLEMENTED:return de.UNIMPLEMENTED;case un.DATA_LOSS:return de.DATA_LOSS;default:return Le(39323,{code:t})}}(tt=un||(un={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq=new Eo([4294967295,4294967295],0);function UC(t){const e=mq().encode(t),n=new RD;return n.update(e),new Uint8Array(n.digest())}function BC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Eo([n,r],0),new Eo([a,s],0)]}class WE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vh(`Invalid padding: ${n}`);if(r<0)throw new vh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Eo.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Eo.fromNumber(r)));return a.compare(pq)===1&&(a=new Eo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=UC(e),[r,a]=BC(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,a,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new WE(s,a,n);return r.forEach((d=>l.insert(d))),l}insert(e){if(this.ge===0)return;const n=UC(e),[r,a]=BC(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,a,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n,r,a,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,hf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zg(ze.min(),a,new Bt(Qe),ls(),Ze())}}class hf{constructor(e,n,r,a,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hf(r,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class bk{constructor(e,n){this.targetId=e,this.Ce=n}}class xk{constructor(e,n,r=Yn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class FC{constructor(){this.ve=0,this.Fe=qC(),this.Me=Yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ze(),n=Ze(),r=Ze();return this.Fe.forEach(((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Le(38017,{changeType:s})}})),new hf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=qC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vq{constructor(e){this.Ge=e,this.ze=new Map,this.je=ls(),this.Je=Ap(),this.He=Ap(),this.Ye=new Bt(Qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const s=a.target;if(l_(s))if(r===0){const l=new Ie(s.path);this.et(n,l,tr.newNoDocument(l,ze.min()))}else ht(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const d=this.ut(e),h=d?this.ct(d,e,l):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:s=0}=n;let l,d;try{l=Co(r).toUint8Array()}catch(h){if(h instanceof HD)return du("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new WE(l,a,s)}catch(h){return du(h instanceof vh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((s=>{const l=this.Ge.ht(),d=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(d)||(this.et(n,s,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const d=this.ot(l);if(d){if(s.current&&l_(d.target)){const h=new Ie(d.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,tr.newNoDocument(h,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=Ze();this.He.forEach(((s,l)=>{let d=!0;l.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const a=new zg(e,n,this.Ye,this.je,r);return this.je=ls(),this.Je=Ap(),this.He=Ap(),this.Ye=new Bt(Qe),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new FC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new wn(Qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new wn(Qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||xe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new FC),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ap(){return new Bt(Ie.comparator)}function qC(){return new Bt(Ie.comparator)}const gq={asc:"ASCENDING",desc:"DESCENDING"},yq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bq={and:"AND",or:"OR"};class xq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function d_(t,e){return t.useProto3Json||Rg(e)?e:{value:e}}function xv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wq(t,e){return xv(t,e.toTimestamp())}function mi(t){return ht(!!t,49232),ze.fromTimestamp((function(n){const r=No(n);return new it(r.seconds,r.nanos)})(t))}function YE(t,e){return h_(t,e).canonicalString()}function h_(t,e){const n=(function(a){return new At(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function _k(t){const e=At.fromString(t);return ht(Tk(e),10190,{key:e.toString()}),e}function f_(t,e){return YE(t.databaseId,e.path)}function ux(t,e){const n=_k(e);if(n.get(1)!==t.databaseId.projectId)throw new be(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(Sk(n))}function Ek(t,e){return YE(t.databaseId,e)}function _q(t){const e=_k(t);return e.length===4?At.emptyPath():Sk(e)}function m_(t){return new At(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Sk(t){return ht(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $C(t,e,n){return{name:f_(t,e),fields:n.value.mapValue.fields}}function Eq(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Le(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=(function(f,p){return f.useProto3Json?(ht(p===void 0||typeof p=="string",58123),Yn.fromBase64String(p||"")):(ht(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Yn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&(function(f){const p=f.code===void 0?de.UNKNOWN:yk(f.code);return new be(p,f.message||"")})(l);n=new xk(r,a,s,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=ux(t,r.document.name),s=mi(r.document.updateTime),l=r.document.createTime?mi(r.document.createTime):ze.min(),d=new jr({mapValue:{fields:r.document.fields}}),h=tr.newFoundDocument(a,s,l,d),f=r.targetIds||[],p=r.removedTargetIds||[];n=new ev(f,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=ux(t,r.document),s=r.readTime?mi(r.readTime):ze.min(),l=tr.newNoDocument(a,s),d=r.removedTargetIds||[];n=new ev([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=ux(t,r.document),s=r.removedTargetIds||[];n=new ev([],s,a,null)}else{if(!("filter"in e))return Le(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:s}=r,l=new hq(a,s),d=r.targetId;n=new bk(d,l)}}return n}function Sq(t,e){let n;if(e instanceof df)n={update:$C(t,e.key,e.value)};else if(e instanceof KE)n={delete:f_(t,e.key)};else if(e instanceof Mo)n={update:$C(t,e.key,e.data),updateMask:Rq(e.fieldMask)};else{if(!(e instanceof cq))return Le(16599,{Vt:e.type});n={verify:f_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const d=l.transform;if(d instanceof Mh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Lh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Vh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof bv)return{fieldPath:l.field.canonicalString(),increment:d.Ae};throw Le(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,s){return s.updateTime!==void 0?{updateTime:wq(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Le(27497)})(t,e.precondition)),n}function jq(t,e){return t&&t.length>0?(ht(e!==void 0,14353),t.map((n=>(function(a,s){let l=a.updateTime?mi(a.updateTime):mi(s);return l.isEqual(ze.min())&&(l=mi(s)),new sq(l,a.transformResults||[])})(n,e)))):[]}function Aq(t,e){return{documents:[Ek(t,e.path)]}}function Tq(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ek(t,a);const s=(function(f){if(f.length!==0)return Ak(Ma.create(f,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(f){if(f.length!==0)return f.map((p=>(function(b){return{field:Yc(b.field),direction:Oq(b.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const d=d_(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:a}}function Nq(t){let e=_q(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){ht(r===1,65062);const p=n.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(v){const b=jk(v);return b instanceof Ma&&tk(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(v){return v.map((b=>(function(j){return new kh(Xc(j.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(b)))})(n.orderBy));let d=null;n.limit&&(d=(function(v){let b;return b=typeof v=="object"?v.value:v,Rg(b)?null:b})(n.limit));let h=null;n.startAt&&(h=(function(v){const b=!!v.before,w=v.values||[];return new yv(w,b)})(n.startAt));let f=null;return n.endAt&&(f=(function(v){const b=!v.before,w=v.values||[];return new yv(w,b)})(n.endAt)),KF(e,a,l,s,d,"F",h,f)}function Cq(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jk(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xc(n.unaryFilter.field);return hn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Xc(n.unaryFilter.field);return hn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Xc(n.unaryFilter.field);return hn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Xc(n.unaryFilter.field);return hn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(t):t.fieldFilter!==void 0?(function(n){return hn.create(Xc(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ma.create(n.compositeFilter.filters.map((r=>jk(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(n.compositeFilter.op))})(t):Le(30097,{filter:t})}function Oq(t){return gq[t]}function Pq(t){return yq[t]}function Iq(t){return bq[t]}function Yc(t){return{fieldPath:t.canonicalString()}}function Xc(t){return Gn.fromServerFormat(t.fieldPath)}function Ak(t){return t instanceof hn?(function(n){if(n.op==="=="){if(PC(n.value))return{unaryFilter:{field:Yc(n.field),op:"IS_NAN"}};if(OC(n.value))return{unaryFilter:{field:Yc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PC(n.value))return{unaryFilter:{field:Yc(n.field),op:"IS_NOT_NAN"}};if(OC(n.value))return{unaryFilter:{field:Yc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yc(n.field),op:Pq(n.op),value:n.value}}})(t):t instanceof Ma?(function(n){const r=n.getFilters().map((a=>Ak(a)));return r.length===1?r[0]:{compositeFilter:{op:Iq(n.op),filters:r}}})(t):Le(54877,{filter:t})}function Rq(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Tk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n,r,a,s=ze.min(),l=ze.min(),d=Yn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new vo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e){this.yt=e}}function kq(t){const e=Nq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?u_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{constructor(){this.Cn=new Lq}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(To.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(To.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class Lq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new wn(At.comparator),s=!a.has(r);return this.index[n]=a.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new wn(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nk=41943040;class Sr{static withCacheSize(e){return new Sr(e,Sr.DEFAULT_COLLECTION_PERCENTILE,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sr.DEFAULT_COLLECTION_PERCENTILE=10,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sr.DEFAULT=new Sr(Nk,Sr.DEFAULT_COLLECTION_PERCENTILE,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sr.DISABLED=new Sr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new pu(0)}static cr(){return new pu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="LruGarbageCollector",Vq=1048576;function GC([t,e],[n,r]){const a=Qe(t,n);return a===0?Qe(e,r):a}class zq{constructor(e){this.Ir=e,this.buffer=new wn(GC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Uq{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){xe(KC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vu(n)?xe(KC,"Ignoring IndexedDB error during garbage collection: ",n):await Lu(n)}await this.Vr(3e5)}))}}class Bq{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(Ig.ce);const r=new zq(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(HC)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HC):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,s,l,d,h,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,l=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(r=v,d=Date.now(),this.removeTargets(e,r,n)))).next((v=>(s=v,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(f=Date.now(),Gc()<=Xe.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${a} in `+(d-l)+`ms
	Removed ${s} targets in `+(h-d)+`ms
	Removed ${v} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:v}))))}}function Fq(t,e){return new Bq(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(){this.changes=new Wl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Sh(r.mutation,a,Ur.empty(),it.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ze()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ze()){const a=_l();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((s=>{let l=ph();return s.forEach(((d,h)=>{l=l.insert(d,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=_l();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ze())))}populateOverlays(e,n,r){const a=[];return r.forEach((s=>{n.has(s)||a.push(s)})),this.documentOverlayCache.getOverlays(e,a).next((s=>{s.forEach(((l,d)=>{n.set(l,d)}))}))}computeViews(e,n,r,a){let s=ls();const l=Eh(),d=(function(){return Eh()})();return n.forEach(((h,f)=>{const p=r.get(f.key);a.has(f.key)&&(p===void 0||p.mutation instanceof Mo)?s=s.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Sh(p.mutation,f,p.mutation.getFieldMask(),it.now())):l.set(f.key,Ur.empty())})),this.recalculateAndSaveOverlays(e,s).next((h=>(h.forEach(((f,p)=>l.set(f,p))),n.forEach(((f,p)=>d.set(f,new $q(p,l.get(f)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=Eh();let a=new Bt(((l,d)=>l-d)),s=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const d of l)d.keys().forEach((h=>{const f=n.get(h);if(f===null)return;let p=r.get(h)||Ur.empty();p=d.applyToLocalView(f,p),r.set(h,p);const v=(a.get(d.batchId)||Ze()).add(h);a=a.insert(d.batchId,v)}))})).next((()=>{const l=[],d=a.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),f=h.key,p=h.value,v=uk();p.forEach((b=>{if(!s.has(b)){const w=vk(n.get(b),r.get(b));w!==null&&v.set(b,w),s=s.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return fe.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(l){return Ie.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ik(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((s=>{const l=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-s.size):fe.resolve(_l());let d=Ph,h=s;return l.next((f=>fe.forEach(f,((p,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),s.get(p)?fe.resolve():this.remoteDocumentCache.getEntry(e,p).next((b=>{h=h.insert(p,b)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,h,f,Ze()))).next((p=>({batchId:d,changes:ck(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((r=>{let a=ph();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const s=n.collectionGroup;let l=ph();return this.indexManager.getCollectionParents(e,s).next((d=>fe.forEach(d,(h=>{const f=(function(v,b){return new zu(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,a).next((p=>{p.forEach(((v,b)=>{l=l.insert(v,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,a)))).next((l=>{s.forEach(((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,tr.newInvalidDocument(p)))}));let d=ph();return l.forEach(((h,f)=>{const p=s.get(h);p!==void 0&&Sh(p.mutation,f,Ur.empty(),it.now()),Mg(n,f)&&(d=d.insert(h,f))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:mi(a.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:kq(a.bundledQuery),readTime:mi(a.readTime)}})(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(){this.overlays=new Bt(Ie.comparator),this.qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_l();return fe.forEach(n,(a=>this.getOverlay(e,a).next((s=>{s!==null&&r.set(a,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,s)=>{this.St(e,n,s)})),fe.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const a=_l(),s=n.length+1,l=new Ie(n.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const h=d.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&h.largestBatchId>r&&a.set(h.getKey(),h)}return fe.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let s=new Bt(((f,p)=>f-p));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let p=s.get(f.largestBatchId);p===null&&(p=_l(),s=s.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const d=_l(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,p)=>d.set(f,p))),!(d.size()>=a)););return fe.resolve(d)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const l=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new dq(n,r));let s=this.qr.get(n);s===void 0&&(s=Ze(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(){this.sessionToken=Yn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.Qr=new wn(In.$r),this.Ur=new wn(In.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new In(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new In(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ie(new At([])),r=new In(n,e),a=new In(n,e+1),s=[];return this.Ur.forEachInRange([r,a],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ie(new At([])),r=new In(n,e),a=new In(n,e+1);let s=Ze();return this.Ur.forEachInRange([r,a],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new In(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class In{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ie.comparator(e.key,n.key)||Qe(e.Yr,n.Yr)}static Kr(e,n){return Qe(e.Yr,n.Yr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new wn(In.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new uq(s,n,r,a);this.mutationQueue.push(l);for(const d of a)this.Zr=this.Zr.add(new In(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return fe.resolve(l)}lookupMutationBatch(e,n){return fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),s=a<0?0:a;return fe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?zE:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new In(n,0),a=new In(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,a],(l=>{const d=this.Xr(l.Yr);s.push(d)})),fe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wn(Qe);return n.forEach((a=>{const s=new In(a,0),l=new In(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(d=>{r=r.add(d.Yr)}))})),fe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let s=r;Ie.isDocumentKey(s)||(s=s.child(""));const l=new In(new Ie(s),0);let d=new wn(Qe);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===a&&(d=d.add(h.Yr)),!0)}),l),fe.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return fe.forEach(n.mutations,(a=>{const s=new In(a.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new In(n,0),a=this.Zr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e){this.ri=e,this.docs=(function(){return new Bt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),s=a?a.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():tr.newInvalidDocument(n))}getEntries(e,n){let r=ls();return n.forEach((a=>{const s=this.docs.get(a);r=r.insert(a,s?s.document.mutableCopy():tr.newInvalidDocument(a))})),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let s=ls();const l=n.path,d=new Ie(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||SF(EF(p),r)<=0||(a.has(p.key)||Mg(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return fe.resolve(s)}getAllFromCollectionGroup(e,n,r,a){Le(9500)}ii(e,n){return fe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Qq(this)}getSize(e){return fe.resolve(this.size)}}class Qq extends qq{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(e){this.persistence=e,this.si=new Wl((n=>FE(n)),qE),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.oi=0,this._i=new XE,this.targetCount=0,this.ai=pu.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),fe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new pu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Pr(n),fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let a=0;const s=[];return this.si.forEach(((l,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),fe.waitFor(s).next((()=>a))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,s=[];return a&&n.forEach((l=>{s.push(a.markPotentiallyOrphaned(e,l))})),fe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ig(0),this.li=!1,this.li=!0,this.hi=new Wq,this.referenceDelegate=e(this),this.Pi=new Zq(this),this.indexManager=new Mq,this.remoteDocumentCache=(function(a){return new Xq(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Dq(n),this.Ii=new Kq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Gq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Yq(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){xe("MemoryPersistence","Starting transaction:",e);const a=new Jq(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((s=>this.referenceDelegate.di(a).next((()=>s)))).toPromise().then((s=>(a.raiseOnCommittedEvent(),s)))}Ai(e,n){return fe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Jq extends AF{constructor(e){super(),this.currentSequenceNumber=e}}class QE{constructor(e){this.persistence=e,this.Ri=new XE,this.Vi=null}static mi(e){return new QE(e)}get fi(){if(this.Vi)return this.Vi;throw Le(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(r=>{const a=Ie.fromPath(r);return this.gi(e,a).next((s=>{s||n.removeEntry(a,ze.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class wv{constructor(e,n){this.persistence=e,this.pi=new Wl((r=>CF(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=Fq(this,n)}static mi(e,n){return new wv(e,n)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return fe.forEach(this.pi,((r,a)=>this.br(e,r,a).next((s=>s?fe.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ii(e,(l=>this.br(e,l,n).next((d=>{d||(r++,s.removeEntry(l,ze.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qp(e.data.value)),n}br(e,n,r){return fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return fe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=Ze(),a=Ze();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new ZE(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return H9()?8:TF(ir())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,a,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new e8;return this.Ss(e,n,l).next((d=>{if(s.result=d,this.Vs)return this.bs(e,n,l,d.size)}))})).next((()=>s.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(Gc()<=Xe.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",Wc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(Gc()<=Xe.DEBUG&&xe("QueryEngine","Query:",Wc(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Gc()<=Xe.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",Wc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fi(n))):fe.resolve())}ys(e,n){if(kC(n))return fe.resolve(null);let r=fi(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=u_(n,null,"F"),r=fi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=Ze(...s);return this.ps.getDocuments(e,l).next((d=>this.indexManager.getMinOffset(e,r).next((h=>{const f=this.Ds(n,d);return this.Cs(n,f,l,h.readTime)?this.ys(e,u_(n,null,"F")):this.vs(e,f,n,h)}))))})))))}ws(e,n,r,a){return kC(n)||a.isEqual(ze.min())?fe.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,a)?fe.resolve(null):(Gc()<=Xe.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Wc(n)),this.vs(e,l,n,_F(a,Ph)).next((d=>d)))}))}Ds(e,n){let r=new wn(ok(e));return n.forEach(((a,s)=>{Mg(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}Ss(e,n,r){return Gc()<=Xe.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",Wc(n)),this.ps.getDocumentsMatchingQuery(e,n,To.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="LocalStore",n8=3e8;class r8{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Bt(Qe),this.xs=new Wl((s=>FE(s)),qE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hq(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function a8(t,e,n,r){return new r8(t,e,n,r)}async function Ok(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((s=>(a=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],d=[];let h=Ze();for(const f of a){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of s){d.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(r,h).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:d})))}))}))}function i8(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,h,f,p){const v=f.batch,b=v.keys();let w=fe.resolve();return b.forEach((j=>{w=w.next((()=>p.getEntry(h,j))).next((E=>{const S=f.docVersions.get(j);ht(S!==null,48541),E.version.compareTo(S)<0&&(v.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),p.addEntry(E)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(h,v)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let h=Ze();for(let f=0;f<d.mutationResults.length;++f)d.mutationResults[f].transformResults.length>0&&(h=h.add(d.batch.mutations[f].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function Pk(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function s8(t,e){const n=Be(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((p,v)=>{const b=a.get(v);if(!b)return;d.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,v))));let w=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(Yn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),a=a.insert(v,w),(function(E,S,T){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=n8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0})(b,w,p)&&d.push(n.Pi.updateTargetData(s,w))}));let h=ls(),f=Ze();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),d.push(o8(s,l,e.documentUpdates).next((p=>{h=p.ks,f=p.qs}))),!r.isEqual(ze.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((v=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));d.push(p)}return fe.waitFor(d).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,h,f))).next((()=>h))})).then((s=>(n.Ms=a,s)))}function o8(t,e,n){let r=Ze(),a=Ze();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=ls();return n.forEach(((d,h)=>{const f=s.get(d);h.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(d)),h.isNoDocument()&&h.version.isEqual(ze.min())?(e.removeEntry(d,h.readTime),l=l.insert(d,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(d,h)):xe(JE,"Ignoring outdated watch update for ",d,". Current version:",f.version," Watch version:",h.version)})),{ks:l,qs:a}}))}function l8(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=zE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function c8(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((s=>s?(a=s,fe.resolve(a)):n.Pi.allocateTargetId(r).next((l=>(a=new vo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function p_(t,e,n){const r=Be(t),a=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,a)))}catch(l){if(!Vu(l))throw l;xe(JE,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function WC(t,e,n){const r=Be(t);let a=ze.min(),s=Ze();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,f,p){const v=Be(h),b=v.xs.get(p);return b!==void 0?fe.resolve(v.Ms.get(b)):v.Pi.getTargetData(f,p)})(r,l,fi(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,d.targetId).next((h=>{s=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?a:ze.min(),n?s:Ze()))).next((d=>(u8(r,WF(e),d),{documents:d,Qs:s})))))}function u8(t,e,n){let r=t.Os.get(e)||ze.min();n.forEach(((a,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class YC{constructor(){this.activeTargetIds=eq()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d8{constructor(){this.Mo=new YC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new YC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="ConnectivityMonitor";class QC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){xe(XC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){xe(XC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tp=null;function v_(){return Tp===null?Tp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tp++,"0x"+Tp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="RestConnection",f8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class m8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===vv?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,s){const l=v_(),d=this.zo(e,n.toUriEncodedString());xe(dx,`Sending RPC '${e}' ${l}:`,d,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,s);const{host:f}=new URL(d),p=Du(f);return this.Jo(e,d,h,r,p).then((v=>(xe(dx,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw du(dx,`RPC '${e}' ${l} failed with error: `,v,"url: ",d,"request:",r),v}))}Ho(e,n,r,a,s,l){return this.Go(e,n,r,a,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Mu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,s)=>e[s]=a)),r&&r.headers.forEach(((a,s)=>e[s]=a))}zo(e,n){const r=f8[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn="WebChannelConnection";class v8 extends m8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,s){const l=v_();return new Promise(((d,h)=>{const f=new DD;f.setWithCredentials(!0),f.listenOnce(kD.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Xp.NO_ERROR:const v=f.getResponseJson();xe(Zn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),d(v);break;case Xp.TIMEOUT:xe(Zn,`RPC '${e}' ${l} timed out`),h(new be(de.DEADLINE_EXCEEDED,"Request time out"));break;case Xp.HTTP_ERROR:const b=f.getStatus();if(xe(Zn,`RPC '${e}' ${l} failed with status:`,b,"response text:",f.getResponseText()),b>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const j=w?.error;if(j&&j.status&&j.message){const E=(function(T){const C=T.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(C)>=0?C:de.UNKNOWN})(j.status);h(new be(E,j.message))}else h(new be(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new be(de.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{xe(Zn,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(a);xe(Zn,`RPC '${e}' ${l} sending request:`,a),f.send(n,"POST",p,r,15)}))}T_(e,n,r){const a=v_(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=VD(),d=LD(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const p=s.join("");xe(Zn,`Creating RPC '${e}' stream ${a}: ${p}`,h);const v=l.createWebChannel(p,h);this.I_(v);let b=!1,w=!1;const j=new p8({Yo:S=>{w?xe(Zn,`Not sending because RPC '${e}' stream ${a} is closed:`,S):(b||(xe(Zn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),xe(Zn,`RPC '${e}' stream ${a} sending:`,S),v.send(S))},Zo:()=>v.close()}),E=(S,T,C)=>{S.listen(T,(I=>{try{C(I)}catch(U){setTimeout((()=>{throw U}),0)}}))};return E(v,mh.EventType.OPEN,(()=>{w||(xe(Zn,`RPC '${e}' stream ${a} transport opened.`),j.o_())})),E(v,mh.EventType.CLOSE,(()=>{w||(w=!0,xe(Zn,`RPC '${e}' stream ${a} transport closed`),j.a_(),this.E_(v))})),E(v,mh.EventType.ERROR,(S=>{w||(w=!0,du(Zn,`RPC '${e}' stream ${a} transport errored. Name:`,S.name,"Message:",S.message),j.a_(new be(de.UNAVAILABLE,"The operation could not be completed")))})),E(v,mh.EventType.MESSAGE,(S=>{if(!w){const T=S.data[0];ht(!!T,16349);const C=T,I=C?.error||C[0]?.error;if(I){xe(Zn,`RPC '${e}' stream ${a} received error:`,I);const U=I.status;let L=(function(M){const D=un[M];if(D!==void 0)return yk(D)})(U),B=I.message;L===void 0&&(L=de.INTERNAL,B="Unknown error status: "+U+" with message "+I.message),w=!0,j.a_(new be(L,B)),v.close()}else xe(Zn,`RPC '${e}' stream ${a} received:`,T),j.u_(T)}})),E(d,MD.STAT_EVENT,(S=>{S.stat===r_.PROXY?xe(Zn,`RPC '${e}' stream ${a} detected buffering proxy`):S.stat===r_.NOPROXY&&xe(Zn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function hx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t){return new xq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,n,r=1e3,a=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&xe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="PersistentStream";class Rk{constructor(e,n,r,a,s,l,d,h){this.Mi=e,this.S_=r,this.b_=a,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ik(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(os(n.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new be(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return xe(ZC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(xe(ZC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class g8 extends Rk{constructor(e,n,r,a,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Eq(this.serializer,e),r=(function(s){if(!("targetChange"in s))return ze.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?ze.min():l.readTime?mi(l.readTime):ze.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=m_(this.serializer),n.addTarget=(function(s,l){let d;const h=l.target;if(d=l_(h)?{documents:Aq(s,h)}:{query:Tq(s,h).ft},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=wk(s,l.resumeToken);const f=d_(s,l.expectedCount);f!==null&&(d.expectedCount=f)}else if(l.snapshotVersion.compareTo(ze.min())>0){d.readTime=xv(s,l.snapshotVersion.toTimestamp());const f=d_(s,l.expectedCount);f!==null&&(d.expectedCount=f)}return d})(this.serializer,e);const r=Cq(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=m_(this.serializer),n.removeTarget=e,this.q_(n)}}class y8 extends Rk{constructor(e,n,r,a,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=jq(e.writeResults,e.commitTime),r=mi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=m_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Sq(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{}class x8 extends b8{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new be(de.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,h_(n,r),a,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new be(de.UNKNOWN,s.toString())}))}Ho(e,n,r,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.Ho(e,h_(n,r),a,l,d,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(de.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class w8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(os(n),this.aa=!1):xe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll="RemoteStore";class _8{constructor(e,n,r,a,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Yl(this)&&(xe(Ll,"Restarting streams for network reachability change."),await(async function(h){const f=Be(h);f.Ea.add(4),await ff(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Bg(f)})(this))}))})),this.Ra=new w8(r,a)}}async function Bg(t){if(Yl(t))for(const e of t.da)await e(!0)}async function ff(t){for(const e of t.da)await e(!1)}function Dk(t,e){const n=Be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),r1(n)?n1(n):Uu(n).O_()&&t1(n,e))}function e1(t,e){const n=Be(t),r=Uu(n);n.Ia.delete(e),r.O_()&&kk(n,e),n.Ia.size===0&&(r.O_()?r.L_():Yl(n)&&n.Ra.set("Unknown"))}function t1(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uu(t).Y_(e)}function kk(t,e){t.Va.Ue(e),Uu(t).Z_(e)}function n1(t){t.Va=new vq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Uu(t).start(),t.Ra.ua()}function r1(t){return Yl(t)&&!Uu(t).x_()&&t.Ia.size>0}function Yl(t){return Be(t).Ea.size===0}function Mk(t){t.Va=void 0}async function E8(t){t.Ra.set("Online")}async function S8(t){t.Ia.forEach(((e,n)=>{t1(t,e)}))}async function j8(t,e){Mk(t),r1(t)?(t.Ra.ha(e),n1(t)):t.Ra.set("Unknown")}async function A8(t,e,n){if(t.Ra.set("Online"),e instanceof xk&&e.state===2&&e.cause)try{await(async function(a,s){const l=s.cause;for(const d of s.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,l),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(r){xe(Ll,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _v(t,r)}else if(e instanceof ev?t.Va.Ze(e):e instanceof bk?t.Va.st(e):t.Va.tt(e),!n.isEqual(ze.min()))try{const r=await Pk(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const d=s.Va.Tt(l);return d.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=s.Ia.get(f);p&&s.Ia.set(f,p.withResumeToken(h.resumeToken,l))}})),d.targetMismatches.forEach(((h,f)=>{const p=s.Ia.get(h);if(!p)return;s.Ia.set(h,p.withResumeToken(Yn.EMPTY_BYTE_STRING,p.snapshotVersion)),kk(s,h);const v=new vo(p.target,h,f,p.sequenceNumber);t1(s,v)})),s.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){xe(Ll,"Failed to raise snapshot:",r),await _v(t,r)}}async function _v(t,e,n){if(!Vu(e))throw e;t.Ea.add(1),await ff(t),t.Ra.set("Offline"),n||(n=()=>Pk(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{xe(Ll,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Bg(t)}))}function Lk(t,e){return e().catch((n=>_v(t,n,e)))}async function Fg(t){const e=Be(t),n=Po(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zE;for(;T8(e);)try{const a=await l8(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,N8(e,a)}catch(a){await _v(e,a)}Vk(e)&&zk(e)}function T8(t){return Yl(t)&&t.Ta.length<10}function N8(t,e){t.Ta.push(e);const n=Po(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Vk(t){return Yl(t)&&!Po(t).x_()&&t.Ta.length>0}function zk(t){Po(t).start()}async function C8(t){Po(t).ra()}async function O8(t){const e=Po(t);for(const n of t.Ta)e.ea(n.mutations)}async function P8(t,e,n){const r=t.Ta.shift(),a=GE.from(r,e,n);await Lk(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Fg(t)}async function I8(t,e){e&&Po(t).X_&&await(async function(r,a){if((function(l){return fq(l)&&l!==de.ABORTED})(a.code)){const s=r.Ta.shift();Po(r).B_(),await Lk(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,a))),await Fg(r)}})(t,e),Vk(t)&&zk(t)}async function JC(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),xe(Ll,"RemoteStore received new credentials");const r=Yl(n);n.Ea.add(3),await ff(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Bg(n)}async function R8(t,e){const n=Be(t);e?(n.Ea.delete(2),await Bg(n)):e||(n.Ea.add(2),await ff(n),n.Ra.set("Unknown"))}function Uu(t){return t.ma||(t.ma=(function(n,r,a){const s=Be(n);return s.sa(),new g8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Xo:E8.bind(null,t),t_:S8.bind(null,t),r_:j8.bind(null,t),H_:A8.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),r1(t)?n1(t):t.Ra.set("Unknown")):(await t.ma.stop(),Mk(t))}))),t.ma}function Po(t){return t.fa||(t.fa=(function(n,r,a){const s=Be(n);return s.sa(),new y8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:C8.bind(null,t),r_:I8.bind(null,t),ta:O8.bind(null,t),na:P8.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Fg(t)):(await t.fa.stop(),t.Ta.length>0&&(xe(Ll,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n,r,a,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=s,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,s){const l=Date.now()+r,d=new a1(e,n,l,a,s);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function i1(t,e){if(os("AsyncQueue",`${e}: ${t}`),Vu(t))return new be(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{static emptySet(e){return new nu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=ph(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new nu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.ga=new Bt(Ie.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Le(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class vu{constructor(e,n,r,a,s,l,d,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,a,s){const l=[];return n.forEach((d=>{l.push({type:0,doc:d})})),new vu(e,n,nu.emptySet(n),l,r,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class k8{constructor(){this.queries=t2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Be(n),s=a.queries;a.queries=t2(),s.forEach(((l,d)=>{for(const h of d.Sa)h.onError(r)}))})(this,new be(de.ABORTED,"Firestore shutting down"))}}function t2(){return new Wl((t=>sk(t)),kg)}async function Uk(t,e){const n=Be(t);let r=3;const a=e.query;let s=n.queries.get(a);s?!s.ba()&&e.Da()&&(r=2):(s=new D8,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(a,!0);break;case 1:s.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(l){const d=i1(l,`Initialization of query '${Wc(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&s1(n)}async function Bk(t,e){const n=Be(t),r=e.query;let a=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?a=e.Da()?0:1:!s.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function M8(t,e){const n=Be(t);let r=!1;for(const a of e){const s=a.query,l=n.queries.get(s);if(l){for(const d of l.Sa)d.Fa(a)&&(r=!0);l.wa=a}}r&&s1(n)}function L8(t,e,n){const r=Be(t),a=r.queries.get(e);if(a)for(const s of a.Sa)s.onError(n);r.queries.delete(e)}function s1(t){t.Ca.forEach((e=>{e.next()}))}var g_,n2;(n2=g_||(g_={})).Ma="default",n2.Cache="cache";class Fk{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new vu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==g_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.key=e}}class $k{constructor(e){this.key=e}}class V8{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ze(),this.mutatedKeys=Ze(),this.eu=ok(e),this.tu=new nu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new e2,a=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=a,d=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((p,v)=>{const b=a.get(p),w=Mg(this.query,v)?v:null,j=!!b&&this.mutatedKeys.has(b.key),E=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let S=!1;b&&w?b.data.isEqual(w.data)?j!==E&&(r.track({type:3,doc:w}),S=!0):this.su(b,w)||(r.track({type:2,doc:w}),S=!0,(h&&this.eu(w,h)>0||f&&this.eu(w,f)<0)&&(d=!0)):!b&&w?(r.track({type:0,doc:w}),S=!0):b&&!w&&(r.track({type:1,doc:b}),S=!0,(h||f)&&(d=!0)),S&&(w?(l=l.add(w),s=E?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:d,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,v)=>(function(w,j){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Rt:S})}};return E(w)-E(j)})(p.type,v.type)||this.eu(p.doc,v.doc))),this.ou(r),a=a??!1;const d=n&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new vu(this.query,e.tu,s,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new e2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new $k(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new qk(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const o1="SyncEngine";class z8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class U8{constructor(e){this.key=e,this.hu=!1}}class B8{constructor(e,n,r,a,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Wl((d=>sk(d)),kg),this.Iu=new Map,this.Eu=new Set,this.du=new Bt(Ie.comparator),this.Au=new Map,this.Ru=new XE,this.Vu={},this.mu=new Map,this.fu=pu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function F8(t,e,n=!0){const r=Xk(t);let a;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await Hk(r,e,n,!0),a}async function q8(t,e){const n=Xk(t);await Hk(n,e,!0,!1)}async function Hk(t,e,n,r){const a=await c8(t.localStore,fi(e)),s=a.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let d;return r&&(d=await $8(t,e,s,l==="current",a.resumeToken)),t.isPrimaryClient&&n&&Dk(t.remoteStore,a),d}async function $8(t,e,n,r,a){t.pu=(v,b,w)=>(async function(E,S,T,C){let I=S.view.ru(T);I.Cs&&(I=await WC(E.localStore,S.query,!1).then((({documents:P})=>S.view.ru(P,I))));const U=C&&C.targetChanges.get(S.targetId),L=C&&C.targetMismatches.get(S.targetId)!=null,B=S.view.applyChanges(I,E.isPrimaryClient,U,L);return a2(E,S.targetId,B.au),B.snapshot})(t,v,b,w);const s=await WC(t.localStore,e,!0),l=new V8(e,s.Qs),d=l.ru(s.documents),h=hf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),f=l.applyChanges(d,t.isPrimaryClient,h);a2(t,n,f.au);const p=new z8(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function H8(t,e,n){const r=Be(t),a=r.Tu.get(e),s=r.Iu.get(a.targetId);if(s.length>1)return r.Iu.set(a.targetId,s.filter((l=>!kg(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await p_(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&e1(r.remoteStore,a.targetId),y_(r,a.targetId)})).catch(Lu)):(y_(r,a.targetId),await p_(r.localStore,a.targetId,!0))}async function K8(t,e){const n=Be(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),e1(n.remoteStore,r.targetId))}async function G8(t,e,n){const r=e$(t);try{const a=await(function(l,d){const h=Be(l),f=it.now(),p=d.reduce(((w,j)=>w.add(j.key)),Ze());let v,b;return h.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let j=ls(),E=Ze();return h.Ns.getEntries(w,p).next((S=>{j=S,j.forEach(((T,C)=>{C.isValidDocument()||(E=E.add(T))}))})).next((()=>h.localDocuments.getOverlayedDocuments(w,j))).next((S=>{v=S;const T=[];for(const C of d){const I=lq(C,v.get(C.key).overlayedDocument);I!=null&&T.push(new Mo(C.key,I,ZD(I.value.mapValue),da.exists(!0)))}return h.mutationQueue.addMutationBatch(w,f,T,d)})).next((S=>{b=S;const T=S.applyToLocalDocumentSet(v,E);return h.documentOverlayCache.saveOverlays(w,S.batchId,T)}))})).then((()=>({batchId:b.batchId,changes:ck(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(l,d,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new Bt(Qe)),f=f.insert(d,h),l.Vu[l.currentUser.toKey()]=f})(r,a.batchId,n),await mf(r,a.changes),await Fg(r.remoteStore)}catch(a){const s=i1(a,"Failed to persist write");n.reject(s)}}async function Kk(t,e){const n=Be(t);try{const r=await s8(n.localStore,e);e.targetChanges.forEach(((a,s)=>{const l=n.Au.get(s);l&&(ht(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?l.hu=!0:a.modifiedDocuments.size>0?ht(l.hu,14607):a.removedDocuments.size>0&&(ht(l.hu,42227),l.hu=!1))})),await mf(n,r,e)}catch(r){await Lu(r)}}function r2(t,e,n){const r=Be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((s,l)=>{const d=l.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(l,d){const h=Be(l);h.onlineState=d;let f=!1;h.queries.forEach(((p,v)=>{for(const b of v.Sa)b.va(d)&&(f=!0)})),f&&s1(h)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function W8(t,e,n){const r=Be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),s=a&&a.key;if(s){let l=new Bt(Ie.comparator);l=l.insert(s,tr.newNoDocument(s,ze.min()));const d=Ze().add(s),h=new zg(ze.min(),new Map,new Bt(Qe),l,d);await Kk(r,h),r.du=r.du.remove(s),r.Au.delete(e),l1(r)}else await p_(r.localStore,e,!1).then((()=>y_(r,e,n))).catch(Lu)}async function Y8(t,e){const n=Be(t),r=e.batch.batchId;try{const a=await i8(n.localStore,e);Wk(n,r,null),Gk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mf(n,a)}catch(a){await Lu(a)}}async function X8(t,e,n){const r=Be(t);try{const a=await(function(l,d){const h=Be(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return h.mutationQueue.lookupMutationBatch(f,d).next((v=>(ht(v!==null,37113),p=v.keys(),h.mutationQueue.removeMutationBatch(f,v)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,d))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>h.localDocuments.getDocuments(f,p)))}))})(r.localStore,e);Wk(r,e,n),Gk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await mf(r,a)}catch(a){await Lu(a)}}function Gk(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Wk(t,e,n){const r=Be(t);let a=r.Vu[r.currentUser.toKey()];if(a){const s=a.get(e);s&&(n?s.reject(n):s.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function y_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||Yk(t,r)}))}function Yk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(e1(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),l1(t))}function a2(t,e,n){for(const r of n)r instanceof qk?(t.Ru.addReference(r.key,e),Q8(t,r)):r instanceof $k?(xe(o1,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Yk(t,r.key)):Le(19791,{wu:r})}function Q8(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(xe(o1,"New document in limbo: "+n),t.Eu.add(r),l1(t))}function l1(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ie(At.fromString(e)),r=t.fu.next();t.Au.set(r,new U8(n)),t.du=t.du.insert(n,r),Dk(t.remoteStore,new vo(fi($E(n.path)),r,"TargetPurposeLimboResolution",Ig.ce))}}async function mf(t,e,n){const r=Be(t),a=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,h)=>{l.push(r.pu(h,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,p?"current":"not-current")}if(f){a.push(f);const p=ZE.As(h.targetId,f);s.push(p)}})))})),await Promise.all(l),r.Pu.H_(a),await(async function(h,f){const p=Be(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>fe.forEach(f,(b=>fe.forEach(b.Es,(w=>p.persistence.referenceDelegate.addReference(v,b.targetId,w))).next((()=>fe.forEach(b.ds,(w=>p.persistence.referenceDelegate.removeReference(v,b.targetId,w)))))))))}catch(v){if(!Vu(v))throw v;xe(JE,"Failed to update sequence numbers: "+v)}for(const v of f){const b=v.targetId;if(!v.fromCache){const w=p.Ms.get(b),j=w.snapshotVersion,E=w.withLastLimboFreeSnapshotVersion(j);p.Ms=p.Ms.insert(b,E)}}})(r.localStore,s))}async function Z8(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){xe(o1,"User change. New user:",e.toKey());const r=await Ok(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((d=>{d.forEach((h=>{h.reject(new be(de.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mf(n,r.Ls)}}function J8(t,e){const n=Be(t),r=n.Au.get(e);if(r&&r.hu)return Ze().add(r.key);{let a=Ze();const s=n.Iu.get(e);if(!s)return a;for(const l of s){const d=n.Tu.get(l);a=a.unionWith(d.view.nu)}return a}}function Xk(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W8.bind(null,e),e.Pu.H_=M8.bind(null,e.eventManager),e.Pu.yu=L8.bind(null,e.eventManager),e}function e$(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Y8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X8.bind(null,e),e}class Ev{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ug(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return a8(this.persistence,new t8,e.initialUser,this.serializer)}Cu(e){return new Ck(QE.mi,this.serializer)}Du(e){return new d8}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ev.provider={build:()=>new Ev};class t$ extends Ev{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ht(this.persistence.referenceDelegate instanceof wv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Uq(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sr.withCacheSize(this.cacheSizeBytes):Sr.DEFAULT;return new Ck((r=>wv.mi(r,n)),this.serializer)}}class b_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>r2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z8.bind(null,this.syncEngine),await R8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new k8})()}createDatastore(e){const n=Ug(e.databaseInfo.databaseId),r=(function(s){return new v8(s)})(e.databaseInfo);return(function(s,l,d,h){return new x8(s,l,d,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,s,l,d){return new _8(r,a,s,l,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>r2(this.syncEngine,n,0)),(function(){return QC.v()?new QC:new h8})())}createSyncEngine(e,n){return(function(a,s,l,d,h,f,p){const v=new B8(a,s,l,d,h,f);return p&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Be(n);xe(Ll,"RemoteStore shutting down."),r.Ea.add(5),await ff(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}b_.provider={build:()=>new b_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):os("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="FirestoreClient";class n${constructor(e,n,r,a,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=er.UNAUTHENTICATED,this.clientId=VE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{xe(Io,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(xe(Io,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=i1(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function fx(t,e){t.asyncQueue.verifyOperationInProgress(),xe(Io,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await Ok(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function i2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await r$(t);xe(Io,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>JC(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>JC(e.remoteStore,a))),t._onlineComponents=e}async function r$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xe(Io,"Using user provided OfflineComponentProvider");try{await fx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;du("Error using user provided cache. Falling back to memory cache: "+n),await fx(t,new Ev)}}else xe(Io,"Using default OfflineComponentProvider"),await fx(t,new t$(void 0));return t._offlineComponents}async function Zk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xe(Io,"Using user provided OnlineComponentProvider"),await i2(t,t._uninitializedComponentsProvider._online)):(xe(Io,"Using default OnlineComponentProvider"),await i2(t,new b_))),t._onlineComponents}function a$(t){return Zk(t).then((e=>e.syncEngine))}async function Jk(t){const e=await Zk(t),n=e.eventManager;return n.onListen=F8.bind(null,e.syncEngine),n.onUnlisten=H8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=q8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=K8.bind(null,e.syncEngine),n}function i$(t,e,n={}){const r=new ts;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,d,h,f){const p=new Qk({next:b=>{p.Nu(),l.enqueueAndForget((()=>Bk(s,v)));const w=b.docs.has(d);!w&&b.fromCache?f.reject(new be(de.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&h&&h.source==="server"?f.reject(new be(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(b)},error:b=>f.reject(b)}),v=new Fk($E(d.path),p,{includeMetadataChanges:!0,qa:!0});return Uk(s,v)})(await Jk(t),t.asyncQueue,e,n,r))),r.promise}function s$(t,e,n={}){const r=new ts;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,d,h,f){const p=new Qk({next:b=>{p.Nu(),l.enqueueAndForget((()=>Bk(s,v))),b.fromCache&&h.source==="server"?f.reject(new be(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(b)},error:b=>f.reject(b)}),v=new Fk(d,p,{includeMetadataChanges:!0,qa:!0});return Uk(s,v)})(await Jk(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM="firestore.googleapis.com",o2=!0;class l2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tM,this.ssl=o2}else this.host=e.host,this.ssl=e.ssl??o2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Nk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Vq)throw new be(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eM(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qg{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new dF;switch(r.type){case"firstParty":return new pF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=s2.get(n);r&&(xe("ComponentProvider","Removing Datastore"),s2.delete(n),r.terminate())})(this),Promise.resolve()}}function o$(t,e,n,r={}){t=ka(t,qg);const a=Du(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(jD(`https://${d}`),AD("Firestore",!0)),s.host!==tM&&s.host!==d&&du("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...s,host:d,ssl:a,emulatorOptions:r};if(!Dl(h,l)&&(t._setSettings(h),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=er.MOCK_USER;else{f=M9(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new be(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new er(v)}t._authCredentials=new hF(new UD(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xl(this.firestore,e,this._query)}}class Zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new So(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}toJSON(){return{type:Zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(uf(n,Zt._jsonSchema))return new Zt(e,r||null,new Ie(At.fromString(n.referencePath)))}}Zt._jsonSchemaVersion="firestore/documentReference/1.0",Zt._jsonSchema={type:fn("string",Zt._jsonSchemaVersion),referencePath:fn("string")};class So extends Xl{constructor(e,n,r){super(e,n,$E(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new Ie(e))}withConverter(e){return new So(this.firestore,e,this._path)}}function nt(t,e,...n){if(t=kn(t),BD("collection","path",e),t instanceof qg){const r=At.fromString(e,...n);return wC(r),new So(t,null,r)}{if(!(t instanceof Zt||t instanceof So))throw new be(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(At.fromString(e,...n));return wC(r),new So(t.firestore,null,r)}}function ut(t,e,...n){if(t=kn(t),arguments.length===1&&(e=VE.newId()),BD("doc","path",e),t instanceof qg){const r=At.fromString(e,...n);return xC(r),new Zt(t,null,new Ie(r))}{if(!(t instanceof Zt||t instanceof So))throw new be(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(At.fromString(e,...n));return xC(r),new Zt(t.firestore,t instanceof So?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="AsyncQueue";class u2{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ik(this,"async_queue_retry"),this._c=()=>{const r=hx();r&&xe(c2,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=hx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=hx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ts;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vu(e))throw e;xe(c2,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,os("INTERNAL UNHANDLED ERROR: ",d2(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=a1.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(a),a}uc(){this.nc&&Le(47125,{Pc:d2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function d2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ql extends qg{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new u2,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new u2(e),this._firestoreClient=void 0,await e}}}function l$(t,e){const n=typeof t=="object"?t:OD(),r=typeof t=="string"?t:vv,a=ME(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const s=D9("firestore");s&&o$(a,...s)}return a}function c1(t){if(t._terminated)throw new be(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||c$(t),t._firestoreClient}function c$(t){const e=t._freezeSettings(),n=(function(a,s,l,d){return new IF(a,s,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,eM(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new n$(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const s=a?._online.build();return{_offline:a?._offline.build(s),_online:s}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ca(Yn.fromBase64String(e))}catch(n){throw new be(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ca(Yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ca._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uf(e,ca._jsonSchema))return ca.fromBase64String(e.bytes)}}ca._jsonSchemaVersion="firestore/bytes/1.0",ca._jsonSchema={type:fn("string",ca._jsonSchemaVersion),bytes:fn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pi._jsonSchemaVersion}}static fromJSON(e){if(uf(e,pi._jsonSchema))return new pi(e.latitude,e.longitude)}}pi._jsonSchemaVersion="firestore/geoPoint/1.0",pi._jsonSchema={type:fn("string",pi._jsonSchemaVersion),latitude:fn("number"),longitude:fn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==a[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uf(e,vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new vi(e.vectorValues);throw new be(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:fn("string",vi._jsonSchemaVersion),vectorValues:fn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$=/^__.*__$/;class d${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mo(e,this.data,this.fieldMask,n,this.fieldTransforms):new df(e,this.data,n,this.fieldTransforms)}}class nM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function rM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ac:t})}}class u1{constructor(e,n,r,a,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new u1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Sv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(rM(this.Ac)&&u$.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class h${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ug(e)}Cc(e,n,r,a=!1){return new u1({Ac:e,methodName:n,Dc:r,path:Gn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kg(t){const e=t._freezeSettings(),n=Ug(t._databaseId);return new h$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aM(t,e,n,r,a,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,a);h1("Data must be an object, but it was:",l,r);const d=iM(r,l);let h,f;if(s.merge)h=new Ur(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const v of s.mergeFields){const b=x_(e,v,n);if(!l.contains(b))throw new be(de.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);oM(p,b)||p.push(b)}h=new Ur(p),f=l.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,f=l.fieldTransforms;return new d$(new jr(d),h,f)}class Gg extends Hg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gg}}class d1 extends Hg{_toFieldTransform(e){return new aq(e.path,new Mh)}isEqual(e){return e instanceof d1}}function f$(t,e,n,r){const a=t.Cc(1,e,n);h1("Data must be an object, but it was:",a,r);const s=[],l=jr.empty();ko(r,((h,f)=>{const p=f1(e,h,n);f=kn(f);const v=a.yc(p);if(f instanceof Gg)s.push(p);else{const b=pf(f,v);b!=null&&(s.push(p),l.set(p,b))}}));const d=new Ur(s);return new nM(l,d,a.fieldTransforms)}function m$(t,e,n,r,a,s){const l=t.Cc(1,e,n),d=[x_(e,r,n)],h=[a];if(s.length%2!=0)throw new be(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)d.push(x_(e,s[b])),h.push(s[b+1]);const f=[],p=jr.empty();for(let b=d.length-1;b>=0;--b)if(!oM(f,d[b])){const w=d[b];let j=h[b];j=kn(j);const E=l.yc(w);if(j instanceof Gg)f.push(w);else{const S=pf(j,E);S!=null&&(f.push(w),p.set(w,S))}}const v=new Ur(f);return new nM(p,v,l.fieldTransforms)}function p$(t,e,n,r=!1){return pf(n,t.Cc(r?4:3,e))}function pf(t,e){if(sM(t=kn(t)))return h1("Unsupported field value:",e,t),iM(t,e);if(t instanceof Hg)return(function(r,a){if(!rM(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(a);s&&a.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const s=[];let l=0;for(const d of r){let h=pf(d,a.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,a){if((r=kn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tq(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=it.fromDate(r);return{timestampValue:xv(a.serializer,s)}}if(r instanceof it){const s=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xv(a.serializer,s)}}if(r instanceof pi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ca)return{bytesValue:wk(a.serializer,r._byteString)};if(r instanceof Zt){const s=a.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw a.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:YE(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof vi)return(function(l,d){return{mapValue:{fields:{[XD]:{stringValue:QD},[gv]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw d.Sc("VectorValues must only contain numeric values.");return HE(d.serializer,f)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Pg(r)}`)})(t,e)}function iM(t,e){const n={};return $D(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ko(t,((r,a)=>{const s=pf(a,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function sM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof pi||t instanceof ca||t instanceof Zt||t instanceof Hg||t instanceof vi)}function h1(t,e,n){if(!sM(n)||!FD(n)){const r=Pg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function x_(t,e,n){if((e=kn(e))instanceof $g)return e._internalPath;if(typeof e=="string")return f1(t,e);throw Sv("Field path arguments must be of type string or ",t,!1,void 0,n)}const v$=new RegExp("[~\\*/\\[\\]]");function f1(t,e,n){if(e.search(v$)>=0)throw Sv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $g(...e.split("."))._internalPath}catch{throw Sv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sv(t,e,n,r,a){const s=r&&!r.isEmpty(),l=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(s||l)&&(h+=" (found",s&&(h+=` in field ${r}`),l&&(h+=` in document ${a}`),h+=")"),new be(de.INVALID_ARGUMENT,d+t+h)}function oM(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n,r,a,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class g$ extends lM{data(){return super.data()}}function Wg(t,e){return typeof e=="string"?f1(t,e):e instanceof $g?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class m1{}class cM extends m1{}function dt(t,e,...n){let r=[];e instanceof m1&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((h=>h instanceof p1)).length,d=s.filter((h=>h instanceof Yg)).length;if(l>1||l>0&&d>0)throw new be(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class Yg extends cM{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yg(e,n,r)}_apply(e){const n=this._parse(e);return uM(e._query,n),new Xl(e.firestore,e.converter,c_(e._query,n))}_parse(e){const n=Kg(e.firestore);return(function(s,l,d,h,f,p,v){let b;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new be(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){f2(v,p);const j=[];for(const E of v)j.push(h2(h,s,E));b={arrayValue:{values:j}}}else b=h2(h,s,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||f2(v,p),b=p$(d,l,v,p==="in"||p==="not-in");return hn.create(f,p,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function rr(t,e,n){const r=e,a=Wg("where",t);return Yg._create(a,r,n)}class p1 extends m1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new p1(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ma.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,s){let l=a;const d=s.getFlattenedFilters();for(const h of d)uM(l,h),l=c_(l,h)})(e._query,n),new Xl(e.firestore,e.converter,c_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class v1 extends cM{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new v1(e,n)}_apply(e){const n=(function(a,s,l){if(a.startAt!==null)throw new be(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new be(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kh(s,l)})(e._query,this._field,this._direction);return new Xl(e.firestore,e.converter,(function(a,s){const l=a.explicitOrderBy.concat([s]);return new zu(a.path,a.collectionGroup,l,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Xn(t,e="asc"){const n=e,r=Wg("orderBy",t);return v1._create(r,n)}function h2(t,e,n){if(typeof(n=kn(n))=="string"){if(n==="")throw new be(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ik(e)&&n.indexOf("/")!==-1)throw new be(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(At.fromString(n));if(!Ie.isDocumentKey(r))throw new be(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return CC(t,new Ie(r))}if(n instanceof Zt)return CC(t,n._key);throw new be(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pg(n)}.`)}function f2(t,e){if(!Array.isArray(t)||t.length===0)throw new be(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uM(t,e){const n=(function(a,s){for(const l of a)for(const d of l.getFlattenedFilters())if(s.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new be(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class b${convertValue(e,n="none"){switch(Oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ko(e,((a,s)=>{r[a]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[gv].arrayValue?.values?.map((r=>Qt(r.doubleValue)));return new vi(n)}convertGeoPoint(e){return new pi(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ih(e));default:return null}}convertTimestamp(e){const n=No(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=At.fromString(e);ht(Tk(r),9688,{name:e});const a=new Rh(r.get(1),r.get(3)),s=new Ie(r.popFirst(5));return a.isEqual(n)||os(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class gh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tl extends lM{constructor(e,n,r,a,s,l){super(e,n,r,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Tl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Tl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Tl._jsonSchema={type:fn("string",Tl._jsonSchemaVersion),bundleSource:fn("string","DocumentSnapshot"),bundleName:fn("string"),bundle:fn("string")};class tv extends Tl{data(e={}){return super.data(e)}}class ru{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new gh(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new tv(this._firestore,this._userDataWriter,r.key,r,new gh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,s){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map((d=>{const h=new tv(a._firestore,a._userDataWriter,d.doc.key,d.doc,new gh(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>s||d.type!==3)).map((d=>{const h=new tv(a._firestore,a._userDataWriter,d.doc.key,d.doc,new gh(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,p=-1;return d.type!==0&&(f=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),p=l.indexOf(d.doc.key)),{type:x$(d.type),doc:h,oldIndex:f,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ru._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=VE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function x$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t){t=ka(t,Zt);const e=ka(t.firestore,Ql);return i$(c1(e),t._key).then((n=>w$(e,t,n)))}ru._jsonSchemaVersion="firestore/querySnapshot/1.0",ru._jsonSchema={type:fn("string",ru._jsonSchemaVersion),bundleSource:fn("string","QuerySnapshot"),bundleName:fn("string"),bundle:fn("string")};class hM extends b${constructor(e){super(),this.firestore=e}convertBytes(e){return new ca(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function vn(t){t=ka(t,Xl);const e=ka(t.firestore,Ql),n=c1(e),r=new hM(e);return y$(t._query),s$(n,t._query).then((a=>new ru(e,r,t,a)))}function m2(t,e,n){t=ka(t,Zt);const r=ka(t.firestore,Ql),a=dM(t.converter,e,n);return Xg(r,[aM(Kg(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,da.none())])}function pr(t,e,n,...r){t=ka(t,Zt);const a=ka(t.firestore,Ql),s=Kg(a);let l;return l=typeof(e=kn(e))=="string"||e instanceof $g?m$(s,"updateDoc",t._key,e,n,r):f$(s,"updateDoc",t._key,e),Xg(a,[l.toMutation(t._key,da.exists(!0))])}function xs(t){return Xg(ka(t.firestore,Ql),[new KE(t._key,da.none())])}function $r(t,e){const n=ka(t.firestore,Ql),r=ut(t),a=dM(t.converter,e);return Xg(n,[aM(Kg(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,da.exists(!1))]).then((()=>r))}function Xg(t,e){return(function(r,a){const s=new ts;return r.asyncQueue.enqueueAndForget((async()=>G8(await a$(r),a,s))),s.promise})(c1(t),e)}function w$(t,e,n){const r=n.docs.get(e._key),a=new hM(t);return new Tl(t,a,e._key,r,new gh(n.hasPendingWrites,n.fromCache),e.converter)}function nh(){return new d1("serverTimestamp")}(function(e,n=!0){(function(a){Mu=a})(ku),uu(new kl("firestore",((r,{instanceIdentifier:a,options:s})=>{const l=r.getProvider("app").getImmediate(),d=new Ql(new fF(r.getProvider("auth-internal")),new vF(l,r.getProvider("app-check-internal")),(function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new be(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rh(f.options.projectId,p)})(l,a),l);return s={useFetchStreams:n,...s},d._setSettings(s),d}),"PUBLIC").setMultipleInstances(!0)),_o(vC,gC,e),_o(vC,gC,"esm2020")})();function fM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _$=fM,mM=new lf("auth","Firebase",fM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=new DE("@firebase/auth");function E$(t,...e){jv.logLevel<=Xe.WARN&&jv.warn(`Auth (${ku}): ${t}`,...e)}function nv(t,...e){jv.logLevel<=Xe.ERROR&&jv.error(`Auth (${ku}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(t,...e){throw g1(t,...e)}function gi(t,...e){return g1(t,...e)}function pM(t,e,n){const r={..._$(),[e]:n};return new lf("auth","Firebase",r).create(e,{appName:t.name})}function ns(t){return pM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mM.create(t,...e)}function Me(t,e,...n){if(!t)throw g1(e,...n)}function Xi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nv(e),new Error(e)}function cs(t,e){t||Xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(){return typeof self<"u"&&self.location?.href||""}function S$(){return p2()==="http:"||p2()==="https:"}function p2(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S$()||F9()||"connection"in navigator)?navigator.onLine:!0}function A$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n){this.shortDelay=e,this.longDelay=n,cs(n>e,"Short delay should be less than long delay!"),this.isMobile=z9()||q9()}get(){return j$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t,e){cs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],C$=new vf(3e4,6e4);function Lo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Vo(t,e,n,r,a={}){return gM(t,a,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const d=cf({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...s};return B9()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Du(t.emulatorConfig.host)&&(f.credentials="include"),vM.fetch()(await yM(t,t.config.apiHost,n,d),f)})}async function gM(t,e,n){t._canInitEmulator=!1;const r={...T$,...e};try{const a=new P$(t),s=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Np(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const d=s.ok?l.errorMessage:l.error.message,[h,f]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Np(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Np(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Np(t,"user-disabled",l);const p=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw pM(t,p,f);La(t,p)}}catch(a){if(a instanceof bs)throw a;La(t,"network-request-failed",{message:String(a)})}}async function gf(t,e,n,r,a={}){const s=await Vo(t,e,n,r,a);return"mfaPendingCredential"in s&&La(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function yM(t,e,n,r){const a=`${e}${n}?${r}`,s=t,l=s.config.emulator?y1(t.config,a):`${t.config.apiScheme}://${a}`;return N$.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function O$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class P${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gi(this.auth,"network-request-failed")),C$.get())})}}function Np(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=gi(t,e,r);return a.customData._tokenResponse=n,a}function v2(t){return t!==void 0&&t.enterprise!==void 0}class I${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return O$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function R$(t,e){return Vo(t,"GET","/v2/recaptchaConfig",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D$(t,e){return Vo(t,"POST","/v1/accounts:delete",e)}async function Av(t,e){return Vo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function k$(t,e=!1){const n=kn(t),r=await n.getIdToken(e),a=b1(r);Me(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,l=s?.sign_in_provider;return{claims:a,token:r,authTime:jh(mx(a.auth_time)),issuedAtTime:jh(mx(a.iat)),expirationTime:jh(mx(a.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function mx(t){return Number(t)*1e3}function b1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return nv("JWT malformed, contained fewer than 3 sections"),null;try{const a=wD(n);return a?JSON.parse(a):(nv("Failed to decode base64 JWT payload"),null)}catch(a){return nv("Caught error parsing JWT payload as JSON",a?.toString()),null}}function g2(t){const e=b1(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof bs&&M$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function M$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jh(this.lastLoginAt),this.creationTime=jh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tv(t){const e=t.auth,n=await t.getIdToken(),r=await zh(t,Av(e,{idToken:n}));Me(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const s=a.providerUserInfo?.length?bM(a.providerUserInfo):[],l=z$(t.providerData,s),d=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!l?.length,f=d?h:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new __(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function V$(t){const e=kn(t);await Tv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z$(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function bM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U$(t,e){const n=await gM(t,{},async()=>{const r=cf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=t.config,l=await yM(t,a,"/v1/token",`key=${s}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:r};return t.emulatorConfig&&Du(t.emulatorConfig.host)&&(h.credentials="include"),vM.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function B$(t,e){return Vo(t,"POST","/v2/accounts:revokeToken",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=g2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:s}=await U$(e,n);this.updateTokensAndExpiration(r,a,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:s}=n,l=new au;return r&&(Me(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),a&&(Me(typeof a=="string","internal-error",{appName:e}),l.accessToken=a),s&&(Me(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new au,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ia{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new L$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new __(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await zh(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return k$(this,e)}reload(){return V$(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ia({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Tv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(la(this.auth.app))return Promise.reject(ns(this.auth));const e=await this.getIdToken();return await zh(this,D$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,d=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:j,stsTokenManager:E}=n;Me(v&&E,e,"internal-error");const S=au.fromJSON(this.name,E);Me(typeof v=="string",e,"internal-error"),oo(r,e.name),oo(a,e.name),Me(typeof b=="boolean",e,"internal-error"),Me(typeof w=="boolean",e,"internal-error"),oo(s,e.name),oo(l,e.name),oo(d,e.name),oo(h,e.name),oo(f,e.name),oo(p,e.name);const T=new Ia({uid:v,auth:e,email:a,emailVerified:b,displayName:r,isAnonymous:w,photoURL:l,phoneNumber:s,tenantId:d,stsTokenManager:S,createdAt:f,lastLoginAt:p});return j&&Array.isArray(j)&&(T.providerData=j.map(C=>({...C}))),h&&(T._redirectEventId=h),T}static async _fromIdTokenResponse(e,n,r=!1){const a=new au;a.updateFromServerResponse(n);const s=new Ia({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Tv(s),s}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Me(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?bM(a.providerUserInfo):[],l=!(a.email&&a.passwordHash)&&!s?.length,d=new au;d.updateFromIdToken(r);const h=new Ia({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:l}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new __(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!s?.length};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=new Map;function Qi(t){cs(t instanceof Function,"Expected a class definition");let e=y2.get(t);return e?(cs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,y2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xM.type="NONE";const b2=xM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t,e,n){return`firebase:${t}:${e}:${n}`}class iu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:s}=this.auth;this.fullUserKey=rv(this.userKey,a.apiKey,s),this.fullPersistenceKey=rv("persistence",a.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Av(this.auth,{idToken:e}).catch(()=>{});return n?Ia._fromGetAccountInfoResponse(this.auth,n,e):null}return Ia._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new iu(Qi(b2),e,r);const a=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=a[0]||Qi(b2);const l=rv(r,e.config.apiKey,e.name);let d=null;for(const f of n)try{const p=await f._get(l);if(p){let v;if(typeof p=="string"){const b=await Av(e,{idToken:p}).catch(()=>{});if(!b)break;v=await Ia._fromGetAccountInfoResponse(e,b,p)}else v=Ia._fromJSON(e,p);f!==s&&(d=v),s=f;break}}catch{}const h=a.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new iu(s,e,r):(s=h[0],d&&await s._set(l,d.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new iu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AM(e))return"Blackberry";if(TM(e))return"Webos";if(_M(e))return"Safari";if((e.includes("chrome/")||EM(e))&&!e.includes("edge/"))return"Chrome";if(jM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function wM(t=ir()){return/firefox\//i.test(t)}function _M(t=ir()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EM(t=ir()){return/crios\//i.test(t)}function SM(t=ir()){return/iemobile/i.test(t)}function jM(t=ir()){return/android/i.test(t)}function AM(t=ir()){return/blackberry/i.test(t)}function TM(t=ir()){return/webos/i.test(t)}function x1(t=ir()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function F$(t=ir()){return x1(t)&&!!window.navigator?.standalone}function q$(){return $9()&&document.documentMode===10}function NM(t=ir()){return x1(t)||jM(t)||TM(t)||AM(t)||/windows phone/i.test(t)||SM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t,e=[]){let n;switch(t){case"Browser":n=x2(ir());break;case"Worker":n=`${x2(ir())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ku}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,d)=>{try{const h=e(s);l(h)}catch(h){d(h)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H$(t,e={}){return Vo(t,"GET","/v2/passwordPolicy",Lo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$=6;class G${constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??K$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w2(this),this.idTokenSubscription=new w2(this),this.beforeStateQueue=new $$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await iu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Av(this,{idToken:e}),r=await Ia._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(la(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!s||s===l)&&d?.user&&(r=d.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Tv(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(la(this.app))return Promise.reject(ns(this));const n=e?kn(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return la(this.app)?Promise.reject(ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return la(this.app)?Promise.reject(ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await H$(this),n=new G$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await B$(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qi(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await iu.create(this,[Qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(d,this,"internal-error"),d.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,a);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(la(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&E$(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Zl(t){return kn(t)}class w2{constructor(e){this.auth=e,this.observer=null,this.addObserver=Z9(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y$(t){Qg=t}function OM(t){return Qg.loadJS(t)}function X$(){return Qg.recaptchaEnterpriseScript}function Q$(){return Qg.gapiScript}function Z$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class J${constructor(){this.enterprise=new e7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class e7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const t7="recaptcha-enterprise",PM="NO_RECAPTCHA";class n7{constructor(e){this.type=t7,this.auth=Zl(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,d)=>{R$(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const f=new I$(h);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,l(f.siteKey)}}).catch(h=>{d(h)})})}function a(s,l,d){const h=window.grecaptcha;v2(h)?h.enterprise.ready(()=>{h.enterprise.execute(s,{action:e}).then(f=>{l(f)}).catch(()=>{l(PM)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new J$().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(d=>{if(!n&&v2(window.grecaptcha))a(d,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=X$();h.length!==0&&(h+=d),OM(h).then(()=>{a(d,s,l)}).catch(f=>{l(f)})}}).catch(d=>{l(d)})})}}async function _2(t,e,n,r=!1,a=!1){const s=new n7(t);let l;if(a)l=PM;else try{l=await s.verify(n)}catch{l=await s.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,f=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:l}):Object.assign(d,{captchaResponse:l}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function E_(t,e,n,r,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await _2(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await _2(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(t,e){const n=ME(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),s=n.getOptions();if(Dl(s,e??{}))return a;La(a,"already-initialized")}return n.initialize({options:e})}function a7(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Qi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function i7(t,e,n){const r=Zl(t);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,s=IM(e),{host:l,port:d}=s7(e),h=d===null?"":`:${d}`,f={url:`${s}//${l}${h}/`},p=Object.freeze({host:l,port:d,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(Dl(f,r.config.emulator)&&Dl(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Du(l)?(jD(`${s}//${l}${h}`),AD("Auth",!0)):o7()}function IM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function s7(t){const e=IM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const s=a[1];return{host:s,port:E2(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:E2(l)}}}function E2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function o7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,n){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}async function l7(t,e){return Vo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c7(t,e){return gf(t,"POST","/v1/accounts:signInWithPassword",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u7(t,e){return gf(t,"POST","/v1/accounts:signInWithEmailLink",Lo(t,e))}async function d7(t,e){return gf(t,"POST","/v1/accounts:signInWithEmailLink",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends w1{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Uh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Uh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E_(e,n,"signInWithPassword",c7);case"emailLink":return u7(e,{email:this._email,oobCode:this._password});default:La(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E_(e,r,"signUpPassword",l7);case"emailLink":return d7(e,{idToken:n,email:this._email,oobCode:this._password});default:La(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(t,e){return gf(t,"POST","/v1/accounts:signInWithIdp",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7="http://localhost";class Vl extends w1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):La("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...s}=n;if(!r||!a)return null;const l=new Vl(r,a);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return su(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,su(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,su(e,n)}buildRequest(){const e={requestUri:h7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function m7(t){const e=hh(fh(t)).link,n=e?hh(fh(e)).deep_link_id:null,r=hh(fh(t)).deep_link_id;return(r?hh(fh(r)).link:null)||r||n||e||t}class _1{constructor(e){const n=hh(fh(e)),r=n.apiKey??null,a=n.oobCode??null,s=f7(n.mode??null);Me(r&&a&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=m7(e);try{return new _1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this.providerId=Bu.PROVIDER_ID}static credential(e,n){return Uh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=_1.parseLink(n);return Me(r,"argument-error"),Uh._fromEmailAndCode(e,r.code,r.tenantId)}}Bu.PROVIDER_ID="password";Bu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends RM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends yf{constructor(){super("facebook.com")}static credential(e){return Vl._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uo.credential(e.oauthAccessToken)}catch{return null}}}uo.FACEBOOK_SIGN_IN_METHOD="facebook.com";uo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends yf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vl._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ho.credential(n,r)}catch{return null}}}ho.GOOGLE_SIGN_IN_METHOD="google.com";ho.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends yf{constructor(){super("github.com")}static credential(e){return Vl._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fo.credential(e.oauthAccessToken)}catch{return null}}}fo.GITHUB_SIGN_IN_METHOD="github.com";fo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends yf{constructor(){super("twitter.com")}static credential(e,n){return Vl._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return mo.credential(n,r)}catch{return null}}}mo.TWITTER_SIGN_IN_METHOD="twitter.com";mo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p7(t,e){return gf(t,"POST","/v1/accounts:signUp",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const s=await Ia._fromIdTokenResponse(e,r,a),l=S2(r);return new zl({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=S2(r);return new zl({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function S2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends bs{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Nv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Nv(e,n,r,a)}}function DM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Nv._fromErrorAndOperation(t,s,e,r):s})}async function v7(t,e,n=!1){const r=await zh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return zl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g7(t,e,n=!1){const{auth:r}=t;if(la(r.app))return Promise.reject(ns(r));const a="reauthenticate";try{const s=await zh(t,DM(r,a,e,t),n);Me(s.idToken,r,"internal-error");const l=b1(s.idToken);Me(l,r,"internal-error");const{sub:d}=l;return Me(t.uid===d,r,"user-mismatch"),zl._forOperation(t,a,s)}catch(s){throw s?.code==="auth/user-not-found"&&La(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kM(t,e,n=!1){if(la(t.app))return Promise.reject(ns(t));const r="signIn",a=await DM(t,r,e),s=await zl._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(s.user),s}async function y7(t,e){return kM(Zl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(t){const e=Zl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function b7(t,e,n){if(la(t.app))return Promise.reject(ns(t));const r=Zl(t),l=await E_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",p7).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&MM(t),h}),d=await zl._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(d.user),d}function x7(t,e,n){return la(t.app)?Promise.reject(ns(t)):y7(kn(t),Bu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&MM(t),r})}function w7(t,e,n,r){return kn(t).onIdTokenChanged(e,n,r)}function _7(t,e,n){return kn(t).beforeAuthStateChanged(e,n)}function E7(t,e,n,r){return kn(t).onAuthStateChanged(e,n,r)}function S7(t){return kn(t).signOut()}const Cv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cv,"1"),this.storage.removeItem(Cv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7=1e3,A7=10;class VM extends LM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,d,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);q$()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,A7):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},j7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VM.type="LOCAL";const T7=VM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM extends LM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zM.type="SESSION";const UM=zM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Zg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:s}=n.data,l=this.handlersMap[a];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(l).map(async f=>f(n.origin,s)),h=await N7(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,l;return new Promise((d,h)=>{const f=E1("",20);a.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:a,onMessage(v){const b=v;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),d(b.data.response);break;default:clearTimeout(p),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(l),a.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[a.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function O7(t){yi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function P7(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function I7(){return navigator?.serviceWorker?.controller||null}function R7(){return BM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM="firebaseLocalStorageDb",D7=1,Ov="firebaseLocalStorage",qM="fbase_key";class bf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jg(t,e){return t.transaction([Ov],e?"readwrite":"readonly").objectStore(Ov)}function k7(){const t=indexedDB.deleteDatabase(FM);return new bf(t).toPromise()}function S_(){const t=indexedDB.open(FM,D7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ov,{keyPath:qM})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ov)?e(r):(r.close(),await k7(),e(await S_()))})})}async function j2(t,e,n){const r=Jg(t,!0).put({[qM]:e,value:n});return new bf(r).toPromise()}async function M7(t,e){const n=Jg(t,!1).get(e),r=await new bf(n).toPromise();return r===void 0?null:r.value}function A2(t,e){const n=Jg(t,!0).delete(e);return new bf(n).toPromise()}const L7=800,V7=3;class $M{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await S_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>V7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zg._getInstance(R7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await P7(),!this.activeServiceWorker)return;this.sender=new C7(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||I7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await S_();return await j2(e,Cv,"1"),await A2(e,Cv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>j2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>M7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>A2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=Jg(a,!1).getAll();return new bf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),L7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$M.type="LOCAL";const z7=$M;new vf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U7(t,e){return e?Qi(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1 extends w1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return su(e,this._buildIdpRequest())}_linkToIdToken(e,n){return su(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return su(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function B7(t){return kM(t.auth,new S1(t),t.bypassAuthState)}function F7(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),g7(n,new S1(t),t.bypassAuthState)}async function q7(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),v7(n,new S1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n,r,a,s=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:s,error:l,type:d}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B7;case"linkViaPopup":case"linkViaRedirect":return q7;case"reauthViaPopup":case"reauthViaRedirect":return F7;default:La(this.auth,"internal-error")}}resolve(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7=new vf(2e3,1e4);class Zc extends HM{constructor(e,n,r,a,s){super(e,n,a,s),this.provider=r,this.authWindow=null,this.pollId=null,Zc.currentPopupAction&&Zc.currentPopupAction.cancel(),Zc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const e=E1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$7.get())};e()}}Zc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7="pendingRedirect",av=new Map;class K7 extends HM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=av.get(this.auth._key());if(!e){try{const r=await G7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}av.set(this.auth._key(),e)}return this.bypassAuthState||av.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G7(t,e){const n=X7(e),r=Y7(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function W7(t,e){av.set(t._key(),e)}function Y7(t){return Qi(t._redirectPersistence)}function X7(t){return rv(H7,t.config.apiKey,t.name)}async function Q7(t,e,n=!1){if(la(t.app))return Promise.reject(ns(t));const r=Zl(t),a=U7(r,e),l=await new K7(r,a,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7=600*1e3;class J7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!KM(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(gi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z7&&this.cachedEventUids.clear(),this.cachedEventUids.has(T2(e))}saveEventToCache(e){this.cachedEventUids.add(T2(e)),this.lastProcessedEventTime=Date.now()}}function T2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function eH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tH(t,e={}){return Vo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rH=/^https?/;async function aH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tH(t);for(const n of e)try{if(iH(n))return}catch{}La(t,"unauthorized-domain")}function iH(t){const e=w_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!rH.test(n))return!1;if(nH.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH=new vf(3e4,6e4);function N2(){const t=yi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function oH(t){return new Promise((e,n)=>{function r(){N2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N2(),n(gi(t,"network-request-failed"))},timeout:sH.get()})}if(yi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(yi().gapi?.load)r();else{const a=Z$("iframefcb");return yi()[a]=()=>{gapi.load?r():n(gi(t,"network-request-failed"))},OM(`${Q$()}?onload=${a}`).catch(s=>n(s))}}).catch(e=>{throw iv=null,e})}let iv=null;function lH(t){return iv=iv||oH(t),iv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH=new vf(5e3,15e3),uH="__/auth/iframe",dH="emulator/auth/iframe",hH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mH(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?y1(e,dH):`https://${t.config.authDomain}/${uH}`,r={apiKey:e.apiKey,appName:t.name,v:ku},a=fH.get(t.config.apiHost);a&&(r.eid=a);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${cf(r).slice(1)}`}async function pH(t){const e=await lH(t),n=yi().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:mH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hH,dontclear:!0},r=>new Promise(async(a,s)=>{await r.restyle({setHideOnLeave:!1});const l=gi(t,"network-request-failed"),d=yi().setTimeout(()=>{s(l)},cH.get());function h(){yi().clearTimeout(d),a(r)}r.ping(h).then(h,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gH=500,yH=600,bH="_blank",xH="http://localhost";class C2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wH(t,e,n,r=gH,a=yH){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h={...vH,width:r.toString(),height:a.toString(),top:s,left:l},f=ir().toLowerCase();n&&(d=EM(f)?bH:n),wM(f)&&(e=e||xH,h.scrollbars="yes");const p=Object.entries(h).reduce((b,[w,j])=>`${b}${w}=${j},`,"");if(F$(f)&&d!=="_self")return _H(e||"",d),new C2(null);const v=window.open(e||"",d,p);Me(v,t,"popup-blocked");try{v.focus()}catch{}return new C2(v)}function _H(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH="__/auth/handler",SH="emulator/auth/handler",jH=encodeURIComponent("fac");async function O2(t,e,n,r,a,s){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ku,eventId:a};if(e instanceof RM){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",Q9(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries({}))l[p]=v}if(e instanceof yf){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const d=l;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const h=await t._getAppCheckToken(),f=h?`#${jH}=${encodeURIComponent(h)}`:"";return`${AH(t)}?${cf(d).slice(1)}${f}`}function AH({config:t}){return t.emulator?y1(t,SH):`https://${t.authDomain}/${EH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="webStorageSupport";class TH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UM,this._completeRedirectFn=Q7,this._overrideRedirectResult=W7}async _openPopup(e,n,r,a){cs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await O2(e,n,r,w_(),a);return wH(e,s,E1())}async _openRedirect(e,n,r,a){await this._originValidation(e);const s=await O2(e,n,r,w_(),a);return O7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:s}=this.eventManagers[n];return a?Promise.resolve(a):(cs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await pH(e),r=new J7(e);return n.register("authEvent",a=>(Me(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(px,{type:px},a=>{const s=a?.[0]?.[px];s!==void 0&&n(!!s),La(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NM()||_M()||x1()}}const NH=TH;var P2="@firebase/auth",I2="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PH(t){uu(new kl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;Me(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CM(t)},f=new W$(r,a,s,h);return a7(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),uu(new kl("auth-internal",e=>{const n=Zl(e.getProvider("auth").getImmediate());return(r=>new CH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_o(P2,I2,OH(t)),_o(P2,I2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH=300,RH=SD("authIdTokenMaxAge")||IH;let R2=null;const DH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>RH)return;const a=n?.token;R2!==a&&(R2=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function kH(t=OD()){const e=ME(t,"auth");if(e.isInitialized())return e.getImmediate();const n=r7(t,{popupRedirectResolver:NH,persistence:[z7,T7,UM]}),r=SD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=DH(s.toString());_7(n,l,()=>l(n.currentUser)),w7(n,d=>l(d))}}const a=_D("auth");return a&&i7(n,`http://${a}`),n}function MH(){return document.getElementsByTagName("head")?.[0]??document}Y$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const s=gi("internal-error");s.customData=a,n(s)},r.type="text/javascript",r.charset="UTF-8",MH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PH("Browser");const LH={apiKey:"AIzaSyAnPTDbFVZA9o0rUZi8MdrrFkybwb7Kjqo",authDomain:"goldcury-24db9.firebaseapp.com",projectId:"goldcury-24db9",storageBucket:"goldcury-24db9.firebasestorage.app",messagingSenderId:"872072121733",appId:"1:872072121733:web:9db7270d4c2a3b951408ec"},GM=CD(LH),Ee=l$(GM),Cp=kH(GM);function go(t){if(typeof t=="string")return t;switch(t?.code||""){case"auth/user-not-found":return"Usurio no encontrado. Verifique seu email.";case"auth/wrong-password":return"Senha incorreta. Tente novamente.";case"auth/invalid-email":return"Email invlido. Verifique o formato.";case"auth/email-already-in-use":return"Este email j est em uso. Tente fazer login.";case"auth/weak-password":return"A senha  muito fraca. Use pelo menos 6 caracteres.";case"auth/too-many-requests":return"Muitas tentativas. Tente novamente em alguns minutos.";case"auth/user-disabled":return"Conta desabilitada. Entre em contato com o suporte.";case"auth/network-request-failed":return"Erro de conexo. Verifique sua internet.";case"auth/invalid-api-key":return"Erro de configurao. Entre em contato com o suporte.";case"auth/operation-not-allowed":return"Operao no permitida. Entre em contato com o suporte.";default:return t?.message?t.message:"Erro inesperado. Tente novamente."}}const rh={async logOut(){try{await S7(Cp)}catch(t){const e=go(t);throw new Error(e)}},async login(t){try{const n=(await x7(Cp,t.email,t.password)).user,r=await El(ut(Ee,"users",n.uid));if(!r.exists())throw new Error("Usurio no encontrado no sistema.");const a=r.data()||{},s={...a,uid:a.uid||n.uid,email:a.email||n.email||"",name:a.name||"",phone:a.phone||"",createdAt:a.createdAt?.toDate?a.createdAt.toDate():new Date,updatedAt:a.updatedAt?.toDate?a.updatedAt.toDate():new Date,lastLogin:a.lastLogin?.toDate?a.lastLogin.toDate():void 0,role:a.role||"user"},l={...s,lastLogin:nh(),updatedAt:nh()};return await m2(ut(Ee,"users",n.uid),l,{merge:!0}),{...s,lastLogin:new Date,updatedAt:new Date}}catch(e){const n=go(e);throw new Error(n)}},async register(t){try{if(!t.email||!t.password||!t.name)throw new Error("Todos os campos so obrigatrios");if(t.password.length<6)throw new Error("A senha deve ter pelo menos 6 caracteres");const n=(await b7(Cp,t.email,t.password)).user,r={uid:n.uid,email:t.email,name:t.name,phone:t.phone||"",createdAt:nh(),updatedAt:nh(),role:t.role||"user"};return await m2(ut(Ee,"users",n.uid),r),{...r,createdAt:new Date,updatedAt:new Date}}catch(e){const n=go(e);throw new Error(n)}},async updateUserProfile(t,e){try{if(!t)throw new Error("UID do usurio  obrigatrio");if(e.name!==void 0&&(!e.name||e.name.trim().length===0))throw new Error("O nome no pode estar vazio");if(e.name!==void 0&&e.name.trim().length<2)throw new Error("O nome deve ter pelo menos 2 caracteres");if(e.phone!==void 0&&e.phone&&e.phone.trim().length>0&&e.phone.replace(/\D/g,"").length<10)throw new Error("O telefone deve ter pelo menos 10 dgitos");const n=ut(Ee,"users",t);if(!(await El(n)).exists())throw new Error("Usurio no encontrado");const a={updatedAt:nh()};e.name!==void 0&&(a.name=e.name.trim()),e.phone!==void 0&&(a.phone=e.phone.trim()||""),await pr(n,a);const l=(await El(n)).data()||{};return{uid:l.uid||t,email:l.email||"",name:l.name||"",phone:l.phone||"",createdAt:l.createdAt?.toDate?l.createdAt.toDate():new Date,updatedAt:l.updatedAt?.toDate?l.updatedAt.toDate():new Date,lastLogin:l.lastLogin?.toDate?l.lastLogin.toDate():void 0,role:l.role||"user"}}catch(n){const r=go(n);throw new Error(r)}},observeAuthState(t){try{return E7(Cp,async e=>{if(console.log(" Auth state changed:",e?e.uid:"null"),e)try{const n=await El(ut(Ee,"users",e.uid));if(n.exists()){const r=n.data(),a={uid:r.uid||e.uid,email:r.email||e.email||"",name:r.name||"",phone:r.phone||"",createdAt:r.createdAt?.toDate?r.createdAt.toDate():new Date,updatedAt:r.updatedAt?.toDate?r.updatedAt.toDate():new Date,lastLogin:r.lastLogin?.toDate?r.lastLogin.toDate():void 0,role:r.role||"user"};console.log(" Usurio autenticado:",a),t(a)}else console.log(" Usurio no encontrado no Firestore"),t(null)}catch(n){console.error(" Erro ao buscar dados do usurio:",n),t(null)}else console.log(" Usurio deslogado"),t(null)})}catch(e){throw new Error("Erro ao observar estado de autenticao: "+e)}}},WM=_.createContext(void 0);function VH({children:t}){const[e,n]=_.useState(null),[r,a]=_.useState(!0),[s,l]=_.useState(null);_.useEffect(()=>{const w=rh.observeAuthState(j=>{n(j),a(!1)});return()=>{w()}},[]);const b={user:e,loading:r,error:s,login:async w=>{try{a(!0),l(null);const j=await rh.login(w);return n(j),a(!1),j}catch(j){const E=go(j);throw l(E),a(!1),n(null),j}},register:async w=>{try{a(!0),l(null);const j=await rh.register(w);return n(j),a(!1),j}catch(j){const E=go(j);throw l(E),a(!1),n(null),j}},logout:async()=>{try{a(!0),l(null),await rh.logOut(),n(null),a(!1)}catch(w){const j=go(w);l(j),a(!1)}},updateUser:async w=>{try{if(!e)throw new Error("Usurio no autenticado");a(!0),l(null);const j=await rh.updateUserProfile(e.uid,w);return n(j),a(!1),j}catch(j){const E=go(j);throw l(E),a(!1),j}},clearError:()=>{l(null)}};return c.jsx(WM.Provider,{value:b,children:t})}const ji=()=>{const t=_.useContext(WM);if(t===void 0)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return t},vx=({children:t})=>{const{user:e,loading:n}=ji();return n?c.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",color:"#64748b"},children:"Carregando..."}):e?c.jsx(c.Fragment,{children:t}):c.jsx(Xw,{to:He.login,replace:!0})},j1=t=>t==="admin"||t==="gerente"||t==="caixa"||t==="lavador",zH=t=>({admin:"Administrador",gerente:"Gerente",caixa:"Caixa",lavador:"Lavador",user:"Cliente"})[t||"user"],Ki=({children:t})=>{const{user:e,loading:n}=ji();return n?c.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",color:"#64748b"},children:"Carregando..."}):e?j1(e.role)?c.jsx(c.Fragment,{children:t}):c.jsx(Xw,{to:He.profile,replace:!0}):c.jsx(Xw,{to:He.login,replace:!0})},YM=({children:t,variant:e="primary",size:n="medium",disabled:r=!1,type:a="button",onClick:s,className:l,fullWidth:d=!1})=>{const h=["button",`button--${e}`,n!=="medium"&&`button--${n}`,d&&"button--full",l].filter(Boolean).join(" ");return c.jsx("button",{type:a,disabled:r,onClick:s,className:h,children:t})},UH=()=>{const[t,e]=_.useState({email:"",password:""}),{login:n,loading:r,error:a,clearError:s}=ji(),l=Ru(),d=f=>{const{name:p,value:v}=f.target;e(b=>({...b,[p]:v})),a&&s()},h=async f=>{if(f.preventDefault(),!(!t.email||!t.password))try{const p=await n(t);j1(p.role)?l(He.dashboard):l(He.profile)}catch(p){console.error("Erro ao fazer login:",p)}};return c.jsx("div",{className:"login-container",children:c.jsx("div",{className:"login-form-container",children:c.jsxs("div",{className:"login-form-card",children:[c.jsxs("div",{className:"login-header",children:[c.jsx("p",{className:"login-title",children:"Bem-vindo de volta"}),c.jsx("p",{className:"login-subtitle",children:"Entre com suas credenciais para continuar"})]}),c.jsxs("form",{className:"login-form",onSubmit:h,children:[a&&c.jsx("div",{className:"login-error",children:a}),c.jsxs("div",{className:"login-field",children:[c.jsx("label",{htmlFor:"email",className:"login-label",children:"Email"}),c.jsx("input",{type:"email",name:"email",id:"email",autoComplete:"email",placeholder:"Digite seu email",value:t.email,onChange:d,className:"login-input",required:!0})]}),c.jsxs("div",{className:"login-field",children:[c.jsx("label",{htmlFor:"password",className:"login-label",children:"Senha"}),c.jsx("input",{type:"password",name:"password",id:"password",autoComplete:"current-password",placeholder:"Digite sua senha",value:t.password,onChange:d,required:!0,className:"login-input"})]}),c.jsx("div",{className:"login-buttons",children:c.jsx(YM,{type:"submit",variant:"primary",className:"login-button",size:"large",disabled:r||!t.email||!t.password,children:"Entrar"})}),c.jsx("div",{className:"login-footer",children:c.jsxs("span",{className:"login-footer-text",children:["No tem uma conta? ","",c.jsx(Pn,{to:He.register,className:"login-footer-link",children:"Cadastre-se"})]})})]})]})})})},BH=()=>{const[t,e]=_.useState({email:"",password:"",name:"",phone:"",role:"user"}),{register:n,loading:r,error:a,clearError:s}=ji(),l=Ru(),d=p=>{const{name:v,value:b}=p.target;e(w=>({...w,[v]:b})),a&&s()},h=()=>!t.email||!t.password||!t.name?"Todos os campos so obrigatrios":t.password.length<6?"A senha deve ter pelo menos 6 caracteres":null,f=async p=>{p.preventDefault();const v=h();if(v){alert(v);return}try{const b={...t,role:"user"};await n(b),l(He.profile)}catch(b){console.error("Erro ao registrar usurio:",b)}};return c.jsx("div",{className:"register-container",children:c.jsx("div",{className:"register-form-container",children:c.jsxs("div",{className:"register-form-card",children:[c.jsxs("div",{className:"register-header",children:[c.jsx("p",{className:"register-title",children:"Criar conta"}),c.jsx("p",{className:"register-subtitle",children:"Preencha os campos abaixo para criar sua conta"})]}),c.jsxs("form",{className:"register-form",onSubmit:f,children:[a&&c.jsx("div",{className:"register-error",children:a}),c.jsxs("div",{className:"register-field",children:[c.jsx("label",{htmlFor:"name",className:"register-label",children:"Nome completo"}),c.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:t.name,onChange:d,className:"register-input",placeholder:"Digite seu nome completo"})]}),c.jsxs("div",{className:"register-field",children:[c.jsx("label",{htmlFor:"email",className:"register-label",children:"Email"}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:d,className:"register-input",placeholder:"Digite seu e-mail"})]}),c.jsxs("div",{className:"register-field",children:[c.jsx("label",{htmlFor:"phone",className:"register-label",children:"Telefone (Opcional)"}),c.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",value:t.phone,onChange:d,className:"register-input",placeholder:"Digite seu telefone"})]}),c.jsxs("div",{className:"register-field",children:[c.jsx("label",{htmlFor:"password",className:"register-label",children:"Senha"}),c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:t.password,onChange:d,className:"register-input",placeholder:"Digite sua senha (mn. 6 caracteres)"})]}),c.jsx("div",{className:"register-buttons",children:c.jsx(YM,{type:"submit",size:"large",disabled:r||!t.email||!t.password||!t.name,className:"register-button",children:"Cadastrar"})}),c.jsx("div",{className:"register-footer",children:c.jsxs("span",{className:"register-footer-text",children:["J tem uma conta? ","",c.jsx(Pn,{to:He.login,className:"register-footer-link",children:"Entrar"})]})})]})]})})})};var XM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},D2=bo.createContext&&bo.createContext(XM),FH=["attr","size","title"];function qH(t,e){if(t==null)return{};var n=$H(t,e),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)r=s[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $H(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pv.apply(this,arguments)}function k2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Iv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k2(Object(n),!0).forEach(function(r){HH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HH(t,e,n){return e=KH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KH(t){var e=GH(t,"string");return typeof e=="symbol"?e:e+""}function GH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QM(t){return t&&t.map((e,n)=>bo.createElement(e.tag,Iv({key:n},e.attr),QM(e.child)))}function Oe(t){return e=>bo.createElement(WH,Pv({attr:Iv({},t.attr)},e),QM(t.child))}function WH(t){var e=n=>{var{attr:r,size:a,title:s}=t,l=qH(t,FH),d=a||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),bo.createElement("svg",Pv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:h,style:Iv(Iv({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),s&&bo.createElement("title",null,s),t.children)};return D2!==void 0?bo.createElement(D2.Consumer,null,n=>e(n)):e(XM)}function YH(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function Nl(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function XH(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"polyline",attr:{points:"19 12 12 19 5 12"},child:[]}]})(t)}function Rv(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(t)}function QH(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(t)}function M2(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function ZH(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(t)}function JH(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(t)}function ZM(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function JM(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function eL(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function ha(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function Dv(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(t)}function Ul(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function eK(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function sv(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"},child:[]}]})(t)}function Jl(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function tL(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function nL(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"},child:[]}]})(t)}function Ah(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function j_(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 12 20 22 4 22 4 12"},child:[]},{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"7"},child:[]},{tag:"path",attr:{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"},child:[]},{tag:"path",attr:{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"},child:[]}]})(t)}function tK(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function rL(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"},child:[]},{tag:"path",attr:{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"},child:[]},{tag:"line",attr:{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"},child:[]}]})(t)}function nK(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"},child:[]},{tag:"rect",attr:{x:"2",y:"9",width:"4",height:"12"},child:[]},{tag:"circle",attr:{cx:"4",cy:"4",r:"2"},child:[]}]})(t)}function rK(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function gu(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function aL(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function aK(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"},child:[]}]})(t)}function iK(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function iL(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function sK(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"},child:[]}]})(t)}function yo(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function oK(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"6",y:"4",width:"4",height:"16"},child:[]},{tag:"rect",attr:{x:"14",y:"4",width:"4",height:"16"},child:[]}]})(t)}function Bh(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function A_(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(t)}function lK(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(t)}function jo(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function cK(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}function sL(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function ey(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function uK(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(t)}function dK(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(t)}function Th(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(t)}function oL(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function hK(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(t)}function Ai(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function kv(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function lL(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(t)}function cL(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"},child:[]}]})(t)}function fK(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(t)}function Cl(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function yu(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function mK(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"},child:[]},{tag:"path",attr:{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"},child:[]}]})(t)}function pK(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"},child:[]},{tag:"line",attr:{x1:"23",y1:"9",x2:"17",y2:"15"},child:[]},{tag:"line",attr:{x1:"17",y1:"9",x2:"23",y2:"15"},child:[]}]})(t)}function vK(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(t)}function ou(t){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const gK=()=>c.jsx("div",{className:"hero-section",children:c.jsxs("div",{className:"hero-container",children:[c.jsxs("header",{className:"hero-header",children:[c.jsxs("div",{className:"hero-logo",children:[c.jsx("div",{className:"logo-icon"}),c.jsx("span",{className:"logo-text",children:"Dolphinfast"})]}),c.jsxs(Pn,{to:He.login,className:"hero-login-button",children:[c.jsx(Cl,{size:16}),"Entrar"]})]}),c.jsxs("div",{className:"hero-content",children:[c.jsxs("div",{className:"hero-left",children:[c.jsxs("div",{className:"hero-badge",children:[c.jsx("span",{className:"badge-dot"}),c.jsx("span",{className:"badge-text",children:"SISTEMA DE GESTO COM IA"})]}),c.jsxs("h1",{className:"hero-headline",children:["Aceleramos seu ",c.jsx("span",{className:"highlight",children:"negcio automotivo"})," pra voc faturar"," ",c.jsx("span",{className:"highlight",children:"mais."})]}),c.jsx("p",{className:"hero-description",children:"Sem complicao e fcil de usar. A Dolphinfast ajuda estticas automotivas, valets e estacionamentos a terem mais velocidade na gesto, 24 horas por dia."}),c.jsxs("div",{className:"hero-cta",children:[c.jsxs("button",{className:"cta-button",children:["Quero velocidade na gesto",c.jsx(Rv,{size:20})]}),c.jsx("p",{className:"cta-subtext",children:"Te atendemos em menos de 1 minuto."})]})]}),c.jsx("div",{className:"hero-right",children:c.jsxs("div",{className:"hero-visual-wrapper",children:[c.jsx("div",{className:"blue-accent-shape"}),c.jsxs("div",{className:"decorative-dots",children:[c.jsx("span",{className:"dot"}),c.jsx("span",{className:"dot"})]}),c.jsxs("div",{className:"visual-cards",children:[c.jsx("div",{className:"visual-card card-left",children:c.jsx("div",{className:"card-image people-card",children:c.jsxs("div",{className:"people-scene",children:[c.jsx("div",{className:"person person-1",children:c.jsx("div",{className:"person-avatar"})}),c.jsx("div",{className:"person person-2",children:c.jsx("div",{className:"person-avatar"})})]})})}),c.jsx("div",{className:"visual-card card-right",children:c.jsx("div",{className:"card-image car-card",children:c.jsx("div",{className:"car-scene",children:c.jsxs("div",{className:"car-polish",children:[c.jsx("div",{className:"polish-person",children:c.jsx("div",{className:"polish-avatar"})}),c.jsx("div",{className:"car-silhouette"})]})})})})]}),c.jsxs("div",{className:"chat-bubble chat-1",children:[c.jsx("div",{className:"chat-icon",children:c.jsx("div",{className:"icon-circle"})}),c.jsxs("div",{className:"chat-content",children:[c.jsx("span",{className:"chat-text",children:"Dolphin AI, quanto vendi esse ms?"}),c.jsx(Rv,{size:14,className:"chat-arrow"})]})]}),c.jsxs("div",{className:"chat-bubble chat-2",children:[c.jsx("div",{className:"chat-icon check-icon",children:c.jsx(eL,{size:14})}),c.jsx("div",{className:"chat-content",children:c.jsx("span",{className:"chat-text",children:"Mensalista cadastrado."})})]})]})})]})]})}),yK=()=>c.jsx("div",{className:"partners-section",children:c.jsx("div",{className:"partners-container",children:c.jsxs("div",{className:"partners-logos",children:[c.jsx("div",{className:"partner-logo",children:c.jsxs("div",{className:"logo-globo",children:[c.jsxs("div",{className:"globo-icon",children:[c.jsx("div",{className:"globo-circle-outer"}),c.jsx("div",{className:"globo-circle-inner"}),c.jsx("div",{className:"globo-square"})]}),c.jsx("span",{className:"logo-text",children:"globo"})]})}),c.jsx("div",{className:"partner-logo",children:c.jsxs("div",{className:"logo-estapar",children:[c.jsx("div",{className:"estapar-icon",children:c.jsx("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",children:c.jsx("path",{d:"M22.5 10L35 22.5H28V35H17V22.5H10L22.5 10Z",fill:"#000",fillRule:"evenodd"})})}),c.jsx("span",{className:"logo-text",children:"ESTAPAR"})]})}),c.jsx("div",{className:"partner-logo",children:c.jsxs("div",{className:"logo-maxipark",children:[c.jsx("div",{className:"maxipark-icon",children:c.jsxs("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",children:[c.jsx("path",{d:"M10 10L25 5L40 10V25L25 30L10 25V10Z",fill:"#000"}),c.jsx("path",{d:"M25 15L32.5 11.25V18.75L25 22.5L17.5 18.75V11.25L25 15Z",fill:"#fff"})]})}),c.jsx("span",{className:"logo-text",children:"MAXIPARK"})]})}),c.jsx("div",{className:"partner-logo",children:c.jsx("div",{className:"logo-gad",children:c.jsx("div",{className:"gad-icon",children:c.jsxs("svg",{width:"60",height:"42",viewBox:"0 0 60 42",fill:"none",children:[c.jsx("path",{d:"M6 6H18V13H12V19H18V26H6V6Z",fill:"#000"}),c.jsx("path",{d:"M22 6H28V18H34V6H40V26H22V6Z",fill:"#000"}),c.jsx("path",{d:"M46 6H56V13H51V15.5H56V20.5H51V26H46V6Z",fill:"#000"})]})})})}),c.jsx("div",{className:"partner-logo",children:c.jsx("div",{className:"logo-estudio",children:c.jsx("div",{className:"estudio-emblem",children:c.jsxs("svg",{width:"70",height:"70",viewBox:"0 0 70 70",fill:"none",children:[c.jsx("circle",{cx:"35",cy:"35",r:"32",stroke:"#000",strokeWidth:"2.5"}),c.jsx("text",{x:"35",y:"22",textAnchor:"middle",fontSize:"7",fill:"#000",fontWeight:"700",letterSpacing:"0.5",children:"ESTUDIO CAR"}),c.jsx("text",{x:"32",y:"25",fontSize:"4",fill:"#000",children:""}),c.jsx("text",{x:"38",y:"25",fontSize:"4",fill:"#000",children:""}),c.jsx("text",{x:"35",y:"58",textAnchor:"middle",fontSize:"7",fill:"#000",fontWeight:"700",letterSpacing:"0.5",children:"DETALHAMENTO"}),c.jsx("rect",{x:"22",y:"28",width:"26",height:"14",rx:"2",fill:"#000",opacity:"0.4"}),c.jsx("rect",{x:"24",y:"30",width:"6",height:"10",rx:"1",fill:"#fff"}),c.jsx("rect",{x:"32",y:"30",width:"6",height:"10",rx:"1",fill:"#fff"}),c.jsx("rect",{x:"40",y:"30",width:"6",height:"10",rx:"1",fill:"#fff"}),c.jsx("circle",{cx:"18",cy:"35",r:"5",fill:"#000",opacity:"0.6"}),c.jsx("circle",{cx:"52",cy:"35",r:"5",fill:"#000",opacity:"0.6"}),c.jsx("path",{d:"M12 35 Q8 32, 8 28 Q8 24, 12 25",stroke:"#000",strokeWidth:"1.5",fill:"none"}),c.jsx("path",{d:"M58 35 Q62 32, 62 28 Q62 24, 58 25",stroke:"#000",strokeWidth:"1.5",fill:"none"})]})})})})]})})}),bK=()=>c.jsx("div",{className:"announcement-section",children:c.jsx("div",{className:"announcement-container",children:c.jsxs("div",{className:"announcement-content",children:[c.jsxs("div",{className:"announcement-badge",children:[c.jsx("div",{className:"badge-icon",children:c.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),c.jsx("path",{d:"M8 12L11 15L16 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),c.jsx("span",{className:"badge-text",children:" GESTO AUTOMOTIVA COM IA"})]}),c.jsxs("h2",{className:"announcement-headline",children:["Em breve um ",c.jsx("span",{className:"italic",children:"novo site"}),"."]}),c.jsx("p",{className:"announcement-description",children:"A Dolphinfast tem novidades para acelerar sua gesto automotiva! Enquanto o novo site no chega, acesse a plataforma normalmente ou fale com nossos especialistas."}),c.jsxs("button",{className:"announcement-button",children:["Quero velocidade na gesto",c.jsx(Rv,{size:20})]}),c.jsx("p",{className:"announcement-subtext",children:"Te atendemos em menos de 1 minuto."})]})})}),xK="dQw4w9WgXcQ",wK=()=>{const[t,e]=_.useState(!1),[n,r]=_.useState(!1),[a,s]=_.useState("0:00"),[l,d]=_.useState("0:00"),[h,f]=_.useState(null),[p,v]=_.useState(!1),b=_.useRef(null);_.useEffect(()=>{if(window.YT&&window.YT.Player){v(!0);return}const C=document.createElement("script");C.src="https://www.youtube.com/iframe_api";const I=document.getElementsByTagName("script")[0];return I.parentNode?.insertBefore(C,I),window.onYouTubeIframeAPIReady=()=>{v(!0)},()=>{}},[]),_.useEffect(()=>{if(!p||!b.current||h)return;const C=new window.YT.Player(b.current,{videoId:xK,width:"100%",height:"100%",playerVars:{autoplay:0,controls:0,disablekb:1,enablejsapi:1,fs:0,iv_load_policy:3,modestbranding:1,playsinline:1,rel:0},events:{onReady:I=>{const U=I.target.getDuration();d(j(U))},onStateChange:I=>{I.data===window.YT.PlayerState.PLAYING?e(!0):e(!1),I.data===window.YT.PlayerState.PLAYING&&w(I.target)}}});return f(C),()=>{C&&C.destroy&&C.destroy()}},[p]),_.useEffect(()=>{if(!h||!t)return;const C=setInterval(()=>{w(h)},1e3);return()=>clearInterval(C)},[h,t]);const w=C=>{try{const I=C.getCurrentTime();s(j(I))}catch(I){console.error("Erro ao obter tempo do vdeo:",I)}},j=C=>{const I=Math.floor(C/60),U=Math.floor(C%60);return`${I}:${U.toString().padStart(2,"0")}`},E=()=>{if(h)try{t?h.pauseVideo():h.playVideo()}catch(C){console.error("Erro ao controlar reproduo:",C)}},S=()=>{if(h)try{n?(h.unMute(),r(!1)):(h.mute(),r(!0))}catch(C){console.error("Erro ao controlar udio:",C)}},T=()=>{if(h)try{h.getIframe().requestFullscreen?.()}catch(C){console.error("Erro ao entrar em tela cheia:",C)}};return c.jsx("div",{className:"video-player-section",children:c.jsxs("div",{className:"video-player-container",children:[c.jsxs("div",{className:"video-text-content",children:[c.jsxs("div",{className:"video-badge",children:[c.jsx("div",{className:"badge-icon-circle",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[c.jsx("circle",{cx:"10",cy:"10",r:"9",stroke:"#60a5fa",strokeWidth:"1.5"}),c.jsx("path",{d:"M6 10L9 13L14 7",stroke:"#60a5fa",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),c.jsx("span",{className:"badge-label",children:" REVOLUCIONAMOS MAIS UMA VEZ"})]}),c.jsxs("h2",{className:"video-headline",children:["Conhea a nova ",c.jsx("span",{className:"brand-name",children:"Dolphinfast"})]}),c.jsxs("p",{className:"video-description",children:["Mais ",c.jsx("strong",{children:"tecnolgica"}),", mais ",c.jsx("strong",{children:"rpida"}),", mais ",c.jsx("strong",{children:"conectada"})," e usando ",c.jsx("strong",{children:"inteligncia artificial"})," pra entregar velocidade no seu negcio automotivo. Somos o primeiro sistema de gesto com IA do Brasil para estticas automotivas, valets e estacionamentos."]})]}),c.jsxs("div",{className:"video-player-wrapper",children:[c.jsx("div",{ref:b,className:"video-element youtube-player",style:{width:"100%",height:"100%"}}),c.jsxs("div",{className:"video-controls-bar",children:[c.jsxs("div",{className:"controls-left",children:[c.jsx("button",{className:"control-button play-button",onClick:E,"aria-label":t?"Pausar":"Reproduzir",children:t?c.jsx(oK,{size:18}):c.jsx(lK,{size:18})}),c.jsxs("span",{className:"time-display",children:[a," / ",l]})]}),c.jsxs("div",{className:"controls-right",children:[c.jsx("button",{className:"control-button",onClick:S,"aria-label":n?"Ativar som":"Desativar som",children:n?c.jsx(pK,{size:18}):c.jsx(mK,{size:18})}),c.jsx("button",{className:"control-button",onClick:T,"aria-label":"Tela cheia",children:c.jsx(aK,{size:18})}),c.jsx("button",{className:"control-button","aria-label":"Mais opes",children:c.jsx(sK,{size:18})})]})]})]})]})})},_K=()=>{const[t,e]=_.useState({name:"",email:"",whatsapp:"",isClient:"",businessSegment:[],companyName:"",challenge:""}),n=l=>{const{name:d,value:h}=l.target;e(f=>({...f,[d]:h}))},r=l=>{e(d=>({...d,isClient:l.target.value}))},a=l=>{const{value:d,checked:h}=l.target;e(f=>h?{...f,businessSegment:[...f.businessSegment,d]}:{...f,businessSegment:f.businessSegment.filter(p=>p!==d)})},s=l=>{l.preventDefault(),console.log("Form data:",t)};return c.jsx("div",{className:"contact-form-section",children:c.jsx("div",{className:"contact-form-container",children:c.jsxs("form",{className:"contact-form",onSubmit:s,children:[c.jsx("h2",{className:"form-title",children:"Preencha o formulrio e fale agora com um especialista da Dolphinfast."}),c.jsxs("div",{className:"form-field",children:[c.jsx("label",{htmlFor:"name",className:"field-label",children:"Qual o seu nome?"}),c.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:n,className:"form-input",required:!0})]}),c.jsxs("div",{className:"form-field",children:[c.jsx("label",{htmlFor:"email",className:"field-label",children:"Qual o seu e-mail?"}),c.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:n,className:"form-input",required:!0})]}),c.jsxs("div",{className:"form-field",children:[c.jsx("label",{htmlFor:"whatsapp",className:"field-label",children:"Qual o seu whatsapp, com DDD?"}),c.jsx("input",{type:"tel",id:"whatsapp",name:"whatsapp",value:t.whatsapp,onChange:n,className:"form-input",placeholder:"(00) 00000-0000",required:!0})]}),c.jsxs("div",{className:"form-field",children:[c.jsx("label",{className:"field-label",children:"Voc j  cliente Dolphinfast?"}),c.jsxs("div",{className:"radio-group",children:[c.jsxs("label",{className:"radio-label",children:[c.jsx("input",{type:"radio",name:"isClient",value:"sim",checked:t.isClient==="sim",onChange:r,className:"radio-input"}),c.jsx("span",{className:"radio-text",children:"Sim"})]}),c.jsxs("label",{className:"radio-label",children:[c.jsx("input",{type:"radio",name:"isClient",value:"nao",checked:t.isClient==="nao",onChange:r,className:"radio-input"}),c.jsx("span",{className:"radio-text",children:"No"})]})]})]}),c.jsxs("div",{className:"form-field",children:[c.jsx("label",{className:"field-label",children:"Qual  o segmento do seu negcio?"}),c.jsxs("div",{className:"checkbox-group",children:[c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",value:"estacionamento",checked:t.businessSegment.includes("estacionamento"),onChange:a,className:"checkbox-input"}),c.jsx("span",{className:"checkbox-text",children:"Estacionamento"})]}),c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",value:"valet",checked:t.businessSegment.includes("valet"),onChange:a,className:"checkbox-input"}),c.jsx("span",{className:"checkbox-text",children:"Valet"})]}),c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",value:"lava-rapido",checked:t.businessSegment.includes("lava-rapido"),onChange:a,className:"checkbox-input"}),c.jsx("span",{className:"checkbox-text",children:"Lava-Rpido"})]}),c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",value:"estetica-automotiva",checked:t.businessSegment.includes("estetica-automotiva"),onChange:a,className:"checkbox-input"}),c.jsx("span",{className:"checkbox-text",children:"Esttica Automotiva"})]})]})]}),c.jsxs("div",{className:"form-field",children:[c.jsx("label",{htmlFor:"companyName",className:"field-label",children:"Qual o nome da sua empresa?"}),c.jsx("input",{type:"text",id:"companyName",name:"companyName",value:t.companyName,onChange:n,className:"form-input"})]}),c.jsxs("div",{className:"form-field",children:[c.jsx("label",{htmlFor:"challenge",className:"field-label",children:"Qual  o seu maior desafio com gesto?"}),c.jsx("textarea",{id:"challenge",name:"challenge",value:t.challenge,onChange:n,className:"form-textarea",rows:3})]}),c.jsxs("button",{type:"submit",className:"submit-button",children:["Enviar para especialista",c.jsx(Rv,{size:20})]})]})})})},EK=()=>{const t=new Date().getFullYear();return c.jsx("footer",{className:"footer-section",children:c.jsxs("div",{className:"footer-container",children:[c.jsxs("div",{className:"footer-content",children:[c.jsxs("div",{className:"footer-column footer-brand",children:[c.jsxs("div",{className:"footer-logo",children:[c.jsx("div",{className:"logo-icon"}),c.jsx("span",{className:"logo-text",children:"Dolphinfast"})]}),c.jsx("p",{className:"footer-description",children:"Sistema de gesto com IA para acelerar seu negcio automotivo. Mais velocidade, mais resultados."}),c.jsxs("div",{className:"social-links",children:[c.jsx("a",{href:"#",className:"social-link","aria-label":"Facebook",children:c.jsx(nL,{size:20})}),c.jsx("a",{href:"#",className:"social-link","aria-label":"Instagram",children:c.jsx(rL,{size:20})}),c.jsx("a",{href:"#",className:"social-link","aria-label":"LinkedIn",children:c.jsx(nK,{size:20})}),c.jsx("a",{href:"#",className:"social-link","aria-label":"Twitter",children:c.jsx(cL,{size:20})})]})]}),c.jsxs("div",{className:"footer-column",children:[c.jsx("h3",{className:"footer-title",children:"Produtos"}),c.jsxs("ul",{className:"footer-links",children:[c.jsx("li",{children:c.jsx(Pn,{to:"#",className:"footer-link",children:"CRM"})}),c.jsx("li",{children:c.jsx(Pn,{to:"#",className:"footer-link",children:"Estoque"})}),c.jsx("li",{children:c.jsx(Pn,{to:"#",className:"footer-link",children:"RH"})}),c.jsx("li",{children:c.jsx(Pn,{to:"#",className:"footer-link",children:"Dashboard"})})]})]}),c.jsxs("div",{className:"footer-column",children:[c.jsx("h3",{className:"footer-title",children:"Empresa"}),c.jsxs("ul",{className:"footer-links",children:[c.jsx("li",{children:c.jsx(Pn,{to:"#",className:"footer-link",children:"Sobre Ns"})}),c.jsx("li",{children:c.jsx(Pn,{to:"#",className:"footer-link",children:"Blog"})}),c.jsx("li",{children:c.jsx(Pn,{to:"#",className:"footer-link",children:"Carreiras"})}),c.jsx("li",{children:c.jsx(Pn,{to:"#",className:"footer-link",children:"Parceiros"})})]})]}),c.jsxs("div",{className:"footer-column",children:[c.jsx("h3",{className:"footer-title",children:"Suporte"}),c.jsxs("ul",{className:"footer-links",children:[c.jsx("li",{children:c.jsx(Pn,{to:"#",className:"footer-link",children:"Central de Ajuda"})}),c.jsx("li",{children:c.jsx(Pn,{to:"#",className:"footer-link",children:"Documentao"})}),c.jsx("li",{children:c.jsx(Pn,{to:"#",className:"footer-link",children:"Contato"})}),c.jsx("li",{children:c.jsx(Pn,{to:"#",className:"footer-link",children:"Poltica de Privacidade"})})]})]}),c.jsxs("div",{className:"footer-column",children:[c.jsx("h3",{className:"footer-title",children:"Contato"}),c.jsxs("ul",{className:"footer-contact",children:[c.jsxs("li",{className:"contact-item",children:[c.jsx(gu,{size:18,className:"contact-icon"}),c.jsx("a",{href:"mailto:contato@dolphinfast.com",className:"contact-link",children:"contato@dolphinfast.com"})]}),c.jsxs("li",{className:"contact-item",children:[c.jsx(Bh,{size:18,className:"contact-icon"}),c.jsx("a",{href:"tel:+5511999999999",className:"contact-link",children:"(11) 99999-9999"})]})]})]})]}),c.jsx("div",{className:"footer-bottom",children:c.jsxs("p",{className:"footer-copyright",children:[" ",t," Dolphinfast. Todos os direitos reservados."]})})]})})},L2=()=>c.jsxs("div",{className:"landing-page",children:[c.jsx(gK,{}),c.jsx(yK,{}),c.jsx(bK,{}),c.jsx(wK,{}),c.jsx(_K,{}),c.jsx(EK,{})]}),SK=()=>{const t=ys(),e=Ru(),{logout:n,loading:r,user:a}=ji(),s=async()=>{try{await n(),e(He.landing)}catch(h){console.error("Erro ao fazer logout:",h)}},d=[{path:He.dashboard,label:"Dashboard",icon:ZH,employeeOnly:!0},{path:He.areaCliente,label:"rea do Cliente",icon:yu,employeeOnly:!0},{path:He.pdv,label:"PDV",icon:oL,employeeOnly:!0},{path:He.crm,label:"CRM",icon:Bh,employeeOnly:!0},{path:He.gestaoFinanceira,label:"Gesto Financeira e Contbil",icon:Dv,employeeOnly:!0},{path:He.recursosHumanos,label:"Recursos Humanos e Ponto",icon:fK,employeeOnly:!0},{path:He.estoque,label:"Estoque",icon:yo,employeeOnly:!0},{path:He.planosLavagem,label:"Planos de Lavagem",icon:lL,employeeOnly:!0},{path:He.seguranca,label:"Segurana e Backups",icon:dK,employeeOnly:!0},{path:He.history,label:"Histrico de Compras e Servios",icon:ha,employeeOnly:!1},{path:He.profile,label:"Perfil",icon:Cl,employeeOnly:!1},{path:He.contactInfo,label:"Informaes de Contato",icon:tK,employeeOnly:!1}].filter(h=>j1(a?.role)?!0:!h.employeeOnly);return c.jsxs("aside",{className:"sidebar",children:[c.jsx("div",{className:"sidebar-header",children:c.jsx("h2",{className:"sidebar-logo",children:"DolphinFast"})}),c.jsx("nav",{className:"sidebar-nav",children:c.jsx("ul",{className:"sidebar-menu",children:d.map(h=>c.jsx("li",{className:"sidebar-menu-item",children:c.jsxs(Pn,{to:h.path,className:`sidebar-link ${t.pathname===h.path?"active":""}`,children:[c.jsx("span",{className:"sidebar-icon",children:c.jsx(h.icon,{size:20})}),c.jsx("span",{className:"sidebar-label",children:h.label})]})},h.path))})}),c.jsx("div",{className:"sidebar-footer",children:c.jsxs("button",{onClick:s,disabled:r,className:"sidebar-logout-button",children:[c.jsx("span",{className:"sidebar-icon",children:c.jsx(rK,{size:20})}),c.jsx("span",{className:"sidebar-label",children:"Sair"})]})})]})},jK=()=>{const{user:t}=ji();return c.jsx("header",{className:"header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("div",{className:"header-left",children:c.jsx("h1",{className:"header-title",children:"Sistema de Gesto"})}),c.jsxs("div",{className:"header-right",children:[c.jsxs("button",{className:"header-notification",children:[c.jsx("span",{className:"notification-icon",children:c.jsx(JH,{size:20})}),c.jsx("span",{className:"notification-badge",children:"3"})]}),c.jsxs("div",{className:"header-user",children:[c.jsx("div",{className:"user-avatar",children:c.jsx(Cl,{size:20})}),c.jsxs("div",{className:"user-info",children:[c.jsx("span",{className:"user-name",children:t?.name||"Usurio"}),c.jsx("span",{className:"user-role",children:zH(t?.role)})]})]})]})]})})},aa=({children:t})=>c.jsxs("div",{className:"layout",children:[c.jsx(SK,{}),c.jsxs("div",{className:"layout-main",children:[c.jsx(jK,{}),c.jsx("main",{className:"layout-content",children:t})]})]}),xf="products",A1="stockMovements",Fh="stockAlerts",AK=async t=>{try{const e={...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},n=await $r(nt(Ee,xf),e);return t.currentStock<=t.minStock&&await fL(n.id,t.currentStock),n.id}catch(e){throw console.error("Erro ao criar produto:",e),new Error("No foi possvel criar o produto")}},uL=async(t,e)=>{try{const n=ut(Ee,xf,t);if(await pr(n,{...e,updatedAt:new Date().toISOString()}),e.currentStock!==void 0){const r=await ty(t);r&&await CK(t,e.currentStock,r.minStock)}}catch(n){throw console.error("Erro ao atualizar produto:",n),new Error("No foi possvel atualizar o produto")}},TK=async t=>{try{const e=ut(Ee,xf,t);await xs(e)}catch(e){throw console.error("Erro ao deletar produto:",e),new Error("No foi possvel deletar o produto")}},ty=async t=>{try{const e=ut(Ee,xf,t),n=await El(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Erro ao buscar produto:",e),new Error("No foi possvel buscar o produto")}},qh=async()=>{try{return(await vn(dt(nt(Ee,xf),Xn("createdAt","desc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Erro ao buscar produtos:",t),new Error("No foi possvel buscar os produtos")}},dL=async(t,e)=>{try{const n=await ty(t.productId);if(!n)throw new Error("Produto no encontrado");const r=n.currentStock;let a=r;switch(t.type){case"in":a=r+t.quantity;break;case"out":a=r-t.quantity;break;case"adjustment":a=t.quantity;break;case"loss":a=r-t.quantity;break;case"transfer":a=r-t.quantity;break}if(a<0)throw new Error("Estoque no pode ficar negativo");const s=(t.unitPrice||n.costPrice)*t.quantity;if(!e)throw new Error("ID do usurio  obrigatrio para criar movimentao de estoque");const l={...t,previousStock:r,newStock:a,totalValue:s,responsibleUser:e,createdAt:new Date().toISOString()},d=await $r(nt(Ee,A1),l);return await uL(t.productId,{currentStock:a}),d.id}catch(n){throw console.error("Erro ao criar movimentao de estoque:",n),new Error(n instanceof Error?n.message:"No foi possvel criar a movimentao")}},hL=async(t,e,n)=>{try{let r=dt(nt(Ee,A1),Xn("date","desc"));return t&&(r=dt(r,rr("productId","==",t))),e&&(r=dt(r,rr("date",">=",e))),n&&(r=dt(r,rr("date","<=",n))),(await vn(r)).docs.map(s=>({id:s.id,...s.data()}))}catch(r){throw console.error("Erro ao buscar movimentaes:",r),new Error("No foi possvel buscar as movimentaes")}},NK=async t=>{try{const e=ut(Ee,A1,t);await xs(e)}catch(e){throw console.error("Erro ao deletar movimentao:",e),new Error("No foi possvel deletar a movimentao")}},fL=async(t,e)=>{try{const n=e===0?"critical":"high",r=e===0?"out_of_stock":"low_stock",a=e===0?"Produto sem estoque":"Produto com estoque baixo";await $r(nt(Ee,Fh),{productId:t,type:r,message:a,priority:n,status:"active",createdAt:new Date().toISOString()})}catch(n){console.error("Erro ao criar alerta:",n)}},CK=async(t,e,n)=>{try{const r=dt(nt(Ee,Fh),rr("productId","==",t),rr("status","==","active")),a=await vn(r);e<=n&&a.empty?await fL(t,e):e>n&&!a.empty&&a.forEach(async s=>{await pr(ut(Ee,Fh,s.id),{status:"resolved",resolvedAt:new Date().toISOString()})})}catch(r){console.error("Erro ao verificar alertas:",r)}},mL=async t=>{try{let e=dt(nt(Ee,Fh),Xn("createdAt","desc"));return t&&(e=dt(e,rr("status","==",t))),(await vn(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Erro ao buscar alertas:",e),new Error("No foi possvel buscar os alertas")}},OK=async(t,e)=>{try{const n=ut(Ee,Fh,t),r={status:e};e==="resolved"&&(r.resolvedAt=new Date().toISOString()),await pr(n,r)}catch(n){throw console.error("Erro ao atualizar status do alerta:",n),new Error("No foi possvel atualizar o status do alerta")}},PK=async()=>{try{const t=await qh(),e=await hL(),n=t.length,r=t.reduce((p,v)=>p+v.currentStock*v.costPrice,0),a=t.filter(p=>p.currentStock<=p.minStock&&p.currentStock>0).length,s=t.filter(p=>p.currentStock===0).length,l=new Map;e.filter(p=>p.type==="out").forEach(p=>{const v=l.get(p.productId)||{quantity:0,revenue:0};l.set(p.productId,{quantity:v.quantity+p.quantity,revenue:v.revenue+p.totalValue})});const d=Array.from(l.entries()).map(([p,v])=>{const b=t.find(w=>w.id===p);return{productId:p,productName:b?.name||"Produto no encontrado",quantitySold:v.quantity,totalRevenue:v.revenue}}).sort((p,v)=>v.quantitySold-p.quantitySold).slice(0,10),h=Array.from(t.reduce((p,v)=>{const b=p.get(v.category)||{quantity:0,value:0};return p.set(v.category,{quantity:b.quantity+v.currentStock,value:b.value+v.currentStock*v.costPrice}),p},new Map)).map(([p,v])=>({category:p,quantity:v.quantity,value:v.value})),f=e.slice(0,10);return{totalProducts:n,totalValue:r,lowStockItems:a,outOfStockItems:s,topSellingProducts:d,recentMovements:f,stockByCategory:h}}catch(t){throw console.error("Erro ao gerar relatrio:",t),new Error("No foi possvel gerar o relatrio")}},IK="services",ny="sales",bu="cashRegisters",RK=async()=>{try{return(await vn(dt(nt(Ee,IK),Xn("name","asc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Erro ao buscar servios:",t),new Error("No foi possvel buscar os servios")}},DK=async(t,e)=>{try{if(!e)throw new Error("ID do usurio  obrigatrio para criar venda");const n={...t,date:it.fromDate(t.date),createdAt:new Date().toISOString(),customerId:t.customerId||void 0,customerName:t.customerName||void 0},r=await $r(nt(Ee,ny),n);for(const a of t.items)if(a.type==="product"){const s=a.id.startsWith("estoque_")?a.id.replace("estoque_",""):a.id;try{await ty(s)&&await dL({productId:s,type:"out",quantity:a.quantity,unitPrice:a.price,date:new Date().toISOString(),reason:"Venda realizada no PDV",notes:`Venda #${r.id}`},e)}catch(l){console.error(`Erro ao atualizar estoque do produto ${s}:`,l)}}return r.id}catch(n){throw console.error("Erro ao criar venda:",n),new Error("No foi possvel criar a venda")}},zo=async(t,e,n)=>{try{let r;n||(r=dt(nt(Ee,ny),Xn("date","desc")));let s=(await vn(r)).docs.map(l=>{const d=l.data();return{id:l.id,...d,date:d.date.toDate()}});if(t&&(s=s.filter(l=>l.date>=t)),e){const l=new Date(e);l.setHours(23,59,59,999),s=s.filter(d=>d.date<=l)}return s}catch(r){throw console.error("Erro ao buscar vendas:",r),new Error("No foi possvel buscar as vendas")}},pL=async t=>{try{const e=dt(nt(Ee,ny),rr("customerId","==",t),Xn("date","desc"));return(await vn(e)).docs.map(r=>{const a=r.data(),s={id:r.id,...a,date:a.date.toDate()};if(s.status!=="completed")return null;const d=(s.items.find(h=>h.type==="service")||s.items[0])?.name||"Servio";return{id:s.id,date:s.date.toISOString(),service:d,amount:s.total,status:"Concludo"}}).filter(r=>r!==null)}catch(e){throw console.error("Erro ao buscar compras do cliente:",e),new Error("No foi possvel buscar as compras")}},vL=async t=>{try{const e=dt(nt(Ee,ny),rr("customerId","==",t),Xn("date","desc"));return(await vn(e)).docs.map(a=>{const s=a.data(),l={id:a.id,...s,date:s.date.toDate()};if(l.status!=="completed")return null;const d=l.items.filter(h=>h.type==="service");return d.length===0?null:d.map((h,f)=>({id:`${l.id}_${f}`,date:l.date.toISOString(),type:h.name,description:`Quantidade: ${h.quantity} - Total: R$ ${h.subtotal.toFixed(2)}`,status:"Concludo"}))}).filter(a=>a!==null).flat()}catch(e){throw console.error("Erro ao buscar servios do cliente:",e),new Error("No foi possvel buscar os servios")}},kK=async(t,e,n=0)=>{try{const r=new Date;r.setHours(0,0,0,0);const a=await Jc(t);if(a&&a.status==="open")throw new Error("J existe um caixa aberto para hoje");const s={date:r,openingAmount:n,totalSales:0,totalPayments:{pix:0,debito:0,credito:0,dinheiro:0},sales:[],status:"open",employeeId:t,employeeName:e};return(await $r(nt(Ee,bu),{...s,date:it.fromDate(s.date),createdAt:new Date().toISOString()})).id}catch(r){throw console.error("Erro ao abrir caixa:",r),new Error(r instanceof Error?r.message:"No foi possvel abrir o caixa")}},Jc=async t=>{try{const e=new Date;e.setHours(0,0,0,0);const n=new Date(e);n.setDate(n.getDate()+1);let r;t?r=dt(nt(Ee,bu),rr("employeeId","==",t)):r=dt(nt(Ee,bu));const a=await vn(r);if(a.empty)return null;const s=it.fromDate(e),l=it.fromDate(n),d=a.docs.map(h=>{const f=h.data(),p=f.date;return p>=s&&p<l?{id:h.id,...f,date:p.toDate(),sales:(f.sales||[]).map(v=>({...v,date:v.date?.toDate?v.date.toDate():new Date(v.date)}))}:null}).filter(h=>h!==null).sort((h,f)=>f.date.getTime()-h.date.getTime());return d.length===0?null:d[0]}catch(e){throw console.error("Erro ao buscar caixa do dia:",e),new Error("No foi possvel buscar o caixa do dia")}},MK=async(t,e)=>{try{const n=ut(Ee,bu,t);await pr(n,{closingAmount:e,status:"closed",closedAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}catch(n){throw console.error("Erro ao fechar caixa:",n),new Error("No foi possvel fechar o caixa")}},LK=async(t,e)=>{try{const n=ut(Ee,bu,t),r=await El(n);if(!r.exists())throw new Error("Caixa no encontrado");const a=r.data(),s=a.sales||[],l=a.totalSales||0,d=a.totalPayments||{pix:0,debito:0,credito:0,dinheiro:0};await pr(n,{sales:[...s,{...e,date:it.fromDate(e.date)}],totalSales:l+e.total,totalPayments:{...d,[e.payment.method]:d[e.payment.method]+e.total},updatedAt:new Date().toISOString()})}catch(n){throw console.error("Erro ao adicionar venda ao caixa:",n),new Error("No foi possvel adicionar a venda ao caixa")}},VK=async t=>{try{const e=new Date(t);e.setHours(0,0,0,0);const n=new Date(t);n.setHours(23,59,59,999);const r=await zo(e,n);if(r.length===0)return{date:t.toISOString(),totalSales:0,totalTransactions:0,paymentMethods:{pix:0,debito:0,credito:0,dinheiro:0},sales:[]};const a=r.reduce((l,d)=>l+d.total,0),s=r.reduce((l,d)=>(l[d.payment.method]+=d.total,l),{pix:0,debito:0,credito:0,dinheiro:0});return{date:t.toISOString(),totalSales:a,totalTransactions:r.length,paymentMethods:s,sales:r}}catch(e){throw console.error("Erro ao gerar relatrio dirio:",e),new Error("No foi possvel gerar o relatrio dirio")}},zK=async()=>{try{const t=new Date;t.setHours(0,0,0,0);const e=new Date(t);return e.setHours(23,59,59,999),(await zo(t,e)).filter(a=>a.status==="completed").reduce((a,s)=>a+s.total,0)}catch(t){throw console.error("Erro ao buscar vendas do dia:",t),new Error("No foi possvel buscar as vendas do dia")}},UK=async()=>{try{const t=new Date;t.setHours(0,0,0,0);const e=new Date(t);e.setHours(23,59,59,999);const r=(await zo(t,e)).filter(s=>s.status==="completed");let a=0;return r.forEach(s=>{s.items.forEach(l=>{l.type==="service"&&(a+=l.quantity)})}),a}catch(t){throw console.error("Erro ao contar lavagens do dia:",t),new Error("No foi possvel contar as lavagens do dia")}},BK=async()=>{try{const t=await Jc();return!t||t.status!=="open"?0:t.openingAmount+t.totalSales}catch(t){throw console.error("Erro ao buscar valor do caixa:",t),new Error("No foi possvel buscar o valor do caixa")}},FK=async(t,e)=>{try{return(await zo(t,e)).filter(a=>a.status==="completed").reduce((a,s)=>a+s.total,0)}catch(n){throw console.error("Erro ao buscar vendas do perodo:",n),new Error("No foi possvel buscar as vendas do perodo")}},qK=async(t,e)=>{try{const r=(await zo(t,e)).filter(s=>s.status==="completed");let a=0;return r.forEach(s=>{s.items.forEach(l=>{l.type==="service"&&(a+=l.quantity)})}),a}catch(n){throw console.error("Erro ao contar servios do perodo:",n),new Error("No foi possvel contar os servios do perodo")}},$K=async(t,e)=>{try{const n=new Date(t);n.setHours(0,0,0,0);const r=new Date(n);r.setDate(r.getDate()+1);let a;e||(a=dt(nt(Ee,bu)));const s=await vn(a);if(s.empty)return null;const l=it.fromDate(n),d=it.fromDate(r),h=s.docs.map(f=>{const p=f.data(),v=p.date;return v>=l&&v<d?{id:f.id,...p,date:v.toDate(),sales:(p.sales||[]).map(b=>({...b,date:b.date?.toDate?b.date.toDate():new Date(b.date)}))}:null}).filter(f=>f!==null).sort((f,p)=>p.date.getTime()-f.date.getTime());return h.length===0?null:h[0]}catch(n){throw console.error("Erro ao buscar caixa da data:",n),new Error("No foi possvel buscar o caixa da data")}},HK=async(t,e)=>{try{const n=await $K(t,e);return n?n.status==="closed"&&n.closingAmount!==void 0?n.closingAmount:n.openingAmount+n.totalSales:0}catch(n){throw console.error("Erro ao buscar valor do caixa da data:",n),new Error("No foi possvel buscar o valor do caixa da data")}},KK=async(t=7)=>{try{const e=new Date;e.setHours(23,59,59,999);const n=new Date;n.setDate(n.getDate()-t),n.setHours(0,0,0,0);const a=(await zo(n,e)).filter(l=>l.status==="completed"),s=new Map;for(let l=0;l<t;l++){const d=new Date(n);d.setDate(d.getDate()+l);const h=d.toISOString().split("T")[0];s.set(h,0)}return a.forEach(l=>{const d=l.date.toISOString().split("T")[0],h=s.get(d)||0;s.set(d,h+l.total)}),Array.from(s.entries()).map(([l,d])=>({date:l,amount:d})).sort((l,d)=>l.date.localeCompare(d.date))}catch(e){throw console.error("Erro ao buscar dados de vendas dirias:",e),new Error("No foi possvel buscar os dados de vendas dirias")}},GK=async(t=30,e=5)=>{try{const n=new Date;n.setHours(23,59,59,999);const r=new Date;r.setDate(r.getDate()-t),r.setHours(0,0,0,0);const s=(await zo(r,n)).filter(d=>d.status==="completed"),l=new Map;return s.forEach(d=>{d.items.forEach(h=>{if(h.type==="service"){const f=l.get(h.name)||{quantity:0,revenue:0};l.set(h.name,{quantity:f.quantity+h.quantity,revenue:f.revenue+h.subtotal})}})}),Array.from(l.entries()).map(([d,h])=>({name:d,...h})).sort((d,h)=>h.quantity-d.quantity).slice(0,e)}catch(n){throw console.error("Erro ao buscar servios mais vendidos:",n),new Error("No foi possvel buscar os servios mais vendidos")}},Fu="customers",T1="loyaltyPrograms",ry="promotions",ay="communications",WK=async t=>{try{const e={...t,loyaltyPoints:0,totalPurchases:0,active:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return(await $r(nt(Ee,Fu),e)).id}catch(e){throw console.error("Erro ao criar cliente:",e),new Error("No foi possvel criar o cliente")}},gL=async(t,e)=>{try{const n=ut(Ee,Fu,t);await pr(n,{...e,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Erro ao atualizar cliente:",n),new Error("No foi possvel atualizar o cliente")}},YK=async t=>{try{const e=ut(Ee,Fu,t);await xs(e)}catch(e){throw console.error("Erro ao deletar cliente:",e),new Error("No foi possvel deletar o cliente")}},XK=async t=>{try{const e=ut(Ee,Fu,t),n=await El(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Erro ao buscar cliente:",e),new Error("No foi possvel buscar o cliente")}},Mv=async()=>{try{return(await vn(dt(nt(Ee,Fu),Xn("createdAt","desc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Erro ao buscar clientes:",t),new Error("No foi possvel buscar os clientes")}},yL=async()=>{try{const t=dt(nt(Ee,Fu),Xn("createdAt","desc"));return(await vn(t)).docs.map(r=>({...r.data(),id:r.id})).filter(r=>r.active===!0)}catch(t){throw console.error("Erro ao buscar clientes ativos:",t),new Error("No foi possvel buscar os clientes ativos")}},QK=async t=>{try{if(!t||t.trim().length===0)return[];const e=t.toLowerCase().trim();return(await yL()).filter(r=>{const a=r.name.toLowerCase().includes(e),s=r.phone?.toLowerCase().includes(e),l=r.email?.toLowerCase().includes(e);return a||s||l}).slice(0,10)}catch(e){throw console.error("Erro ao buscar clientes:",e),new Error("No foi possvel buscar os clientes")}},ZK=async t=>{try{const e={...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return(await $r(nt(Ee,T1),e)).id}catch(e){throw console.error("Erro ao criar programa de fidelidade:",e),new Error("No foi possvel criar o programa de fidelidade")}},JK=async(t,e)=>{try{const n=ut(Ee,T1,t);await pr(n,{...e,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Erro ao atualizar programa de fidelidade:",n),new Error("No foi possvel atualizar o programa de fidelidade")}},V2=async()=>{try{return(await vn(dt(nt(Ee,T1),Xn("createdAt","desc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Erro ao buscar programas de fidelidade:",t),new Error("No foi possvel buscar os programas de fidelidade")}},eG=async t=>{try{const e={...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return(await $r(nt(Ee,ry),e)).id}catch(e){throw console.error("Erro ao criar promoo:",e),new Error("No foi possvel criar a promoo")}},tG=async(t,e)=>{try{const n=ut(Ee,ry,t);await pr(n,{...e,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Erro ao atualizar promoo:",n),new Error("No foi possvel atualizar a promoo")}},nG=async t=>{try{const e=ut(Ee,ry,t);await xs(e)}catch(e){throw console.error("Erro ao deletar promoo:",e),new Error("No foi possvel deletar a promoo")}},T_=async()=>{try{return(await vn(dt(nt(Ee,ry),Xn("createdAt","desc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Erro ao buscar promoes:",t),new Error("No foi possvel buscar as promoes")}},rG=async t=>{try{const e={...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return(await $r(nt(Ee,ay),e)).id}catch(e){throw console.error("Erro ao criar comunicao:",e),new Error("No foi possvel criar a comunicao")}},aG=async t=>{try{const e=ut(Ee,ay,t);await xs(e)}catch(e){throw console.error("Erro ao deletar comunicao:",e),new Error("No foi possvel deletar a comunicao")}},z2=async()=>{try{return(await vn(dt(nt(Ee,ay),Xn("createdAt","desc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Erro ao buscar comunicaes:",t),new Error("No foi possvel buscar as comunicaes")}},iG=async t=>{try{const e=ut(Ee,ay,t);await pr(e,{status:"sent",sentAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}catch(e){throw console.error("Erro ao enviar comunicao:",e),new Error("No foi possvel enviar a comunicao")}},sG=async()=>{try{return(await yL()).length}catch(t){throw console.error("Erro ao contar clientes ativos:",t),new Error("No foi possvel contar os clientes ativos")}},oG=async(t=7)=>{try{const e=new Date,n=new Date;return n.setDate(n.getDate()+t),(await T_()).filter(a=>{if(!a.active)return!1;const s=new Date(a.validUntil),l=new Date(a.validFrom);return e>=l&&s<=n&&s>=e})}catch(e){throw console.error("Erro ao buscar promoes a vencer:",e),new Error("No foi possvel buscar as promoes a vencer")}},lG=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!0),[a,s]=_.useState(null);_.useEffect(()=>{(async()=>{try{r(!0),s(null);const h=new Date;h.setHours(0,0,0,0);const f=new Date(h);f.setDate(f.getDate()-1),f.setHours(0,0,0,0);const p=new Date(f);p.setHours(23,59,59,999);const[v,b,w,j,E,S,T,C]=await Promise.all([zK(),FK(f,p),UK(),qK(f,p),BK(),HK(f),sG(),Mv()]),I=l(v,b),U=l(w,j),L=l(E,S),B=new Date(h);B.setHours(23,59,59,999);const P=C.filter(F=>{const R=new Date(F.createdAt);return R>=h&&R<=B}).length,M=C.filter(F=>{const R=new Date(F.createdAt);return R>=f&&R<=p}).length;let D;if(P>0||M>0)D=l(P,M);else{const F=new Date(h);F.setDate(F.getDate()-7);const R=new Date(h);R.setDate(R.getDate()-14);const Q=C.filter($=>{const G=new Date($.createdAt);return G>=F&&G<h}).length,me=C.filter($=>{const G=new Date($.createdAt);return G>=R&&G<F}).length;D=l(Q,me)}const z=F=>new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(F),k=[{title:"Vendas do Dia",value:`R$ ${z(v)}`,change:I.change,changeType:I.type,icon:Ul,color:"#10b981"},{title:"Lavagens Realizadas",value:w.toString(),change:U.change,changeType:U.type,icon:lL,color:"#3b82f6"},{title:"Clientes Ativos",value:T.toString(),change:D.change,changeType:D.type,icon:yu,color:"#8b5cf6"},{title:"Caixa Atual",value:`R$ ${z(E)}`,change:L.change,changeType:L.type,icon:Dv,color:"#f59e0b"}];e(k)}catch(h){console.error("Erro ao buscar dados do resumo:",h),s("Erro ao carregar dados do resumo")}finally{r(!1)}})()},[]);const l=(d,h)=>{if(h===0)return d>0?{change:"+100%",type:"positive"}:{change:"0%",type:"neutral"};const f=(d-h)/h*100,p=Math.round(f);return p>0?{change:`+${p}%`,type:"positive"}:p<0?{change:`${p}%`,type:"negative"}:{change:"0%",type:"neutral"}};return n?c.jsxs("div",{className:"summary-cards",children:[c.jsx("h2",{className:"section-title",children:"Resumo"}),c.jsx("div",{className:"cards-grid",children:[1,2,3,4].map(d=>c.jsx("div",{className:"summary-card loading",children:c.jsxs("div",{className:"card-header",children:[c.jsxs("div",{className:"card-header-left",children:[c.jsx("div",{className:"card-change",children:"-"}),c.jsx("div",{className:"card-icon"})]}),c.jsxs("div",{className:"card-header-right",children:[c.jsx("h3",{className:"card-title",children:"Carregando..."}),c.jsx("p",{className:"card-value",children:"-"})]})]})},d))})]}):a?c.jsxs("div",{className:"summary-cards",children:[c.jsx("h2",{className:"section-title",children:"Resumo"}),c.jsx("div",{className:"error-message",children:a})]}):c.jsxs("div",{className:"summary-cards",children:[c.jsx("h2",{className:"section-title",children:"Resumo"}),c.jsx("div",{className:"cards-grid",children:t.map((d,h)=>c.jsx("div",{className:"summary-card",style:{"--card-accent-color":d.color},children:c.jsxs("div",{className:"card-header",children:[c.jsxs("div",{className:"card-header-left",children:[c.jsx("div",{className:`card-change ${d.changeType}`,children:d.change}),c.jsx("div",{className:"card-icon",style:{backgroundColor:`${d.color}15`,boxShadow:`0 4px 12px ${d.color}20`},children:c.jsx(d.icon,{size:20,style:{color:d.color}})})]}),c.jsxs("div",{className:"card-header-right",children:[c.jsx("h3",{className:"card-title",children:d.title}),c.jsx("p",{className:"card-value",children:d.value.includes("R$")?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"currency-symbol",children:"R$"})," ",c.jsx("span",{className:"currency-value",children:d.value.replace("R$","").trim()})]}):d.value})]})]})},h))})]})};function bL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=bL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _t(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=bL(t))&&(r&&(r+=" "),r+=e);return r}var cG=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function N1(t){if(typeof t!="string")return!1;var e=cG;return e.includes(t)}var uG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],dG=new Set(uG);function xL(t){return typeof t!="string"?!1:dG.has(t)}function wL(t){return typeof t=="string"&&t.startsWith("data-")}function Va(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(xL(n)||wL(n))&&(e[n]=t[n]);return e}function $h(t){if(t==null)return null;if(_.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Va(e)}return typeof t=="object"&&!Array.isArray(t)?Va(t):null}function fa(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(xL(n)||wL(n)||N1(n))&&(e[n]=t[n]);return e}var hG=["children","width","height","viewBox","className","style","title","desc"];function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N_.apply(null,arguments)}function fG(t,e){if(t==null)return{};var n,r,a=mG(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function mG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _L=_.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:s,className:l,style:d,title:h,desc:f}=t,p=fG(t,hG),v=s||{width:r,height:a,x:0,y:0},b=_t("recharts-surface",l);return _.createElement("svg",N_({},fa(p),{className:b,width:r,height:a,style:d,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:e}),_.createElement("title",null,h),_.createElement("desc",null,f),n)}),pG=["children","className"];function C_(){return C_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C_.apply(null,arguments)}function vG(t,e){if(t==null)return{};var n,r,a=gG(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function gG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fr=_.forwardRef((t,e)=>{var{children:n,className:r}=t,a=vG(t,pG),s=_t("recharts-layer",r);return _.createElement("g",C_({className:s},fa(a),{ref:e}),n)}),yG=_.createContext(null);function jt(t){return function(){return t}}const EL=Math.cos,Lv=Math.sin,Fa=Math.sqrt,Vv=Math.PI,iy=2*Vv,O_=Math.PI,P_=2*O_,bl=1e-6,bG=P_-bl;function SL(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function xG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return SL;const n=10**e;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class wG{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?SL:xG(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,s,l){this._append`C${+e},${+n},${+r},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,a,s){if(e=+e,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,d=this._y1,h=r-e,f=a-n,p=l-e,v=d-n,b=p*p+v*v;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>bl)if(!(Math.abs(v*h-f*p)>bl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-l,j=a-d,E=h*h+f*f,S=w*w+j*j,T=Math.sqrt(E),C=Math.sqrt(b),I=s*Math.tan((O_-Math.acos((E+b-S)/(2*T*C)))/2),U=I/C,L=I/T;Math.abs(U-1)>bl&&this._append`L${e+U*p},${n+U*v}`,this._append`A${s},${s},0,0,${+(v*w>p*j)},${this._x1=e+L*h},${this._y1=n+L*f}`}}arc(e,n,r,a,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(a),h=r*Math.sin(a),f=e+d,p=n+h,v=1^l,b=l?a-s:s-a;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>bl||Math.abs(this._y1-p)>bl)&&this._append`L${f},${p}`,r&&(b<0&&(b=b%P_+P_),b>bG?this._append`A${r},${r},0,1,${v},${e-d},${n-h}A${r},${r},0,1,${v},${this._x1=f},${this._y1=p}`:b>bl&&this._append`A${r},${r},0,${+(b>=O_)},${v},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function C1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new wG(e)}function O1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function jL(t){this._context=t}jL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function sy(t){return new jL(t)}function AL(t){return t[0]}function TL(t){return t[1]}function NL(t,e){var n=jt(!0),r=null,a=sy,s=null,l=C1(d);t=typeof t=="function"?t:t===void 0?AL:jt(t),e=typeof e=="function"?e:e===void 0?TL:jt(e);function d(h){var f,p=(h=O1(h)).length,v,b=!1,w;for(r==null&&(s=a(w=l())),f=0;f<=p;++f)!(f<p&&n(v=h[f],f,h))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+t(v,f,h),+e(v,f,h));if(w)return s=null,w+""||null}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:jt(+h),d):t},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:jt(+h),d):e},d.defined=function(h){return arguments.length?(n=typeof h=="function"?h:jt(!!h),d):n},d.curve=function(h){return arguments.length?(a=h,r!=null&&(s=a(r)),d):a},d.context=function(h){return arguments.length?(h==null?r=s=null:s=a(r=h),d):r},d}function Op(t,e,n){var r=null,a=jt(!0),s=null,l=sy,d=null,h=C1(f);t=typeof t=="function"?t:t===void 0?AL:jt(+t),e=typeof e=="function"?e:jt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?TL:jt(+n);function f(v){var b,w,j,E=(v=O1(v)).length,S,T=!1,C,I=new Array(E),U=new Array(E);for(s==null&&(d=l(C=h())),b=0;b<=E;++b){if(!(b<E&&a(S=v[b],b,v))===T)if(T=!T)w=b,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),j=b-1;j>=w;--j)d.point(I[j],U[j]);d.lineEnd(),d.areaEnd()}T&&(I[b]=+t(S,b,v),U[b]=+e(S,b,v),d.point(r?+r(S,b,v):I[b],n?+n(S,b,v):U[b]))}if(C)return d=null,C+""||null}function p(){return NL().defined(a).curve(l).context(s)}return f.x=function(v){return arguments.length?(t=typeof v=="function"?v:jt(+v),r=null,f):t},f.x0=function(v){return arguments.length?(t=typeof v=="function"?v:jt(+v),f):t},f.x1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:jt(+v),f):r},f.y=function(v){return arguments.length?(e=typeof v=="function"?v:jt(+v),n=null,f):e},f.y0=function(v){return arguments.length?(e=typeof v=="function"?v:jt(+v),f):e},f.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:jt(+v),f):n},f.lineX0=f.lineY0=function(){return p().x(t).y(e)},f.lineY1=function(){return p().x(t).y(n)},f.lineX1=function(){return p().x(r).y(e)},f.defined=function(v){return arguments.length?(a=typeof v=="function"?v:jt(!!v),f):a},f.curve=function(v){return arguments.length?(l=v,s!=null&&(d=l(s)),f):l},f.context=function(v){return arguments.length?(v==null?s=d=null:d=l(s=v),f):s},f}class CL{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function _G(t){return new CL(t,!0)}function EG(t){return new CL(t,!1)}const P1={draw(t,e){const n=Fa(e/Vv);t.moveTo(n,0),t.arc(0,0,n,0,iy)}},SG={draw(t,e){const n=Fa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},OL=Fa(1/3),jG=OL*2,AG={draw(t,e){const n=Fa(e/jG),r=n*OL;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},TG={draw(t,e){const n=Fa(e),r=-n/2;t.rect(r,r,n,n)}},NG=.8908130915292852,PL=Lv(Vv/10)/Lv(7*Vv/10),CG=Lv(iy/10)*PL,OG=-EL(iy/10)*PL,PG={draw(t,e){const n=Fa(e*NG),r=CG*n,a=OG*n;t.moveTo(0,-n),t.lineTo(r,a);for(let s=1;s<5;++s){const l=iy*s/5,d=EL(l),h=Lv(l);t.lineTo(h*n,-d*n),t.lineTo(d*r-h*a,h*r+d*a)}t.closePath()}},gx=Fa(3),IG={draw(t,e){const n=-Fa(e/(gx*3));t.moveTo(0,n*2),t.lineTo(-gx*n,-n),t.lineTo(gx*n,-n),t.closePath()}},ia=-.5,sa=Fa(3)/2,I_=1/Fa(12),RG=(I_/2+1)*3,DG={draw(t,e){const n=Fa(e/RG),r=n/2,a=n*I_,s=r,l=n*I_+n,d=-s,h=l;t.moveTo(r,a),t.lineTo(s,l),t.lineTo(d,h),t.lineTo(ia*r-sa*a,sa*r+ia*a),t.lineTo(ia*s-sa*l,sa*s+ia*l),t.lineTo(ia*d-sa*h,sa*d+ia*h),t.lineTo(ia*r+sa*a,ia*a-sa*r),t.lineTo(ia*s+sa*l,ia*l-sa*s),t.lineTo(ia*d+sa*h,ia*h-sa*d),t.closePath()}};function kG(t,e){let n=null,r=C1(a);t=typeof t=="function"?t:jt(t||P1),e=typeof e=="function"?e:jt(e===void 0?64:+e);function a(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:jt(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:jt(+s),a):e},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function zv(){}function Uv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function IL(t){this._context=t}IL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Uv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Uv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function MG(t){return new IL(t)}function RL(t){this._context=t}RL.prototype={areaStart:zv,areaEnd:zv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Uv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function LG(t){return new RL(t)}function DL(t){this._context=t}DL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Uv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function VG(t){return new DL(t)}function kL(t){this._context=t}kL.prototype={areaStart:zv,areaEnd:zv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function zG(t){return new kL(t)}function U2(t){return t<0?-1:1}function B2(t,e,n){var r=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(r||a<0&&-0),l=(n-t._y1)/(a||r<0&&-0),d=(s*a+l*r)/(r+a);return(U2(s)+U2(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(d))||0}function F2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function yx(t,e,n){var r=t._x0,a=t._y0,s=t._x1,l=t._y1,d=(s-r)/3;t._context.bezierCurveTo(r+d,a+d*e,s-d,l-d*n,s,l)}function Bv(t){this._context=t}Bv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yx(this,this._t0,F2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,yx(this,F2(this,n=B2(this,t,e)),n);break;default:yx(this,this._t0,n=B2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function ML(t){this._context=new LL(t)}(ML.prototype=Object.create(Bv.prototype)).point=function(t,e){Bv.prototype.point.call(this,e,t)};function LL(t){this._context=t}LL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,s){this._context.bezierCurveTo(e,t,r,n,s,a)}};function UG(t){return new Bv(t)}function BG(t){return new ML(t)}function VL(t){this._context=t}VL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=q2(t),a=q2(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function q2(t){var e,n=t.length-1,r,a=new Array(n),s=new Array(n),l=new Array(n);for(a[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(a[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)a[e]=(l[e]-a[e+1])/s[e];for(s[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function FG(t){return new VL(t)}function oy(t,e){this._context=t,this._t=e}oy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function qG(t){return new oy(t,.5)}function $G(t){return new oy(t,0)}function HG(t){return new oy(t,1)}function xu(t,e){if((l=t.length)>1)for(var n=1,r,a,s=t[e[0]],l,d=s.length;n<l;++n)for(a=s,s=t[e[n]],r=0;r<d;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function R_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function KG(t,e){return t[e]}function GG(t){const e=[];return e.key=t,e}function WG(){var t=jt([]),e=R_,n=xu,r=KG;function a(s){var l=Array.from(t.apply(this,arguments),GG),d,h=l.length,f=-1,p;for(const v of s)for(d=0,++f;d<h;++d)(l[d][f]=[0,+r(v,l[d].key,f,s)]).data=v;for(d=0,p=O1(e(l));d<h;++d)l[p[d]].index=d;return n(l,p),l}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:jt(Array.from(s)),a):t},a.value=function(s){return arguments.length?(r=typeof s=="function"?s:jt(+s),a):r},a.order=function(s){return arguments.length?(e=s==null?R_:typeof s=="function"?s:jt(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(n=s??xu,a):n},a}function YG(t,e){if((r=t.length)>0){for(var n,r,a=0,s=t[0].length,l;a<s;++a){for(l=n=0;n<r;++n)l+=t[n][a][1]||0;if(l)for(n=0;n<r;++n)t[n][a][1]/=l}xu(t,e)}}function XG(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,s=r.length;n<s;++n){for(var l=0,d=0;l<a;++l)d+=t[l][n][1]||0;r[n][1]+=r[n][0]=-d/2}xu(t,e)}}function QG(t,e){if(!(!((l=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,s,l;r<s;++r){for(var d=0,h=0,f=0;d<l;++d){for(var p=t[e[d]],v=p[r][1]||0,b=p[r-1][1]||0,w=(v-b)/2,j=0;j<d;++j){var E=t[e[j]],S=E[r][1]||0,T=E[r-1][1]||0;w+=S-T}h+=v,f+=w*v}a[r-1][1]+=a[r-1][0]=n,h&&(n-=f/h)}a[r-1][1]+=a[r-1][0]=n,xu(t,e)}}var bx={},xx={},$2;function ZG(){return $2||($2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(xx)),xx}var wx={},H2;function zL(){return H2||(H2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(wx)),wx}var _x={},K2;function I1(){return K2||(K2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(_x)),_x}var Ex={},Sx={},G2;function JG(){return G2||(G2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Sx)),Sx}var W2;function R1(){return W2||(W2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JG(),n=I1();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=e.toString(a);const s=[],l=a.length;if(l===0)return s;let d=0,h="",f="",p=!1;for(a.charCodeAt(0)===46&&(s.push(""),d++);d<l;){const v=a[d];f?v==="\\"&&d+1<l?(d++,h+=a[d]):v===f?f="":h+=v:p?v==='"'||v==="'"?f=v:v==="]"?(p=!1,s.push(h),h=""):h+=v:v==="["?(p=!0,h&&(s.push(h),h="")):v==="."?h&&(s.push(h),h=""):h+=v,d++}return h&&s.push(h),s}t.toPath=r})(Ex)),Ex}var Y2;function D1(){return Y2||(Y2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZG(),n=zL(),r=I1(),a=R1();function s(d,h,f){if(d==null)return f;switch(typeof h){case"string":{if(e.isUnsafeProperty(h))return f;const p=d[h];return p===void 0?n.isDeepKey(h)?s(d,a.toPath(h),f):f:p}case"number":case"symbol":{typeof h=="number"&&(h=r.toKey(h));const p=d[h];return p===void 0?f:p}default:{if(Array.isArray(h))return l(d,h,f);if(Object.is(h?.valueOf(),-0)?h="-0":h=String(h),e.isUnsafeProperty(h))return f;const p=d[h];return p===void 0?f:p}}}function l(d,h,f){if(h.length===0)return f;let p=d;for(let v=0;v<h.length;v++){if(p==null||e.isUnsafeProperty(h[v]))return f;p=p[h[v]]}return p===void 0?f:p}t.get=s})(bx)),bx}var jx,X2;function eW(){return X2||(X2=1,jx=D1().get),jx}var tW=eW();const Bl=gs(tW);var Dn=t=>t===0?0:t>0?1:-1,za=t=>typeof t=="number"&&t!=+t,us=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ce=t=>(typeof t=="number"||t instanceof Number)&&!za(t),wi=t=>Ce(t)||typeof t=="string",nW=0,Hh=t=>{var e=++nW;return"".concat(t||"").concat(e)},ar=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(e)&&typeof e!="string")return r;var s;if(us(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return za(s)&&(s=r),a&&n!=null&&s>n&&(s=n),s},UL=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function bn(t,e,n){return Ce(t)&&Ce(e)?t+n*(e-t):e}function rW(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Bl(r,e))===n)}var Mn=t=>t===null||typeof t>"u",wf=t=>Mn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function aW(t){return t!=null}function _f(){}var iW=["type","size","sizeType"];function D_(){return D_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D_.apply(null,arguments)}function Q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Z2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q2(Object(n),!0).forEach(function(r){sW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sW(t,e,n){return(e=oW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oW(t){var e=lW(t,"string");return typeof e=="symbol"?e:e+""}function lW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cW(t,e){if(t==null)return{};var n,r,a=uW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function uW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var BL={symbolCircle:P1,symbolCross:SG,symbolDiamond:AG,symbolSquare:TG,symbolStar:PG,symbolTriangle:IG,symbolWye:DG},dW=Math.PI/180,hW=t=>{var e="symbol".concat(wf(t));return BL[e]||P1},fW=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*dW;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},mW=(t,e)=>{BL["symbol".concat(wf(t))]=e},FL=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,a=cW(t,iW),s=Z2(Z2({},a),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var d=()=>{var b=hW(l),w=kG().type(b).size(fW(n,r,l)),j=w();if(j!==null)return j},{className:h,cx:f,cy:p}=s,v=fa(s);return Ce(f)&&Ce(p)&&Ce(n)?_.createElement("path",D_({},v,{className:_t("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(p,")"),d:d()})):null};FL.registerSymbol=mW;var qL=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,pW=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{N1(a)&&(r[a]=(s=>n[a](n,s)))}),r},vW=(t,e,n)=>r=>(t(e,n,r),null),ly=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var s=t[a];N1(a)&&typeof s=="function"&&(r||(r={}),r[a]=vW(s,e,n))}),r};function J2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function gW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J2(Object(n),!0).forEach(function(r){yW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yW(t,e,n){return(e=bW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bW(t){var e=xW(t,"string");return typeof e=="symbol"?e:e+""}function xW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sr(t,e){var n=gW({},t),r=e,a=Object.keys(e),s=a.reduce((l,d)=>(l[d]===void 0&&r[d]!==void 0&&(l[d]=r[d]),l),n);return s}var Ax={},Tx={},eO;function wW(){return eO||(eO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let s=0;s<n.length;s++){const l=n[s],d=r(l);a.has(d)||a.set(d,l)}return Array.from(a.values())}t.uniqBy=e})(Tx)),Tx}var Nx={},tO;function $L(){return tO||(tO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Nx)),Nx}var Cx={},Ox={},Px={},nO;function _W(){return nO||(nO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Px)),Px}var rO;function k1(){return rO||(rO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_W();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Ox)),Ox}var Ix={},aO;function EW(){return aO||(aO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Ix)),Ix}var iO;function SW(){return iO||(iO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=k1(),n=EW();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r})(Cx)),Cx}var Rx={},Dx={},sO;function jW(){return sO||(sO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D1();function n(r){return function(a){return e.get(a,r)}}t.property=n})(Dx)),Dx}var kx={},Mx={},Lx={},Vx={},oO;function HL(){return oO||(oO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Vx)),Vx}var zx={},lO;function KL(){return lO||(lO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(zx)),zx}var Ux={},cO;function GL(){return cO||(cO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Ux)),Ux}var uO;function AW(){return uO||(uO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HL(),n=KL(),r=GL();function a(p,v,b){return typeof b!="function"?a(p,v,()=>{}):s(p,v,function w(j,E,S,T,C,I){const U=b(j,E,S,T,C,I);return U!==void 0?!!U:s(j,E,w,I)},new Map)}function s(p,v,b,w){if(v===p)return!0;switch(typeof v){case"object":return l(p,v,b,w);case"function":return Object.keys(v).length>0?s(p,{...v},b,w):r.eq(p,v);default:return e.isObject(p)?typeof v=="string"?v==="":!0:r.eq(p,v)}}function l(p,v,b,w){if(v==null)return!0;if(Array.isArray(v))return h(p,v,b,w);if(v instanceof Map)return d(p,v,b,w);if(v instanceof Set)return f(p,v,b,w);const j=Object.keys(v);if(p==null)return j.length===0;if(j.length===0)return!0;if(w?.has(v))return w.get(v)===p;w?.set(v,p);try{for(let E=0;E<j.length;E++){const S=j[E];if(!n.isPrimitive(p)&&!(S in p)||v[S]===void 0&&p[S]!==void 0||v[S]===null&&p[S]!==null||!b(p[S],v[S],S,p,v,w))return!1}return!0}finally{w?.delete(v)}}function d(p,v,b,w){if(v.size===0)return!0;if(!(p instanceof Map))return!1;for(const[j,E]of v.entries()){const S=p.get(j);if(b(S,E,j,p,v,w)===!1)return!1}return!0}function h(p,v,b,w){if(v.length===0)return!0;if(!Array.isArray(p))return!1;const j=new Set;for(let E=0;E<v.length;E++){const S=v[E];let T=!1;for(let C=0;C<p.length;C++){if(j.has(C))continue;const I=p[C];let U=!1;if(b(I,S,E,p,v,w)&&(U=!0),U){j.add(C),T=!0;break}}if(!T)return!1}return!0}function f(p,v,b,w){return v.size===0?!0:p instanceof Set?h([...p],[...v],b,w):!1}t.isMatchWith=a,t.isSetMatch=f})(Lx)),Lx}var dO;function WL(){return dO||(dO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AW();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n})(Mx)),Mx}var Bx={},Fx={},qx={},hO;function TW(){return hO||(hO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(qx)),qx}var $x={},fO;function YL(){return fO||(fO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})($x)),$x}var Hx={},mO;function XL(){return mO||(mO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",d="[object Date]",h="[object Map]",f="[object Set]",p="[object Array]",v="[object Function]",b="[object ArrayBuffer]",w="[object Object]",j="[object Error]",E="[object DataView]",S="[object Uint8Array]",T="[object Uint8ClampedArray]",C="[object Uint16Array]",I="[object Uint32Array]",U="[object BigUint64Array]",L="[object Int8Array]",B="[object Int16Array]",P="[object Int32Array]",M="[object BigInt64Array]",D="[object Float32Array]",z="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=b,t.arrayTag=p,t.bigInt64ArrayTag=M,t.bigUint64ArrayTag=U,t.booleanTag=a,t.dataViewTag=E,t.dateTag=d,t.errorTag=j,t.float32ArrayTag=D,t.float64ArrayTag=z,t.functionTag=v,t.int16ArrayTag=B,t.int32ArrayTag=P,t.int8ArrayTag=L,t.mapTag=h,t.numberTag=r,t.objectTag=w,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=C,t.uint32ArrayTag=I,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=T})(Hx)),Hx}var Kx={},pO;function NW(){return pO||(pO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Kx)),Kx}var vO;function QL(){return vO||(vO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TW(),n=YL(),r=XL(),a=KL(),s=NW();function l(p,v){return d(p,void 0,p,new Map,v)}function d(p,v,b,w=new Map,j=void 0){const E=j?.(p,v,b,w);if(E!==void 0)return E;if(a.isPrimitive(p))return p;if(w.has(p))return w.get(p);if(Array.isArray(p)){const S=new Array(p.length);w.set(p,S);for(let T=0;T<p.length;T++)S[T]=d(p[T],T,b,w,j);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;w.set(p,S);for(const[T,C]of p)S.set(T,d(C,T,b,w,j));return S}if(p instanceof Set){const S=new Set;w.set(p,S);for(const T of p)S.add(d(T,void 0,b,w,j));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);w.set(p,S);for(let T=0;T<p.length;T++)S[T]=d(p[T],T,b,w,j);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return w.set(p,S),h(S,p,b,w,j),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return w.set(p,S),h(S,p,b,w,j),S}if(typeof Blob<"u"&&p instanceof Blob){const S=new Blob([p],{type:p.type});return w.set(p,S),h(S,p,b,w,j),S}if(p instanceof Error){const S=new p.constructor;return w.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,h(S,p,b,w,j),S}if(p instanceof Boolean){const S=new Boolean(p.valueOf());return w.set(p,S),h(S,p,b,w,j),S}if(p instanceof Number){const S=new Number(p.valueOf());return w.set(p,S),h(S,p,b,w,j),S}if(p instanceof String){const S=new String(p.valueOf());return w.set(p,S),h(S,p,b,w,j),S}if(typeof p=="object"&&f(p)){const S=Object.create(Object.getPrototypeOf(p));return w.set(p,S),h(S,p,b,w,j),S}return p}function h(p,v,b=p,w,j){const E=[...Object.keys(v),...e.getSymbols(v)];for(let S=0;S<E.length;S++){const T=E[S],C=Object.getOwnPropertyDescriptor(p,T);(C==null||C.writable)&&(p[T]=d(v[T],T,b,w,j))}}function f(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=d,t.copyProperties=h})(Fx)),Fx}var gO;function CW(){return gO||(gO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QL();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Bx)),Bx}var yO;function OW(){return yO||(yO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WL(),n=CW();function r(a){return a=n.cloneDeep(a),s=>e.isMatch(s,a)}t.matches=r})(kx)),kx}var Gx={},Wx={},Yx={},bO;function PW(){return bO||(bO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QL(),n=XL();function r(a,s){return e.cloneDeepWith(a,(l,d,h,f)=>{const p=s?.(l,d,h,f);if(p!==void 0)return p;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const v=new a.constructor(a?.valueOf());return e.copyProperties(v,a),v}case n.argumentsTag:{const v={};return e.copyProperties(v,a),v.length=a.length,v[Symbol.iterator]=a[Symbol.iterator],v}default:return}})}t.cloneDeepWith=r})(Yx)),Yx}var xO;function IW(){return xO||(xO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PW();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Wx)),Wx}var Xx={},Qx={},wO;function ZL(){return wO||(wO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Qx)),Qx}var Zx={},_O;function RW(){return _O||(_O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YL();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Zx)),Zx}var EO;function DW(){return EO||(EO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zL(),n=ZL(),r=RW(),a=R1();function s(l,d){let h;if(Array.isArray(d)?h=d:typeof d=="string"&&e.isDeepKey(d)&&l?.[d]==null?h=a.toPath(d):h=[d],h.length===0)return!1;let f=l;for(let p=0;p<h.length;p++){const v=h[p];if((f==null||!Object.hasOwn(f,v))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(v)&&v<f.length))return!1;f=f[v]}return!0}t.has=s})(Xx)),Xx}var SO;function kW(){return SO||(SO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WL(),n=I1(),r=IW(),a=D1(),s=DW();function l(d,h){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return h=r.cloneDeep(h),function(f){const p=a.get(f,d);return p===void 0?s.has(f,d):h===void 0?p===void 0:e.isMatch(p,h)}}t.matchesProperty=l})(Gx)),Gx}var jO;function MW(){return jO||(jO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$L(),n=jW(),r=OW(),a=kW();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(Rx)),Rx}var AO;function LW(){return AO||(AO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wW(),n=$L(),r=SW(),a=MW();function s(l,d=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),a.iteratee(d)):[]}t.uniqBy=s})(Ax)),Ax}var Jx,TO;function VW(){return TO||(TO=1,Jx=LW().uniqBy),Jx}var zW=VW();const NO=gs(zW);function UW(t,e,n){return e===!0?NO(t,n):typeof e=="function"?NO(t,e):t}var ew={exports:{}},tw={},nw={exports:{}},rw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CO;function BW(){if(CO)return rw;CO=1;var t=Cu();function e(v,b){return v===b&&(v!==0||1/v===1/b)||v!==v&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function d(v,b){var w=b(),j=r({inst:{value:w,getSnapshot:b}}),E=j[0].inst,S=j[1];return s(function(){E.value=w,E.getSnapshot=b,h(E)&&S({inst:E})},[v,w,b]),a(function(){return h(E)&&S({inst:E}),v(function(){h(E)&&S({inst:E})})},[v]),l(w),w}function h(v){var b=v.getSnapshot;v=v.value;try{var w=b();return!n(v,w)}catch{return!0}}function f(v,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return rw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,rw}var OO;function FW(){return OO||(OO=1,nw.exports=BW()),nw.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PO;function qW(){if(PO)return tw;PO=1;var t=Cu(),e=FW();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,d=t.useMemo,h=t.useDebugValue;return tw.useSyncExternalStoreWithSelector=function(f,p,v,b,w){var j=s(null);if(j.current===null){var E={hasValue:!1,value:null};j.current=E}else E=j.current;j=d(function(){function T(B){if(!C){if(C=!0,I=B,B=b(B),w!==void 0&&E.hasValue){var P=E.value;if(w(P,B))return U=P}return U=B}if(P=U,r(I,B))return P;var M=b(B);return w!==void 0&&w(P,M)?(I=B,P):(I=B,U=M)}var C=!1,I,U,L=v===void 0?null:v;return[function(){return T(p())},L===null?void 0:function(){return T(L())}]},[p,v,b,w]);var S=a(f,j[0],j[1]);return l(function(){E.hasValue=!0,E.value=S},[S]),h(S),S},tw}var IO;function $W(){return IO||(IO=1,ew.exports=qW()),ew.exports}var HW=$W(),M1=_.createContext(null),KW=t=>t,zt=()=>{var t=_.useContext(M1);return t?t.store.dispatch:KW},ov=()=>{},GW=()=>ov,WW=(t,e)=>t===e;function Ae(t){var e=_.useContext(M1);return HW.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:GW,e?e.store.getState:ov,e?e.store.getState:ov,e?t:ov,WW)}function YW(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function XW(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function QW(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var RO=t=>Array.isArray(t)?t:[t];function ZW(t){const e=Array.isArray(t[0])?t[0]:t;return QW(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function JW(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var eY=class{constructor(t){this.value=t}deref(){return this.value}},tY=typeof WeakRef<"u"?WeakRef:eY,nY=0,DO=1;function Pp(){return{s:nY,v:void 0,o:null,p:null}}function JL(t,e={}){let n=Pp();const{resultEqualityCheck:r}=e;let a,s=0;function l(){let d=n;const{length:h}=arguments;for(let v=0,b=h;v<b;v++){const w=arguments[v];if(typeof w=="function"||typeof w=="object"&&w!==null){let j=d.o;j===null&&(d.o=j=new WeakMap);const E=j.get(w);E===void 0?(d=Pp(),j.set(w,d)):d=E}else{let j=d.p;j===null&&(d.p=j=new Map);const E=j.get(w);E===void 0?(d=Pp(),j.set(w,d)):d=E}}const f=d;let p;if(d.s===DO)p=d.v;else if(p=t.apply(null,arguments),s++,r){const v=a?.deref?.()??a;v!=null&&r(v,p)&&(p=v,s!==0&&s--),a=typeof p=="object"&&p!==null||typeof p=="function"?new tY(p):p}return f.s=DO,f.v=p,p}return l.clearCache=()=>{n=Pp(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function rY(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let s=0,l=0,d,h={},f=a.pop();typeof f=="object"&&(h=f,f=a.pop()),YW(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...n,...h},{memoize:v,memoizeOptions:b=[],argsMemoize:w=JL,argsMemoizeOptions:j=[]}=p,E=RO(b),S=RO(j),T=ZW(a),C=v(function(){return s++,f.apply(null,arguments)},...E),I=w(function(){l++;const L=JW(T,arguments);return d=C.apply(null,L),d},...S);return Object.assign(I,{resultFunc:f,memoizedResultFunc:C,dependencies:T,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:v,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var te=rY(JL),aY=Object.assign((t,e=te)=>{XW(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,d,h)=>(l[n[h]]=d,l),{}))},{withTypes:()=>aY}),aw={},iw={},sw={},kO;function iY(){return kO||(kO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,s)=>{if(r!==a){const l=e(r),d=e(a);if(l===d&&l===0){if(r<a)return s==="desc"?1:-1;if(r>a)return s==="desc"?-1:1}return s==="desc"?d-l:l-d}return 0};t.compareValues=n})(sw)),sw}var ow={},lw={},MO;function e4(){return MO||(MO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(lw)),lw}var LO;function sY(){return LO||(LO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=e4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=a})(ow)),ow}var VO;function oY(){return VO||(VO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iY(),n=sY(),r=R1();function a(s,l,d,h){if(s==null)return[];d=h?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(w=>String(w));const f=(w,j)=>{let E=w;for(let S=0;S<j.length&&E!=null;++S)E=E[j[S]];return E},p=(w,j)=>j==null||w==null?j:typeof w=="object"&&"key"in w?Object.hasOwn(j,w.key)?j[w.key]:f(j,w.path):typeof w=="function"?w(j):Array.isArray(w)?f(j,w):typeof j=="object"?j[w]:j,v=l.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return s.map(w=>({original:w,criteria:v.map(j=>p(j,w))})).slice().sort((w,j)=>{for(let E=0;E<v.length;E++){const S=e.compareValues(w.criteria[E],j.criteria[E],d[E]);if(S!==0)return S}return 0}).map(w=>w.original)}t.orderBy=a})(iw)),iw}var cw={},zO;function lY(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],s=Math.floor(r),l=(d,h)=>{for(let f=0;f<d.length;f++){const p=d[f];Array.isArray(p)&&h<s?l(p,h+1):a.push(p)}};return l(n,0),a}t.flatten=e})(cw)),cw}var uw={},UO;function t4(){return UO||(UO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZL(),n=k1(),r=HL(),a=GL();function s(l,d,h){return r.isObject(h)&&(typeof d=="number"&&n.isArrayLike(h)&&e.isIndex(d)&&d<h.length||typeof d=="string"&&d in h)?a.eq(h[d],l):!1}t.isIterateeCall=s})(uw)),uw}var BO;function cY(){return BO||(BO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oY(),n=lY(),r=t4();function a(s,...l){const d=l.length;return d>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:d>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=a})(aw)),aw}var dw,FO;function uY(){return FO||(FO=1,dw=cY().sortBy),dw}var dY=uY();const cy=gs(dY);var n4=t=>t.legend.settings,hY=t=>t.legend.size,fY=t=>t.legend.payload;te([fY,n4],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?cy(r,n):r});var Ip=1;function mY(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>Ip||Math.abs(l.left-e.left)>Ip||Math.abs(l.top-e.top)>Ip||Math.abs(l.width-e.width)>Ip)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Hn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var pY=typeof Symbol=="function"&&Symbol.observable||"@@observable",qO=pY,hw=()=>Math.random().toString(36).substring(7).split("").join("."),vY={INIT:`@@redux/INIT${hw()}`,REPLACE:`@@redux/REPLACE${hw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${hw()}`},Fv=vY;function L1(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function r4(t,e,n){if(typeof t!="function")throw new Error(Hn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Hn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Hn(1));return n(r4)(t,e)}let r=t,a=e,s=new Map,l=s,d=0,h=!1;function f(){l===s&&(l=new Map,s.forEach((S,T)=>{l.set(T,S)}))}function p(){if(h)throw new Error(Hn(3));return a}function v(S){if(typeof S!="function")throw new Error(Hn(4));if(h)throw new Error(Hn(5));let T=!0;f();const C=d++;return l.set(C,S),function(){if(T){if(h)throw new Error(Hn(6));T=!1,f(),l.delete(C),s=null}}}function b(S){if(!L1(S))throw new Error(Hn(7));if(typeof S.type>"u")throw new Error(Hn(8));if(typeof S.type!="string")throw new Error(Hn(17));if(h)throw new Error(Hn(9));try{h=!0,a=r(a,S)}finally{h=!1}return(s=l).forEach(C=>{C()}),S}function w(S){if(typeof S!="function")throw new Error(Hn(10));r=S,b({type:Fv.REPLACE})}function j(){const S=v;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(Hn(11));function C(){const U=T;U.next&&U.next(p())}return C(),{unsubscribe:S(C)}},[qO](){return this}}}return b({type:Fv.INIT}),{dispatch:b,subscribe:v,getState:p,replaceReducer:w,[qO]:j}}function gY(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Fv.INIT})>"u")throw new Error(Hn(12));if(typeof n(void 0,{type:Fv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Hn(13))})}function a4(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let a;try{gY(n)}catch(s){a=s}return function(l={},d){if(a)throw a;let h=!1;const f={};for(let p=0;p<r.length;p++){const v=r[p],b=n[v],w=l[v],j=b(w,d);if(typeof j>"u")throw d&&d.type,new Error(Hn(14));f[v]=j,h=h||j!==w}return h=h||r.length!==Object.keys(l).length,h?f:l}}function qv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function yY(...t){return e=>(n,r)=>{const a=e(n,r);let s=()=>{throw new Error(Hn(15))};const l={getState:a.getState,dispatch:(h,...f)=>s(h,...f)},d=t.map(h=>h(l));return s=qv(...d)(a.dispatch),{...a,dispatch:s}}}function i4(t){return L1(t)&&"type"in t&&typeof t.type=="string"}var s4=Symbol.for("immer-nothing"),$O=Symbol.for("immer-draftable"),mr=Symbol.for("immer-state");function Ca(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Br=Object,wu=Br.getPrototypeOf,$v="constructor",uy="prototype",k_="configurable",Hv="enumerable",lv="writable",Kh="value",ds=t=>!!t&&!!t[mr];function Ua(t){return t?o4(t)||dy(t)||!!t[$O]||!!t[$v]?.[$O]||hy(t)||fy(t):!1}var bY=Br[uy][$v].toString(),HO=new WeakMap;function o4(t){if(!t||!V1(t))return!1;const e=wu(t);if(e===null||e===Br[uy])return!0;const n=Br.hasOwnProperty.call(e,$v)&&e[$v];if(n===Object)return!0;if(!Qc(n))return!1;let r=HO.get(n);return r===void 0&&(r=Function.toString.call(n),HO.set(n,r)),r===bY}function Ef(t,e,n=!0){Sf(t)===0?(n?Reflect.ownKeys(t):Br.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function Sf(t){const e=t[mr];return e?e.type_:dy(t)?1:hy(t)?2:fy(t)?3:0}var KO=(t,e,n=Sf(t))=>n===2?t.has(e):Br[uy].hasOwnProperty.call(t,e),M_=(t,e,n=Sf(t))=>n===2?t.get(e):t[e],Kv=(t,e,n,r=Sf(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function xY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var dy=Array.isArray,hy=t=>t instanceof Map,fy=t=>t instanceof Set,V1=t=>typeof t=="object",Qc=t=>typeof t=="function",fw=t=>typeof t=="boolean",Gi=t=>t.copy_||t.base_,z1=t=>t.modified_?t.copy_:t.base_;function L_(t,e){if(hy(t))return new Map(t);if(fy(t))return new Set(t);if(dy(t))return Array[uy].slice.call(t);const n=o4(t);if(e===!0||e==="class_only"&&!n){const r=Br.getOwnPropertyDescriptors(t);delete r[mr];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const l=a[s],d=r[l];d[lv]===!1&&(d[lv]=!0,d[k_]=!0),(d.get||d.set)&&(r[l]={[k_]:!0,[lv]:!0,[Hv]:d[Hv],[Kh]:t[l]})}return Br.create(wu(t),r)}else{const r=wu(t);if(r!==null&&n)return{...t};const a=Br.create(r);return Br.assign(a,t)}}function U1(t,e=!1){return my(t)||ds(t)||!Ua(t)||(Sf(t)>1&&Br.defineProperties(t,{set:Rp,add:Rp,clear:Rp,delete:Rp}),Br.freeze(t),e&&Ef(t,(n,r)=>{U1(r,!0)},!1)),t}function wY(){Ca(2)}var Rp={[Kh]:wY};function my(t){return t===null||!V1(t)?!0:Br.isFrozen(t)}var Gv="MapSet",V_="Patches",l4={};function _u(t){const e=l4[t];return e||Ca(0,t),e}var _Y=t=>!!l4[t],Gh,c4=()=>Gh,EY=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:_Y(Gv)?_u(Gv):void 0});function GO(t,e){e&&(t.patchPlugin_=_u(V_),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function z_(t){U_(t),t.drafts_.forEach(SY),t.drafts_=null}function U_(t){t===Gh&&(Gh=t.parent_)}var WO=t=>Gh=EY(Gh,t);function SY(t){const e=t[mr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function YO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[mr].modified_&&(z_(e),Ca(4)),Ua(t)&&(t=XO(e,t));const{patchPlugin_:a}=e;a&&a.generateReplacementPatches_(n[mr].base_,t,e)}else t=XO(e,n);return jY(e,t,!0),z_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==s4?t:void 0}function XO(t,e){if(my(e))return e;const n=e[mr];if(!n)return B1(e,t.handledSet_,t);if(!py(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);h4(n,t)}return n.copy_}function jY(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&U1(e,n)}function u4(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var py=(t,e)=>t.scope_===e,AY=[];function d4(t,e,n,r){const a=Gi(t),s=t.type_;if(r!==void 0&&M_(a,r,s)===e){Kv(a,r,n,s);return}if(!t.draftLocations_){const d=t.draftLocations_=new Map;Ef(a,(h,f)=>{if(ds(f)){const p=d.get(f)||[];p.push(h),d.set(f,p)}})}const l=t.draftLocations_.get(e)??AY;for(const d of l)Kv(a,d,n,s)}function TY(t,e,n){t.callbacks_.push(function(a){const s=e;if(!s||!py(s,a))return;a.mapSetPlugin_?.fixSetContents(s);const l=z1(s);d4(t,s.draft_??s,l,n),h4(s,a)})}function h4(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const a=r.getPath(t);a&&r.generatePatches_(t,a,e)}u4(t)}}function NY(t,e,n){const{scope_:r}=t;if(ds(n)){const a=n[mr];py(a,r)&&a.callbacks_.push(function(){cv(t);const l=z1(a);d4(t,n,l,e)})}else Ua(n)&&t.callbacks_.push(function(){const s=Gi(t);M_(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&B1(M_(t.copy_,e,t.type_),r.handledSet_,r)})}function B1(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ds(t)||e.has(t)||!Ua(t)||my(t)||(e.add(t),Ef(t,(r,a)=>{if(ds(a)){const s=a[mr];if(py(s,n)){const l=z1(s);Kv(t,r,l,t.type_),u4(s)}}else Ua(a)&&B1(a,e,n)})),t}function CY(t,e){const n=dy(t),r={type_:n?1:0,scope_:e?e.scope_:c4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,s=F1;n&&(a=[r],s=Wh);const{revoke:l,proxy:d}=Proxy.revocable(a,s);return r.draft_=d,r.revoke_=l,[d,r]}var F1={get(t,e){if(e===mr)return t;const n=Gi(t);if(!KO(n,e,t.type_))return OY(t,n,e);const r=n[e];if(t.finalized_||!Ua(r))return r;if(r===mw(t.base_,e)){cv(t);const a=t.type_===1?+e:e,s=F_(t.scope_,r,t,a);return t.copy_[a]=s}return r},has(t,e){return e in Gi(t)},ownKeys(t){return Reflect.ownKeys(Gi(t))},set(t,e,n){const r=f4(Gi(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=mw(Gi(t),e),s=a?.[mr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(xY(n,a)&&(n!==void 0||KO(t.base_,e,t.type_)))return!0;cv(t),B_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),NY(t,e,n)),!0},deleteProperty(t,e){return cv(t),mw(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),B_(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Gi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[lv]:!0,[k_]:t.type_!==1||e!=="length",[Hv]:r[Hv],[Kh]:n[e]}},defineProperty(){Ca(11)},getPrototypeOf(t){return wu(t.base_)},setPrototypeOf(){Ca(12)}},Wh={};Ef(F1,(t,e)=>{Wh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});Wh.deleteProperty=function(t,e){return Wh.set.call(this,t,e,void 0)};Wh.set=function(t,e,n){return F1.set.call(this,t[0],e,n,t[0])};function mw(t,e){const n=t[mr];return(n?Gi(n):t)[e]}function OY(t,e,n){const r=f4(e,n);return r?Kh in r?r[Kh]:r.get?.call(t.draft_):void 0}function f4(t,e){if(!(e in t))return;let n=wu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=wu(n)}}function B_(t){t.modified_||(t.modified_=!0,t.parent_&&B_(t.parent_))}function cv(t){t.copy_||(t.assigned_=new Map,t.copy_=L_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var PY=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,a)=>{if(Qc(n)&&!Qc(r)){const l=r;r=n;const d=this;return function(f=l,...p){return d.produce(f,v=>r.call(this,v,...p))}}Qc(r)||Ca(6),a!==void 0&&!Qc(a)&&Ca(7);let s;if(Ua(n)){const l=WO(this),d=F_(l,n,void 0);let h=!0;try{s=r(d),h=!1}finally{h?z_(l):U_(l)}return GO(l,a),YO(s,l)}else if(!n||!V1(n)){if(s=r(n),s===void 0&&(s=n),s===s4&&(s=void 0),this.autoFreeze_&&U1(s,!0),a){const l=[],d=[];_u(V_).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:d}),a(l,d)}return s}else Ca(1,n)},this.produceWithPatches=(n,r)=>{if(Qc(n))return(d,...h)=>this.produceWithPatches(d,f=>n(f,...h));let a,s;return[this.produce(n,r,(d,h)=>{a=d,s=h}),a,s]},fw(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),fw(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),fw(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ua(e)||Ca(8),ds(e)&&(e=Ra(e));const n=WO(this),r=F_(n,e,void 0);return r[mr].isManual_=!0,U_(n),r}finishDraft(e,n){const r=e&&e[mr];(!r||!r.isManual_)&&Ca(9);const{scope_:a}=r;return GO(a,n),YO(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const a=_u(V_).applyPatches_;return ds(e)?a(e,n):this.produce(e,s=>a(s,n))}};function F_(t,e,n,r){const[a,s]=hy(e)?_u(Gv).proxyMap_(e,n):fy(e)?_u(Gv).proxySet_(e,n):CY(e,n);return(n?.scope_??c4()).drafts_.push(a),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?TY(n,s,r):s.callbacks_.push(function(h){h.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:f}=h;s.modified_&&f&&f.generatePatches_(s,[],h)}),a}function Ra(t){return ds(t)||Ca(10,t),m4(t)}function m4(t){if(!Ua(t)||my(t))return t;const e=t[mr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=L_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=L_(t,!0);return Ef(n,(a,s)=>{Kv(n,a,m4(s))},r),e&&(e.finalized_=!1),n}var IY=new PY,p4=IY.produce;function v4(t){return({dispatch:n,getState:r})=>a=>s=>typeof s=="function"?s(n,r,t):a(s)}var RY=v4(),DY=v4,kY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qv:qv.apply(null,arguments)};function ma(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(Fr(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>i4(r)&&r.type===t,n}var g4=class yh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,yh.prototype)}static get[Symbol.species](){return yh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new yh(...e[0].concat(this)):new yh(...e.concat(this))}};function QO(t){return Ua(t)?p4(t,()=>{}):t}function Dp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function MY(t){return typeof t=="boolean"}var LY=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let l=new g4;return n&&(MY(n)?l.push(RY):l.push(DY(n.extraArgument))),l},y4="RTK_autoBatch",kt=()=>t=>({payload:t,meta:{[y4]:!0}}),ZO=t=>e=>{setTimeout(e,t)},b4=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,s=!1,l=!1;const d=new Set,h=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ZO(10):t.type==="callback"?t.queueNotification:ZO(t.timeout),f=()=>{l=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const v=()=>a&&p(),b=r.subscribe(v);return d.add(p),()=>{b(),d.delete(p)}},dispatch(p){try{return a=!p?.meta?.[y4],s=!a,s&&(l||(l=!0,h(f))),r.dispatch(p)}finally{a=!0}}})},VY=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new g4(t);return r&&a.push(b4(typeof r=="object"?r:void 0)),a};function zY(t){const e=LY(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(L1(n))d=a4(n);else throw new Error(Fr(1));let h;typeof r=="function"?h=r(e):h=e();let f=qv;a&&(f=kY({trace:!1,...typeof a=="object"&&a}));const p=yY(...h),v=VY(p);let b=typeof l=="function"?l(v):v();const w=f(...b);return r4(d,s,w)}function x4(t){const e={},n=[];let r;const a={addCase(s,l){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(Fr(28));if(d in e)throw new Error(Fr(29));return e[d]=l,a},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),a},addMatcher(s,l){return n.push({matcher:s,reducer:l}),a},addDefaultCase(s){return r=s,a}};return t(a),[e,n,r]}function UY(t){return typeof t=="function"}function BY(t,e){let[n,r,a]=x4(e),s;if(UY(t))s=()=>QO(t());else{const d=QO(t);s=()=>d}function l(d=s(),h){let f=[n[h.type],...r.filter(({matcher:p})=>p(h)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[a]),f.reduce((p,v)=>{if(v)if(ds(p)){const w=v(p,h);return w===void 0?p:w}else{if(Ua(p))return p4(p,b=>v(b,h));{const b=v(p,h);if(b===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return p},d)}return l.getInitialState=s,l}var FY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",qY=(t=21)=>{let e="",n=t;for(;n--;)e+=FY[Math.random()*64|0];return e},$Y=Symbol.for("rtk-slice-createasyncthunk");function HY(t,e){return`${t}/${e}`}function KY({creators:t}={}){const e=t?.asyncThunk?.[$Y];return function(r){const{name:a,reducerPath:s=a}=r;if(!a)throw new Error(Fr(11));const l=(typeof r.reducers=="function"?r.reducers(WY()):r.reducers)||{},d=Object.keys(l),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(I,U){const L=typeof I=="string"?I:I.type;if(!L)throw new Error(Fr(12));if(L in h.sliceCaseReducersByType)throw new Error(Fr(13));return h.sliceCaseReducersByType[L]=U,f},addMatcher(I,U){return h.sliceMatchers.push({matcher:I,reducer:U}),f},exposeAction(I,U){return h.actionCreators[I]=U,f},exposeCaseReducer(I,U){return h.sliceCaseReducersByName[I]=U,f}};d.forEach(I=>{const U=l[I],L={reducerName:I,type:HY(a,I),createNotation:typeof r.reducers=="function"};XY(U)?ZY(L,U,f,e):YY(L,U,f)});function p(){const[I={},U=[],L=void 0]=typeof r.extraReducers=="function"?x4(r.extraReducers):[r.extraReducers],B={...I,...h.sliceCaseReducersByType};return BY(r.initialState,P=>{for(let M in B)P.addCase(M,B[M]);for(let M of h.sliceMatchers)P.addMatcher(M.matcher,M.reducer);for(let M of U)P.addMatcher(M.matcher,M.reducer);L&&P.addDefaultCase(L)})}const v=I=>I,b=new Map,w=new WeakMap;let j;function E(I,U){return j||(j=p()),j(I,U)}function S(){return j||(j=p()),j.getInitialState()}function T(I,U=!1){function L(P){let M=P[I];return typeof M>"u"&&U&&(M=Dp(w,L,S)),M}function B(P=v){const M=Dp(b,U,()=>new WeakMap);return Dp(M,P,()=>{const D={};for(const[z,k]of Object.entries(r.selectors??{}))D[z]=GY(k,P,()=>Dp(w,P,S),U);return D})}return{reducerPath:I,getSelectors:B,get selectors(){return B(L)},selectSlice:L}}const C={name:a,reducer:E,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:S,...T(s),injectInto(I,{reducerPath:U,...L}={}){const B=U??s;return I.inject({reducerPath:B,reducer:E},L),{...C,...T(B,!0)}}};return C}}function GY(t,e,n,r){function a(s,...l){let d=e(s);return typeof d>"u"&&r&&(d=n()),t(d,...l)}return a.unwrapped=t,a}var Tr=KY();function WY(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function YY({type:t,reducerName:e,createNotation:n},r,a){let s,l;if("reducer"in r){if(n&&!QY(r))throw new Error(Fr(17));s=r.reducer,l=r.prepare}else s=r;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?ma(t,l):ma(t))}function XY(t){return t._reducerDefinitionType==="asyncThunk"}function QY(t){return t._reducerDefinitionType==="reducerWithPrepare"}function ZY({type:t,reducerName:e},n,r,a){if(!a)throw new Error(Fr(18));const{payloadCreator:s,fulfilled:l,pending:d,rejected:h,settled:f,options:p}=n,v=a(t,s,p);r.exposeAction(e,v),l&&r.addCase(v.fulfilled,l),d&&r.addCase(v.pending,d),h&&r.addCase(v.rejected,h),f&&r.addMatcher(v.settled,f),r.exposeCaseReducer(e,{fulfilled:l||kp,pending:d||kp,rejected:h||kp,settled:f||kp})}function kp(){}var JY="task",w4="listener",_4="completed",q1="cancelled",eX=`task-${q1}`,tX=`task-${_4}`,q_=`${w4}-${q1}`,nX=`${w4}-${_4}`,vy=class{constructor(t){this.code=t,this.message=`${JY} ${q1} (reason: ${t})`}name="TaskAbortError";message},$1=(t,e)=>{if(typeof t!="function")throw new TypeError(Fr(32))},Wv=()=>{},E4=(t,e=Wv)=>(t.catch(e),t),S4=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Ol=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Pl=t=>{if(t.aborted){const{reason:e}=t;throw new vy(e)}};function j4(t,e){let n=Wv;return new Promise((r,a)=>{const s=()=>a(new vy(t.reason));if(t.aborted){s();return}n=S4(t,s),e.finally(()=>n()).then(r,a)}).finally(()=>{n=Wv})}var rX=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof vy?"cancelled":"rejected",error:n}}finally{e?.()}},Yv=t=>e=>E4(j4(t,e).then(n=>(Pl(t),n))),A4=t=>{const e=Yv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:lu}=Object,JO={},gy="listenerMiddleware",aX=(t,e)=>{const n=r=>S4(t,()=>Ol(r,t.reason));return(r,a)=>{$1(r);const s=new AbortController;n(s);const l=rX(async()=>{Pl(t),Pl(s.signal);const d=await r({pause:Yv(s.signal),delay:A4(s.signal),signal:s.signal});return Pl(s.signal),d},()=>Ol(s,tX));return a?.autoJoin&&e.push(l.catch(Wv)),{result:Yv(t)(l),cancel(){Ol(s,eX)}}}},iX=(t,e)=>{const n=async(r,a)=>{Pl(e);let s=()=>{};const d=[new Promise((h,f)=>{let p=t({predicate:r,effect:(v,b)=>{b.unsubscribe(),h([v,b.getState(),b.getOriginalState()])}});s=()=>{p(),f()}})];a!=null&&d.push(new Promise(h=>setTimeout(h,a,null)));try{const h=await j4(e,Promise.race(d));return Pl(e),h}finally{s()}};return(r,a)=>E4(n(r,a))},T4=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:s}=t;if(e)a=ma(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Fr(21));return $1(s),{predicate:a,type:e,effect:s}},N4=lu(t=>{const{type:e,predicate:n,effect:r}=T4(t);return{id:qY(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Fr(22))}}},{withTypes:()=>N4}),eP=(t,e)=>{const{type:n,effect:r,predicate:a}=T4(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===a)&&s.effect===r)},$_=t=>{t.pending.forEach(e=>{Ol(e,q_)})},sX=(t,e)=>()=>{for(const n of e.keys())$_(n);t.clear()},tP=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},C4=lu(ma(`${gy}/add`),{withTypes:()=>C4}),oX=ma(`${gy}/removeAll`),O4=lu(ma(`${gy}/remove`),{withTypes:()=>O4}),lX=(...t)=>{console.error(`${gy}/error`,...t)},jf=(t={})=>{const e=new Map,n=new Map,r=w=>{const j=n.get(w)??0;n.set(w,j+1)},a=w=>{const j=n.get(w)??1;j===1?n.delete(w):n.set(w,j-1)},{extra:s,onError:l=lX}=t;$1(l);const d=w=>(w.unsubscribe=()=>e.delete(w.id),e.set(w.id,w),j=>{w.unsubscribe(),j?.cancelActive&&$_(w)}),h=w=>{const j=eP(e,w)??N4(w);return d(j)};lu(h,{withTypes:()=>h});const f=w=>{const j=eP(e,w);return j&&(j.unsubscribe(),w.cancelActive&&$_(j)),!!j};lu(f,{withTypes:()=>f});const p=async(w,j,E,S)=>{const T=new AbortController,C=iX(h,T.signal),I=[];try{w.pending.add(T),r(w),await Promise.resolve(w.effect(j,lu({},E,{getOriginalState:S,condition:(U,L)=>C(U,L).then(Boolean),take:C,delay:A4(T.signal),pause:Yv(T.signal),extra:s,signal:T.signal,fork:aX(T.signal,I),unsubscribe:w.unsubscribe,subscribe:()=>{e.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((U,L,B)=>{U!==T&&(Ol(U,q_),B.delete(U))})},cancel:()=>{Ol(T,q_),w.pending.delete(T)},throwIfCancelled:()=>{Pl(T.signal)}})))}catch(U){U instanceof vy||tP(l,U,{raisedBy:"effect"})}finally{await Promise.all(I),Ol(T,nX),a(w),w.pending.delete(T)}},v=sX(e,n);return{middleware:w=>j=>E=>{if(!i4(E))return j(E);if(C4.match(E))return h(E.payload);if(oX.match(E)){v();return}if(O4.match(E))return f(E.payload);let S=w.getState();const T=()=>{if(S===JO)throw new Error(Fr(23));return S};let C;try{if(C=j(E),e.size>0){const I=w.getState(),U=Array.from(e.values());for(const L of U){let B=!1;try{B=L.predicate(E,I,S)}catch(P){B=!1,tP(l,P,{raisedBy:"predicate"})}B&&p(L,E,w,T)}}}finally{S=JO}return C},startListening:h,stopListening:f,clearListeners:v}};function Fr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var cX={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},P4=Tr({name:"chartLayout",initialState:cX,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,a,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:uX,setLayout:dX,setChartSize:hX,setScale:fX}=P4.actions,mX=P4.reducer;function I4(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function nP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function eu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(n),!0).forEach(function(r){pX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pX(t,e,n){return(e=vX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vX(t){var e=gX(t,"string");return typeof e=="symbol"?e:e+""}function gX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mt(t,e,n){return Mn(t)||Mn(e)?n:wi(e)?Bl(t,e,n):typeof e=="function"?e(t):n}var yX=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:s,verticalAlign:l,layout:d}=e;if((d==="vertical"||d==="horizontal"&&l==="middle")&&s!=="center"&&Ce(t[s]))return eu(eu({},t),{},{[s]:t[s]+(r||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&l!=="middle"&&Ce(t[l]))return eu(eu({},t),{},{[l]:t[l]+(a||0)})}return t},ec=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",R4=(t,e,n,r)=>{if(r)return t.map(d=>d.coordinate);var a,s,l=t.map(d=>(d.coordinate===e&&(a=!0),d.coordinate===n&&(s=!0),d.coordinate));return a||l.push(e),s||l.push(n),l},D4=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:a,range:s,scale:l,realScaleType:d,isCategorical:h,categoricalDomain:f,tickCount:p,ticks:v,niceTicks:b,axisType:w}=t;if(!l)return null;var j=d==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=a==="category"&&l.bandwidth?l.bandwidth()/j:0;if(E=w==="angleAxis"&&s&&s.length>=2?Dn(s[0]-s[1])*2*E:E,v||b){var S=(v||b||[]).map((T,C)=>{var I=r?r.indexOf(T):T;return{coordinate:l(I)+E,value:T,offset:E,index:C}});return S.filter(T=>!za(T.coordinate))}return h&&f?f.map((T,C)=>({coordinate:l(T)+E,value:T,index:C,offset:E})):l.ticks&&p!=null?l.ticks(p).map((T,C)=>({coordinate:l(T)+E,value:T,offset:E,index:C})):l.domain().map((T,C)=>({coordinate:l(T)+E,value:r?r[T]:T,index:C,offset:E}))},rP=1e-4,bX=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-rP,s=Math.max(r[0],r[1])+rP,l=t(e[0]),d=t(e[n-1]);(l<a||l>s||d<a||d>s)&&t.domain([e[0],e[n-1]])}},xX=(t,e)=>{if(!e||e.length!==2||!Ce(e[0])||!Ce(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!Ce(t[0])||t[0]<n)&&(a[0]=n),(!Ce(t[1])||t[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},wX=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0,l=0;l<e;++l){var d=za(t[l][n][1])?t[l][n][0]:t[l][n][1];d>=0?(t[l][n][0]=a,t[l][n][1]=a+d,a=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+d,s=t[l][n][1])}},_X=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0;s<e;++s){var l=za(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},EX={sign:wX,expand:YG,none:xu,silhouette:XG,wiggle:QG,positive:_X},SX=(t,e,n)=>{var r=EX[n],a=WG().keys(e).value((s,l)=>Number(Mt(s,l,0))).order(R_).offset(r);return a(t)};function jX(t){return t==null?void 0:String(t)}var aP=t=>{var{axis:e,ticks:n,offset:r,bandSize:a,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var d=Mt(s,e.dataKey,e.scale.domain()[l]);return Mn(d)?null:e.scale(d)-a/2+r},AX=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},TX=t=>{var e=t.flat(2).filter(Ce);return[Math.min(...e),Math.max(...e)]},NX=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],CX=(t,e,n)=>{if(t!=null)return NX(Object.keys(t).reduce((r,a)=>{var s=t[a],{stackedData:l}=s,d=l.reduce((h,f)=>{var p=I4(f,e,n),v=TX(p);return[Math.min(h[0],v[0]),Math.max(h[1],v[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},iP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xv=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=cy(e,p=>p.coordinate),s=1/0,l=1,d=a.length;l<d;l++){var h=a[l],f=a[l-1];s=Math.min((h.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function oP(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:s}=t;return eu(eu({},e),{},{dataKey:n,payload:r,value:a,name:s})}function yy(t,e){if(t)return String(t);if(typeof e=="string")return e}var OX=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},PX=(t,e)=>e==="centric"?t.angle:t.radius,ws=t=>t.layout.width,_s=t=>t.layout.height,IX=t=>t.layout.scale,k4=t=>t.layout.margin,by=te(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),xy=te(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),M4="data-recharts-item-index",L4="data-recharts-item-data-key",Af=60;function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Mp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){RX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RX(t,e,n){return(e=DX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DX(t){var e=kX(t,"string");return typeof e=="symbol"?e:e+""}function kX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MX=t=>t.brush.height;function LX(t){var e=xy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Af;return n+a}return n},0)}function VX(t){var e=xy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Af;return n+a}return n},0)}function zX(t){var e=by(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function UX(t){var e=by(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var _n=te([ws,_s,k4,MX,LX,VX,zX,UX,n4,hY],(t,e,n,r,a,s,l,d,h,f)=>{var p={left:(n.left||0)+a,right:(n.right||0)+s},v={top:(n.top||0)+l,bottom:(n.bottom||0)+d},b=Mp(Mp({},v),p),w=b.bottom;b.bottom+=r,b=yX(b,h,f);var j=t-b.left-b.right,E=e-b.top-b.bottom;return Mp(Mp({brushBottom:w},b),{},{width:Math.max(j,0),height:Math.max(E,0)})}),BX=te(_n,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),H1=te(ws,_s,(t,e)=>({x:0,y:0,width:t,height:e})),FX=_.createContext(null),Nr=()=>_.useContext(FX)!=null,wy=t=>t.brush,_y=te([wy,_n,k4],(t,e,n)=>({height:t.height,x:Ce(t.x)?t.x:e.left,y:Ce(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ce(t.width)?t.width:e.width})),pw={},vw={},gw={},cP;function qX(){return cP||(cP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:a,edges:s}={}){let l,d=null;const h=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),p=()=>{d!==null&&(n.apply(l,d),l=void 0,d=null)},v=()=>{f&&p(),E()};let b=null;const w=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,v()},r)},j=()=>{b!==null&&(clearTimeout(b),b=null)},E=()=>{j(),l=void 0,d=null},S=()=>{p()},T=function(...C){if(a?.aborted)return;l=this,d=C;const I=b==null;w(),h&&I&&p()};return T.schedule=w,T.cancel=E,T.flush=S,a?.addEventListener("abort",E,{once:!0}),T}t.debounce=e})(gw)),gw}var uP;function $X(){return uP||(uP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qX();function n(r,a=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:d=!0,maxWait:h}=s,f=Array(2);l&&(f[0]="leading"),d&&(f[1]="trailing");let p,v=null;const b=e.debounce(function(...E){p=r.apply(this,E),v=null},a,{edges:f}),w=function(...E){return h!=null&&(v===null&&(v=Date.now()),Date.now()-v>=h)?(p=r.apply(this,E),v=Date.now(),b.cancel(),b.schedule(),p):(b.apply(this,E),p)},j=()=>(b.flush(),p);return w.cancel=b.cancel,w.flush=j,w}t.debounce=n})(vw)),vw}var dP;function HX(){return dP||(dP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$X();function n(r,a=0,s={}){const{leading:l=!0,trailing:d=!0}=s;return e.debounce(r,a,{leading:l,maxWait:a,trailing:d})}t.throttle=n})(pw)),pw}var yw,hP;function KX(){return hP||(hP=1,yw=HX().throttle),yw}var GX=KX();const WX=gs(GX);var Qv=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>a[l++]))}},V4=(t,e,n)=>{var{width:r="100%",height:a="100%",aspect:s,maxHeight:l}=n,d=us(r)?t:Number(r),h=us(a)?e:Number(a);return s&&s>0&&(d?h=d/s:h&&(d=h*s),l&&h!=null&&h>l&&(h=l)),{calculatedWidth:d,calculatedHeight:h}},YX={width:0,height:0,overflow:"visible"},XX={width:0,overflowX:"visible"},QX={height:0,overflowY:"visible"},ZX={},JX=t=>{var{width:e,height:n}=t,r=us(e),a=us(n);return r&&a?YX:r?XX:a?QX:ZX};function eQ(t){var{width:e,height:n,aspect:r}=t,a=e,s=n;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:a,height:s}}function Jt(t){return Number.isFinite(t)}function _i(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function H_(){return H_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H_.apply(null,arguments)}function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){tQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tQ(t,e,n){return(e=nQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nQ(t){var e=rQ(t,"string");return typeof e=="symbol"?e:e+""}function rQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z4=_.createContext({width:-1,height:-1});function aQ(t){return _i(t.width)&&_i(t.height)}function U4(t){var{children:e,width:n,height:r}=t,a=_.useMemo(()=>({width:n,height:r}),[n,r]);return aQ(a)?_.createElement(z4.Provider,{value:a},e):null}var K1=()=>_.useContext(z4),iQ=_.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:s,minWidth:l=0,minHeight:d,maxHeight:h,children:f,debounce:p=0,id:v,className:b,onResize:w,style:j={}}=t,E=_.useRef(null),S=_.useRef();S.current=w,_.useImperativeHandle(e,()=>E.current);var[T,C]=_.useState({containerWidth:r.width,containerHeight:r.height}),I=_.useCallback((M,D)=>{C(z=>{var k=Math.round(M),F=Math.round(D);return z.containerWidth===k&&z.containerHeight===F?z:{containerWidth:k,containerHeight:F}})},[]);_.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return _f;var M=F=>{var R,{width:Q,height:me}=F[0].contentRect;I(Q,me),(R=S.current)===null||R===void 0||R.call(S,Q,me)};p>0&&(M=WX(M,p,{trailing:!0,leading:!1}));var D=new ResizeObserver(M),{width:z,height:k}=E.current.getBoundingClientRect();return I(z,k),D.observe(E.current),()=>{D.disconnect()}},[I,p]);var{containerWidth:U,containerHeight:L}=T;Qv(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:B,calculatedHeight:P}=V4(U,L,{width:a,height:s,aspect:n,maxHeight:h});return Qv(B!=null&&B>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,P,a,s,l,d,n),_.createElement("div",{id:v?"".concat(v):void 0,className:_t("recharts-responsive-container",b),style:mP(mP({},j),{},{width:a,height:s,minWidth:l,minHeight:d,maxHeight:h}),ref:E},_.createElement("div",{style:JX({width:a,height:s})},_.createElement(U4,{width:B,height:P},f)))}),pP=_.forwardRef((t,e)=>{var n=K1();if(_i(n.width)&&_i(n.height))return t.children;var{width:r,height:a}=eQ({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=V4(void 0,void 0,{width:r,height:a,aspect:t.aspect,maxHeight:t.maxHeight});return Ce(s)&&Ce(l)?_.createElement(U4,{width:s,height:l},t.children):_.createElement(iQ,H_({},t,{width:r,height:a,ref:e}))});function B4(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Ey=()=>{var t,e=Nr(),n=Ae(BX),r=Ae(_y),a=(t=Ae(wy))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},sQ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},F4=()=>{var t;return(t=Ae(_n))!==null&&t!==void 0?t:sQ},q4=()=>Ae(ws),$4=()=>Ae(_s),ot=t=>t.layout.layoutType,Sy=()=>Ae(ot),oQ=()=>{var t=Sy();return t!==void 0},jy=t=>{var e=zt(),n=Nr(),{width:r,height:a}=t,s=K1(),l=r,d=a;return s&&(l=s.width>0?s.width:r,d=s.height>0?s.height:a),_.useEffect(()=>{!n&&_i(l)&&_i(d)&&e(hX({width:l,height:d}))},[e,n,l,d]),null},H4=Symbol.for("immer-nothing"),vP=Symbol.for("immer-draftable"),qr=Symbol.for("immer-state");function Oa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Yh=Object.getPrototypeOf;function Eu(t){return!!t&&!!t[qr]}function Fl(t){return t?K4(t)||Array.isArray(t)||!!t[vP]||!!t.constructor?.[vP]||Tf(t)||Ty(t):!1}var lQ=Object.prototype.constructor.toString(),gP=new WeakMap;function K4(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=gP.get(n);return r===void 0&&(r=Function.toString.call(n),gP.set(n,r)),r===lQ}function Zv(t,e,n=!0){Ay(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function Ay(t){const e=t[qr];return e?e.type_:Array.isArray(t)?1:Tf(t)?2:Ty(t)?3:0}function K_(t,e){return Ay(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function G4(t,e,n){const r=Ay(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function cQ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Tf(t){return t instanceof Map}function Ty(t){return t instanceof Set}function xl(t){return t.copy_||t.base_}function G_(t,e){if(Tf(t))return new Map(t);if(Ty(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=K4(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[qr];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const l=a[s],d=r[l];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[l]})}return Object.create(Yh(t),r)}else{const r=Yh(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function G1(t,e=!1){return Ny(t)||Eu(t)||!Fl(t)||(Ay(t)>1&&Object.defineProperties(t,{set:Lp,add:Lp,clear:Lp,delete:Lp}),Object.freeze(t),e&&Object.values(t).forEach(n=>G1(n,!0))),t}function uQ(){Oa(2)}var Lp={value:uQ};function Ny(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var dQ={};function ql(t){const e=dQ[t];return e||Oa(0,t),e}var Xh;function W4(){return Xh}function hQ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yP(t,e){e&&(ql("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function W_(t){Y_(t),t.drafts_.forEach(fQ),t.drafts_=null}function Y_(t){t===Xh&&(Xh=t.parent_)}function bP(t){return Xh=hQ(Xh,t)}function fQ(t){const e=t[qr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function xP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[qr].modified_&&(W_(e),Oa(4)),Fl(t)&&(t=Jv(e,t),e.parent_||eg(e,t)),e.patches_&&ql("Patches").generateReplacementPatches_(n[qr].base_,t,e.patches_,e.inversePatches_)):t=Jv(e,n,[]),W_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==H4?t:void 0}function Jv(t,e,n){if(Ny(e))return e;const r=t.immer_.shouldUseStrictIteration(),a=e[qr];if(!a)return Zv(e,(s,l)=>wP(t,a,e,s,l,n),r),e;if(a.scope_!==t)return e;if(!a.modified_)return eg(t,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let l=s,d=!1;a.type_===3&&(l=new Set(s),s.clear(),d=!0),Zv(l,(h,f)=>wP(t,a,s,h,f,n,d),r),eg(t,s,!1),n&&t.patches_&&ql("Patches").generatePatches_(a,n,t.patches_,t.inversePatches_)}return a.copy_}function wP(t,e,n,r,a,s,l){if(a==null||typeof a!="object"&&!l)return;const d=Ny(a);if(!(d&&!l)){if(Eu(a)){const h=s&&e&&e.type_!==3&&!K_(e.assigned_,r)?s.concat(r):void 0,f=Jv(t,a,h);if(G4(n,r,f),Eu(f))t.canAutoFreeze_=!1;else return}else l&&n.add(a);if(Fl(a)&&!d){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===a&&d)return;Jv(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Tf(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&eg(t,a)}}}function eg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&G1(e,n)}function mQ(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:W4(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=W1;n&&(a=[r],s=Qh);const{revoke:l,proxy:d}=Proxy.revocable(a,s);return r.draft_=d,r.revoke_=l,d}var W1={get(t,e){if(e===qr)return t;const n=xl(t);if(!K_(n,e))return pQ(t,n,e);const r=n[e];return t.finalized_||!Fl(r)?r:r===bw(t.base_,e)?(xw(t),t.copy_[e]=Q_(r,t)):r},has(t,e){return e in xl(t)},ownKeys(t){return Reflect.ownKeys(xl(t))},set(t,e,n){const r=Y4(xl(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=bw(xl(t),e),s=a?.[qr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(cQ(n,a)&&(n!==void 0||K_(t.base_,e)))return!0;xw(t),X_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return bw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,xw(t),X_(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=xl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Oa(11)},getPrototypeOf(t){return Yh(t.base_)},setPrototypeOf(){Oa(12)}},Qh={};Zv(W1,(t,e)=>{Qh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Qh.deleteProperty=function(t,e){return Qh.set.call(this,t,e,void 0)};Qh.set=function(t,e,n){return W1.set.call(this,t[0],e,n,t[0])};function bw(t,e){const n=t[qr];return(n?xl(n):t)[e]}function pQ(t,e,n){const r=Y4(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function Y4(t,e){if(!(e in t))return;let n=Yh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Yh(n)}}function X_(t){t.modified_||(t.modified_=!0,t.parent_&&X_(t.parent_))}function xw(t){t.copy_||(t.copy_=G_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var vQ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(h=s,...f){return l.produce(h,p=>n.call(this,p,...f))}}typeof n!="function"&&Oa(6),r!==void 0&&typeof r!="function"&&Oa(7);let a;if(Fl(e)){const s=bP(this),l=Q_(e,void 0);let d=!0;try{a=n(l),d=!1}finally{d?W_(s):Y_(s)}return yP(s,r),xP(a,s)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===H4&&(a=void 0),this.autoFreeze_&&G1(a,!0),r){const s=[],l=[];ql("Patches").generateReplacementPatches_(e,a,s,l),r(s,l)}return a}else Oa(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...d)=>this.produceWithPatches(l,h=>e(h,...d));let r,a;return[this.produce(e,n,(l,d)=>{r=l,a=d}),r,a]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Fl(t)||Oa(8),Eu(t)&&(t=gQ(t));const e=bP(this),n=Q_(t,void 0);return n[qr].isManual_=!0,Y_(e),n}finishDraft(t,e){const n=t&&t[qr];(!n||!n.isManual_)&&Oa(9);const{scope_:r}=n;return yP(r,e),xP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=ql("Patches").applyPatches_;return Eu(t)?r(t,e):this.produce(t,a=>r(a,e))}};function Q_(t,e){const n=Tf(t)?ql("MapSet").proxyMap_(t,e):Ty(t)?ql("MapSet").proxySet_(t,e):mQ(t,e);return(e?e.scope_:W4()).drafts_.push(n),n}function gQ(t){return Eu(t)||Oa(10,t),X4(t)}function X4(t){if(!Fl(t)||Ny(t))return t;const e=t[qr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=G_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=G_(t,!0);return Zv(n,(a,s)=>{G4(n,a,X4(s))},r),e&&(e.finalized_=!1),n}var yQ=new vQ;yQ.produce;var bQ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Q4=Tr({name:"legend",initialState:bQ,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:kt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,a=Ra(t).payload.indexOf(n);a>-1&&(t.payload[a]=r)},prepare:kt()},removeLegendPayload:{reducer(t,e){var n=Ra(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:kt()}}}),{setLegendSize:dhe,setLegendSettings:hhe,addLegendPayload:Z4,replaceLegendPayload:J4,removeLegendPayload:e3}=Q4.actions,xQ=Q4.reducer;function Z_(){return Z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z_.apply(null,arguments)}function _P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ww(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(n),!0).forEach(function(r){wQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wQ(t,e,n){return(e=_Q(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Q(t){var e=EQ(t,"string");return typeof e=="symbol"?e:e+""}function EQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SQ(t){return Array.isArray(t)&&wi(t[0])&&wi(t[1])?t.join(" ~ "):t}var jQ=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:s,formatter:l,itemSorter:d,wrapperClassName:h,labelClassName:f,label:p,labelFormatter:v,accessibilityLayer:b=!1}=t,w=()=>{if(s&&s.length){var L={padding:0,margin:0},B=(d?cy(s,d):s).map((P,M)=>{if(P.type==="none")return null;var D=P.formatter||l||SQ,{value:z,name:k}=P,F=z,R=k;if(D){var Q=D(z,k,P,M,s);if(Array.isArray(Q))[F,R]=Q;else if(Q!=null)F=Q;else return null}var me=ww({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:me},wi(R)?_.createElement("span",{className:"recharts-tooltip-item-name"},R):null,wi(R)?_.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,_.createElement("span",{className:"recharts-tooltip-item-value"},F),_.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:L},B)}return null},j=ww({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=ww({margin:0},a),S=!Mn(p),T=S?p:"",C=_t("recharts-default-tooltip",h),I=_t("recharts-tooltip-label",f);S&&v&&s!==void 0&&s!==null&&(T=v(p,s));var U=b?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",Z_({className:C,style:j},U),_.createElement("p",{className:I,style:E},_.isValidElement(T)?T:"".concat(T)),w())},ah="recharts-tooltip-wrapper",AQ={visibility:"hidden"};function TQ(t){var{coordinate:e,translateX:n,translateY:r}=t;return _t(ah,{["".concat(ah,"-right")]:Ce(n)&&e&&Ce(e.x)&&n>=e.x,["".concat(ah,"-left")]:Ce(n)&&e&&Ce(e.x)&&n<e.x,["".concat(ah,"-bottom")]:Ce(r)&&e&&Ce(e.y)&&r>=e.y,["".concat(ah,"-top")]:Ce(r)&&e&&Ce(e.y)&&r<e.y})}function EP(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:d,viewBox:h,viewBoxDimension:f}=t;if(s&&Ce(s[r]))return s[r];var p=n[r]-d-(a>0?a:0),v=n[r]+a;if(e[r])return l[r]?p:v;var b=h[r];if(b==null)return 0;if(l[r]){var w=p,j=b;return w<j?Math.max(v,b):Math.max(p,b)}if(f==null)return 0;var E=v+d,S=b+f;return E>S?Math.max(p,b):Math.max(v,b)}function NQ(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function CQ(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:s,tooltipBox:l,useTranslate3d:d,viewBox:h}=t,f,p,v;return l.height>0&&l.width>0&&n?(p=EP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:h,viewBoxDimension:h.width}),v=EP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:h,viewBoxDimension:h.height}),f=NQ({translateX:p,translateY:v,useTranslate3d:d})):f=AQ,{cssProperties:f,cssClasses:TQ({translateX:p,translateY:v,coordinate:n})}}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){J_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J_(t,e,n){return(e=OQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OQ(t){var e=PQ(t,"string");return typeof e=="symbol"?e:e+""}function PQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class IQ extends _.PureComponent{constructor(){super(...arguments),J_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),J_(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:s,coordinate:l,hasPayload:d,isAnimationActive:h,offset:f,position:p,reverseDirection:v,useTranslate3d:b,viewBox:w,wrapperStyle:j,lastBoundingBox:E,innerRef:S,hasPortalFromProps:T}=this.props,{cssClasses:C,cssProperties:I}=CQ({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:p,reverseDirection:v,tooltipBox:{height:E.height,width:E.width},useTranslate3d:b,viewBox:w}),U=T?{}:Vp(Vp({transition:h&&e?"transform ".concat(r,"ms ").concat(a):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&d?"visible":"hidden",position:"absolute",top:0,left:0}),L=Vp(Vp({},U),{},{visibility:!this.state.dismissed&&e&&d?"visible":"hidden"},j);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:L,ref:S},s)}}var t3=()=>{var t;return(t=Ae(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eE.apply(null,arguments)}function jP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function AP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(n),!0).forEach(function(r){RQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RQ(t,e,n){return(e=DQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DQ(t){var e=kQ(t,"string");return typeof e=="symbol"?e:e+""}function kQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TP={curveBasisClosed:LG,curveBasisOpen:VG,curveBasis:MG,curveBumpX:_G,curveBumpY:EG,curveLinearClosed:zG,curveLinear:sy,curveMonotoneX:UG,curveMonotoneY:BG,curveNatural:FG,curveStep:qG,curveStepAfter:HG,curveStepBefore:$G},tg=t=>Jt(t.x)&&Jt(t.y),NP=t=>t.base!=null&&tg(t.base)&&tg(t),ih=t=>t.x,sh=t=>t.y,MQ=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(wf(t));return(n==="curveMonotone"||n==="curveBump")&&e?TP["".concat(n).concat(e==="vertical"?"Y":"X")]:TP[n]||sy},LQ=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:a,connectNulls:s=!1}=t,l=MQ(e,a),d=s?n.filter(tg):n,h;if(Array.isArray(r)){var f=n.map((w,j)=>AP(AP({},w),{},{base:r[j]}));a==="vertical"?h=Op().y(sh).x1(ih).x0(w=>w.base.x):h=Op().x(ih).y1(sh).y0(w=>w.base.y);var p=h.defined(NP).curve(l),v=s?f.filter(NP):f;return p(v)}a==="vertical"&&Ce(r)?h=Op().y(sh).x1(ih).x0(r):Ce(r)?h=Op().x(ih).y1(sh).y0(r):h=NL().x(ih).y(sh);var b=h.defined(tg).curve(l);return b(d)},Y1=t=>{var{className:e,points:n,path:r,pathRef:a}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?LQ(t):r;return _.createElement("path",eE({},Va(t),pW(t),{className:_t("recharts-curve",e),d:s===null?void 0:s,ref:a}))},VQ=["x","y","top","left","width","height","className"];function tE(){return tE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tE.apply(null,arguments)}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){UQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UQ(t,e,n){return(e=BQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BQ(t){var e=FQ(t,"string");return typeof e=="symbol"?e:e+""}function FQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qQ(t,e){if(t==null)return{};var n,r,a=$Q(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function $Q(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var HQ=(t,e,n,r,a,s)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),KQ=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:s=0,height:l=0,className:d}=t,h=qQ(t,VQ),f=zQ({x:e,y:n,top:r,left:a,width:s,height:l},h);return!Ce(e)||!Ce(n)||!Ce(s)||!Ce(l)||!Ce(r)||!Ce(a)?null:_.createElement("path",tE({},fa(f),{className:_t("recharts-cross",d),d:HQ(e,n,s,l,r,a)}))};function GQ(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function PP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(r){WQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WQ(t,e,n){return(e=YQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YQ(t){var e=XQ(t,"string");return typeof e=="symbol"?e:e+""}function XQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QQ=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),n3=(t,e,n)=>t.map(r=>"".concat(QQ(r)," ").concat(e,"ms ").concat(n)).join(","),ZQ=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),Zh=(t,e)=>Object.keys(e).reduce((n,r)=>PP(PP({},n),{},{[r]:t(r,e[r])}),{});function IP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(n),!0).forEach(function(r){JQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JQ(t,e,n){return(e=eZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eZ(t){var e=tZ(t,"string");return typeof e=="symbol"?e:e+""}function tZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ng=(t,e,n)=>t+(e-t)*n,nE=t=>{var{from:e,to:n}=t;return e!==n},r3=(t,e,n)=>{var r=Zh((a,s)=>{if(nE(s)){var[l,d]=t(s.from,s.to,s.velocity);return xn(xn({},s),{},{from:l,velocity:d})}return s},e);return n<1?Zh((a,s)=>nE(s)?xn(xn({},s),{},{velocity:ng(s.velocity,r[a].velocity,n),from:ng(s.from,r[a].from,n)}):s,e):r3(t,r,n-1)};function nZ(t,e,n,r,a,s){var l,d=r.reduce((b,w)=>xn(xn({},b),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),h=()=>Zh((b,w)=>w.from,d),f=()=>!Object.values(d).filter(nE).length,p=null,v=b=>{l||(l=b);var w=b-l,j=w/n.dt;d=r3(n,d,j),a(xn(xn(xn({},t),e),h())),l=b,f()||(p=s.setTimeout(v))};return()=>(p=s.setTimeout(v),()=>{var b;(b=p)===null||b===void 0||b()})}function rZ(t,e,n,r,a,s,l){var d=null,h=a.reduce((v,b)=>xn(xn({},v),{},{[b]:[t[b],e[b]]}),{}),f,p=v=>{f||(f=v);var b=(v-f)/r,w=Zh((E,S)=>ng(...S,n(b)),h);if(s(xn(xn(xn({},t),e),w)),b<1)d=l.setTimeout(p);else{var j=Zh((E,S)=>ng(...S,n(1)),h);s(xn(xn(xn({},t),e),j))}};return()=>(d=l.setTimeout(p),()=>{var v;(v=d)===null||v===void 0||v()})}const aZ=(t,e,n,r,a,s)=>{var l=ZQ(t,e);return n==null?()=>(a(xn(xn({},t),e)),()=>{}):n.isStepper===!0?nZ(t,e,n,l,a,s):rZ(t,e,n,r,l,a,s)};var rg=1e-4,a3=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],i3=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),RP=(t,e)=>n=>{var r=a3(t,e);return i3(r,n)},iZ=(t,e)=>n=>{var r=a3(t,e),a=[...r.map((s,l)=>s*l).slice(1),0];return i3(a,n)},sZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var l=s[1].split(")")[0].split(",").map(d=>parseFloat(d));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},oZ=(t,e,n,r)=>{var a=RP(t,n),s=RP(e,r),l=iZ(t,n),d=f=>f>1?1:f<0?0:f,h=f=>{for(var p=f>1?1:f,v=p,b=0;b<8;++b){var w=a(v)-p,j=l(v);if(Math.abs(w-p)<rg||j<rg)return s(v);v=d(v-w/j)}return s(v)};return h.isStepper=!1,h},DP=function(){return oZ(...sZ(...arguments))},lZ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,s=(l,d,h)=>{var f=-(l-d)*n,p=h*r,v=h+(f-p)*a/1e3,b=h*a/1e3+l;return Math.abs(b-d)<rg&&Math.abs(v)<rg?[d,0]:[b,v]};return s.isStepper=!0,s.dt=a,s},cZ=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return DP(t);case"spring":return lZ();default:if(t.split("(")[0]==="cubic-bezier")return DP(t)}return typeof t=="function"?t:null};function uZ(t){var e,n=()=>null,r=!1,a=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var d=l,[h,...f]=d;if(typeof h=="number"){a=t.setTimeout(s.bind(null,f),h);return}s(h),a=t.setTimeout(s.bind(null,f));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,a&&(a(),a=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class dZ{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function hZ(){return uZ(new dZ)}var fZ=_.createContext(hZ);function mZ(t,e){var n=_.useContext(fZ);return _.useMemo(()=>e??n(t),[t,e,n])}var pZ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Nf={devToolsEnabled:!1,isSsr:pZ()},vZ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},kP={t:0},_w={t:1};function Cy(t){var e=sr(t,vZ),{isActive:n,canBegin:r,duration:a,easing:s,begin:l,onAnimationEnd:d,onAnimationStart:h,children:f}=e,p=n==="auto"?!Nf.isSsr:n,v=mZ(e.animationId,e.animationManager),[b,w]=_.useState(p?kP:_w),j=_.useRef(null);return _.useEffect(()=>{p||w(_w)},[p]),_.useEffect(()=>{if(!p||!r)return _f;var E=aZ(kP,_w,cZ(s),a,w,v.getTimeoutController()),S=()=>{j.current=E()};return v.start([h,l,S,a,d]),()=>{v.stop(),j.current&&j.current(),d()}},[p,r,a,s,l,h,d,v]),f(b.t)}function Oy(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(Hh(e)),r=_.useRef(t);return r.current!==t&&(n.current=Hh(e),r.current=t),n.current}var gZ=["radius"],yZ=["radius"];function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function LP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){bZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bZ(t,e,n){return(e=xZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xZ(t){var e=wZ(t,"string");return typeof e=="symbol"?e:e+""}function wZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ag(){return ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ag.apply(null,arguments)}function VP(t,e){if(t==null)return{};var n,r,a=_Z(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function _Z(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zP=(t,e,n,r,a)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,d=n>=0?1:-1,h=r>=0&&n>=0||r<0&&n<0?1:0,f;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],v=0,b=4;v<b;v++)p[v]=a[v]>s?s:a[v];f="M".concat(t,",").concat(e+l*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(h,",").concat(t+d*p[0],",").concat(e)),f+="L ".concat(t+n-d*p[1],",").concat(e),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(h,`,
        `).concat(t+n,",").concat(e+l*p[1])),f+="L ".concat(t+n,",").concat(e+r-l*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(h,`,
        `).concat(t+n-d*p[2],",").concat(e+r)),f+="L ".concat(t+d*p[3],",").concat(e+r),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(e+r-l*p[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var w=Math.min(s,a);f="M ".concat(t,",").concat(e+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(h,",").concat(t+d*w,",").concat(e,`
            L `).concat(t+n-d*w,",").concat(e,`
            A `).concat(w,",").concat(w,",0,0,").concat(h,",").concat(t+n,",").concat(e+l*w,`
            L `).concat(t+n,",").concat(e+r-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(h,",").concat(t+n-d*w,",").concat(e+r,`
            L `).concat(t+d*w,",").concat(e+r,`
            A `).concat(w,",").concat(w,",0,0,").concat(h,",").concat(t,",").concat(e+r-l*w," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},UP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},s3=t=>{var e=sr(t,UP),n=_.useRef(null),[r,a]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var G=n.current.getTotalLength();G&&a(G)}catch{}},[]);var{x:s,y:l,width:d,height:h,radius:f,className:p}=e,{animationEasing:v,animationDuration:b,animationBegin:w,isAnimationActive:j,isUpdateAnimationActive:E}=e,S=_.useRef(d),T=_.useRef(h),C=_.useRef(s),I=_.useRef(l),U=_.useMemo(()=>({x:s,y:l,width:d,height:h,radius:f}),[s,l,d,h,f]),L=Oy(U,"rectangle-");if(s!==+s||l!==+l||d!==+d||h!==+h||d===0||h===0)return null;var B=_t("recharts-rectangle",p);if(!E){var P=fa(e),{radius:M}=P,D=VP(P,gZ);return _.createElement("path",ag({},D,{radius:typeof f=="number"?f:void 0,className:B,d:zP(s,l,d,h,f)}))}var z=S.current,k=T.current,F=C.current,R=I.current,Q="0px ".concat(r===-1?1:r,"px"),me="".concat(r,"px 0px"),$=n3(["strokeDasharray"],b,typeof v=="string"?v:UP.animationEasing);return _.createElement(Cy,{animationId:L,key:L,canBegin:r>0,duration:b,easing:v,isActive:E,begin:w},G=>{var ee=bn(z,d,G),pe=bn(k,h,G),Se=bn(F,s,G),K=bn(R,l,G);n.current&&(S.current=ee,T.current=pe,C.current=Se,I.current=K);var oe;j?G>0?oe={transition:$,strokeDasharray:me}:oe={strokeDasharray:Q}:oe={strokeDasharray:me};var ve=fa(e),{radius:ge}=ve,Te=VP(ve,yZ);return _.createElement("path",ag({},Te,{radius:typeof f=="number"?f:void 0,className:B,d:zP(Se,K,ee,pe,f),ref:n,style:LP(LP({},oe),e.style)}))})};function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function FP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){EZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EZ(t,e,n){return(e=SZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SZ(t){var e=jZ(t,"string");return typeof e=="symbol"?e:e+""}function jZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ig=Math.PI/180,AZ=t=>t*180/Math.PI,mn=(t,e,n,r)=>({x:t+Math.cos(-ig*r)*n,y:e+Math.sin(-ig*r)*n}),o3=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},TZ=(t,e)=>{var{x:n,y:r}=t,{x:a,y:s}=e;return Math.sqrt((n-a)**2+(r-s)**2)},NZ=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:s}=e,l=TZ({x:n,y:r},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var d=(n-a)/l,h=Math.acos(d);return r>s&&(h=2*Math.PI-h),{radius:l,angle:AZ(h),angleInRadian:h}},CZ=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:e-s*360,endAngle:n-s*360}},OZ=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(a,s);return t+l*360},PZ=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:a,angle:s}=NZ({x:n,y:r},e),{innerRadius:l,outerRadius:d}=e;if(a<l||a>d||a===0)return null;var{startAngle:h,endAngle:f}=CZ(e),p=s,v;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}return v?FP(FP({},e),{},{radius:a,angle:OZ(p,e)}):null};function l3(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:s}=t,l=mn(e,n,r,a),d=mn(e,n,r,s);return{points:[l,d],cx:e,cy:n,radius:r,startAngle:a,endAngle:s}}function rE(){return rE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rE.apply(null,arguments)}var IZ=(t,e)=>{var n=Dn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},zp=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:s,isExternal:l,cornerRadius:d,cornerIsExternal:h}=t,f=d*(l?1:-1)+r,p=Math.asin(d/f)/ig,v=h?a:a+s*p,b=mn(e,n,f,v),w=mn(e,n,r,v),j=h?a-s*p:a,E=mn(e,n,f*Math.cos(p*ig),j);return{center:b,circleTangency:w,lineTangency:E,theta:p}},c3=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:l}=t,d=IZ(s,l),h=s+d,f=mn(e,n,a,s),p=mn(e,n,a,h),v="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>h),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var b=mn(e,n,r,s),w=mn(e,n,r,h);v+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=h),`,
            `).concat(b.x,",").concat(b.y," Z")}else v+="L ".concat(e,",").concat(n," Z");return v},RZ=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:d,startAngle:h,endAngle:f}=t,p=Dn(f-h),{circleTangency:v,lineTangency:b,theta:w}=zp({cx:e,cy:n,radius:a,angle:h,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:j,lineTangency:E,theta:S}=zp({cx:e,cy:n,radius:a,angle:f,sign:-p,cornerRadius:s,cornerIsExternal:d}),T=d?Math.abs(h-f):Math.abs(h-f)-w-S;if(T<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):c3({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:h,endAngle:f});var C="M ".concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(T>180),",").concat(+(p<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:I,lineTangency:U,theta:L}=zp({cx:e,cy:n,radius:r,angle:h,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:B,lineTangency:P,theta:M}=zp({cx:e,cy:n,radius:r,angle:f,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),D=d?Math.abs(h-f):Math.abs(h-f)-L-M;if(D<0&&s===0)return"".concat(C,"L").concat(e,",").concat(n,"Z");C+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(D>180),",").concat(+(p>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(U.x,",").concat(U.y,"Z")}else C+="L".concat(e,",").concat(n,"Z");return C},DZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},u3=t=>{var e=sr(t,DZ),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:d,cornerIsExternal:h,startAngle:f,endAngle:p,className:v}=e;if(s<a||f===p)return null;var b=_t("recharts-sector",v),w=s-a,j=ar(l,w,0,!0),E;return j>0&&Math.abs(f-p)<360?E=RZ({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(j,w/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:f,endAngle:p}):E=c3({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:f,endAngle:p}),_.createElement("path",rE({},fa(e),{className:b,d:E}))};function kZ(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(qL(e)){if(t==="centric"){var{cx:r,cy:a,innerRadius:s,outerRadius:l,angle:d}=e,h=mn(r,a,s,d),f=mn(r,a,l,d);return[{x:h.x,y:h.y},{x:f.x,y:f.y}]}return l3(e)}}var Ew={},Sw={},jw={},qP;function MZ(){return qP||(qP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=e4();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(jw)),jw}var $P;function LZ(){return $P||($P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MZ();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Sw)),Sw}var HP;function VZ(){return HP||(HP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=t4(),n=LZ();function r(a,s,l){l&&typeof l!="number"&&e.isIterateeCall(a,s,l)&&(s=l=void 0),a=n.toFinite(a),s===void 0?(s=a,a=0):s=n.toFinite(s),l=l===void 0?a<s?1:-1:n.toFinite(l);const d=Math.max(Math.ceil((s-a)/(l||1)),0),h=new Array(d);for(let f=0;f<d;f++)h[f]=a,a+=l;return h}t.range=r})(Ew)),Ew}var Aw,KP;function zZ(){return KP||(KP=1,Aw=VZ().range),Aw}var UZ=zZ();const d3=gs(UZ);function Ao(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function BZ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function X1(t){let e,n,r;t.length!==2?(e=Ao,n=(d,h)=>Ao(t(d),h),r=(d,h)=>t(d)-h):(e=t===Ao||t===BZ?t:FZ,n=t,r=t);function a(d,h,f=0,p=d.length){if(f<p){if(e(h,h)!==0)return p;do{const v=f+p>>>1;n(d[v],h)<0?f=v+1:p=v}while(f<p)}return f}function s(d,h,f=0,p=d.length){if(f<p){if(e(h,h)!==0)return p;do{const v=f+p>>>1;n(d[v],h)<=0?f=v+1:p=v}while(f<p)}return f}function l(d,h,f=0,p=d.length){const v=a(d,h,f,p-1);return v>f&&r(d[v-1],h)>-r(d[v],h)?v-1:v}return{left:a,center:l,right:s}}function FZ(){return 0}function h3(t){return t===null?NaN:+t}function*qZ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const $Z=X1(Ao),Cf=$Z.right;X1(h3).center;class GP extends Map{constructor(e,n=GZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(WP(this,e))}has(e){return super.has(WP(this,e))}set(e,n){return super.set(HZ(this,e),n)}delete(e){return super.delete(KZ(this,e))}}function WP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function HZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function KZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function GZ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function WZ(t=Ao){if(t===Ao)return f3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function f3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const YZ=Math.sqrt(50),XZ=Math.sqrt(10),QZ=Math.sqrt(2);function sg(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),l=s>=YZ?10:s>=XZ?5:s>=QZ?2:1;let d,h,f;return a<0?(f=Math.pow(10,-a)/l,d=Math.round(t*f),h=Math.round(e*f),d/f<t&&++d,h/f>e&&--h,f=-f):(f=Math.pow(10,a)*l,d=Math.round(t/f),h=Math.round(e/f),d*f<t&&++d,h*f>e&&--h),h<d&&.5<=n&&n<2?sg(t,e,n*2):[d,h,f]}function aE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,s,l]=r?sg(e,t,n):sg(t,e,n);if(!(s>=a))return[];const d=s-a+1,h=new Array(d);if(r)if(l<0)for(let f=0;f<d;++f)h[f]=(s-f)/-l;else for(let f=0;f<d;++f)h[f]=(s-f)*l;else if(l<0)for(let f=0;f<d;++f)h[f]=(a+f)/-l;else for(let f=0;f<d;++f)h[f]=(a+f)*l;return h}function iE(t,e,n){return e=+e,t=+t,n=+n,sg(t,e,n)[2]}function sE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?iE(e,t,n):iE(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function YP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function XP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function m3(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?f3:WZ(a);r>n;){if(r-n>600){const h=r-n+1,f=e-n+1,p=Math.log(h),v=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*v*(h-v)/h)*(f-h/2<0?-1:1),w=Math.max(n,Math.floor(e-f*v/h+b)),j=Math.min(r,Math.floor(e+(h-f)*v/h+b));m3(t,e,w,j,a)}const s=t[e];let l=n,d=r;for(oh(t,n,e),a(t[r],s)>0&&oh(t,n,r);l<d;){for(oh(t,l,d),++l,--d;a(t[l],s)<0;)++l;for(;a(t[d],s)>0;)--d}a(t[n],s)===0?oh(t,n,d):(++d,oh(t,d,r)),d<=e&&(n=d+1),e<=d&&(r=d-1)}return t}function oh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ZZ(t,e,n){if(t=Float64Array.from(qZ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return XP(t);if(e>=1)return YP(t);var r,a=(r-1)*e,s=Math.floor(a),l=YP(m3(t,s).subarray(0,s+1)),d=XP(t.subarray(s+1));return l+(d-l)*(a-s)}}function JZ(t,e,n=h3){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,s=Math.floor(a),l=+n(t[s],s,t),d=+n(t[s+1],s+1,t);return l+(d-l)*(a-s)}}function eJ(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(a);++r<a;)s[r]=t+r*n;return s}function va(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Es(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const oE=Symbol("implicit");function Q1(){var t=new GP,e=[],n=[],r=oE;function a(s){let l=t.get(s);if(l===void 0){if(r!==oE)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new GP;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return Q1(e,n).unknown(r)},va.apply(a,arguments),a}function Z1(){var t=Q1().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,s,l,d=!1,h=0,f=0,p=.5;delete t.unknown;function v(){var b=e().length,w=a<r,j=w?a:r,E=w?r:a;s=(E-j)/Math.max(1,b-h+f*2),d&&(s=Math.floor(s)),j+=(E-j-s*(b-h))*p,l=s*(1-h),d&&(j=Math.round(j),l=Math.round(l));var S=eJ(b).map(function(T){return j+s*T});return n(w?S.reverse():S)}return t.domain=function(b){return arguments.length?(e(b),v()):e()},t.range=function(b){return arguments.length?([r,a]=b,r=+r,a=+a,v()):[r,a]},t.rangeRound=function(b){return[r,a]=b,r=+r,a=+a,d=!0,v()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(b){return arguments.length?(d=!!b,v()):d},t.padding=function(b){return arguments.length?(h=Math.min(1,f=+b),v()):h},t.paddingInner=function(b){return arguments.length?(h=Math.min(1,b),v()):h},t.paddingOuter=function(b){return arguments.length?(f=+b,v()):f},t.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),v()):p},t.copy=function(){return Z1(e(),[r,a]).round(d).paddingInner(h).paddingOuter(f).align(p)},va.apply(v(),arguments)}function p3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return p3(e())},t}function tJ(){return p3(Z1.apply(null,arguments).paddingInner(1))}function J1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function v3(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Of(){}var Jh=.7,og=1/Jh,cu="\\s*([+-]?\\d+)\\s*",ef="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nJ=/^#([0-9a-f]{3,8})$/,rJ=new RegExp(`^rgb\\(${cu},${cu},${cu}\\)$`),aJ=new RegExp(`^rgb\\(${bi},${bi},${bi}\\)$`),iJ=new RegExp(`^rgba\\(${cu},${cu},${cu},${ef}\\)$`),sJ=new RegExp(`^rgba\\(${bi},${bi},${bi},${ef}\\)$`),oJ=new RegExp(`^hsl\\(${ef},${bi},${bi}\\)$`),lJ=new RegExp(`^hsla\\(${ef},${bi},${bi},${ef}\\)$`),QP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};J1(Of,tf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ZP,formatHex:ZP,formatHex8:cJ,formatHsl:uJ,formatRgb:JP,toString:JP});function ZP(){return this.rgb().formatHex()}function cJ(){return this.rgb().formatHex8()}function uJ(){return g3(this).formatHsl()}function JP(){return this.rgb().formatRgb()}function tf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=nJ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?eI(e):n===3?new Ar(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Up(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Up(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=rJ.exec(t))?new Ar(e[1],e[2],e[3],1):(e=aJ.exec(t))?new Ar(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=iJ.exec(t))?Up(e[1],e[2],e[3],e[4]):(e=sJ.exec(t))?Up(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=oJ.exec(t))?rI(e[1],e[2]/100,e[3]/100,1):(e=lJ.exec(t))?rI(e[1],e[2]/100,e[3]/100,e[4]):QP.hasOwnProperty(t)?eI(QP[t]):t==="transparent"?new Ar(NaN,NaN,NaN,0):null}function eI(t){return new Ar(t>>16&255,t>>8&255,t&255,1)}function Up(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ar(t,e,n,r)}function dJ(t){return t instanceof Of||(t=tf(t)),t?(t=t.rgb(),new Ar(t.r,t.g,t.b,t.opacity)):new Ar}function lE(t,e,n,r){return arguments.length===1?dJ(t):new Ar(t,e,n,r??1)}function Ar(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}J1(Ar,lE,v3(Of,{brighter(t){return t=t==null?og:Math.pow(og,t),new Ar(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jh:Math.pow(Jh,t),new Ar(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ar(Il(this.r),Il(this.g),Il(this.b),lg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tI,formatHex:tI,formatHex8:hJ,formatRgb:nI,toString:nI}));function tI(){return`#${Sl(this.r)}${Sl(this.g)}${Sl(this.b)}`}function hJ(){return`#${Sl(this.r)}${Sl(this.g)}${Sl(this.b)}${Sl((isNaN(this.opacity)?1:this.opacity)*255)}`}function nI(){const t=lg(this.opacity);return`${t===1?"rgb(":"rgba("}${Il(this.r)}, ${Il(this.g)}, ${Il(this.b)}${t===1?")":`, ${t})`}`}function lg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Il(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Sl(t){return t=Il(t),(t<16?"0":"")+t.toString(16)}function rI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Pa(t,e,n,r)}function g3(t){if(t instanceof Pa)return new Pa(t.h,t.s,t.l,t.opacity);if(t instanceof Of||(t=tf(t)),!t)return new Pa;if(t instanceof Pa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,d=s-a,h=(s+a)/2;return d?(e===s?l=(n-r)/d+(n<r)*6:n===s?l=(r-e)/d+2:l=(e-n)/d+4,d/=h<.5?s+a:2-s-a,l*=60):d=h>0&&h<1?0:l,new Pa(l,d,h,t.opacity)}function fJ(t,e,n,r){return arguments.length===1?g3(t):new Pa(t,e,n,r??1)}function Pa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}J1(Pa,fJ,v3(Of,{brighter(t){return t=t==null?og:Math.pow(og,t),new Pa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jh:Math.pow(Jh,t),new Pa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Ar(Tw(t>=240?t-240:t+120,a,r),Tw(t,a,r),Tw(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new Pa(aI(this.h),Bp(this.s),Bp(this.l),lg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=lg(this.opacity);return`${t===1?"hsl(":"hsla("}${aI(this.h)}, ${Bp(this.s)*100}%, ${Bp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function aI(t){return t=(t||0)%360,t<0?t+360:t}function Bp(t){return Math.max(0,Math.min(1,t||0))}function Tw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const eS=t=>()=>t;function mJ(t,e){return function(n){return t+n*e}}function pJ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function vJ(t){return(t=+t)==1?y3:function(e,n){return n-e?pJ(e,n,t):eS(isNaN(e)?n:e)}}function y3(t,e){var n=e-t;return n?mJ(t,n):eS(isNaN(t)?e:t)}const iI=(function t(e){var n=vJ(e);function r(a,s){var l=n((a=lE(a)).r,(s=lE(s)).r),d=n(a.g,s.g),h=n(a.b,s.b),f=y3(a.opacity,s.opacity);return function(p){return a.r=l(p),a.g=d(p),a.b=h(p),a.opacity=f(p),a+""}}return r.gamma=t,r})(1);function gJ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=t[a]*(1-s)+e[a]*s;return r}}function yJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function bJ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)a[l]=qu(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(d){for(l=0;l<r;++l)s[l]=a[l](d);return s}}function xJ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function cg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function wJ(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=qu(t[a],e[a]):r[a]=e[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var cE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nw=new RegExp(cE.source,"g");function _J(t){return function(){return t}}function EJ(t){return function(e){return t(e)+""}}function SJ(t,e){var n=cE.lastIndex=Nw.lastIndex=0,r,a,s,l=-1,d=[],h=[];for(t=t+"",e=e+"";(r=cE.exec(t))&&(a=Nw.exec(e));)(s=a.index)>n&&(s=e.slice(n,s),d[l]?d[l]+=s:d[++l]=s),(r=r[0])===(a=a[0])?d[l]?d[l]+=a:d[++l]=a:(d[++l]=null,h.push({i:l,x:cg(r,a)})),n=Nw.lastIndex;return n<e.length&&(s=e.slice(n),d[l]?d[l]+=s:d[++l]=s),d.length<2?h[0]?EJ(h[0].x):_J(e):(e=h.length,function(f){for(var p=0,v;p<e;++p)d[(v=h[p]).i]=v.x(f);return d.join("")})}function qu(t,e){var n=typeof e,r;return e==null||n==="boolean"?eS(e):(n==="number"?cg:n==="string"?(r=tf(e))?(e=r,iI):SJ:e instanceof tf?iI:e instanceof Date?xJ:yJ(e)?gJ:Array.isArray(e)?bJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?wJ:cg)(t,e)}function tS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function jJ(t,e){e===void 0&&(e=t,t=qu);for(var n=0,r=e.length-1,a=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(a,a=e[++n]);return function(l){var d=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[d](l-d)}}function AJ(t){return function(){return t}}function ug(t){return+t}var sI=[0,1];function hr(t){return t}function uE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:AJ(isNaN(e)?NaN:.5)}function TJ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function NJ(t,e,n){var r=t[0],a=t[1],s=e[0],l=e[1];return a<r?(r=uE(a,r),s=n(l,s)):(r=uE(r,a),s=n(s,l)),function(d){return s(r(d))}}function CJ(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)a[l]=uE(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(d){var h=Cf(t,d,1,r)-1;return s[h](a[h](d))}}function Pf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Py(){var t=sI,e=sI,n=qu,r,a,s,l=hr,d,h,f;function p(){var b=Math.min(t.length,e.length);return l!==hr&&(l=TJ(t[0],t[b-1])),d=b>2?CJ:NJ,h=f=null,v}function v(b){return b==null||isNaN(b=+b)?s:(h||(h=d(t.map(r),e,n)))(r(l(b)))}return v.invert=function(b){return l(a((f||(f=d(e,t.map(r),cg)))(b)))},v.domain=function(b){return arguments.length?(t=Array.from(b,ug),p()):t.slice()},v.range=function(b){return arguments.length?(e=Array.from(b),p()):e.slice()},v.rangeRound=function(b){return e=Array.from(b),n=tS,p()},v.clamp=function(b){return arguments.length?(l=b?!0:hr,p()):l!==hr},v.interpolate=function(b){return arguments.length?(n=b,p()):n},v.unknown=function(b){return arguments.length?(s=b,v):s},function(b,w){return r=b,a=w,p()}}function nS(){return Py()(hr,hr)}function OJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function dg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Su(t){return t=dg(Math.abs(t)),t?t[1]:NaN}function PJ(t,e){return function(n,r){for(var a=n.length,s=[],l=0,d=t[0],h=0;a>0&&d>0&&(h+d+1>r&&(d=Math.max(1,r-h)),s.push(n.substring(a-=d,a+d)),!((h+=d+1)>r));)d=t[l=(l+1)%t.length];return s.reverse().join(e)}}function IJ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var RJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nf(t){if(!(e=RJ.exec(t)))throw new Error("invalid format: "+t);var e;return new rS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}nf.prototype=rS.prototype;function rS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}rS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function DJ(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var b3;function kJ(t,e){var n=dg(t,e);if(!n)return t+"";var r=n[0],a=n[1],s=a-(b3=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+dg(t,Math.max(0,e+s-1))[0]}function oI(t,e){var n=dg(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const lI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:OJ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>oI(t*100,e),r:oI,s:kJ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function cI(t){return t}var uI=Array.prototype.map,dI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function MJ(t){var e=t.grouping===void 0||t.thousands===void 0?cI:PJ(uI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?cI:IJ(uI.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"":t.minus+"",h=t.nan===void 0?"NaN":t.nan+"";function f(v){v=nf(v);var b=v.fill,w=v.align,j=v.sign,E=v.symbol,S=v.zero,T=v.width,C=v.comma,I=v.precision,U=v.trim,L=v.type;L==="n"?(C=!0,L="g"):lI[L]||(I===void 0&&(I=12),U=!0,L="g"),(S||b==="0"&&w==="=")&&(S=!0,b="0",w="=");var B=E==="$"?n:E==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",P=E==="$"?r:/[%p]/.test(L)?l:"",M=lI[L],D=/[defgprs%]/.test(L);I=I===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function z(k){var F=B,R=P,Q,me,$;if(L==="c")R=M(k)+R,k="";else{k=+k;var G=k<0||1/k<0;if(k=isNaN(k)?h:M(Math.abs(k),I),U&&(k=DJ(k)),G&&+k==0&&j!=="+"&&(G=!1),F=(G?j==="("?j:d:j==="-"||j==="("?"":j)+F,R=(L==="s"?dI[8+b3/3]:"")+R+(G&&j==="("?")":""),D){for(Q=-1,me=k.length;++Q<me;)if($=k.charCodeAt(Q),48>$||$>57){R=($===46?a+k.slice(Q+1):k.slice(Q))+R,k=k.slice(0,Q);break}}}C&&!S&&(k=e(k,1/0));var ee=F.length+k.length+R.length,pe=ee<T?new Array(T-ee+1).join(b):"";switch(C&&S&&(k=e(pe+k,pe.length?T-R.length:1/0),pe=""),w){case"<":k=F+k+R+pe;break;case"=":k=F+pe+k+R;break;case"^":k=pe.slice(0,ee=pe.length>>1)+F+k+R+pe.slice(ee);break;default:k=pe+F+k+R;break}return s(k)}return z.toString=function(){return v+""},z}function p(v,b){var w=f((v=nf(v),v.type="f",v)),j=Math.max(-8,Math.min(8,Math.floor(Su(b)/3)))*3,E=Math.pow(10,-j),S=dI[8+j/3];return function(T){return w(E*T)+S}}return{format:f,formatPrefix:p}}var Fp,aS,x3;LJ({thousands:",",grouping:[3],currency:["$",""]});function LJ(t){return Fp=MJ(t),aS=Fp.format,x3=Fp.formatPrefix,Fp}function VJ(t){return Math.max(0,-Su(Math.abs(t)))}function zJ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Su(e)/3)))*3-Su(Math.abs(t)))}function UJ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Su(e)-Su(t))+1}function w3(t,e,n,r){var a=sE(t,e,n),s;switch(r=nf(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=zJ(a,l))&&(r.precision=s),x3(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=UJ(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=VJ(a))&&(r.precision=s-(r.type==="%")*2);break}}return aS(r)}function Uo(t){var e=t.domain;return t.ticks=function(n){var r=e();return aE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return w3(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,s=r.length-1,l=r[a],d=r[s],h,f,p=10;for(d<l&&(f=l,l=d,d=f,f=a,a=s,s=f);p-- >0;){if(f=iE(l,d,n),f===h)return r[a]=l,r[s]=d,e(r);if(f>0)l=Math.floor(l/f)*f,d=Math.ceil(d/f)*f;else if(f<0)l=Math.ceil(l*f)/f,d=Math.floor(d*f)/f;else break;h=f}return t},t}function _3(){var t=nS();return t.copy=function(){return Pf(t,_3())},va.apply(t,arguments),Uo(t)}function E3(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ug),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return E3(t).unknown(e)},t=arguments.length?Array.from(t,ug):[0,1],Uo(n)}function S3(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],s=t[r],l;return s<a&&(l=n,n=r,r=l,l=a,a=s,s=l),t[n]=e.floor(a),t[r]=e.ceil(s),t}function hI(t){return Math.log(t)}function fI(t){return Math.exp(t)}function BJ(t){return-Math.log(-t)}function FJ(t){return-Math.exp(-t)}function qJ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function $J(t){return t===10?qJ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function HJ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function mI(t){return(e,n)=>-t(-e,n)}function iS(t){const e=t(hI,fI),n=e.domain;let r=10,a,s;function l(){return a=HJ(r),s=$J(r),n()[0]<0?(a=mI(a),s=mI(s),t(BJ,FJ)):t(hI,fI),e}return e.base=function(d){return arguments.length?(r=+d,l()):r},e.domain=function(d){return arguments.length?(n(d),l()):n()},e.ticks=d=>{const h=n();let f=h[0],p=h[h.length-1];const v=p<f;v&&([f,p]=[p,f]);let b=a(f),w=a(p),j,E;const S=d==null?10:+d;let T=[];if(!(r%1)&&w-b<S){if(b=Math.floor(b),w=Math.ceil(w),f>0){for(;b<=w;++b)for(j=1;j<r;++j)if(E=b<0?j/s(-b):j*s(b),!(E<f)){if(E>p)break;T.push(E)}}else for(;b<=w;++b)for(j=r-1;j>=1;--j)if(E=b>0?j/s(-b):j*s(b),!(E<f)){if(E>p)break;T.push(E)}T.length*2<S&&(T=aE(f,p,S))}else T=aE(b,w,Math.min(w-b,S)).map(s);return v?T.reverse():T},e.tickFormat=(d,h)=>{if(d==null&&(d=10),h==null&&(h=r===10?"s":","),typeof h!="function"&&(!(r%1)&&(h=nf(h)).precision==null&&(h.trim=!0),h=aS(h)),d===1/0)return h;const f=Math.max(1,r*d/e.ticks().length);return p=>{let v=p/s(Math.round(a(p)));return v*r<r-.5&&(v*=r),v<=f?h(p):""}},e.nice=()=>n(S3(n(),{floor:d=>s(Math.floor(a(d))),ceil:d=>s(Math.ceil(a(d)))})),e}function j3(){const t=iS(Py()).domain([1,10]);return t.copy=()=>Pf(t,j3()).base(t.base()),va.apply(t,arguments),t}function pI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function vI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function sS(t){var e=1,n=t(pI(e),vI(e));return n.constant=function(r){return arguments.length?t(pI(e=+r),vI(e)):e},Uo(n)}function A3(){var t=sS(Py());return t.copy=function(){return Pf(t,A3()).constant(t.constant())},va.apply(t,arguments)}function gI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function KJ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function GJ(t){return t<0?-t*t:t*t}function oS(t){var e=t(hr,hr),n=1;function r(){return n===1?t(hr,hr):n===.5?t(KJ,GJ):t(gI(n),gI(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},Uo(e)}function lS(){var t=oS(Py());return t.copy=function(){return Pf(t,lS()).exponent(t.exponent())},va.apply(t,arguments),t}function WJ(){return lS.apply(null,arguments).exponent(.5)}function yI(t){return Math.sign(t)*t*t}function YJ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function T3(){var t=nS(),e=[0,1],n=!1,r;function a(s){var l=YJ(t(s));return isNaN(l)?r:n?Math.round(l):l}return a.invert=function(s){return t.invert(yI(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,ug)).map(yI)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return T3(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},va.apply(a,arguments),Uo(a)}function N3(){var t=[],e=[],n=[],r;function a(){var l=0,d=Math.max(1,e.length);for(n=new Array(d-1);++l<d;)n[l-1]=JZ(t,l/d);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Cf(n,l)]}return s.invertExtent=function(l){var d=e.indexOf(l);return d<0?[NaN,NaN]:[d>0?n[d-1]:t[0],d<n.length?n[d]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let d of l)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(Ao),a()},s.range=function(l){return arguments.length?(e=Array.from(l),a()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return N3().domain(t).range(e).unknown(r)},va.apply(s,arguments)}function C3(){var t=0,e=1,n=1,r=[.5],a=[0,1],s;function l(h){return h!=null&&h<=h?a[Cf(r,h,0,n)]:s}function d(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*e-(h-n)*t)/(n+1);return l}return l.domain=function(h){return arguments.length?([t,e]=h,t=+t,e=+e,d()):[t,e]},l.range=function(h){return arguments.length?(n=(a=Array.from(h)).length-1,d()):a.slice()},l.invertExtent=function(h){var f=a.indexOf(h);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},l.unknown=function(h){return arguments.length&&(s=h),l},l.thresholds=function(){return r.slice()},l.copy=function(){return C3().domain([t,e]).range(a).unknown(s)},va.apply(Uo(l),arguments)}function O3(){var t=[.5],e=[0,1],n,r=1;function a(s){return s!=null&&s<=s?e[Cf(t,s,0,r)]:n}return a.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return O3().domain(t).range(e).unknown(n)},va.apply(a,arguments)}const Cw=new Date,Ow=new Date;function En(t,e,n,r){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const l=a(s),d=a.ceil(s);return s-l<d-s?l:d},a.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,d)=>{const h=[];if(s=a.ceil(s),d=d==null?1:Math.floor(d),!(s<l)||!(d>0))return h;let f;do h.push(f=new Date(+s)),e(s,d),t(s);while(f<s&&s<l);return h},a.filter=s=>En(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;e(l,-1),!s(l););else for(;--d>=0;)for(;e(l,1),!s(l););}),n&&(a.count=(s,l)=>(Cw.setTime(+s),Ow.setTime(+l),t(Cw),t(Ow),Math.floor(n(Cw,Ow))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(r?l=>r(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const hg=En(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);hg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?En(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):hg);hg.range;const Zi=1e3,ua=Zi*60,Ji=ua*60,hs=Ji*24,cS=hs*7,bI=hs*30,Pw=hs*365,jl=En(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Zi)},(t,e)=>(e-t)/Zi,t=>t.getUTCSeconds());jl.range;const uS=En(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Zi)},(t,e)=>{t.setTime(+t+e*ua)},(t,e)=>(e-t)/ua,t=>t.getMinutes());uS.range;const dS=En(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ua)},(t,e)=>(e-t)/ua,t=>t.getUTCMinutes());dS.range;const hS=En(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Zi-t.getMinutes()*ua)},(t,e)=>{t.setTime(+t+e*Ji)},(t,e)=>(e-t)/Ji,t=>t.getHours());hS.range;const fS=En(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ji)},(t,e)=>(e-t)/Ji,t=>t.getUTCHours());fS.range;const If=En(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ua)/hs,t=>t.getDate()-1);If.range;const Iy=En(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/hs,t=>t.getUTCDate()-1);Iy.range;const P3=En(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/hs,t=>Math.floor(t/hs));P3.range;function tc(t){return En(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ua)/cS)}const Ry=tc(0),fg=tc(1),XJ=tc(2),QJ=tc(3),ju=tc(4),ZJ=tc(5),JJ=tc(6);Ry.range;fg.range;XJ.range;QJ.range;ju.range;ZJ.range;JJ.range;function nc(t){return En(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/cS)}const Dy=nc(0),mg=nc(1),eee=nc(2),tee=nc(3),Au=nc(4),nee=nc(5),ree=nc(6);Dy.range;mg.range;eee.range;tee.range;Au.range;nee.range;ree.range;const mS=En(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());mS.range;const pS=En(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());pS.range;const fs=En(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());fs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:En(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});fs.range;const ms=En(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ms.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:En(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ms.range;function I3(t,e,n,r,a,s){const l=[[jl,1,Zi],[jl,5,5*Zi],[jl,15,15*Zi],[jl,30,30*Zi],[s,1,ua],[s,5,5*ua],[s,15,15*ua],[s,30,30*ua],[a,1,Ji],[a,3,3*Ji],[a,6,6*Ji],[a,12,12*Ji],[r,1,hs],[r,2,2*hs],[n,1,cS],[e,1,bI],[e,3,3*bI],[t,1,Pw]];function d(f,p,v){const b=p<f;b&&([f,p]=[p,f]);const w=v&&typeof v.range=="function"?v:h(f,p,v),j=w?w.range(f,+p+1):[];return b?j.reverse():j}function h(f,p,v){const b=Math.abs(p-f)/v,w=X1(([,,S])=>S).right(l,b);if(w===l.length)return t.every(sE(f/Pw,p/Pw,v));if(w===0)return hg.every(Math.max(sE(f,p,v),1));const[j,E]=l[b/l[w-1][2]<l[w][2]/b?w-1:w];return j.every(E)}return[d,h]}const[aee,iee]=I3(ms,pS,Dy,P3,fS,dS),[see,oee]=I3(fs,mS,Ry,If,hS,uS);function Iw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Rw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function lh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function lee(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,s=t.days,l=t.shortDays,d=t.months,h=t.shortMonths,f=ch(a),p=uh(a),v=ch(s),b=uh(s),w=ch(l),j=uh(l),E=ch(d),S=uh(d),T=ch(h),C=uh(h),I={a:G,A:ee,b:pe,B:Se,c:null,d:jI,e:jI,f:Pee,g:Bee,G:qee,H:Nee,I:Cee,j:Oee,L:R3,m:Iee,M:Ree,p:K,q:oe,Q:NI,s:CI,S:Dee,u:kee,U:Mee,V:Lee,w:Vee,W:zee,x:null,X:null,y:Uee,Y:Fee,Z:$ee,"%":TI},U={a:ve,A:ge,b:Te,B:De,c:null,d:AI,e:AI,f:Wee,g:ate,G:ste,H:Hee,I:Kee,j:Gee,L:k3,m:Yee,M:Xee,p:Re,q:Tt,Q:NI,s:CI,S:Qee,u:Zee,U:Jee,V:ete,w:tte,W:nte,x:null,X:null,y:rte,Y:ite,Z:ote,"%":TI},L={a:z,A:k,b:F,B:R,c:Q,d:EI,e:EI,f:See,g:_I,G:wI,H:SI,I:SI,j:xee,L:Eee,m:bee,M:wee,p:D,q:yee,Q:Aee,s:Tee,S:_ee,u:fee,U:mee,V:pee,w:hee,W:vee,x:me,X:$,y:_I,Y:wI,Z:gee,"%":jee};I.x=B(n,I),I.X=B(r,I),I.c=B(e,I),U.x=B(n,U),U.X=B(r,U),U.c=B(e,U);function B(ce,Ve){return function(re){var se=[],Je=-1,Ne=0,Pt=ce.length,It,or,Ts;for(re instanceof Date||(re=new Date(+re));++Je<Pt;)ce.charCodeAt(Je)===37&&(se.push(ce.slice(Ne,Je)),(or=xI[It=ce.charAt(++Je)])!=null?It=ce.charAt(++Je):or=It==="e"?" ":"0",(Ts=Ve[It])&&(It=Ts(re,or)),se.push(It),Ne=Je+1);return se.push(ce.slice(Ne,Je)),se.join("")}}function P(ce,Ve){return function(re){var se=lh(1900,void 0,1),Je=M(se,ce,re+="",0),Ne,Pt;if(Je!=re.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(Ve&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(Ne=Rw(lh(se.y,0,1)),Pt=Ne.getUTCDay(),Ne=Pt>4||Pt===0?mg.ceil(Ne):mg(Ne),Ne=Iy.offset(Ne,(se.V-1)*7),se.y=Ne.getUTCFullYear(),se.m=Ne.getUTCMonth(),se.d=Ne.getUTCDate()+(se.w+6)%7):(Ne=Iw(lh(se.y,0,1)),Pt=Ne.getDay(),Ne=Pt>4||Pt===0?fg.ceil(Ne):fg(Ne),Ne=If.offset(Ne,(se.V-1)*7),se.y=Ne.getFullYear(),se.m=Ne.getMonth(),se.d=Ne.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),Pt="Z"in se?Rw(lh(se.y,0,1)).getUTCDay():Iw(lh(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(Pt+5)%7:se.w+se.U*7-(Pt+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,Rw(se)):Iw(se)}}function M(ce,Ve,re,se){for(var Je=0,Ne=Ve.length,Pt=re.length,It,or;Je<Ne;){if(se>=Pt)return-1;if(It=Ve.charCodeAt(Je++),It===37){if(It=Ve.charAt(Je++),or=L[It in xI?Ve.charAt(Je++):It],!or||(se=or(ce,re,se))<0)return-1}else if(It!=re.charCodeAt(se++))return-1}return se}function D(ce,Ve,re){var se=f.exec(Ve.slice(re));return se?(ce.p=p.get(se[0].toLowerCase()),re+se[0].length):-1}function z(ce,Ve,re){var se=w.exec(Ve.slice(re));return se?(ce.w=j.get(se[0].toLowerCase()),re+se[0].length):-1}function k(ce,Ve,re){var se=v.exec(Ve.slice(re));return se?(ce.w=b.get(se[0].toLowerCase()),re+se[0].length):-1}function F(ce,Ve,re){var se=T.exec(Ve.slice(re));return se?(ce.m=C.get(se[0].toLowerCase()),re+se[0].length):-1}function R(ce,Ve,re){var se=E.exec(Ve.slice(re));return se?(ce.m=S.get(se[0].toLowerCase()),re+se[0].length):-1}function Q(ce,Ve,re){return M(ce,e,Ve,re)}function me(ce,Ve,re){return M(ce,n,Ve,re)}function $(ce,Ve,re){return M(ce,r,Ve,re)}function G(ce){return l[ce.getDay()]}function ee(ce){return s[ce.getDay()]}function pe(ce){return h[ce.getMonth()]}function Se(ce){return d[ce.getMonth()]}function K(ce){return a[+(ce.getHours()>=12)]}function oe(ce){return 1+~~(ce.getMonth()/3)}function ve(ce){return l[ce.getUTCDay()]}function ge(ce){return s[ce.getUTCDay()]}function Te(ce){return h[ce.getUTCMonth()]}function De(ce){return d[ce.getUTCMonth()]}function Re(ce){return a[+(ce.getUTCHours()>=12)]}function Tt(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var Ve=B(ce+="",I);return Ve.toString=function(){return ce},Ve},parse:function(ce){var Ve=P(ce+="",!1);return Ve.toString=function(){return ce},Ve},utcFormat:function(ce){var Ve=B(ce+="",U);return Ve.toString=function(){return ce},Ve},utcParse:function(ce){var Ve=P(ce+="",!0);return Ve.toString=function(){return ce},Ve}}}var xI={"-":"",_:" ",0:"0"},Ln=/^\s*\d+/,cee=/^%/,uee=/[\\^$*+?|[\]().{}]/g;function st(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(e)+a:a)}function dee(t){return t.replace(uee,"\\$&")}function ch(t){return new RegExp("^(?:"+t.map(dee).join("|")+")","i")}function uh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function hee(t,e,n){var r=Ln.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function fee(t,e,n){var r=Ln.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function mee(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function pee(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function vee(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function wI(t,e,n){var r=Ln.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function _I(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function gee(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function yee(t,e,n){var r=Ln.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function bee(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function EI(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function xee(t,e,n){var r=Ln.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function SI(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function wee(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function _ee(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Eee(t,e,n){var r=Ln.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function See(t,e,n){var r=Ln.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function jee(t,e,n){var r=cee.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Aee(t,e,n){var r=Ln.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Tee(t,e,n){var r=Ln.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function jI(t,e){return st(t.getDate(),e,2)}function Nee(t,e){return st(t.getHours(),e,2)}function Cee(t,e){return st(t.getHours()%12||12,e,2)}function Oee(t,e){return st(1+If.count(fs(t),t),e,3)}function R3(t,e){return st(t.getMilliseconds(),e,3)}function Pee(t,e){return R3(t,e)+"000"}function Iee(t,e){return st(t.getMonth()+1,e,2)}function Ree(t,e){return st(t.getMinutes(),e,2)}function Dee(t,e){return st(t.getSeconds(),e,2)}function kee(t){var e=t.getDay();return e===0?7:e}function Mee(t,e){return st(Ry.count(fs(t)-1,t),e,2)}function D3(t){var e=t.getDay();return e>=4||e===0?ju(t):ju.ceil(t)}function Lee(t,e){return t=D3(t),st(ju.count(fs(t),t)+(fs(t).getDay()===4),e,2)}function Vee(t){return t.getDay()}function zee(t,e){return st(fg.count(fs(t)-1,t),e,2)}function Uee(t,e){return st(t.getFullYear()%100,e,2)}function Bee(t,e){return t=D3(t),st(t.getFullYear()%100,e,2)}function Fee(t,e){return st(t.getFullYear()%1e4,e,4)}function qee(t,e){var n=t.getDay();return t=n>=4||n===0?ju(t):ju.ceil(t),st(t.getFullYear()%1e4,e,4)}function $ee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+st(e/60|0,"0",2)+st(e%60,"0",2)}function AI(t,e){return st(t.getUTCDate(),e,2)}function Hee(t,e){return st(t.getUTCHours(),e,2)}function Kee(t,e){return st(t.getUTCHours()%12||12,e,2)}function Gee(t,e){return st(1+Iy.count(ms(t),t),e,3)}function k3(t,e){return st(t.getUTCMilliseconds(),e,3)}function Wee(t,e){return k3(t,e)+"000"}function Yee(t,e){return st(t.getUTCMonth()+1,e,2)}function Xee(t,e){return st(t.getUTCMinutes(),e,2)}function Qee(t,e){return st(t.getUTCSeconds(),e,2)}function Zee(t){var e=t.getUTCDay();return e===0?7:e}function Jee(t,e){return st(Dy.count(ms(t)-1,t),e,2)}function M3(t){var e=t.getUTCDay();return e>=4||e===0?Au(t):Au.ceil(t)}function ete(t,e){return t=M3(t),st(Au.count(ms(t),t)+(ms(t).getUTCDay()===4),e,2)}function tte(t){return t.getUTCDay()}function nte(t,e){return st(mg.count(ms(t)-1,t),e,2)}function rte(t,e){return st(t.getUTCFullYear()%100,e,2)}function ate(t,e){return t=M3(t),st(t.getUTCFullYear()%100,e,2)}function ite(t,e){return st(t.getUTCFullYear()%1e4,e,4)}function ste(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Au(t):Au.ceil(t),st(t.getUTCFullYear()%1e4,e,4)}function ote(){return"+0000"}function TI(){return"%"}function NI(t){return+t}function CI(t){return Math.floor(+t/1e3)}var $c,L3,V3;lte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lte(t){return $c=lee(t),L3=$c.format,$c.parse,V3=$c.utcFormat,$c.utcParse,$c}function cte(t){return new Date(t)}function ute(t){return t instanceof Date?+t:+new Date(+t)}function vS(t,e,n,r,a,s,l,d,h,f){var p=nS(),v=p.invert,b=p.domain,w=f(".%L"),j=f(":%S"),E=f("%I:%M"),S=f("%I %p"),T=f("%a %d"),C=f("%b %d"),I=f("%B"),U=f("%Y");function L(B){return(h(B)<B?w:d(B)<B?j:l(B)<B?E:s(B)<B?S:r(B)<B?a(B)<B?T:C:n(B)<B?I:U)(B)}return p.invert=function(B){return new Date(v(B))},p.domain=function(B){return arguments.length?b(Array.from(B,ute)):b().map(cte)},p.ticks=function(B){var P=b();return t(P[0],P[P.length-1],B??10)},p.tickFormat=function(B,P){return P==null?L:f(P)},p.nice=function(B){var P=b();return(!B||typeof B.range!="function")&&(B=e(P[0],P[P.length-1],B??10)),B?b(S3(P,B)):p},p.copy=function(){return Pf(p,vS(t,e,n,r,a,s,l,d,h,f))},p}function dte(){return va.apply(vS(see,oee,fs,mS,Ry,If,hS,uS,jl,L3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hte(){return va.apply(vS(aee,iee,ms,pS,Dy,Iy,fS,dS,jl,V3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ky(){var t=0,e=1,n,r,a,s,l=hr,d=!1,h;function f(v){return v==null||isNaN(v=+v)?h:l(a===0?.5:(v=(s(v)-n)*a,d?Math.max(0,Math.min(1,v)):v))}f.domain=function(v){return arguments.length?([t,e]=v,n=s(t=+t),r=s(e=+e),a=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(v){return arguments.length?(d=!!v,f):d},f.interpolator=function(v){return arguments.length?(l=v,f):l};function p(v){return function(b){var w,j;return arguments.length?([w,j]=b,l=v(w,j),f):[l(0),l(1)]}}return f.range=p(qu),f.rangeRound=p(tS),f.unknown=function(v){return arguments.length?(h=v,f):h},function(v){return s=v,n=v(t),r=v(e),a=n===r?0:1/(r-n),f}}function Bo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function z3(){var t=Uo(ky()(hr));return t.copy=function(){return Bo(t,z3())},Es.apply(t,arguments)}function U3(){var t=iS(ky()).domain([1,10]);return t.copy=function(){return Bo(t,U3()).base(t.base())},Es.apply(t,arguments)}function B3(){var t=sS(ky());return t.copy=function(){return Bo(t,B3()).constant(t.constant())},Es.apply(t,arguments)}function gS(){var t=oS(ky());return t.copy=function(){return Bo(t,gS()).exponent(t.exponent())},Es.apply(t,arguments)}function fte(){return gS.apply(null,arguments).exponent(.5)}function F3(){var t=[],e=hr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Cf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ao),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,s)=>ZZ(t,s/r))},n.copy=function(){return F3(e).domain(t)},Es.apply(n,arguments)}function My(){var t=0,e=.5,n=1,r=1,a,s,l,d,h,f=hr,p,v=!1,b;function w(E){return isNaN(E=+E)?b:(E=.5+((E=+p(E))-s)*(r*E<r*s?d:h),f(v?Math.max(0,Math.min(1,E)):E))}w.domain=function(E){return arguments.length?([t,e,n]=E,a=p(t=+t),s=p(e=+e),l=p(n=+n),d=a===s?0:.5/(s-a),h=s===l?0:.5/(l-s),r=s<a?-1:1,w):[t,e,n]},w.clamp=function(E){return arguments.length?(v=!!E,w):v},w.interpolator=function(E){return arguments.length?(f=E,w):f};function j(E){return function(S){var T,C,I;return arguments.length?([T,C,I]=S,f=jJ(E,[T,C,I]),w):[f(0),f(.5),f(1)]}}return w.range=j(qu),w.rangeRound=j(tS),w.unknown=function(E){return arguments.length?(b=E,w):b},function(E){return p=E,a=E(t),s=E(e),l=E(n),d=a===s?0:.5/(s-a),h=s===l?0:.5/(l-s),r=s<a?-1:1,w}}function q3(){var t=Uo(My()(hr));return t.copy=function(){return Bo(t,q3())},Es.apply(t,arguments)}function $3(){var t=iS(My()).domain([.1,1,10]);return t.copy=function(){return Bo(t,$3()).base(t.base())},Es.apply(t,arguments)}function H3(){var t=sS(My());return t.copy=function(){return Bo(t,H3()).constant(t.constant())},Es.apply(t,arguments)}function yS(){var t=oS(My());return t.copy=function(){return Bo(t,yS()).exponent(t.exponent())},Es.apply(t,arguments)}function mte(){return yS.apply(null,arguments).exponent(.5)}const bh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Z1,scaleDiverging:q3,scaleDivergingLog:$3,scaleDivergingPow:yS,scaleDivergingSqrt:mte,scaleDivergingSymlog:H3,scaleIdentity:E3,scaleImplicit:oE,scaleLinear:_3,scaleLog:j3,scaleOrdinal:Q1,scalePoint:tJ,scalePow:lS,scaleQuantile:N3,scaleQuantize:C3,scaleRadial:T3,scaleSequential:z3,scaleSequentialLog:U3,scaleSequentialPow:gS,scaleSequentialQuantile:F3,scaleSequentialSqrt:fte,scaleSequentialSymlog:B3,scaleSqrt:WJ,scaleSymlog:A3,scaleThreshold:O3,scaleTime:dte,scaleUtc:hte,tickFormat:w3},Symbol.toStringTag,{value:"Module"}));var Fo=t=>t.chartData,bS=te([Fo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),xS=(t,e,n,r)=>r?bS(t):Fo(t);function Ro(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Jt(e)&&Jt(n))return!0}return!1}function OI(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function K3(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,s;if(Jt(n))a=n;else if(typeof n=="function")return;if(Jt(r))s=r;else if(typeof r=="function")return;var l=[a,s];if(Ro(l))return l}}function pte(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Ro(r))return OI(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,s]=t,l,d;if(a==="auto")e!=null&&(l=Math.min(...e));else if(Ce(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e?.[0]))}catch{}else if(typeof a=="string"&&iP.test(a)){var h=iP.exec(a);if(h==null||e==null)l=void 0;else{var f=+h[1];l=e[0]-f}}else l=e?.[0];if(s==="auto")e!=null&&(d=Math.max(...e));else if(Ce(s))d=s;else if(typeof s=="function")try{e!=null&&(d=s(e?.[1]))}catch{}else if(typeof s=="string"&&sP.test(s)){var p=sP.exec(s);if(p==null||e==null)d=void 0;else{var v=+p[1];d=e[1]+v}}else d=e?.[1];var b=[l,d];if(Ro(b))return e==null?b:OI(b,e,n)}}}var $u=1e9,vte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_S,Lt=!0,pa="[DecimalError] ",Rl=pa+"Invalid argument: ",wS=pa+"Exponent out of range: ",Hu=Math.floor,wl=Math.pow,gte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zr,Rn=1e7,Ot=7,G3=9007199254740991,pg=Hu(G3/Ot),we={};we.absoluteValue=we.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};we.comparedTo=we.cmp=function(t){var e,n,r,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1};we.decimalPlaces=we.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ot;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};we.dividedBy=we.div=function(t){return rs(this,new this.constructor(t))};we.dividedToIntegerBy=we.idiv=function(t){var e=this,n=e.constructor;return St(rs(e,new n(t),0,1),n.precision)};we.equals=we.eq=function(t){return!this.cmp(t)};we.exponent=function(){return pn(this)};we.greaterThan=we.gt=function(t){return this.cmp(t)>0};we.greaterThanOrEqualTo=we.gte=function(t){return this.cmp(t)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(t){return this.cmp(t)<0};we.lessThanOrEqualTo=we.lte=function(t){return this.cmp(t)<1};we.logarithm=we.log=function(t){var e,n=this,r=n.constructor,a=r.precision,s=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(zr))throw Error(pa+"NaN");if(n.s<1)throw Error(pa+(n.s?"NaN":"-Infinity"));return n.eq(zr)?new r(0):(Lt=!1,e=rs(rf(n,s),rf(t,s),s),Lt=!0,St(e,a))};we.minus=we.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?X3(e,t):W3(e,(t.s=-t.s,t))};we.modulo=we.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(pa+"NaN");return n.s?(Lt=!1,e=rs(n,t,0,1).times(t),Lt=!0,n.minus(e)):St(new r(n),a)};we.naturalExponential=we.exp=function(){return Y3(this)};we.naturalLogarithm=we.ln=function(){return rf(this)};we.negated=we.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};we.plus=we.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?W3(e,t):X3(e,(t.s=-t.s,t))};we.precision=we.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Rl+t);if(e=pn(a)+1,r=a.d.length-1,n=r*Ot+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};we.squareRoot=we.sqrt=function(){var t,e,n,r,a,s,l,d=this,h=d.constructor;if(d.s<1){if(!d.s)return new h(0);throw Error(pa+"NaN")}for(t=pn(d),Lt=!1,a=Math.sqrt(+d),a==0||a==1/0?(e=hi(d.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Hu((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new h(e)):r=new h(a.toString()),n=h.precision,a=l=n+3;;)if(s=r,r=s.plus(rs(d,s,l+2)).times(.5),hi(s.d).slice(0,l)===(e=hi(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),a==l&&e=="4999"){if(St(s,n+1,0),s.times(s).eq(d)){r=s;break}}else if(e!="9999")break;l+=4}return Lt=!0,St(r,n)};we.times=we.mul=function(t){var e,n,r,a,s,l,d,h,f,p=this,v=p.constructor,b=p.d,w=(t=new v(t)).d;if(!p.s||!t.s)return new v(0);for(t.s*=p.s,n=p.e+t.e,h=b.length,f=w.length,h<f&&(s=b,b=w,w=s,l=h,h=f,f=l),s=[],l=h+f,r=l;r--;)s.push(0);for(r=f;--r>=0;){for(e=0,a=h+r;a>r;)d=s[a]+w[r]*b[a-r-1]+e,s[a--]=d%Rn|0,e=d/Rn|0;s[a]=(s[a]+e)%Rn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Lt?St(t,v.precision):t};we.toDecimalPlaces=we.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ei(t,0,$u),e===void 0?e=r.rounding:Ei(e,0,8),St(n,t+pn(n)+1,e))};we.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=$l(r,!0):(Ei(t,0,$u),e===void 0?e=a.rounding:Ei(e,0,8),r=St(new a(r),t+1,e),n=$l(r,!0,t+1)),n};we.toFixed=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?$l(a):(Ei(t,0,$u),e===void 0?e=s.rounding:Ei(e,0,8),r=St(new s(a),t+pn(a)+1,e),n=$l(r.abs(),!1,t+pn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};we.toInteger=we.toint=function(){var t=this,e=t.constructor;return St(new e(t),pn(t)+1,e.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(t){var e,n,r,a,s,l,d=this,h=d.constructor,f=12,p=+(t=new h(t));if(!t.s)return new h(zr);if(d=new h(d),!d.s){if(t.s<1)throw Error(pa+"Infinity");return d}if(d.eq(zr))return d;if(r=h.precision,t.eq(zr))return St(d,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=d.s,l){if((n=p<0?-p:p)<=G3){for(a=new h(zr),e=Math.ceil(r/Ot+4),Lt=!1;n%2&&(a=a.times(d),II(a.d,e)),n=Hu(n/2),n!==0;)d=d.times(d),II(d.d,e);return Lt=!0,t.s<0?new h(zr).div(a):St(a,r)}}else if(s<0)throw Error(pa+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,d.s=1,Lt=!1,a=t.times(rf(d,r+f)),Lt=!0,a=Y3(a),a.s=s,a};we.toPrecision=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?(n=pn(a),r=$l(a,n<=s.toExpNeg||n>=s.toExpPos)):(Ei(t,1,$u),e===void 0?e=s.rounding:Ei(e,0,8),a=St(new s(a),t,e),n=pn(a),r=$l(a,t<=n||n<=s.toExpNeg,t)),r};we.toSignificantDigits=we.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ei(t,1,$u),e===void 0?e=r.rounding:Ei(e,0,8)),St(new r(n),t,e)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=pn(t),n=t.constructor;return $l(t,e<=n.toExpNeg||e>=n.toExpPos)};function W3(t,e){var n,r,a,s,l,d,h,f,p=t.constructor,v=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Lt?St(e,v):e;if(h=t.d,f=e.d,l=t.e,a=e.e,h=h.slice(),s=l-a,s){for(s<0?(r=h,s=-s,d=f.length):(r=f,a=l,d=h.length),l=Math.ceil(v/Ot),d=l>d?l+1:d+1,s>d&&(s=d,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(d=h.length,s=f.length,d-s<0&&(s=d,r=f,f=h,h=r),n=0;s;)n=(h[--s]=h[s]+f[s]+n)/Rn|0,h[s]%=Rn;for(n&&(h.unshift(n),++a),d=h.length;h[--d]==0;)h.pop();return e.d=h,e.e=a,Lt?St(e,v):e}function Ei(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Rl+t)}function hi(t){var e,n,r,a=t.length-1,s="",l=t[0];if(a>0){for(s+=l,e=1;e<a;e++)r=t[e]+"",n=Ot-r.length,n&&(s+=lo(n)),s+=r;l=t[e],r=l+"",n=Ot-r.length,n&&(s+=lo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var rs=(function(){function t(r,a){var s,l=0,d=r.length;for(r=r.slice();d--;)s=r[d]*a+l,r[d]=s%Rn|0,l=s/Rn|0;return l&&r.unshift(l),r}function e(r,a,s,l){var d,h;if(s!=l)h=s>l?1:-1;else for(d=h=0;d<s;d++)if(r[d]!=a[d]){h=r[d]>a[d]?1:-1;break}return h}function n(r,a,s){for(var l=0;s--;)r[s]-=l,l=r[s]<a[s]?1:0,r[s]=l*Rn+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,l){var d,h,f,p,v,b,w,j,E,S,T,C,I,U,L,B,P,M,D=r.constructor,z=r.s==a.s?1:-1,k=r.d,F=a.d;if(!r.s)return new D(r);if(!a.s)throw Error(pa+"Division by zero");for(h=r.e-a.e,P=F.length,L=k.length,w=new D(z),j=w.d=[],f=0;F[f]==(k[f]||0);)++f;if(F[f]>(k[f]||0)&&--h,s==null?C=s=D.precision:l?C=s+(pn(r)-pn(a))+1:C=s,C<0)return new D(0);if(C=C/Ot+2|0,f=0,P==1)for(p=0,F=F[0],C++;(f<L||p)&&C--;f++)I=p*Rn+(k[f]||0),j[f]=I/F|0,p=I%F|0;else{for(p=Rn/(F[0]+1)|0,p>1&&(F=t(F,p),k=t(k,p),P=F.length,L=k.length),U=P,E=k.slice(0,P),S=E.length;S<P;)E[S++]=0;M=F.slice(),M.unshift(0),B=F[0],F[1]>=Rn/2&&++B;do p=0,d=e(F,E,P,S),d<0?(T=E[0],P!=S&&(T=T*Rn+(E[1]||0)),p=T/B|0,p>1?(p>=Rn&&(p=Rn-1),v=t(F,p),b=v.length,S=E.length,d=e(v,E,b,S),d==1&&(p--,n(v,P<b?M:F,b))):(p==0&&(d=p=1),v=F.slice()),b=v.length,b<S&&v.unshift(0),n(E,v,S),d==-1&&(S=E.length,d=e(F,E,P,S),d<1&&(p++,n(E,P<S?M:F,S))),S=E.length):d===0&&(p++,E=[0]),j[f++]=p,d&&E[0]?E[S++]=k[U]||0:(E=[k[U]],S=1);while((U++<L||E[0]!==void 0)&&C--)}return j[0]||j.shift(),w.e=h,St(w,l?s+pn(w)+1:s)}})();function Y3(t,e){var n,r,a,s,l,d,h=0,f=0,p=t.constructor,v=p.precision;if(pn(t)>16)throw Error(wS+pn(t));if(!t.s)return new p(zr);for(Lt=!1,d=v,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),f+=5;for(r=Math.log(wl(2,f))/Math.LN10*2+5|0,d+=r,n=a=s=new p(zr),p.precision=d;;){if(a=St(a.times(t),d),n=n.times(++h),l=s.plus(rs(a,n,d)),hi(l.d).slice(0,d)===hi(s.d).slice(0,d)){for(;f--;)s=St(s.times(s),d);return p.precision=v,e==null?(Lt=!0,St(s,v)):s}s=l}}function pn(t){for(var e=t.e*Ot,n=t.d[0];n>=10;n/=10)e++;return e}function Dw(t,e,n){if(e>t.LN10.sd())throw Lt=!0,n&&(t.precision=n),Error(pa+"LN10 precision limit exceeded");return St(new t(t.LN10),e)}function lo(t){for(var e="";t--;)e+="0";return e}function rf(t,e){var n,r,a,s,l,d,h,f,p,v=1,b=10,w=t,j=w.d,E=w.constructor,S=E.precision;if(w.s<1)throw Error(pa+(w.s?"NaN":"-Infinity"));if(w.eq(zr))return new E(0);if(e==null?(Lt=!1,f=S):f=e,w.eq(10))return e==null&&(Lt=!0),Dw(E,f);if(f+=b,E.precision=f,n=hi(j),r=n.charAt(0),s=pn(w),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=hi(w.d),r=n.charAt(0),v++;s=pn(w),r>1?(w=new E("0."+n),s++):w=new E(r+"."+n.slice(1))}else return h=Dw(E,f+2,S).times(s+""),w=rf(new E(r+"."+n.slice(1)),f-b).plus(h),E.precision=S,e==null?(Lt=!0,St(w,S)):w;for(d=l=w=rs(w.minus(zr),w.plus(zr),f),p=St(w.times(w),f),a=3;;){if(l=St(l.times(p),f),h=d.plus(rs(l,new E(a),f)),hi(h.d).slice(0,f)===hi(d.d).slice(0,f))return d=d.times(2),s!==0&&(d=d.plus(Dw(E,f+2,S).times(s+""))),d=rs(d,new E(v),f),E.precision=S,e==null?(Lt=!0,St(d,S)):d;d=h,a+=2}}function PI(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=Hu(n/Ot),t.d=[],r=(n+1)%Ot,n<0&&(r+=Ot),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Ot;r<a;)t.d.push(+e.slice(r,r+=Ot));e=e.slice(r),r=Ot-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),Lt&&(t.e>pg||t.e<-pg))throw Error(wS+n)}else t.s=0,t.e=0,t.d=[0];return t}function St(t,e,n){var r,a,s,l,d,h,f,p,v=t.d;for(l=1,s=v[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Ot,a=e,f=v[p=0];else{if(p=Math.ceil((r+1)/Ot),s=v.length,p>=s)return t;for(f=s=v[p],l=1;s>=10;s/=10)l++;r%=Ot,a=r-Ot+l}if(n!==void 0&&(s=wl(10,l-a-1),d=f/s%10|0,h=e<0||v[p+1]!==void 0||f%s,h=n<4?(d||h)&&(n==0||n==(t.s<0?3:2)):d>5||d==5&&(n==4||h||n==6&&(r>0?a>0?f/wl(10,l-a):0:v[p-1])%10&1||n==(t.s<0?8:7))),e<1||!v[0])return h?(s=pn(t),v.length=1,e=e-s-1,v[0]=wl(10,(Ot-e%Ot)%Ot),t.e=Hu(-e/Ot)||0):(v.length=1,v[0]=t.e=t.s=0),t;if(r==0?(v.length=p,s=1,p--):(v.length=p+1,s=wl(10,Ot-r),v[p]=a>0?(f/wl(10,l-a)%wl(10,a)|0)*s:0),h)for(;;)if(p==0){(v[0]+=s)==Rn&&(v[0]=1,++t.e);break}else{if(v[p]+=s,v[p]!=Rn)break;v[p--]=0,s=1}for(r=v.length;v[--r]===0;)v.pop();if(Lt&&(t.e>pg||t.e<-pg))throw Error(wS+pn(t));return t}function X3(t,e){var n,r,a,s,l,d,h,f,p,v,b=t.constructor,w=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Lt?St(e,w):e;if(h=t.d,v=e.d,r=e.e,f=t.e,h=h.slice(),l=f-r,l){for(p=l<0,p?(n=h,l=-l,d=v.length):(n=v,r=f,d=h.length),a=Math.max(Math.ceil(w/Ot),d)+2,l>a&&(l=a,n.length=1),n.reverse(),a=l;a--;)n.push(0);n.reverse()}else{for(a=h.length,d=v.length,p=a<d,p&&(d=a),a=0;a<d;a++)if(h[a]!=v[a]){p=h[a]<v[a];break}l=0}for(p&&(n=h,h=v,v=n,e.s=-e.s),d=h.length,a=v.length-d;a>0;--a)h[d++]=0;for(a=v.length;a>l;){if(h[--a]<v[a]){for(s=a;s&&h[--s]===0;)h[s]=Rn-1;--h[s],h[a]+=Rn}h[a]-=v[a]}for(;h[--d]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(e.d=h,e.e=r,Lt?St(e,w):e):new b(0)}function $l(t,e,n){var r,a=pn(t),s=hi(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+lo(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+lo(-a-1)+s,n&&(r=n-l)>0&&(s+=lo(r))):a>=l?(s+=lo(a+1-l),n&&(r=n-a-1)>0&&(s=s+"."+lo(r))):((r=a+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(a+1===l&&(s+="."),s+=lo(r))),t.s<0?"-"+s:s}function II(t,e){if(t.length>e)return t.length=e,!0}function Q3(t){var e,n,r;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Rl+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return PI(l,s.toString())}else if(typeof s!="string")throw Error(Rl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,gte.test(s))PI(l,s);else throw Error(Rl+s)}if(a.prototype=we,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Q3,a.config=a.set=yte,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function yte(t){if(!t||typeof t!="object")throw Error(pa+"Object expected");var e,n,r,a=["precision",1,$u,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(Hu(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(Rl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Rl+n+": "+r);return this}var _S=Q3(vte);zr=new _S(1);const vt=_S;var bte=t=>t,Z3={},J3=t=>t===Z3,RI=t=>function e(){return arguments.length===0||arguments.length===1&&J3(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},eV=(t,e)=>t===1?e:RI(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r.filter(l=>l!==Z3).length;return s>=t?e(...r):eV(t-s,RI(function(){for(var l=arguments.length,d=new Array(l),h=0;h<l;h++)d[h]=arguments[h];var f=r.map(p=>J3(p)?d.shift():p);return e(...f,...d)}))}),xte=t=>eV(t.length,t),dE=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},wte=xte((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),_te=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return bte;var a=n.reverse(),s=a[0],l=a.slice(1);return function(){return l.reduce((d,h)=>h(d),s(...arguments))}},hE=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function tV(t){var e;return t===0?e=1:e=Math.floor(new vt(t).abs().log(10).toNumber())+1,e}function nV(t,e,n){for(var r=new vt(t),a=0,s=[];r.lt(e)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}var rV=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},aV=(t,e,n)=>{if(t.lte(0))return new vt(0);var r=tV(t.toNumber()),a=new vt(10).pow(r),s=t.div(a),l=r!==1?.05:.1,d=new vt(Math.ceil(s.div(l).toNumber())).add(n).mul(l),h=d.mul(a);return e?new vt(h.toNumber()):new vt(Math.ceil(h.toNumber()))},Ete=(t,e,n)=>{var r=new vt(1),a=new vt(t);if(!a.isint()&&n){var s=Math.abs(t);s<1?(r=new vt(10).pow(tV(t)-1),a=new vt(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new vt(Math.floor(t)))}else t===0?a=new vt(Math.floor((e-1)/2)):n||(a=new vt(Math.floor(t)));var l=Math.floor((e-1)/2),d=_te(wte(h=>a.add(new vt(h-l).mul(r)).toNumber()),dE);return d(0,e)},iV=function(e,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new vt(0),tickMin:new vt(0),tickMax:new vt(0)};var l=aV(new vt(n).sub(e).div(r-1),a,s),d;e<=0&&n>=0?d=new vt(0):(d=new vt(e).add(n).div(2),d=d.sub(new vt(d).mod(l)));var h=Math.ceil(d.sub(e).div(l).toNumber()),f=Math.ceil(new vt(n).sub(d).div(l).toNumber()),p=h+f+1;return p>r?iV(e,n,r,a,s+1):(p<r&&(f=n>0?f+(r-p):f,h=n>0?h:h+(r-p)),{step:l,tickMin:d.sub(new vt(h).mul(l)),tickMax:d.add(new vt(f).mul(l))})},Ste=function(e){var[n,r]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[d,h]=rV([n,r]);if(d===-1/0||h===1/0){var f=h===1/0?[d,...dE(0,a-1).map(()=>1/0)]:[...dE(0,a-1).map(()=>-1/0),h];return n>r?hE(f):f}if(d===h)return Ete(d,a,s);var{step:p,tickMin:v,tickMax:b}=iV(d,h,l,s,0),w=nV(v,b.add(new vt(.1).mul(p)),p);return n>r?hE(w):w},jte=function(e,n){var[r,a]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,d]=rV([r,a]);if(l===-1/0||d===1/0)return[r,a];if(l===d)return[l];var h=Math.max(n,2),f=aV(new vt(d).sub(l).div(h-1),s,0),p=[...nV(new vt(l),new vt(d),f),d];return s===!1&&(p=p.map(v=>Math.round(v))),r>a?hE(p):p},sV=t=>t.rootProps.maxBarSize,Ate=t=>t.rootProps.barGap,oV=t=>t.rootProps.barCategoryGap,Tte=t=>t.rootProps.barSize,Rf=t=>t.rootProps.stackOffset,lV=t=>t.rootProps.reverseStackOrder,ES=t=>t.options.chartName,SS=t=>t.rootProps.syncId,cV=t=>t.rootProps.syncMethod,jS=t=>t.options.eventEmitter,Wn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Wi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Vr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ly=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Nte={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Wi.angleAxisId,includeHidden:!1,name:void 0,reversed:Wi.reversed,scale:Wi.scale,tick:Wi.tick,tickCount:void 0,ticks:void 0,type:Wi.type,unit:void 0},Cte={allowDataOverflow:Vr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Vr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vr.scale,tick:Vr.tick,tickCount:Vr.tickCount,ticks:void 0,type:Vr.type,unit:void 0},Ote={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Wi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wi.scale,tick:Wi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Pte={allowDataOverflow:Vr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Vr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vr.scale,tick:Vr.tick,tickCount:Vr.tickCount,ticks:void 0,type:"category",unit:void 0},AS=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Ote:Nte,TS=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Pte:Cte,Vy=t=>t.polarOptions,NS=te([ws,_s,_n],o3),uV=te([Vy,NS],(t,e)=>{if(t!=null)return ar(t.innerRadius,e,0)}),dV=te([Vy,NS],(t,e)=>{if(t!=null)return ar(t.outerRadius,e,e*.8)}),Ite=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},hV=te([Vy],Ite);te([AS,hV],Ly);var fV=te([NS,uV,dV],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});te([TS,fV],Ly);var mV=te([ot,Vy,uV,dV,ws,_s],(t,e,n,r,a,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:d,startAngle:h,endAngle:f}=e;return{cx:ar(l,a,a/2),cy:ar(d,s,s/2),innerRadius:n,outerRadius:r,startAngle:h,endAngle:f,clockWise:!1}}}),Ut=(t,e)=>e,Df=(t,e,n)=>n;function CS(t){return t?.id}function pV(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:a,dataKey:s}=n,l=new Map;return t.forEach(d=>{var h,f=(h=d.data)!==null&&h!==void 0?h:r;if(!(f==null||f.length===0)){var p=CS(d);f.forEach((v,b)=>{var w=s==null||a?b:String(Mt(v,s,null)),j=Mt(v,d.dataKey,0),E;l.has(w)?E=l.get(w):E={},Object.assign(E,{[p]:j}),l.set(w,E)})}}),Array.from(l.values())}function zy(t){return t.stackId!=null&&t.dataKey!=null}var Uy=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function By(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Rte(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Sn=t=>{var e=ot(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Ku=t=>t.tooltip.settings.axisId;function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){Dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dte(t,e,n){return(e=kte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kte(t){var e=Mte(t,"string");return typeof e=="symbol"?e:e+""}function Mte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fE=[0,"auto"],Cn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},vV=(t,e)=>t.cartesianAxis.xAxis[e],Ss=(t,e)=>{var n=vV(t,e);return n??Cn},On={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:fE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Af},gV=(t,e)=>t.cartesianAxis.yAxis[e],js=(t,e)=>{var n=gV(t,e);return n??On},Lte={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},OS=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Lte},Ft=(t,e,n)=>{switch(e){case"xAxis":return Ss(t,n);case"yAxis":return js(t,n);case"zAxis":return OS(t,n);case"angleAxis":return AS(t,n);case"radiusAxis":return TS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Vte=(t,e,n)=>{switch(e){case"xAxis":return Ss(t,n);case"yAxis":return js(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},kf=(t,e,n)=>{switch(e){case"xAxis":return Ss(t,n);case"yAxis":return js(t,n);case"angleAxis":return AS(t,n);case"radiusAxis":return TS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},yV=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function PS(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var IS=t=>t.graphicalItems.cartesianItems,zte=te([Ut,Df],PS),RS=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Mf=te([IS,Ft,zte],RS,{memoizeOptions:{resultEqualityCheck:By}}),bV=te([Mf],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(zy)),xV=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Ute=te([Mf],xV),DS=t=>t.map(e=>e.data).filter(Boolean).flat(1),Bte=te([Mf],DS,{memoizeOptions:{resultEqualityCheck:By}}),kS=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},MS=te([Bte,xS],kS),LS=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Mt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:Mt(a,r)}))):t.map(r=>({value:r})),Fy=te([MS,Ft,Mf],LS);function wV(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function uv(t){if(wi(t)||t instanceof Date){var e=Number(t);if(Jt(e))return e}}function kI(t){if(Array.isArray(t)){var e=[uv(t[0]),uv(t[1])];return Ro(e)?e:void 0}var n=uv(t);if(n!=null)return[n,n]}function ps(t){return t.map(uv).filter(aW)}function Fte(t,e,n){return!n||typeof e!="number"||za(e)?[]:n.length?ps(n.flatMap(r=>{var a=Mt(t,r.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!Jt(s)||!Jt(l)))return[e-s,e+l]})):[]}var jn=t=>{var e=Sn(t),n=Ku(t);return kf(t,e,n)},Lf=te([jn],t=>t?.dataKey),qte=te([bV,xS,jn],pV),_V=(t,e,n,r)=>{var a={},s=e.reduce((l,d)=>(d.stackId==null||(l[d.stackId]==null&&(l[d.stackId]=[]),l[d.stackId].push(d)),l),a);return Object.fromEntries(Object.entries(s).map(l=>{var[d,h]=l,f=r?[...h].reverse():h,p=f.map(CS);return[d,{stackedData:SX(t,p,n),graphicalItems:f}]}))},mE=te([qte,bV,Rf,lV],_V),EV=(t,e,n,r)=>{var{dataStartIndex:a,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=CX(t,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},$te=te([Ft],t=>t.allowDataOverflow),VS=t=>{var e;if(t==null||!("domain"in t))return fE;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=ps(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:fE},zS=te([Ft],VS),US=te([zS,$te],K3),Hte=te([mE,Fo,Ut,US],EV,{memoizeOptions:{resultEqualityCheck:Uy}}),qy=t=>t.errorBars,Kte=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>wV(n,r)),gg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),d=Math.max(...s);return[l,d]}},BS=(t,e,n,r,a)=>{var s,l;if(n.length>0&&t.forEach(d=>{n.forEach(h=>{var f,p,v=(f=r[h.id])===null||f===void 0?void 0:f.filter(T=>wV(a,T)),b=Mt(d,(p=e.dataKey)!==null&&p!==void 0?p:h.dataKey),w=Fte(d,b,v);if(w.length>=2){var j=Math.min(...w),E=Math.max(...w);(s==null||j<s)&&(s=j),(l==null||E>l)&&(l=E)}var S=kI(b);S!=null&&(s=s==null?S[0]:Math.min(s,S[0]),l=l==null?S[1]:Math.max(l,S[1]))})}),e?.dataKey!=null&&t.forEach(d=>{var h=kI(Mt(d,e.dataKey));h!=null&&(s=s==null?h[0]:Math.min(s,h[0]),l=l==null?h[1]:Math.max(l,h[1]))}),Jt(s)&&Jt(l))return[s,l]},Gte=te([MS,Ft,Ute,qy,Ut],BS,{memoizeOptions:{resultEqualityCheck:Uy}});function Wte(t){var{value:e}=t;if(wi(e)||e instanceof Date)return e}var Yte=(t,e,n)=>{var r=t.map(Wte).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&UL(r))?d3(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},SV=t=>t.referenceElements.dots,Gu=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Xte=te([SV,Ut,Df],Gu),jV=t=>t.referenceElements.areas,Qte=te([jV,Ut,Df],Gu),AV=t=>t.referenceElements.lines,Zte=te([AV,Ut,Df],Gu),TV=(t,e)=>{var n=ps(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Jte=te(Xte,Ut,TV),NV=(t,e)=>{var n=ps(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ene=te([Qte,Ut],NV);function tne(t){var e;if(t.x!=null)return ps([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:ps(n)}function nne(t){var e;if(t.y!=null)return ps([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:ps(n)}var CV=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?tne(r):nne(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},rne=te([Zte,Ut],CV),ane=te(Jte,rne,ene,(t,e,n)=>gg(t,n,e)),FS=(t,e,n,r,a,s,l,d)=>{if(n!=null)return n;var h=l==="vertical"&&d==="xAxis"||l==="horizontal"&&d==="yAxis",f=h?gg(r,s,a):gg(s,a);return pte(e,f,t.allowDataOverflow)},ine=te([Ft,zS,US,Hte,Gte,ane,ot,Ut],FS,{memoizeOptions:{resultEqualityCheck:Uy}}),sne=[0,1],qS=(t,e,n,r,a,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:d,type:h}=t,f=ec(e,s);if(f&&d==null){var p;return d3(0,(p=n?.length)!==null&&p!==void 0?p:0)}return h==="category"?Yte(r,t,f):a==="expand"?sne:l}},$S=te([Ft,ot,MS,Fy,Rf,Ut,ine],qS),OV=(t,e,n,r,a)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var d="scale".concat(wf(s));return d in bh?d:"point"}}},Wu=te([Ft,ot,yV,ES,Ut],OV);function one(t){if(t!=null){if(t in bh)return bh[t]();var e="scale".concat(wf(t));if(e in bh)return bh[e]()}}function HS(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var a=one(e);if(a!=null){var s=a.domain(n).range(r);return bX(s),s}}}var KS=(t,e,n)=>{var r=VS(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ro(t))return Ste(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Ro(t))return jte(t,e.tickCount,e.allowDecimals)}},GS=te([$S,kf,Wu],KS),WS=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Ro(e)&&Array.isArray(n)&&n.length>0){var a=e[0],s=n[0],l=e[1],d=n[n.length-1];return[Math.min(a,s),Math.max(l,d)]}return e},lne=te([Ft,$S,GS,Ut],WS),cne=te(Fy,Ft,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(ps(t.map(d=>d.value))).sort((d,h)=>d-h);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s+1]-r[s];n=Math.min(n,l)}return n/a}}),PV=te(cne,ot,oV,_n,(t,e,n,r)=>r,(t,e,n,r,a)=>{if(!Jt(t))return 0;var s=e==="vertical"?r.height:r.width;if(a==="gap")return t*s/2;if(a==="no-gap"){var l=ar(n,t*s),d=t*s/2;return d-l-(d-l)/s*l}return 0}),une=(t,e)=>{var n=Ss(t,e);return n==null||typeof n.padding!="string"?0:PV(t,"xAxis",e,n.padding)},dne=(t,e)=>{var n=js(t,e);return n==null||typeof n.padding!="string"?0:PV(t,"yAxis",e,n.padding)},hne=te(Ss,une,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),fne=te(js,dne,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),mne=te([_n,hne,_y,wy,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),pne=te([_n,ot,fne,_y,wy,(t,e,n)=>n],(t,e,n,r,a,s)=>{var{padding:l}=a;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Vf=(t,e,n,r)=>{var a;switch(e){case"xAxis":return mne(t,n,r);case"yAxis":return pne(t,n,r);case"zAxis":return(a=OS(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return hV(t);case"radiusAxis":return fV(t,n);default:return}},IV=te([Ft,Vf],Ly),Yu=te([Ft,Wu,lne,IV],HS);te([Mf,qy,Ut],Kte);function RV(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var $y=(t,e)=>e,Hy=(t,e,n)=>n,vne=te(by,$y,Hy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(RV)),gne=te(xy,$y,Hy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(RV)),DV=(t,e)=>({width:t.width,height:e.height}),yne=(t,e)=>{var n=typeof e.width=="number"?e.width:Af;return{width:n,height:t.height}},kV=te(_n,Ss,DV),bne=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},xne=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},wne=te(_s,_n,vne,$y,Hy,(t,e,n,r,a)=>{var s={},l;return n.forEach(d=>{var h=DV(e,d);l==null&&(l=bne(e,r,t));var f=r==="top"&&!a||r==="bottom"&&a;s[d.id]=l-Number(f)*h.height,l+=(f?-1:1)*h.height}),s}),_ne=te(ws,_n,gne,$y,Hy,(t,e,n,r,a)=>{var s={},l;return n.forEach(d=>{var h=yne(e,d);l==null&&(l=xne(e,r,t));var f=r==="left"&&!a||r==="right"&&a;s[d.id]=l-Number(f)*h.width,l+=(f?-1:1)*h.width}),s}),Ene=(t,e)=>{var n=Ss(t,e);if(n!=null)return wne(t,n.orientation,n.mirror)},Sne=te([_n,Ss,Ene,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n?.[r];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),jne=(t,e)=>{var n=js(t,e);if(n!=null)return _ne(t,n.orientation,n.mirror)},Ane=te([_n,js,jne,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n?.[r];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),MV=te(_n,js,(t,e)=>{var n=typeof e.width=="number"?e.width:Af;return{width:n,height:t.height}}),MI=(t,e,n)=>{switch(e){case"xAxis":return kV(t,n).width;case"yAxis":return MV(t,n).height;default:return}},LV=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=n,d=ec(t,r),h=e.map(f=>f.value);if(l&&d&&s==="category"&&a&&UL(h))return h}},YS=te([ot,Fy,Ft,Ut],LV),VV=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:s}=n,l=ec(t,r);if(l&&(a==="number"||s!=="auto"))return e.map(d=>d.value)}},XS=te([ot,Fy,kf,Ut],VV),LI=te([ot,Vte,Wu,Yu,YS,XS,Vf,GS,Ut],(t,e,n,r,a,s,l,d,h)=>{if(e!=null){var f=ec(t,h);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:h,categoricalDomain:s,duplicateDomain:a,isCategorical:f,niceTicks:d,range:l,realScaleType:n,scale:r}}}),Tne=(t,e,n,r,a,s,l,d,h)=>{if(!(e==null||r==null)){var f=ec(t,h),{type:p,ticks:v,tickCount:b}=e,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,j=p==="category"&&r.bandwidth?r.bandwidth()/w:0;j=h==="angleAxis"&&s!=null&&s.length>=2?Dn(s[0]-s[1])*2*j:j;var E=v||a;if(E){var S=E.map((T,C)=>{var I=l?l.indexOf(T):T;return{index:C,coordinate:r(I)+j,value:T,offset:j}});return S.filter(T=>Jt(T.coordinate))}return f&&d?d.map((T,C)=>({coordinate:r(T)+j,value:T,index:C,offset:j})).filter(T=>Jt(T.coordinate)):r.ticks?r.ticks(b).map(T=>({coordinate:r(T)+j,value:T,offset:j})):r.domain().map((T,C)=>({coordinate:r(T)+j,value:l?l[T]:T,index:C,offset:j}))}},zV=te([ot,kf,Wu,Yu,GS,Vf,YS,XS,Ut],Tne),Nne=(t,e,n,r,a,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var d=ec(t,l),{tickCount:h}=e,f=0;return f=l==="angleAxis"&&r?.length>=2?Dn(r[0]-r[1])*2*f:f,d&&s?s.map((p,v)=>({coordinate:n(p)+f,value:p,index:v,offset:f})):n.ticks?n.ticks(h).map(p=>({coordinate:n(p)+f,value:p,offset:f})):n.domain().map((p,v)=>({coordinate:n(p)+f,value:a?a[p]:p,index:v,offset:f}))}},Tu=te([ot,kf,Yu,Vf,YS,XS,Ut],Nne),Nu=te(Ft,Yu,(t,e)=>{if(!(t==null||e==null))return vg(vg({},t),{},{scale:e})}),Cne=te([Ft,Wu,$S,IV],HS);te((t,e,n)=>OS(t,n),Cne,(t,e)=>{if(!(t==null||e==null))return vg(vg({},t),{},{scale:e})});var One=te([ot,by,xy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),UV=t=>t.options.defaultTooltipEventType,BV=t=>t.options.validateTooltipEventTypes;function FV(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function QS(t,e){var n=UV(t),r=BV(t);return FV(e,n,r)}function Pne(t){return Ae(e=>QS(e,t))}var qV=(t,e)=>{var n,r=Number(e);if(!(za(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Ine=t=>t.tooltip.settings,po={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Rne={itemInteraction:{click:po,hover:po},axisInteraction:{click:po,hover:po},keyboardInteraction:po,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},$V=Tr({name:"tooltip",initialState:Rne,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:kt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,a=Ra(t).tooltipItemPayloads.indexOf(n);a>-1&&(t.tooltipItemPayloads[a]=r)},prepare:kt()},removeTooltipEntrySettings:{reducer(t,e){var n=Ra(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:kt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Dne,replaceTooltipEntrySettings:kne,removeTooltipEntrySettings:Mne,setTooltipSettingsState:Lne,setActiveMouseOverItemIndex:HV,mouseLeaveItem:Vne,mouseLeaveChart:KV,setActiveClickItemIndex:zne,setMouseOverAxisIndex:GV,setMouseClickAxisIndex:Une,setSyncInteraction:pE,setKeyboardInteraction:vE}=$V.actions,Bne=$V.reducer;function VI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function qp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(n),!0).forEach(function(r){Fne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fne(t,e,n){return(e=qne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qne(t){var e=$ne(t,"string");return typeof e=="symbol"?e:e+""}function $ne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hne(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Kne(t){return t.index!=null}var WV=(t,e,n,r)=>{if(e==null)return po;var a=Hne(t,e,n);if(a==null)return po;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Kne(a)){if(s)return qp(qp({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return qp(qp({},po),{},{coordinate:a.coordinate})};function Gne(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Wne(t,e){var n=Gne(t),r=e[0],a=e[1];if(n===void 0)return!1;var s=Math.min(r,a),l=Math.max(r,a);return n>=s&&n<=l}function Yne(t,e,n){if(n==null||e==null)return!0;var r=Mt(t,e);return r==null||!Ro(n)?!0:Wne(r,n)}var ZS=(t,e,n,r)=>{var a=t?.index;if(a==null)return null;var s=Number(a);if(!Jt(s))return a;var l=0,d=1/0;e.length>0&&(d=e.length-1);var h=Math.max(l,Math.min(s,d)),f=e[h];return f==null||Yne(f,n,r)?String(h):null},YV=(t,e,n,r,a,s,l,d)=>{if(!(s==null||d==null)){var h=l[0],f=h==null?void 0:d(h.positions,s);if(f!=null)return f;var p=a?.[Number(s)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},XV=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===a})},zf=t=>t.options.tooltipPayloadSearcher,Xu=t=>t.tooltip;function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function UI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){Xne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xne(t,e,n){return(e=Qne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qne(t){var e=Zne(t,"string");return typeof e=="symbol"?e:e+""}function Zne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jne(t,e){return t??e}var QV=(t,e,n,r,a,s,l)=>{if(!(e==null||s==null)){var{chartData:d,computedData:h,dataStartIndex:f,dataEndIndex:p}=n,v=[];return t.reduce((b,w)=>{var j,{dataDefinedOnItem:E,settings:S}=w,T=Jne(E,d),C=Array.isArray(T)?I4(T,f,p):T,I=(j=S?.dataKey)!==null&&j!==void 0?j:r,U=S?.nameKey,L;if(r&&Array.isArray(C)&&!Array.isArray(C[0])&&l==="axis"?L=rW(C,r,a):L=s(C,e,h,U),Array.isArray(L))L.forEach(P=>{var M=UI(UI({},S),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});b.push(oP({tooltipEntrySettings:M,dataKey:P.dataKey,payload:P.payload,value:Mt(P.payload,P.dataKey),name:P.name}))});else{var B;b.push(oP({tooltipEntrySettings:S,dataKey:I,payload:L,value:Mt(L,I),name:(B=Mt(L,U))!==null&&B!==void 0?B:S?.name}))}return b},v)}},JS=te([jn,ot,yV,ES,Sn],OV),ere=te([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),tre=te([Sn,Ku],PS),Uf=te([ere,jn,tre],RS,{memoizeOptions:{resultEqualityCheck:By}}),nre=te([Uf],t=>t.filter(zy)),rre=te([Uf],DS,{memoizeOptions:{resultEqualityCheck:By}}),Qu=te([rre,Fo],kS),are=te([nre,Fo,jn],pV),ej=te([Qu,jn,Uf],LS),ZV=te([jn],VS),ire=te([jn],t=>t.allowDataOverflow),JV=te([ZV,ire],K3),sre=te([Uf],t=>t.filter(zy)),ore=te([are,sre,Rf,lV],_V),lre=te([ore,Fo,Sn,JV],EV),cre=te([Uf],xV),ure=te([Qu,jn,cre,qy,Sn],BS,{memoizeOptions:{resultEqualityCheck:Uy}}),dre=te([SV,Sn,Ku],Gu),hre=te([dre,Sn],TV),fre=te([jV,Sn,Ku],Gu),mre=te([fre,Sn],NV),pre=te([AV,Sn,Ku],Gu),vre=te([pre,Sn],CV),gre=te([hre,vre,mre],gg),yre=te([jn,ZV,JV,lre,ure,gre,ot,Sn],FS),Bf=te([jn,ot,Qu,ej,Rf,Sn,yre],qS),bre=te([Bf,jn,JS],KS),xre=te([jn,Bf,bre,Sn],WS),e6=t=>{var e=Sn(t),n=Ku(t),r=!1;return Vf(t,e,n,r)},t6=te([jn,e6],Ly),n6=te([jn,JS,xre,t6],HS),wre=te([ot,ej,jn,Sn],LV),_re=te([ot,ej,jn,Sn],VV),Ere=(t,e,n,r,a,s,l,d)=>{if(e){var{type:h}=e,f=ec(t,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,v=h==="category"&&r.bandwidth?r.bandwidth()/p:0;return v=d==="angleAxis"&&a!=null&&a?.length>=2?Dn(a[0]-a[1])*2*v:v,f&&l?l.map((b,w)=>({coordinate:r(b)+v,value:b,index:w,offset:v})):r.domain().map((b,w)=>({coordinate:r(b)+v,value:s?s[b]:b,index:w,offset:v}))}}},As=te([ot,jn,JS,n6,e6,wre,_re,Sn],Ere),tj=te([UV,BV,Ine],(t,e,n)=>FV(n.shared,t,e)),r6=t=>t.tooltip.settings.trigger,nj=t=>t.tooltip.settings.defaultIndex,Ff=te([Xu,tj,r6,nj],WV),Hl=te([Ff,Qu,Lf,Bf],ZS),a6=te([As,Hl],qV),rj=te([Ff],t=>{if(t)return t.dataKey}),Sre=te([Ff],t=>{if(t)return t.graphicalItemId}),i6=te([Xu,tj,r6,nj],XV),jre=te([ws,_s,ot,_n,As,nj,i6,zf],YV),Are=te([Ff,jre],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Tre=te([Ff],t=>t.active),Nre=te([i6,Hl,Fo,Lf,a6,zf,tj],QV);te([Nre],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function FI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(r){Cre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cre(t,e,n){return(e=Ore(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ore(t){var e=Pre(t,"string");return typeof e=="symbol"?e:e+""}function Pre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ire=()=>Ae(jn),Rre=()=>{var t=Ire(),e=Ae(As),n=Ae(n6);return Xv(!t||!n?void 0:FI(FI({},t),{},{scale:n}),e)};function qI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Hc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(n),!0).forEach(function(r){Dre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dre(t,e,n){return(e=kre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kre(t){var e=Mre(t,"string");return typeof e=="symbol"?e:e+""}function Mre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lre=(t,e,n,r)=>{var a=e.find(s=>s&&s.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},Vre=(t,e,n,r)=>{var a=e.find(f=>f&&f.index===n);if(a){if(t==="centric"){var s=a.coordinate,{radius:l}=r;return Hc(Hc(Hc({},r),mn(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var d=a.coordinate,{angle:h}=r;return Hc(Hc(Hc({},r),mn(r.cx,r.cy,d,h)),{},{angle:h,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function zre(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var s6=(t,e,n,r,a)=>{var s,l=-1,d=(s=e?.length)!==null&&s!==void 0?s:0;if(d<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var h=0;h<d;h++){var f=h>0?n[h-1].coordinate:n[d-1].coordinate,p=n[h].coordinate,v=h>=d-1?n[0].coordinate:n[h+1].coordinate,b=void 0;if(Dn(p-f)!==Dn(v-p)){var w=[];if(Dn(v-p)===Dn(a[1]-a[0])){b=v;var j=p+a[1]-a[0];w[0]=Math.min(j,(j+f)/2),w[1]=Math.max(j,(j+f)/2)}else{b=f;var E=v+a[1]-a[0];w[0]=Math.min(p,(E+p)/2),w[1]=Math.max(p,(E+p)/2)}var S=[Math.min(p,(b+p)/2),Math.max(p,(b+p)/2)];if(t>S[0]&&t<=S[1]||t>=w[0]&&t<=w[1]){({index:l}=n[h]);break}}else{var T=Math.min(f,v),C=Math.max(f,v);if(t>(T+p)/2&&t<=(C+p)/2){({index:l}=n[h]);break}}}else if(e){for(var I=0;I<d;I++)if(I===0&&t<=(e[I].coordinate+e[I+1].coordinate)/2||I>0&&I<d-1&&t>(e[I].coordinate+e[I-1].coordinate)/2&&t<=(e[I].coordinate+e[I+1].coordinate)/2||I===d-1&&t>(e[I].coordinate+e[I-1].coordinate)/2){({index:l}=e[I]);break}}return l},Ure=()=>Ae(ES),aj=(t,e)=>e,o6=(t,e,n)=>n,ij=(t,e,n,r)=>r,Bre=te(As,t=>cy(t,e=>e.coordinate)),sj=te([Xu,aj,o6,ij],WV),oj=te([sj,Qu,Lf,Bf],ZS),Fre=(t,e,n)=>{if(e!=null){var r=Xu(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},l6=te([Xu,aj,o6,ij],XV),yg=te([ws,_s,ot,_n,As,ij,l6,zf],YV),qre=te([sj,yg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),c6=te([As,oj],qV),$re=te([l6,oj,Fo,Lf,c6,zf,aj],QV),Hre=te([sj,oj],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Kre=(t,e,n,r,a,s,l)=>{if(!(!t||!n||!r||!a)&&zre(t,l)){var d=OX(t,e),h=s6(d,s,a,n,r),f=Lre(e,a,h,t);return{activeIndex:String(h),activeCoordinate:f}}},Gre=(t,e,n,r,a,s,l)=>{if(!(!t||!r||!a||!s||!n)){var d=PZ(t,n);if(d){var h=PX(d,e),f=s6(h,l,s,r,a),p=Vre(e,s,f,d);return{activeIndex:String(f),activeCoordinate:p}}}},Wre=(t,e,n,r,a,s,l,d)=>{if(!(!t||!e||!r||!a||!s))return e==="horizontal"||e==="vertical"?Kre(t,e,r,a,s,l,d):Gre(t,e,n,r,a,s,l)},Yre=te(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Xre=te(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Wn)),n=Array.from(new Set(e));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:Rte}});function $I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function HI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(n),!0).forEach(function(r){Qre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qre(t,e,n){return(e=Zre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zre(t){var e=Jre(t,"string");return typeof e=="symbol"?e:e+""}function Jre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eae={},tae={zIndexMap:Object.values(Wn).reduce((t,e)=>HI(HI({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),eae)},nae=new Set(Object.values(Wn));function rae(t){return nae.has(t)}var u6=Tr({name:"zIndex",initialState:tae,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:kt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!rae(n)&&delete t.zIndexMap[n])},prepare:kt()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:a}=e.payload;t.zIndexMap[n]?a?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:a?void 0:r,panoramaElementId:a?r:void 0}},prepare:kt()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:kt()}}}),{registerZIndexPortal:aae,unregisterZIndexPortal:iae,registerZIndexPortalId:sae,unregisterZIndexPortalId:oae}=u6.actions,lae=u6.reducer;function qa(t){var{zIndex:e,children:n}=t,r=oQ(),a=r&&e!==void 0&&e!==0,s=Nr(),l=zt();_.useLayoutEffect(()=>a?(l(aae({zIndex:e})),()=>{l(iae({zIndex:e}))}):_f,[l,e,a]);var d=Ae(f=>Yre(f,e,s));if(!a)return n;if(!d)return null;var h=document.getElementById(d);return h?yD.createPortal(n,h):null}function gE(){return gE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gE.apply(null,arguments)}function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $p(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){cae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cae(t,e,n){return(e=uae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uae(t){var e=dae(t,"string");return typeof e=="symbol"?e:e+""}function dae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hae(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return _.isValidElement(e)?_.cloneElement(e,r):_.createElement(n,r)}function fae(t){var e,{coordinate:n,payload:r,index:a,offset:s,tooltipAxisBandSize:l,layout:d,cursor:h,tooltipEventType:f,chartName:p}=t,v=n,b=r,w=a;if(!h||!v||p!=="ScatterChart"&&f!=="axis")return null;var j,E,S;if(p==="ScatterChart")j=v,E=KQ,S=Wn.cursorLine;else if(p==="BarChart")j=GQ(d,v,s,l),E=s3,S=Wn.cursorRectangle;else if(d==="radial"&&qL(v)){var{cx:T,cy:C,radius:I,startAngle:U,endAngle:L}=l3(v);j={cx:T,cy:C,startAngle:U,endAngle:L,innerRadius:I,outerRadius:I},E=u3,S=Wn.cursorLine}else j={points:kZ(d,v,s)},E=Y1,S=Wn.cursorLine;var B=typeof h=="object"&&"className"in h?h.className:void 0,P=$p($p($p($p({stroke:"#ccc",pointerEvents:"none"},s),j),$h(h)),{},{payload:b,payloadIndex:w,className:_t("recharts-tooltip-cursor",B)});return _.createElement(qa,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},_.createElement(hae,{cursor:h,cursorComp:E,cursorProps:P}))}function mae(t){var e=Rre(),n=F4(),r=Sy(),a=Ure();return e==null||n==null||r==null||a==null?null:_.createElement(fae,gE({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var d6=_.createContext(null),pae=()=>_.useContext(d6),kw={exports:{}},GI;function vae(){return GI||(GI=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(h,f,p){this.fn=h,this.context=f,this.once=p||!1}function s(h,f,p,v,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new a(p,v||h,b),j=n?n+f:f;return h._events[j]?h._events[j].fn?h._events[j]=[h._events[j],w]:h._events[j].push(w):(h._events[j]=w,h._eventsCount++),h}function l(h,f){--h._eventsCount===0?h._events=new r:delete h._events[f]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var f=[],p,v;if(this._eventsCount===0)return f;for(v in p=this._events)e.call(p,v)&&f.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},d.prototype.listeners=function(f){var p=n?n+f:f,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var b=0,w=v.length,j=new Array(w);b<w;b++)j[b]=v[b].fn;return j},d.prototype.listenerCount=function(f){var p=n?n+f:f,v=this._events[p];return v?v.fn?1:v.length:0},d.prototype.emit=function(f,p,v,b,w,j){var E=n?n+f:f;if(!this._events[E])return!1;var S=this._events[E],T=arguments.length,C,I;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),T){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,v),!0;case 4:return S.fn.call(S.context,p,v,b),!0;case 5:return S.fn.call(S.context,p,v,b,w),!0;case 6:return S.fn.call(S.context,p,v,b,w,j),!0}for(I=1,C=new Array(T-1);I<T;I++)C[I-1]=arguments[I];S.fn.apply(S.context,C)}else{var U=S.length,L;for(I=0;I<U;I++)switch(S[I].once&&this.removeListener(f,S[I].fn,void 0,!0),T){case 1:S[I].fn.call(S[I].context);break;case 2:S[I].fn.call(S[I].context,p);break;case 3:S[I].fn.call(S[I].context,p,v);break;case 4:S[I].fn.call(S[I].context,p,v,b);break;default:if(!C)for(L=1,C=new Array(T-1);L<T;L++)C[L-1]=arguments[L];S[I].fn.apply(S[I].context,C)}}return!0},d.prototype.on=function(f,p,v){return s(this,f,p,v,!1)},d.prototype.once=function(f,p,v){return s(this,f,p,v,!0)},d.prototype.removeListener=function(f,p,v,b){var w=n?n+f:f;if(!this._events[w])return this;if(!p)return l(this,w),this;var j=this._events[w];if(j.fn)j.fn===p&&(!b||j.once)&&(!v||j.context===v)&&l(this,w);else{for(var E=0,S=[],T=j.length;E<T;E++)(j[E].fn!==p||b&&!j[E].once||v&&j[E].context!==v)&&S.push(j[E]);S.length?this._events[w]=S.length===1?S[0]:S:l(this,w)}return this},d.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d})(kw)),kw.exports}var gae=vae();const yae=gs(gae);var af=new yae,yE="recharts.syncEvent.tooltip",WI="recharts.syncEvent.brush";function h6(t,e){if(e){var n=Number.parseInt(e,10);if(!za(n))return t?.[n]}}var bae={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},f6=Tr({name:"options",initialState:bae,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),xae=f6.reducer,{createEventEmitter:wae}=f6.actions;function _ae(t){return t.tooltip.syncInteraction}var Eae={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},m6=Tr({name:"chartData",initialState:Eae,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:YI,setDataStartEndIndexes:Sae,setComputedData:fhe}=m6.actions,jae=m6.reducer,Aae=["x","y"];function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Kc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){Tae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tae(t,e,n){return(e=Nae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nae(t){var e=Cae(t,"string");return typeof e=="symbol"?e:e+""}function Cae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oae(t,e){if(t==null)return{};var n,r,a=Pae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Pae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Iae(){var t=Ae(SS),e=Ae(jS),n=zt(),r=Ae(cV),a=Ae(As),s=Sy(),l=Ey(),d=Ae(h=>h.rootProps.className);_.useEffect(()=>{if(t==null)return _f;var h=(f,p,v)=>{if(e!==v&&t===f){if(r==="index"){var b;if(l&&p!==null&&p!==void 0&&(b=p.payload)!==null&&b!==void 0&&b.coordinate&&p.payload.sourceViewBox){var w=p.payload.coordinate,{x:j,y:E}=w,S=Oae(w,Aae),{x:T,y:C,width:I,height:U}=p.payload.sourceViewBox,L=Kc(Kc({},S),{},{x:l.x+(I?(j-T)/I:0)*l.width,y:l.y+(U?(E-C)/U:0)*l.height});n(Kc(Kc({},p),{},{payload:Kc(Kc({},p.payload),{},{coordinate:L})}))}else n(p);return}if(a!=null){var B;if(typeof r=="function"){var P={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},M=r(a,P);B=a[M]}else r==="value"&&(B=a.find($=>String($.value)===p.payload.label));var{coordinate:D}=p.payload;if(B==null||p.payload.active===!1||D==null||l==null){n(pE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:z,y:k}=D,F=Math.min(z,l.x+l.width),R=Math.min(k,l.y+l.height),Q={x:s==="horizontal"?B.coordinate:F,y:s==="horizontal"?R:B.coordinate},me=pE({active:p.payload.active,coordinate:Q,dataKey:p.payload.dataKey,index:String(B.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(me)}}};return af.on(yE,h),()=>{af.off(yE,h)}},[d,n,e,t,r,a,s,l])}function Rae(){var t=Ae(SS),e=Ae(jS),n=zt();_.useEffect(()=>{if(t==null)return _f;var r=(a,s,l)=>{e!==l&&t===a&&n(Sae(s))};return af.on(WI,r),()=>{af.off(WI,r)}},[n,e,t])}function Dae(){var t=zt();_.useEffect(()=>{t(wae())},[t]),Iae(),Rae()}function kae(t,e,n,r,a,s){var l=Ae(w=>Fre(w,t,e)),d=Ae(jS),h=Ae(SS),f=Ae(cV),p=Ae(_ae),v=p?.active,b=Ey();_.useEffect(()=>{if(!v&&h!=null&&d!=null){var w=pE({active:s,coordinate:n,dataKey:l,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});af.emit(yE,h,w,d)}},[v,n,l,a,r,d,h,f,s,b])}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ZI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){Mae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mae(t,e,n){return(e=Lae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lae(t){var e=Vae(t,"string");return typeof e=="symbol"?e:e+""}function Vae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zae(t){return t.dataKey}function Uae(t,e){return _.isValidElement(t)?_.cloneElement(t,e):typeof t=="function"?_.createElement(t,e):_.createElement(jQ,e)}var JI=[],Bae={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function eR(t){var e,n,r=sr(t,Bae),{active:a,allowEscapeViewBox:s,animationDuration:l,animationEasing:d,content:h,filterNull:f,isAnimationActive:p,offset:v,payloadUniqBy:b,position:w,reverseDirection:j,useTranslate3d:E,wrapperStyle:S,cursor:T,shared:C,trigger:I,defaultIndex:U,portal:L,axisId:B}=r,P=zt(),M=typeof U=="number"?String(U):U;_.useEffect(()=>{P(Lne({shared:C,trigger:I,axisId:B,active:a,defaultIndex:M}))},[P,C,I,B,a,M]);var D=Ey(),z=t3(),k=Pne(C),{activeIndex:F,isActive:R}=(e=Ae(Re=>Hre(Re,k,I,M)))!==null&&e!==void 0?e:{},Q=Ae(Re=>$re(Re,k,I,M)),me=Ae(Re=>c6(Re,k,I,M)),$=Ae(Re=>qre(Re,k,I,M)),G=Q,ee=pae(),pe=(n=a??R)!==null&&n!==void 0?n:!1,[Se,K]=mY([G,pe]),oe=k==="axis"?me:void 0;kae(k,I,$,oe,F,pe);var ve=L??ee;if(ve==null||D==null||k==null)return null;var ge=G??JI;pe||(ge=JI),f&&ge.length&&(ge=UW(ge.filter(Re=>Re.value!=null&&(Re.hide!==!0||r.includeHidden)),b,zae));var Te=ge.length>0,De=_.createElement(IQ,{allowEscapeViewBox:s,animationDuration:l,animationEasing:d,isAnimationActive:p,active:pe,coordinate:$,hasPayload:Te,offset:v,position:w,reverseDirection:j,useTranslate3d:E,viewBox:D,wrapperStyle:S,lastBoundingBox:Se,innerRef:K,hasPortalFromProps:!!L},Uae(h,ZI(ZI({},r),{},{payload:ge,label:oe,active:pe,activeIndex:F,coordinate:$,accessibilityLayer:z})));return _.createElement(_.Fragment,null,yD.createPortal(De,ve),pe&&_.createElement(mae,{cursor:T,tooltipEventType:k,coordinate:$,payload:ge,index:F}))}var qf=t=>null;qf.displayName="Cell";function Fae(t,e,n){return(e=qae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qae(t){var e=$ae(t,"string");return typeof e=="symbol"?e:e+""}function $ae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Hae{constructor(e){Fae(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Kae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){Gae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gae(t,e,n){return(e=Wae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wae(t){var e=Yae(t,"string");return typeof e=="symbol"?e:e+""}function Yae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xae={cacheSize:2e3,enableCache:!0},p6=Kae({},Xae),nR=new Hae(p6.cacheSize),Qae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rR="recharts_measurement_span";function Zae(t,e){var n=e.fontSize||"",r=e.fontFamily||"",a=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",d=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(d)}var aR=(t,e)=>{try{var n=document.getElementById(rR);n||(n=document.createElement("span"),n.setAttribute("id",rR),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Qae,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Nh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Nf.isSsr)return{width:0,height:0};if(!p6.enableCache)return aR(e,n);var r=Zae(e,n),a=nR.get(r);if(a)return a;var s=aR(e,n);return nR.set(r,s),s},iR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Jae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,eie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,v6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tie=Object.keys(v6),tu="NaN";function nie(t,e){return t*v6[e]}class Er{static parse(e){var n,[,r,a]=(n=eie.exec(e))!==null&&n!==void 0?n:[];return new Er(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,za(e)&&(this.unit=""),n!==""&&!Jae.test(n)&&(this.num=NaN,this.unit=""),tie.includes(n)&&(this.num=nie(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Er(NaN,""):new Er(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Er(NaN,""):new Er(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Er(NaN,""):new Er(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Er(NaN,""):new Er(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return za(this.num)}}function g6(t){if(t.includes(tu))return tu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,s]=(n=iR.exec(e))!==null&&n!==void 0?n:[],l=Er.parse(r??""),d=Er.parse(s??""),h=a==="*"?l.multiply(d):l.divide(d);if(h.isNaN())return tu;e=e.replace(iR,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,p,v,b]=(f=sR.exec(e))!==null&&f!==void 0?f:[],w=Er.parse(p??""),j=Er.parse(b??""),E=v==="+"?w.add(j):w.subtract(j);if(E.isNaN())return tu;e=e.replace(sR,E.toString())}return e}var oR=/\(([^()]*)\)/;function rie(t){for(var e=t,n;(n=oR.exec(e))!=null;){var[,r]=n;e=e.replace(oR,g6(r))}return e}function aie(t){var e=t.replace(/\s+/g,"");return e=rie(e),e=g6(e),e}function iie(t){try{return aie(t)}catch{return tu}}function Mw(t){var e=iie(t.slice(5,-1));return e===tu?"":e}var sie=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],oie=["dx","dy","angle","className","breakAll"];function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(null,arguments)}function lR(t,e){if(t==null)return{};var n,r,a=lie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function lie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var y6=/[ \f\n\r\t\v\u2028\u2029]+/,b6=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];Mn(e)||(n?a=e.toString().split(""):a=e.toString().split(y6));var s=a.map(d=>({word:d,width:Nh(d,r).width})),l=n?0:Nh("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function cie(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var x6=(t,e,n,r)=>t.reduce((a,s)=>{var{word:l,width:d}=s,h=a[a.length-1];if(h&&d!=null&&(e==null||r||h.width+d+n<Number(e)))h.words.push(l),h.width+=d+n;else{var f={words:[l],width:d};a.push(f)}return a},[]),w6=t=>t.reduce((e,n)=>e.width>n.width?e:n),uie="",cR=(t,e,n,r,a,s,l,d)=>{var h=t.slice(0,e),f=b6({breakAll:n,style:r,children:h+uie});if(!f)return[!1,[]];var p=x6(f.wordsWithComputedWidth,s,l,d),v=p.length>a||w6(p).width>Number(s);return[v,p]},die=(t,e,n,r,a)=>{var{maxLines:s,children:l,style:d,breakAll:h}=t,f=Ce(s),p=String(l),v=x6(e,r,n,a);if(!f||a)return v;var b=v.length>s||w6(v).width>Number(r);if(!b)return v;for(var w=0,j=p.length-1,E=0,S;w<=j&&E<=p.length-1;){var T=Math.floor((w+j)/2),C=T-1,[I,U]=cR(p,C,h,d,s,r,n,a),[L]=cR(p,T,h,d,s,r,n,a);if(!I&&!L&&(w=T+1),I&&L&&(j=T-1),!I&&L){S=U;break}E++}return S||v},uR=t=>{var e=Mn(t)?[]:t.toString().split(y6);return[{words:e,width:void 0}]},hie=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:l}=t;if((e||n)&&!Nf.isSsr){var d,h,f=b6({breakAll:s,children:r,style:a});if(f){var{wordsWithComputedWidth:p,spaceWidth:v}=f;d=p,h=v}else return uR(r);return die({breakAll:s,children:r,maxLines:l,style:a},d,h,e,!!n)}return uR(r)},_6="#808080",fie={angle:0,breakAll:!1,capHeight:"0.71em",fill:_6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ky=_.forwardRef((t,e)=>{var n=sr(t,fie),{x:r,y:a,lineHeight:s,capHeight:l,fill:d,scaleToFit:h,textAnchor:f,verticalAnchor:p}=n,v=lR(n,sie),b=_.useMemo(()=>hie({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:h,style:v.style,width:v.width}),[v.breakAll,v.children,v.maxLines,h,v.style,v.width]),{dx:w,dy:j,angle:E,className:S,breakAll:T}=v,C=lR(v,oie);if(!wi(r)||!wi(a)||b.length===0)return null;var I=Number(r)+(Ce(w)?w:0),U=Number(a)+(Ce(j)?j:0);if(!Jt(I)||!Jt(U))return null;var L;switch(p){case"start":L=Mw("calc(".concat(l,")"));break;case"middle":L=Mw("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:L=Mw("calc(".concat(b.length-1," * -").concat(s,")"));break}var B=[];if(h){var P=b[0].width,{width:M}=v;B.push("scale(".concat(Ce(M)&&Ce(P)?M/P:1,")"))}return E&&B.push("rotate(".concat(E,", ").concat(I,", ").concat(U,")")),B.length&&(C.transform=B.join(" ")),_.createElement("text",bE({},fa(C),{ref:e,x:I,y:U,className:_t("recharts-text",S),textAnchor:f,fill:d.includes("url")?_6:d}),b.map((D,z)=>{var k=D.words.join(T?"":" ");return _.createElement("tspan",{x:I,dy:z===0?L:s,key:"".concat(k,"-").concat(z)},k)}))});Ky.displayName="Text";var mie=["labelRef"];function pie(t,e){if(t==null)return{};var n,r,a=vie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function vie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){gie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gie(t,e,n){return(e=yie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yie(t){var e=bie(t,"string");return typeof e=="symbol"?e:e+""}function bie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yi(){return Yi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yi.apply(null,arguments)}var E6=_.createContext(null),xie=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:a,width:s,height:l,children:d}=t,h=_.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:a,width:s,height:l}),[e,n,r,a,s,l]);return _.createElement(E6.Provider,{value:h},d)},S6=()=>{var t=_.useContext(E6),e=Ey();return t||B4(e)},wie=_.createContext(null),_ie=()=>{var t=_.useContext(wie),e=Ae(mV);return t||e},Eie=t=>{var{value:e,formatter:n}=t,r=Mn(t.children)?e:t.children;return typeof n=="function"?n(r):r},lj=t=>t!=null&&typeof t=="function",Sie=(t,e)=>{var n=Dn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},jie=(t,e,n,r,a)=>{var{offset:s,className:l}=t,{cx:d,cy:h,innerRadius:f,outerRadius:p,startAngle:v,endAngle:b,clockWise:w}=a,j=(f+p)/2,E=Sie(v,b),S=E>=0?1:-1,T,C;switch(e){case"insideStart":T=v+S*s,C=w;break;case"insideEnd":T=b-S*s,C=!w;break;case"end":T=b+S*s,C=w;break;default:throw new Error("Unsupported position ".concat(e))}C=E<=0?C:!C;var I=mn(d,h,j,T),U=mn(d,h,j,T+(C?1:-1)*359),L="M".concat(I.x,",").concat(I.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(C?0:1,`,
    `).concat(U.x,",").concat(U.y),B=Mn(t.id)?Hh("recharts-radial-line-"):t.id;return _.createElement("text",Yi({},r,{dominantBaseline:"central",className:_t("recharts-radial-bar-label",l)}),_.createElement("defs",null,_.createElement("path",{id:B,d:L})),_.createElement("textPath",{xlinkHref:"#".concat(B)},n))},Aie=(t,e,n)=>{var{cx:r,cy:a,innerRadius:s,outerRadius:l,startAngle:d,endAngle:h}=t,f=(d+h)/2;if(n==="outside"){var{x:p,y:v}=mn(r,a,l+e,f);return{x:p,y:v,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var b=(s+l)/2,{x:w,y:j}=mn(r,a,b,f);return{x:w,y:j,textAnchor:"middle",verticalAnchor:"middle"}},xE=t=>"cx"in t&&Ce(t.cx),Tie=(t,e)=>{var{parentViewBox:n,offset:r,position:a}=t,s;n!=null&&!xE(n)&&(s=n);var{x:l,y:d,upperWidth:h,lowerWidth:f,height:p}=e,v=l,b=l+(h-f)/2,w=(v+b)/2,j=(h+f)/2,E=v+h/2,S=p>=0?1:-1,T=S*r,C=S>0?"end":"start",I=S>0?"start":"end",U=h>=0?1:-1,L=U*r,B=U>0?"end":"start",P=U>0?"start":"end";if(a==="top"){var M={x:v+h/2,y:d-T,textAnchor:"middle",verticalAnchor:C};return Xt(Xt({},M),s?{height:Math.max(d-s.y,0),width:h}:{})}if(a==="bottom"){var D={x:b+f/2,y:d+p+T,textAnchor:"middle",verticalAnchor:I};return Xt(Xt({},D),s?{height:Math.max(s.y+s.height-(d+p),0),width:f}:{})}if(a==="left"){var z={x:w-L,y:d+p/2,textAnchor:B,verticalAnchor:"middle"};return Xt(Xt({},z),s?{width:Math.max(z.x-s.x,0),height:p}:{})}if(a==="right"){var k={x:w+j+L,y:d+p/2,textAnchor:P,verticalAnchor:"middle"};return Xt(Xt({},k),s?{width:Math.max(s.x+s.width-k.x,0),height:p}:{})}var F=s?{width:j,height:p}:{};return a==="insideLeft"?Xt({x:w+L,y:d+p/2,textAnchor:P,verticalAnchor:"middle"},F):a==="insideRight"?Xt({x:w+j-L,y:d+p/2,textAnchor:B,verticalAnchor:"middle"},F):a==="insideTop"?Xt({x:v+h/2,y:d+T,textAnchor:"middle",verticalAnchor:I},F):a==="insideBottom"?Xt({x:b+f/2,y:d+p-T,textAnchor:"middle",verticalAnchor:C},F):a==="insideTopLeft"?Xt({x:v+L,y:d+T,textAnchor:P,verticalAnchor:I},F):a==="insideTopRight"?Xt({x:v+h-L,y:d+T,textAnchor:B,verticalAnchor:I},F):a==="insideBottomLeft"?Xt({x:b+L,y:d+p-T,textAnchor:P,verticalAnchor:C},F):a==="insideBottomRight"?Xt({x:b+f-L,y:d+p-T,textAnchor:B,verticalAnchor:C},F):a&&typeof a=="object"&&(Ce(a.x)||us(a.x))&&(Ce(a.y)||us(a.y))?Xt({x:l+ar(a.x,j),y:d+ar(a.y,p),textAnchor:"end",verticalAnchor:"end"},F):Xt({x:E,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},F)},Nie={angle:0,offset:5,zIndex:Wn.label,position:"middle",textBreakAll:!1};function co(t){var e=sr(t,Nie),{viewBox:n,position:r,value:a,children:s,content:l,className:d="",textBreakAll:h,labelRef:f}=e,p=_ie(),v=S6(),b=r==="center"?v:p??v,w,j,E;if(n==null?w=b:xE(n)?w=n:w=B4(n),!w||Mn(a)&&Mn(s)&&!_.isValidElement(l)&&typeof l!="function")return null;var S=Xt(Xt({},e),{},{viewBox:w});if(_.isValidElement(l)){var{labelRef:T}=S,C=pie(S,mie);return _.cloneElement(l,C)}if(typeof l=="function"){if(j=_.createElement(l,S),_.isValidElement(j))return j}else j=Eie(e);var I=fa(e);if(xE(w)){if(r==="insideStart"||r==="insideEnd"||r==="end")return jie(e,r,j,I,w);E=Aie(w,e.offset,e.position)}else E=Tie(e,w);return _.createElement(qa,{zIndex:e.zIndex},_.createElement(Ky,Yi({ref:f,className:_t("recharts-label",d)},I,E,{textAnchor:cie(I.textAnchor)?I.textAnchor:E.textAnchor,breakAll:h}),j))}co.displayName="Label";var Cie=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?_.createElement(co,Yi({key:"label-implicit"},r)):wi(t)?_.createElement(co,Yi({key:"label-implicit",value:t},r)):_.isValidElement(t)?t.type===co?_.cloneElement(t,Xt({key:"label-implicit"},r)):_.createElement(co,Yi({key:"label-implicit",content:t},r)):lj(t)?_.createElement(co,Yi({key:"label-implicit",content:t},r)):t&&typeof t=="object"?_.createElement(co,Yi({},t,{key:"label-implicit"},r)):null};function Oie(t){var{label:e,labelRef:n}=t,r=S6();return Cie(e,r,n)||null}var Lw={},Vw={},hR;function Pie(){return hR||(hR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Vw)),Vw}var zw={},fR;function Iie(){return fR||(fR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(zw)),zw}var mR;function Rie(){return mR||(mR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pie(),n=Iie(),r=k1();function a(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=a})(Lw)),Lw}var Uw,pR;function Die(){return pR||(pR=1,Uw=Rie().last),Uw}var kie=Die();const Mie=gs(kie);var Lie=["valueAccessor"],Vie=["dataKey","clockWise","id","textBreakAll","zIndex"];function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(null,arguments)}function vR(t,e){if(t==null)return{};var n,r,a=zie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function zie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Uie=t=>Array.isArray(t.value)?Mie(t.value):t.value,j6=_.createContext(void 0),Bie=j6.Provider,A6=_.createContext(void 0),Fie=A6.Provider;function qie(){return _.useContext(j6)}function $ie(){return _.useContext(A6)}function dv(t){var{valueAccessor:e=Uie}=t,n=vR(t,Lie),{dataKey:r,clockWise:a,id:s,textBreakAll:l,zIndex:d}=n,h=vR(n,Vie),f=qie(),p=$ie(),v=f||p;return!v||!v.length?null:_.createElement(qa,{zIndex:d??Wn.label},_.createElement(fr,{className:"recharts-label-list"},v.map((b,w)=>{var j,E=Mn(r)?e(b,w):Mt(b&&b.payload,r),S=Mn(s)?{}:{id:"".concat(s,"-").concat(w)};return _.createElement(co,bg({key:"label-".concat(w)},fa(b),h,S,{fill:(j=n.fill)!==null&&j!==void 0?j:b.fill,parentViewBox:b.parentViewBox,value:E,textBreakAll:l,viewBox:b.viewBox,index:w,zIndex:0}))})))}dv.displayName="LabelList";function T6(t){var{label:e}=t;return e?e===!0?_.createElement(dv,{key:"labelList-implicit"}):_.isValidElement(e)||lj(e)?_.createElement(dv,{key:"labelList-implicit",content:e}):typeof e=="object"?_.createElement(dv,bg({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var N6=t=>t.graphicalItems.polarItems,Hie=te([Ut,Df],PS),Gy=te([N6,Ft,Hie],RS),Kie=te([Gy],DS),Wy=te([Kie,bS],kS),Gie=te([Wy,Ft,Gy],LS);te([Wy,Ft,Gy],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(a=>{var s,l=Mt(r,(s=e.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:Mt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var gR=()=>{},Wie=te([Wy,Ft,Gy,qy,Ut],BS),Yie=te([Ft,zS,US,gR,Wie,gR,ot,Ut],FS),C6=te([Ft,ot,Wy,Gie,Rf,Ut,Yie],qS),Xie=te([C6,Ft,Wu],KS);te([Ft,C6,Xie,Ut],WS);var Qie={radiusAxis:{},angleAxis:{}},O6=Tr({name:"polarAxis",initialState:Qie,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:mhe,removeRadiusAxis:phe,addAngleAxis:vhe,removeAngleAxis:ghe}=O6.actions,Zie=O6.reducer;function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){Jie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jie(t,e,n){return(e=ese(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ese(t){var e=tse(t,"string");return typeof e=="symbol"?e:e+""}function tse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nse=(t,e)=>e,cj=te([N6,nse],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),rse=[],uj=(t,e,n)=>n?.length===0?rse:n,P6=te([bS,cj,uj],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var a;if(e?.data!=null&&e.data.length>0?a=e.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(s=>bR(bR({},e.presentationProps),s.props))),a!=null)return a}}),ase=te([P6,cj,uj],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,a)=>{var s,l=Mt(r,e.nameKey,e.name),d;return n!=null&&(s=n[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?d=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=e.fill,{value:yy(l,e.dataKey),color:d,payload:r,type:e.legendType}})}),ise=te([P6,cj,uj,_n],(t,e,n,r)=>{if(!(e==null||t==null))return loe({offset:r,pieSettings:e,displayedData:t,cells:n})}),Bw={exports:{}},wt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xR;function sse(){if(xR)return wt;xR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function j(E){if(typeof E=="object"&&E!==null){var S=E.$$typeof;switch(S){case t:switch(E=E.type,E){case n:case a:case r:case h:case f:case b:return E;default:switch(E=E&&E.$$typeof,E){case l:case d:case v:case p:return E;case s:return E;default:return S}}case e:return S}}}return wt.ContextConsumer=s,wt.ContextProvider=l,wt.Element=t,wt.ForwardRef=d,wt.Fragment=n,wt.Lazy=v,wt.Memo=p,wt.Portal=e,wt.Profiler=a,wt.StrictMode=r,wt.Suspense=h,wt.SuspenseList=f,wt.isContextConsumer=function(E){return j(E)===s},wt.isContextProvider=function(E){return j(E)===l},wt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},wt.isForwardRef=function(E){return j(E)===d},wt.isFragment=function(E){return j(E)===n},wt.isLazy=function(E){return j(E)===v},wt.isMemo=function(E){return j(E)===p},wt.isPortal=function(E){return j(E)===e},wt.isProfiler=function(E){return j(E)===a},wt.isStrictMode=function(E){return j(E)===r},wt.isSuspense=function(E){return j(E)===h},wt.isSuspenseList=function(E){return j(E)===f},wt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===a||E===r||E===h||E===f||typeof E=="object"&&E!==null&&(E.$$typeof===v||E.$$typeof===p||E.$$typeof===l||E.$$typeof===s||E.$$typeof===d||E.$$typeof===w||E.getModuleId!==void 0)},wt.typeOf=j,wt}var wR;function ose(){return wR||(wR=1,Bw.exports=sse()),Bw.exports}var lse=ose(),_R=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",ER=null,Fw=null,I6=t=>{if(t===ER&&Array.isArray(Fw))return Fw;var e=[];return _.Children.forEach(t,n=>{Mn(n)||(lse.isFragment(n)?e=e.concat(I6(n.props.children)):e.push(n))}),Fw=e,ER=t,e};function dj(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(a=>_R(a)):r=[_R(e)],I6(t).forEach(a=>{var s=Bl(a,"type.displayName")||Bl(a,"type.name");s&&r.indexOf(s)!==-1&&n.push(a)}),n}var qw={},SR;function cse(){return SR||(SR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(qw)),qw}var $w,jR;function use(){return jR||(jR=1,$w=cse().isPlainObject),$w}var dse=use();const hse=gs(dse);function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function TR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){fse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fse(t,e,n){return(e=mse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mse(t){var e=pse(t,"string");return typeof e=="symbol"?e:e+""}function pse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xg.apply(null,arguments)}var NR=(t,e,n,r,a)=>{var s=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-s/2,",").concat(e+a),l+="L ".concat(t+n-s/2-r,",").concat(e+a),l+="L ".concat(t,",").concat(e," Z"),l},vse={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gse=t=>{var e=sr(t,vse),{x:n,y:r,upperWidth:a,lowerWidth:s,height:l,className:d}=e,{animationEasing:h,animationDuration:f,animationBegin:p,isUpdateAnimationActive:v}=e,b=_.useRef(null),[w,j]=_.useState(-1),E=_.useRef(a),S=_.useRef(s),T=_.useRef(l),C=_.useRef(n),I=_.useRef(r),U=Oy(t,"trapezoid-");if(_.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var Q=b.current.getTotalLength();Q&&j(Q)}catch{}},[]),n!==+n||r!==+r||a!==+a||s!==+s||l!==+l||a===0&&s===0||l===0)return null;var L=_t("recharts-trapezoid",d);if(!v)return _.createElement("g",null,_.createElement("path",xg({},fa(e),{className:L,d:NR(n,r,a,s,l)})));var B=E.current,P=S.current,M=T.current,D=C.current,z=I.current,k="0px ".concat(w===-1?1:w,"px"),F="".concat(w,"px 0px"),R=n3(["strokeDasharray"],f,h);return _.createElement(Cy,{animationId:U,key:U,canBegin:w>0,duration:f,easing:h,isActive:v,begin:p},Q=>{var me=bn(B,a,Q),$=bn(P,s,Q),G=bn(M,l,Q),ee=bn(D,n,Q),pe=bn(z,r,Q);b.current&&(E.current=me,S.current=$,T.current=G,C.current=ee,I.current=pe);var Se=Q>0?{transition:R,strokeDasharray:F}:{strokeDasharray:k};return _.createElement("path",xg({},fa(e),{className:L,d:NR(ee,pe,me,$,G),ref:b,style:TR(TR({},Se),e.style)}))})},yse=["option","shapeType","propTransformer","activeClassName"];function bse(t,e){if(t==null)return{};var n,r,a=xse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function xse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){wse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wse(t,e,n){return(e=_se(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _se(t){var e=Ese(t,"string");return typeof e=="symbol"?e:e+""}function Ese(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sse(t,e){return wg(wg({},e),t)}function jse(t,e){return t==="symbols"}function OR(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return _.createElement(s3,n);case"trapezoid":return _.createElement(gse,n);case"sector":return _.createElement(u3,n);case"symbols":if(jse(e))return _.createElement(FL,n);break;case"curve":return _.createElement(Y1,n);default:return null}}function Ase(t){return _.isValidElement(t)?t.props:t}function R6(t){var{option:e,shapeType:n,propTransformer:r=Sse,activeClassName:a="recharts-active-shape"}=t,s=bse(t,yse),l;if(_.isValidElement(e))l=_.cloneElement(e,wg(wg({},s),Ase(e)));else if(typeof e=="function")l=e(s,s.index);else if(hse(e)&&typeof e!="boolean"){var d=r(e,s);l=_.createElement(OR,{shapeType:n,elementProps:d})}else{var h=s;l=_.createElement(OR,{shapeType:n,elementProps:h})}return s.isActive?_.createElement(fr,{className:a},l):l}var hj=(t,e,n)=>{var r=zt();return(a,s)=>l=>{t?.(a,s,l),r(HV({activeIndex:String(s),activeDataKey:e,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},fj=t=>{var e=zt();return(n,r)=>a=>{t?.(n,r,a),e(Vne())}},mj=(t,e,n)=>{var r=zt();return(a,s)=>l=>{t?.(a,s,l),r(zne({activeIndex:String(s),activeDataKey:e,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function D6(t){var{tooltipEntrySettings:e}=t,n=zt(),r=Nr(),a=_.useRef(null);return _.useLayoutEffect(()=>{r||(a.current===null?n(Dne(e)):a.current!==e&&n(kne({prev:a.current,next:e})),a.current=e)},[e,n,r]),_.useLayoutEffect(()=>()=>{a.current&&(n(Mne(a.current)),a.current=null)},[n]),null}function Tse(t){var{legendPayload:e}=t,n=zt(),r=Nr(),a=_.useRef(null);return _.useLayoutEffect(()=>{r||(a.current===null?n(Z4(e)):a.current!==e&&n(J4({prev:a.current,next:e})),a.current=e)},[n,r,e]),_.useLayoutEffect(()=>()=>{a.current&&(n(e3(a.current)),a.current=null)},[n]),null}function Nse(t){var{legendPayload:e}=t,n=zt(),r=Ae(ot),a=_.useRef(null);return _.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(Z4(e)):a.current!==e&&n(J4({prev:a.current,next:e})),a.current=e)},[n,r,e]),_.useLayoutEffect(()=>()=>{a.current&&(n(e3(a.current)),a.current=null)},[n]),null}var Hw,Cse=()=>{var[t]=_.useState(()=>Hh("uid-"));return t},Ose=(Hw=Q5.useId)!==null&&Hw!==void 0?Hw:Cse;function k6(t,e){var n=Ose();return e||(t?"".concat(t,"-").concat(n):n)}var Pse=_.createContext(void 0),M6=t=>{var{id:e,type:n,children:r}=t,a=k6("recharts-".concat(n),e);return _.createElement(Pse.Provider,{value:a},r(a))},Ise={cartesianItems:[],polarItems:[]},L6=Tr({name:"graphicalItems",initialState:Ise,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:kt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,a=Ra(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},prepare:kt()},removeCartesianGraphicalItem:{reducer(t,e){var n=Ra(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:kt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:kt()},removePolarGraphicalItem:{reducer(t,e){var n=Ra(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:kt()}}}),{addCartesianGraphicalItem:Rse,replaceCartesianGraphicalItem:Dse,removeCartesianGraphicalItem:kse,addPolarGraphicalItem:Mse,removePolarGraphicalItem:Lse}=L6.actions,Vse=L6.reducer,zse=t=>{var e=zt(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(Rse(t)):n.current!==t&&e(Dse({prev:n.current,next:t})),n.current=t},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(e(kse(n.current)),n.current=null)},[e]),null},Use=_.memo(zse);function Bse(t){var e=zt();return _.useLayoutEffect(()=>(e(Mse(t)),()=>{e(Lse(t))}),[e,t]),null}var Fse=["key"],qse=["onMouseEnter","onClick","onMouseLeave"],$se=["id"],Hse=["id"];function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){Kse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kse(t,e,n){return(e=Gse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gse(t){var e=Wse(t,"string");return typeof e=="symbol"?e:e+""}function Wse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Do(){return Do=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Do.apply(null,arguments)}function Yy(t,e){if(t==null)return{};var n,r,a=Yse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Yse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xse(t){var e=_.useMemo(()=>dj(t.children,qf),[t.children]),n=Ae(r=>ase(r,t.id,e));return n==null?null:_.createElement(Nse,{legendPayload:n})}var Qse=_.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:a,strokeWidth:s,fill:l,name:d,hide:h,tooltipType:f}=t,p={dataDefinedOnItem:r.map(v=>v.tooltipPayload),positions:r.map(v=>v.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:l,dataKey:e,nameKey:n,name:yy(d,e),hide:h,type:f,color:l,unit:""}};return _.createElement(D6,{tooltipEntrySettings:p})}),Zse=(t,e)=>t>e?"start":t<e?"end":"middle",Jse=(t,e,n)=>ar(typeof e=="function"?e(t):e,n,n*.8),eoe=(t,e,n)=>{var{top:r,left:a,width:s,height:l}=e,d=o3(s,l),h=a+ar(t.cx,s,s/2),f=r+ar(t.cy,l,l/2),p=ar(t.innerRadius,d,0),v=Jse(n,t.outerRadius,d),b=t.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:h,cy:f,innerRadius:p,outerRadius:v,maxRadius:b}},toe=(t,e)=>{var n=Dn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function noe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var roe=(t,e)=>{if(_.isValidElement(t))return _.cloneElement(t,e);if(typeof t=="function")return t(e);var n=_t("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,a=Yy(e,Fse);return _.createElement(Y1,Do({},a,{type:"linear",className:n}))},aoe=(t,e,n)=>{if(_.isValidElement(t))return _.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),_.isValidElement(r)))return r;var a=_t("recharts-pie-label-text",noe(t));return _.createElement(Ky,Do({},e,{alignmentBaseline:"middle",className:a}),r)};function ioe(t){var{sectors:e,props:n,showLabels:r}=t,{label:a,labelLine:s,dataKey:l}=n;if(!r||!a||!e)return null;var d=Va(n),h=$h(a),f=$h(s),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,v=e.map((b,w)=>{var j=(b.startAngle+b.endAngle)/2,E=mn(b.cx,b.cy,b.outerRadius+p,j),S=Ht(Ht(Ht(Ht({},d),b),{},{stroke:"none"},h),{},{index:w,textAnchor:Zse(E.x,b.cx)},E),T=Ht(Ht(Ht(Ht({},d),b),{},{fill:"none",stroke:b.fill},f),{},{index:w,points:[mn(b.cx,b.cy,b.outerRadius,j),E],key:"line"});return _.createElement(qa,{zIndex:Wn.label,key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(w)},_.createElement(fr,null,s&&roe(s,T),aoe(a,S,Mt(b,l))))});return _.createElement(fr,{className:"recharts-pie-labels"},v)}function soe(t){var{sectors:e,props:n,showLabels:r}=t,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?_.createElement(T6,{label:a}):_.createElement(ioe,{sectors:e,props:n,showLabels:r})}function ooe(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:s,id:l}=t,d=Ae(Hl),h=Ae(rj),f=Ae(Sre),{onMouseEnter:p,onClick:v,onMouseLeave:b}=a,w=Yy(a,qse),j=hj(p,a.dataKey,l),E=fj(b),S=mj(v,a.dataKey,l);return e==null||e.length===0?null:_.createElement(_.Fragment,null,e.map((T,C)=>{if(T?.startAngle===0&&T?.endAngle===0&&e.length!==1)return null;var I=f==null||f===l,U=String(C)===d&&(h==null||a.dataKey===h)&&I,L=d?r:null,B=n&&U?n:L,P=Ht(Ht({},T),{},{stroke:T.stroke,tabIndex:-1,[M4]:C,[L4]:a.dataKey});return _.createElement(fr,Do({key:"sector-".concat(T?.startAngle,"-").concat(T?.endAngle,"-").concat(T.midAngle,"-").concat(C),tabIndex:-1,className:"recharts-pie-sector"},ly(w,T,C),{onMouseEnter:j(T,C),onMouseLeave:E(T,C),onClick:S(T,C)}),_.createElement(R6,Do({option:s??B,index:C,shapeType:"sector",isActive:U},P)))}))}function loe(t){var e,{pieSettings:n,displayedData:r,cells:a,offset:s}=t,{cornerRadius:l,startAngle:d,endAngle:h,dataKey:f,nameKey:p,tooltipType:v}=n,b=Math.abs(n.minAngle),w=toe(d,h),j=Math.abs(w),E=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,S=r.filter(B=>Mt(B,f,0)!==0).length,T=(j>=360?S:S-1)*E,C=j-S*b-T,I=r.reduce((B,P)=>{var M=Mt(P,f,0);return B+(Ce(M)?M:0)},0),U;if(I>0){var L;U=r.map((B,P)=>{var M=Mt(B,f,0),D=Mt(B,p,P),z=eoe(n,s,B),k=(Ce(M)?M:0)/I,F,R=Ht(Ht({},B),a&&a[P]&&a[P].props);P?F=L.endAngle+Dn(w)*E*(M!==0?1:0):F=d;var Q=F+Dn(w)*((M!==0?b:0)+k*C),me=(F+Q)/2,$=(z.innerRadius+z.outerRadius)/2,G=[{name:D,value:M,payload:R,dataKey:f,type:v}],ee=mn(z.cx,z.cy,$,me);return L=Ht(Ht(Ht(Ht({},n.presentationProps),{},{percent:k,cornerRadius:typeof l=="string"?parseFloat(l):l,name:D,tooltipPayload:G,midAngle:me,middleRadius:$,tooltipPosition:ee},R),z),{},{value:M,dataKey:f,startAngle:F,endAngle:Q,payload:R,paddingAngle:Dn(w)*E}),L})}return U}function coe(t){var{showLabels:e,sectors:n,children:r}=t,a=_.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return _.createElement(Fie,{value:e?a:void 0},r)}function uoe(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:a,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:h,activeShape:f,inactiveShape:p,onAnimationStart:v,onAnimationEnd:b}=e,w=Oy(e,"recharts-pie-"),j=n.current,[E,S]=_.useState(!1),T=_.useCallback(()=>{typeof b=="function"&&b(),S(!1)},[b]),C=_.useCallback(()=>{typeof v=="function"&&v(),S(!0)},[v]);return _.createElement(coe,{showLabels:!E,sectors:a},_.createElement(Cy,{animationId:w,begin:l,duration:d,isActive:s,easing:h,onAnimationStart:C,onAnimationEnd:T,key:w},I=>{var U=[],L=a&&a[0],B=L?.startAngle;return a?.forEach((P,M)=>{var D=j&&j[M],z=M>0?Bl(P,"paddingAngle",0):0;if(D){var k=bn(D.endAngle-D.startAngle,P.endAngle-P.startAngle,I),F=Ht(Ht({},P),{},{startAngle:B+z,endAngle:B+k+z});U.push(F),B=F.endAngle}else{var{endAngle:R,startAngle:Q}=P,me=bn(0,R-Q,I),$=Ht(Ht({},P),{},{startAngle:B+z,endAngle:B+me+z});U.push($),B=$.endAngle}}),n.current=U,_.createElement(fr,null,_.createElement(ooe,{sectors:U,activeShape:f,inactiveShape:p,allOtherPieProps:e,shape:e.shape,id:r}))}),_.createElement(soe,{showLabels:!E,sectors:a,props:e}),e.children)}var doe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Wn.area};function hoe(t){var{id:e}=t,n=Yy(t,$se),{hide:r,className:a,rootTabIndex:s}=t,l=_.useMemo(()=>dj(t.children,qf),[t.children]),d=Ae(p=>ise(p,e,l)),h=_.useRef(null),f=_t("recharts-pie",a);return r||d==null?(h.current=null,_.createElement(fr,{tabIndex:s,className:f})):_.createElement(qa,{zIndex:t.zIndex},_.createElement(Qse,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:d,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),_.createElement(fr,{tabIndex:s,className:f},_.createElement(uoe,{props:Ht(Ht({},n),{},{sectors:d}),previousSectorsRef:h,id:e})))}function V6(t){var e=sr(t,doe),{id:n}=e,r=Yy(e,Hse),a=Va(r);return _.createElement(M6,{id:n,type:"pie"},s=>_.createElement(_.Fragment,null,_.createElement(Bse,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),_.createElement(Xse,Do({},r,{id:s})),_.createElement(hoe,Do({},r,{id:s}))))}V6.displayName="Pie";function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function RR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){foe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function foe(t,e,n){return(e=moe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function moe(t){var e=poe(t,"string");return typeof e=="symbol"?e:e+""}function poe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var voe={xAxis:{},yAxis:{},zAxis:{}},z6=Tr({name:"cartesianAxis",initialState:voe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:kt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:kt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:kt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:kt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:kt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:kt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:kt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:kt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:kt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,a=t.yAxis[n];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==a.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=RR(RR({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:goe,replaceXAxis:yoe,removeXAxis:boe,addYAxis:xoe,replaceYAxis:woe,removeYAxis:_oe,addZAxis:yhe,replaceZAxis:bhe,removeZAxis:xhe,updateYAxisWidth:Eoe}=z6.actions,Soe=z6.reducer,joe=te([_n],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Aoe=te([joe,ws,_s],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),U6=()=>Ae(Aoe),Toe="Invariant failed";function Noe(t,e){throw new Error(Toe)}var Coe=["x","y"];function wE(){return wE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wE.apply(null,arguments)}function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function dh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){Ooe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ooe(t,e,n){return(e=Poe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Poe(t){var e=Ioe(t,"string");return typeof e=="symbol"?e:e+""}function Ioe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Roe(t,e){if(t==null)return{};var n,r,a=Doe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Doe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function koe(t,e){var{x:n,y:r}=t,a=Roe(t,Coe),s="".concat(n),l=parseInt(s,10),d="".concat(r),h=parseInt(d,10),f="".concat(e.height||a.height),p=parseInt(f,10),v="".concat(e.width||a.width),b=parseInt(v,10);return dh(dh(dh(dh(dh({},e),a),l?{x:l}:{}),h?{y:h}:{}),{},{height:p,width:b,name:e.name,radius:e.radius})}function _g(t){return _.createElement(R6,wE({shapeType:"rectangle",propTransformer:koe,activeClassName:"recharts-active-bar"},t))}var Moe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(Ce(e))return e;var s=Ce(r)||Mn(r);return s?e(r,a):(s||Noe(),n)}},Loe={},B6=Tr({name:"errorBars",initialState:Loe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:a}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?a:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:whe,replaceErrorBar:_he,removeErrorBar:Ehe}=B6.actions,Voe=B6.reducer,zoe=["children"];function Uoe(t,e){if(t==null)return{};var n,r,a=Boe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Boe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Foe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},qoe=_.createContext(Foe);function $oe(t){var{children:e}=t,n=Uoe(t,zoe);return _.createElement(qoe.Provider,{value:n},e)}function F6(t,e){var n,r,a=Ae(f=>Ss(f,t)),s=Ae(f=>js(f,e)),l=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:Cn.allowDataOverflow,d=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:On.allowDataOverflow,h=l||d;return{needClip:h,needClipX:l,needClipY:d}}function Hoe(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=U6(),{needClipX:s,needClipY:l,needClip:d}=F6(e,n);if(!d||!a)return null;var{x:h,y:f,width:p,height:v}=a;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:s?h:h-p/2,y:l?f:f-v/2,width:s?p:p*2,height:l?v:v*2}))}function Koe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Jt(t.zIndex)?t.zIndex:e}var Kw={exports:{}},Gw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kR;function Goe(){if(kR)return Gw;kR=1;var t=Cu();function e(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,s=t.useEffect,l=t.useMemo,d=t.useDebugValue;return Gw.useSyncExternalStoreWithSelector=function(h,f,p,v,b){var w=a(null);if(w.current===null){var j={hasValue:!1,value:null};w.current=j}else j=w.current;w=l(function(){function S(L){if(!T){if(T=!0,C=L,L=v(L),b!==void 0&&j.hasValue){var B=j.value;if(b(B,L))return I=B}return I=L}if(B=I,n(C,L))return B;var P=v(L);return b!==void 0&&b(B,P)?(C=L,B):(C=L,I=P)}var T=!1,C,I,U=p===void 0?null:p;return[function(){return S(f())},U===null?void 0:function(){return S(U())}]},[f,p,v,b]);var E=r(h,w[0],w[1]);return s(function(){j.hasValue=!0,j.value=E},[E]),d(E),E},Gw}var MR;function Woe(){return MR||(MR=1,Kw.exports=Goe()),Kw.exports}Woe();function Yoe(t){t()}function Xoe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Yoe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var LR={notify(){},get:()=>[]};function Qoe(t,e){let n,r=LR,a=0,s=!1;function l(E){p();const S=r.subscribe(E);let T=!1;return()=>{T||(T=!0,S(),v())}}function d(){r.notify()}function h(){j.onStateChange&&j.onStateChange()}function f(){return s}function p(){a++,n||(n=t.subscribe(h),r=Xoe())}function v(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=LR)}function b(){s||(s=!0,p())}function w(){s&&(s=!1,v())}const j={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:h,isSubscribed:f,trySubscribe:b,tryUnsubscribe:w,getListeners:()=>r};return j}var Zoe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Joe=Zoe(),ele=()=>typeof navigator<"u"&&navigator.product==="ReactNative",tle=ele(),nle=()=>Joe||tle?_.useLayoutEffect:_.useEffect,rle=nle();function VR(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function ale(t,e){if(VR(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(e,n[a])||!VR(t[n[a]],e[n[a]]))return!1;return!0}var ile=Symbol.for("react-redux-context"),sle=typeof globalThis<"u"?globalThis:{};function ole(){if(!_.createContext)return{};const t=sle[ile]??=new Map;let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var lle=ole();function cle(t){const{children:e,context:n,serverState:r,store:a}=t,s=_.useMemo(()=>{const h=Qoe(a);return{store:a,subscription:h,getServerState:r?()=>r:void 0}},[a,r]),l=_.useMemo(()=>a.getState(),[a]);rle(()=>{const{subscription:h}=s;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),l!==a.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[s,l]);const d=n||lle;return _.createElement(d.Provider,{value:s},e)}var ule=cle,dle=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function hle(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function pj(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(dle.has(r)){if(t[r]==null&&e[r]==null)continue;if(!ale(t[r],e[r]))return!1}else if(!hle(t[r],e[r]))return!1;return!0}var fle=["onMouseEnter","onMouseLeave","onClick"],mle=["value","background","tooltipPosition"],ple=["id"],vle=["onMouseEnter","onClick","onMouseLeave"];function vs(){return vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vs.apply(null,arguments)}function zR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(n),!0).forEach(function(r){gle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gle(t,e,n){return(e=yle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yle(t){var e=ble(t,"string");return typeof e=="symbol"?e:e+""}function ble(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eg(t,e){if(t==null)return{};var n,r,a=xle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function xle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wle=t=>{var{dataKey:e,name:n,fill:r,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:r,value:yy(n,e),payload:t}]},_le=_.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:a,name:s,hide:l,unit:d,tooltipType:h}=t,f={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:e,nameKey:void 0,name:yy(s,e),hide:l,type:h,color:a,unit:d}};return _.createElement(D6,{tooltipEntrySettings:f})});function Ele(t){var e=Ae(Hl),{data:n,dataKey:r,background:a,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:d,onClick:h}=s,f=Eg(s,fle),p=hj(l,r),v=fj(d),b=mj(h,r);if(!a||n==null)return null;var w=$h(a);return _.createElement(qa,{zIndex:Koe(a,Wn.barBackground)},n.map((j,E)=>{var{value:S,background:T,tooltipPosition:C}=j,I=Eg(j,mle);if(!T)return null;var U=p(j,E),L=v(j,E),B=b(j,E),P=dr(dr(dr(dr(dr({option:a,isActive:String(E)===e},I),{},{fill:"#eee"},T),w),ly(f,j,E)),{},{onMouseEnter:U,onMouseLeave:L,onClick:B,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return _.createElement(_g,vs({key:"background-bar-".concat(E)},P))}))}function Sle(t){var{showLabels:e,children:n,rects:r}=t,a=r?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return dr(dr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return _.createElement(Bie,{value:e?a:void 0},n)}function jle(t){var{shape:e,activeBar:n,baseProps:r,entry:a,index:s,dataKey:l}=t,d=Ae(Hl),h=Ae(rj),f=n&&String(s)===d&&(h==null||l===h),p=f?n:e;return f?_.createElement(qa,{zIndex:Wn.activeBar},_.createElement(_g,vs({},r,{name:String(r.name)},a,{isActive:f,option:p,index:s,dataKey:l}))):_.createElement(_g,vs({},r,{name:String(r.name)},a,{isActive:f,option:p,index:s,dataKey:l}))}function Ale(t){var{shape:e,baseProps:n,entry:r,index:a,dataKey:s}=t;return _.createElement(_g,vs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:a,dataKey:s}))}function Tle(t){var e,{data:n,props:r}=t,a=(e=Va(r))!==null&&e!==void 0?e:{},{id:s}=a,l=Eg(a,ple),{shape:d,dataKey:h,activeBar:f}=r,{onMouseEnter:p,onClick:v,onMouseLeave:b}=r,w=Eg(r,vle),j=hj(p,h),E=fj(b),S=mj(v,h);return n?_.createElement(_.Fragment,null,n.map((T,C)=>_.createElement(fr,vs({key:"rectangle-".concat(T?.x,"-").concat(T?.y,"-").concat(T?.value,"-").concat(C),className:"recharts-bar-rectangle"},ly(w,T,C),{onMouseEnter:j(T,C),onMouseLeave:E(T,C),onClick:S(T,C)}),f?_.createElement(jle,{shape:d,activeBar:f,baseProps:l,entry:T,index:C,dataKey:h}):_.createElement(Ale,{shape:d,baseProps:l,entry:T,index:C,dataKey:h})))):null}function Nle(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:a,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:h,onAnimationEnd:f,onAnimationStart:p}=e,v=n.current,b=Oy(e,"recharts-bar-"),[w,j]=_.useState(!1),E=!w,S=_.useCallback(()=>{typeof f=="function"&&f(),j(!1)},[f]),T=_.useCallback(()=>{typeof p=="function"&&p(),j(!0)},[p]);return _.createElement(Sle,{showLabels:E,rects:r},_.createElement(Cy,{animationId:b,begin:l,duration:d,isActive:s,easing:h,onAnimationEnd:S,onAnimationStart:T,key:b},C=>{var I=C===1?r:r?.map((U,L)=>{var B=v&&v[L];if(B)return dr(dr({},U),{},{x:bn(B.x,U.x,C),y:bn(B.y,U.y,C),width:bn(B.width,U.width,C),height:bn(B.height,U.height,C)});if(a==="horizontal"){var P=bn(0,U.height,C),M=bn(U.stackedBarStart,U.y,C);return dr(dr({},U),{},{y:M,height:P})}var D=bn(0,U.width,C),z=bn(U.stackedBarStart,U.x,C);return dr(dr({},U),{},{width:D,x:z})});return C>0&&(n.current=I??null),I==null?null:_.createElement(fr,null,_.createElement(Tle,{props:e,data:I}))}),_.createElement(T6,{label:e.label}),e.children)}function Cle(t){var e=_.useRef(null);return _.createElement(Nle,{previousRectanglesRef:e,props:t})}var q6=0,Ole=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Mt(t,e)}};class Ple extends _.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:s,yAxisId:l,needClip:d,background:h,id:f}=this.props;if(e||n==null)return null;var p=_t("recharts-bar",a),v=f;return _.createElement(fr,{className:p,id:f},d&&_.createElement("defs",null,_.createElement(Hoe,{clipPathId:v,xAxisId:s,yAxisId:l})),_.createElement(fr,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(v,")"):void 0},_.createElement(Ele,{data:n,dataKey:r,background:h,allOtherBarProps:this.props}),_.createElement(Cle,this.props)))}}var Ile={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:q6,xAxisId:0,yAxisId:0,zIndex:Wn.bar};function Rle(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:h,animationEasing:f,isAnimationActive:p}=t,{needClip:v}=F6(e,n),b=Sy(),w=Nr(),j=dj(t.children,qf),E=Ae(C=>oce(C,e,n,w,t.id,j));if(b!=="vertical"&&b!=="horizontal")return null;var S,T=E?.[0];return T==null||T.height==null||T.width==null?S=0:S=b==="vertical"?T.height/2:T.width/2,_.createElement($oe,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:Ole,errorBarOffset:S},_.createElement(Ple,vs({},t,{layout:b,needClip:v,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:h,animationEasing:f,isAnimationActive:p})))}function Dle(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:s,xAxis:l,yAxis:d,xAxisTicks:h,yAxisTicks:f,stackedData:p,displayedData:v,offset:b,cells:w,parentViewBox:j,dataStartIndex:E}=t,S=e==="horizontal"?d:l,T=p?S.scale.domain():null,C=AX({numericAxis:S}),I=S.scale(C);return v.map((U,L)=>{var B,P,M,D,z,k;p?B=xX(p[L+E],T):(B=Mt(U,n),Array.isArray(B)||(B=[C,B]));var F=Moe(r,q6)(B[1],L);if(e==="horizontal"){var R,[Q,me]=[d.scale(B[0]),d.scale(B[1])];P=aP({axis:l,ticks:h,bandSize:s,offset:a.offset,entry:U,index:L}),M=(R=me??Q)!==null&&R!==void 0?R:void 0,D=a.size;var $=Q-me;if(z=za($)?0:$,k={x:P,y:b.top,width:D,height:b.height},Math.abs(F)>0&&Math.abs(z)<Math.abs(F)){var G=Dn(z||F)*(Math.abs(F)-Math.abs(z));M-=G,z+=G}}else{var[ee,pe]=[l.scale(B[0]),l.scale(B[1])];if(P=ee,M=aP({axis:d,ticks:f,bandSize:s,offset:a.offset,entry:U,index:L}),D=pe-ee,z=a.size,k={x:b.left,y:M,width:b.width,height:z},Math.abs(F)>0&&Math.abs(D)<Math.abs(F)){var Se=Dn(D||F)*(Math.abs(F)-Math.abs(D));D+=Se}}if(P==null||M==null||D==null||z==null)return null;var K=dr(dr({},U),{},{stackedBarStart:I,x:P,y:M,width:D,height:z,value:p?B:B[1],payload:U,background:k,tooltipPosition:{x:P+D/2,y:M+z/2},parentViewBox:j},w&&w[L]&&w[L].props);return K}).filter(Boolean)}function kle(t){var e=sr(t,Ile),n=Nr();return _.createElement(M6,{id:e.id,type:"bar"},r=>_.createElement(_.Fragment,null,_.createElement(Tse,{legendPayload:wle(e)}),_.createElement(_le,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),_.createElement(Use,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:jX(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),_.createElement(qa,{zIndex:e.zIndex},_.createElement(Rle,vs({},e,{id:r})))))}var $6=_.memo(kle,pj);$6.displayName="Bar";function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){Mle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mle(t,e,n){return(e=Lle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lle(t){var e=Vle(t,"string");return typeof e=="symbol"?e:e+""}function Vle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zle=(t,e)=>e,Ule=(t,e,n)=>n,Ble=(t,e,n,r)=>r,Fle=(t,e,n,r,a)=>a,$f=te([IS,Fle],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),qle=te([$f],t=>t?.maxBarSize),$le=(t,e,n,r,a,s)=>s,BR=(t,e,n)=>{var r=n??t;if(!Mn(r))return ar(r,e,0)},Hle=te([ot,IS,zle,Ule,Ble],(t,e,n,r,a)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Kle=(t,e,n,r)=>{var a=ot(t);return a==="horizontal"?mE(t,"yAxis",n,r):mE(t,"xAxis",e,r)},Gle=(t,e,n)=>{var r=ot(t);return r==="horizontal"?MI(t,"xAxis",e):MI(t,"yAxis",n)},Wle=(t,e,n)=>{var r={},a=t.filter(zy),s=t.filter(f=>f.stackId==null),l=a.reduce((f,p)=>(f[p.stackId]||(f[p.stackId]=[]),f[p.stackId].push(p),f),r),d=Object.entries(l).map(f=>{var[p,v]=f,b=v.map(j=>j.dataKey),w=BR(e,n,v[0].barSize);return{stackId:p,dataKeys:b,barSize:w}}),h=s.map(f=>{var p=[f.dataKey].filter(b=>b!=null),v=BR(e,n,f.barSize);return{stackId:void 0,dataKeys:p,barSize:v}});return[...d,...h]},Yle=te([Hle,Tte,Gle],Wle),Xle=(t,e,n,r,a)=>{var s,l,d=$f(t,e,n,r,a);if(d!=null){var h=ot(t),f=sV(t),{maxBarSize:p}=d,v=Mn(p)?f:p,b,w;return h==="horizontal"?(b=Nu(t,"xAxis",e,r),w=Tu(t,"xAxis",e,r)):(b=Nu(t,"yAxis",n,r),w=Tu(t,"yAxis",n,r)),(s=(l=Xv(b,w,!0))!==null&&l!==void 0?l:v)!==null&&s!==void 0?s:0}},H6=(t,e,n,r)=>{var a=ot(t),s,l;return a==="horizontal"?(s=Nu(t,"xAxis",e,r),l=Tu(t,"xAxis",e,r)):(s=Nu(t,"yAxis",n,r),l=Tu(t,"yAxis",n,r)),Xv(s,l)};function Qle(t,e,n,r,a){var s=r.length;if(!(s<1)){var l=ar(t,n,0,!0),d,h=[];if(Jt(r[0].barSize)){var f=!1,p=n/s,v=r.reduce((T,C)=>T+(C.barSize||0),0);v+=(s-1)*l,v>=n&&(v-=(s-1)*l,l=0),v>=n&&p>0&&(f=!0,p*=.9,v=s*p);var b=(n-v)/2>>0,w={offset:b-l,size:0};d=r.reduce((T,C)=>{var I,U={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:w.offset+w.size+l,size:f?p:(I=C.barSize)!==null&&I!==void 0?I:0}},L=[...T,U];return w=L[L.length-1].position,L},h)}else{var j=ar(e,n,0,!0);n-2*j-(s-1)*l<=0&&(l=0);var E=(n-2*j-(s-1)*l)/s;E>1&&(E>>=0);var S=Jt(a)?Math.min(E,a):E;d=r.reduce((T,C,I)=>[...T,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:j+(E+l)*I+(E-S)/2,size:S}}],h)}return d}}var Zle=(t,e,n,r,a,s,l)=>{var d=Mn(l)?e:l,h=Qle(n,r,a!==s?a:s,t,d);return a!==s&&h!=null&&(h=h.map(f=>Hp(Hp({},f),{},{position:Hp(Hp({},f.position),{},{offset:f.position.offset-a/2})}))),h},Jle=te([Yle,sV,Ate,oV,Xle,H6,qle],Zle),ece=(t,e,n,r)=>Nu(t,"xAxis",e,r),tce=(t,e,n,r)=>Nu(t,"yAxis",n,r),nce=(t,e,n,r)=>Tu(t,"xAxis",e,r),rce=(t,e,n,r)=>Tu(t,"yAxis",n,r),ace=te([Jle,$f],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),ice=(t,e)=>{var n=CS(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var a=t[r];if(a){var{stackedData:s}=a;if(s)return s.find(l=>l.key===n)}}}},sce=te([Kle,$f],ice),oce=te([_n,H1,ece,tce,nce,rce,ace,ot,xS,H6,sce,$f,$le],(t,e,n,r,a,s,l,d,h,f,p,v,b)=>{var{chartData:w,dataStartIndex:j,dataEndIndex:E}=h;if(!(v==null||l==null||e==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||a==null||s==null||f==null)){var{data:S}=v,T;if(S!=null&&S.length>0?T=S:T=w?.slice(j,E+1),T!=null)return Dle({layout:d,barSettings:v,pos:l,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,stackedData:p,displayedData:T,offset:t,cells:b,dataStartIndex:j})}}),K6=t=>{var{chartData:e}=t,n=zt(),r=Nr();return _.useEffect(()=>r?()=>{}:(n(YI(e)),()=>{n(YI(void 0))}),[e,n,r]),null},FR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},G6=Tr({name:"brush",initialState:FR,reducers:{setBrushSettings(t,e){return e.payload==null?FR:e.payload}}}),{setBrushSettings:She}=G6.actions,lce=G6.reducer;function cce(t,e,n){return(e=uce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uce(t){var e=dce(t,"string");return typeof e=="symbol"?e:e+""}function dce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class vj{static create(e){return new vj(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}cce(vj,"EPS",1e-4);function hce(t){return(t%180+180)%180}var fce=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=hce(a),l=s*Math.PI/180,d=Math.atan(r/n),h=l>d&&l<Math.PI-d?r/Math.sin(l):n/Math.cos(l);return Math.abs(h)},mce={dots:[],areas:[],lines:[]},W6=Tr({name:"referenceElements",initialState:mce,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ra(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ra(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ra(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:jhe,removeDot:Ahe,addArea:The,removeArea:Nhe,addLine:Che,removeLine:Ohe}=W6.actions,pce=W6.reducer,vce=_.createContext(void 0),gce=t=>{var{children:e}=t,[n]=_.useState("".concat(Hh("recharts"),"-clip")),r=U6();if(r==null)return null;var{x:a,y:s,width:l,height:d}=r;return _.createElement(vce.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:a,y:s,height:d,width:l}))),e)};function Y6(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function yce(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return fce(r,n)}function bce(t,e,n){var r=n==="width",{x:a,y:s,width:l,height:d}=t;return e===1?{start:r?a:s,end:r?a+l:s+d}:{start:r?a+l:s+d,end:r?a:s}}function Sg(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-a)<=0}function xce(t,e){return Y6(t,e+1)}function wce(t,e,n,r,a){for(var s=(r||[]).slice(),{start:l,end:d}=e,h=0,f=1,p=l,v=function(){var j=r?.[h];if(j===void 0)return{v:Y6(r,f)};var E=h,S,T=()=>(S===void 0&&(S=n(j,E)),S),C=j.coordinate,I=h===0||Sg(t,C,T,p,d);I||(h=0,p=l,f+=1),I&&(p=C+t*(T()/2+a),h+=f)},b;f<=s.length;)if(b=v(),b)return b.v;return[]}function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){_ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ce(t,e,n){return(e=Ece(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ece(t){var e=Sce(t,"string");return typeof e=="symbol"?e:e+""}function Sce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jce(t,e,n,r,a){for(var s=(r||[]).slice(),l=s.length,{start:d}=e,{end:h}=e,f=function(b){var w=s[b],j,E=()=>(j===void 0&&(j=n(w,b)),j);if(b===l-1){var S=t*(w.coordinate+t*E()/2-h);s[b]=w=Jn(Jn({},w),{},{tickCoord:S>0?w.coordinate-S*t:w.coordinate})}else s[b]=w=Jn(Jn({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var T=Sg(t,w.tickCoord,E,d,h);T&&(h=w.tickCoord-t*(E()/2+a),s[b]=Jn(Jn({},w),{},{isShow:!0}))}},p=l-1;p>=0;p--)f(p);return s}function Ace(t,e,n,r,a,s){var l=(r||[]).slice(),d=l.length,{start:h,end:f}=e;if(s){var p=r[d-1],v=n(p,d-1),b=t*(p.coordinate+t*v/2-f);if(l[d-1]=p=Jn(Jn({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate}),p.tickCoord!=null){var w=Sg(t,p.tickCoord,()=>v,h,f);w&&(f=p.tickCoord-t*(v/2+a),l[d-1]=Jn(Jn({},p),{},{isShow:!0}))}}for(var j=s?d-1:d,E=function(C){var I=l[C],U,L=()=>(U===void 0&&(U=n(I,C)),U);if(C===0){var B=t*(I.coordinate-t*L()/2-h);l[C]=I=Jn(Jn({},I),{},{tickCoord:B<0?I.coordinate-B*t:I.coordinate})}else l[C]=I=Jn(Jn({},I),{},{tickCoord:I.coordinate});if(I.tickCoord!=null){var P=Sg(t,I.tickCoord,L,h,f);P&&(h=I.tickCoord+t*(L()/2+a),l[C]=Jn(Jn({},I),{},{isShow:!0}))}},S=0;S<j;S++)E(S);return l}function gj(t,e,n){var{tick:r,ticks:a,viewBox:s,minTickGap:l,orientation:d,interval:h,tickFormatter:f,unit:p,angle:v}=t;if(!a||!a.length||!r)return[];if(Ce(h)||Nf.isSsr){var b;return(b=xce(a,Ce(h)?h:0))!==null&&b!==void 0?b:[]}var w=[],j=d==="top"||d==="bottom"?"width":"height",E=p&&j==="width"?Nh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(I,U)=>{var L=typeof f=="function"?f(I.value,U):I.value;return j==="width"?yce(Nh(L,{fontSize:e,letterSpacing:n}),E,v):Nh(L,{fontSize:e,letterSpacing:n})[j]},T=a.length>=2?Dn(a[1].coordinate-a[0].coordinate):1,C=bce(s,T,j);return h==="equidistantPreserveStart"?wce(T,C,S,a,l):(h==="preserveStart"||h==="preserveStartEnd"?w=Ace(T,C,S,a,l,h==="preserveStartEnd"):w=jce(T,C,S,a,l),w.filter(I=>I.isShow))}var Tce=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(p=>{if(p){var v=p.getBoundingClientRect();v.width>l&&(l=v.width)}});var d=n?n.getBoundingClientRect().width:0,h=a+s,f=l+h+d+(n?r:0);return Math.round(f)}return 0},Nce=["axisLine","width","height","className","hide","ticks","axisType"];function Cce(t,e){if(t==null)return{};var n,r,a=Oce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Oce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Kl(){return Kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kl.apply(null,arguments)}function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){Pce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pce(t,e,n){return(e=Ice(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ice(t){var e=Rce(t,"string");return typeof e=="symbol"?e:e+""}function Rce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var as={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Wn.axis};function Dce(t){var{x:e,y:n,width:r,height:a,orientation:s,mirror:l,axisLine:d,otherSvgProps:h}=t;if(!d)return null;var f=dn(dn(dn({},h),Va(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);f=dn(dn({},f),{},{x1:e,y1:n+p*a,x2:e+r,y2:n+p*a})}else{var v=+(s==="left"&&!l||s==="right"&&l);f=dn(dn({},f),{},{x1:e+v*r,y1:n,x2:e+v*r,y2:n+a})}return _.createElement("line",Kl({},f,{className:_t("recharts-cartesian-axis-line",Bl(d,"className"))}))}function kce(t,e,n,r,a,s,l,d,h){var f,p,v,b,w,j,E=d?-1:1,S=t.tickSize||l,T=Ce(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":f=p=t.coordinate,b=n+ +!d*a,v=b-E*S,j=v-E*h,w=T;break;case"left":v=b=t.coordinate,p=e+ +!d*r,f=p-E*S,w=f-E*h,j=T;break;case"right":v=b=t.coordinate,p=e+ +d*r,f=p+E*S,w=f+E*h,j=T;break;default:f=p=t.coordinate,b=n+ +d*a,v=b+E*S,j=v+E*h,w=T;break}return{line:{x1:f,y1:v,x2:p,y2:b},tick:{x:w,y:j}}}function Mce(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Lce(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Vce(t){var{option:e,tickProps:n,value:r}=t,a,s=_t(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(e))a=_.cloneElement(e,dn(dn({},n),{},{className:s}));else if(typeof e=="function")a=e(dn(dn({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=_t(l,e?.className)),a=_.createElement(Ky,Kl({},n,{className:l}),r)}return a}var zce=_.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:s,tickFormatter:l,unit:d,padding:h,tickTextProps:f,orientation:p,mirror:v,x:b,y:w,width:j,height:E,tickSize:S,tickMargin:T,fontSize:C,letterSpacing:I,getTicksConfig:U,events:L,axisType:B}=t,P=gj(dn(dn({},U),{},{ticks:n}),C,I),M=Mce(p,v),D=Lce(p,v),z=Va(U),k=$h(r),F={};typeof a=="object"&&(F=a);var R=dn(dn({},z),{},{fill:"none"},F),Q=P.map(G=>dn({entry:G},kce(G,b,w,j,E,p,S,v,T))),me=Q.map(G=>{var{entry:ee,line:pe}=G;return _.createElement(fr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},a&&_.createElement("line",Kl({},R,pe,{className:_t("recharts-cartesian-axis-tick-line",Bl(a,"className"))})))}),$=Q.map((G,ee)=>{var{entry:pe,tick:Se}=G,K=dn(dn(dn(dn({textAnchor:M,verticalAnchor:D},z),{},{stroke:"none",fill:s},k),Se),{},{index:ee,payload:pe,visibleTicksCount:P.length,tickFormatter:l,padding:h},f);return _.createElement(fr,Kl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(pe.value,"-").concat(pe.coordinate,"-").concat(pe.tickCoord)},ly(L,pe,ee)),r&&_.createElement(Vce,{option:r,tickProps:K,value:"".concat(typeof l=="function"?l(pe.value,ee):pe.value).concat(d||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(B,"-ticks")},$.length>0&&_.createElement(qa,{zIndex:Wn.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(B,"-tick-labels"),ref:e},$)),me.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(B,"-tick-lines")},me))}),Uce=_.forwardRef((t,e)=>{var{axisLine:n,width:r,height:a,className:s,hide:l,ticks:d,axisType:h}=t,f=Cce(t,Nce),[p,v]=_.useState(""),[b,w]=_.useState(""),j=_.useRef(null);_.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return Tce({ticks:j.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=_.useCallback(S=>{if(S){var T=S.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=T;var C=T[0];if(C){var I=window.getComputedStyle(C),U=I.fontSize,L=I.letterSpacing;(U!==p||L!==b)&&(v(U),w(L))}}},[p,b]);return l||r!=null&&r<=0||a!=null&&a<=0?null:_.createElement(qa,{zIndex:t.zIndex},_.createElement(fr,{className:_t("recharts-cartesian-axis",s)},_.createElement(Dce,{x:t.x,y:t.y,width:r,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Va(t)}),_.createElement(zce,{ref:E,axisType:h,events:f,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:b,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:d,unit:t.unit,width:t.width,x:t.x,y:t.y}),_.createElement(xie,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},_.createElement(Oie,{label:t.label,labelRef:t.labelRef}),t.children)))}),yj=_.forwardRef((t,e)=>{var n=sr(t,as);return _.createElement(Uce,Kl({},n,{ref:e}))});yj.displayName="CartesianAxis";var Bce=["x1","y1","x2","y2","key"],Fce=["offset"],qce=["xAxisId","yAxisId"],$ce=["xAxisId","yAxisId"];function HR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(n),!0).forEach(function(r){Hce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hce(t,e,n){return(e=Kce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kce(t){var e=Gce(t,"string");return typeof e=="symbol"?e:e+""}function Gce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Al.apply(null,arguments)}function jg(t,e){if(t==null)return{};var n,r,a=Wce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Wce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Yce=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:a,width:s,height:l,ry:d}=t;return _.createElement("rect",{x:r,y:a,ry:d,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function X6(t){var{option:e,lineItemProps:n}=t,r;if(_.isValidElement(e))r=_.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var a,{x1:s,y1:l,x2:d,y2:h,key:f}=n,p=jg(n,Bce),v=(a=Va(p))!==null&&a!==void 0?a:{},{offset:b}=v,w=jg(v,Fce);r=_.createElement("line",Al({},w,{x1:s,y1:l,x2:d,y2:h,fill:"none",key:f}))}return r}function Xce(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=t,d=jg(t,qce),h=a.map((f,p)=>{var v=nr(nr({},d),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(p),index:p});return _.createElement(X6,{key:"line-".concat(p),option:r,lineItemProps:v})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function Qce(t){var{y:e,height:n,vertical:r=!0,verticalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=t,d=jg(t,$ce),h=a.map((f,p)=>{var v=nr(nr({},d),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(p),index:p});return _.createElement(X6,{option:r,lineItemProps:v,key:"line-".concat(p)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function Zce(t){var{horizontalFill:e,fillOpacity:n,x:r,y:a,width:s,height:l,horizontalPoints:d,horizontal:h=!0}=t;if(!h||!e||!e.length||d==null)return null;var f=d.map(v=>Math.round(v+a-a)).sort((v,b)=>v-b);a!==f[0]&&f.unshift(0);var p=f.map((v,b)=>{var w=!f[b+1],j=w?a+l-v:f[b+1]-v;if(j<=0)return null;var E=b%e.length;return _.createElement("rect",{key:"react-".concat(b),y:v,x:r,height:j,width:s,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Jce(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:a,y:s,width:l,height:d,verticalPoints:h}=t;if(!e||!n||!n.length)return null;var f=h.map(v=>Math.round(v+a-a)).sort((v,b)=>v-b);a!==f[0]&&f.unshift(0);var p=f.map((v,b)=>{var w=!f[b+1],j=w?a+l-v:f[b+1]-v;if(j<=0)return null;var E=b%n.length;return _.createElement("rect",{key:"react-".concat(b),x:v,y:s,width:j,height:d,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var eue=(t,e)=>{var{xAxis:n,width:r,height:a,offset:s}=t;return R4(gj(nr(nr(nr({},as),n),{},{ticks:D4(n),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,e)},tue=(t,e)=>{var{yAxis:n,width:r,height:a,offset:s}=t;return R4(gj(nr(nr(nr({},as),n),{},{ticks:D4(n),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,e)},nue={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Wn.grid};function Q6(t){var e=q4(),n=$4(),r=F4(),a=nr(nr({},sr(t,nue)),{},{x:Ce(t.x)?t.x:r.left,y:Ce(t.y)?t.y:r.top,width:Ce(t.width)?t.width:r.width,height:Ce(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:d,y:h,width:f,height:p,syncWithTicks:v,horizontalValues:b,verticalValues:w}=a,j=Nr(),E=Ae(D=>LI(D,"xAxis",s,j)),S=Ae(D=>LI(D,"yAxis",l,j));if(!_i(f)||!_i(p)||!Ce(d)||!Ce(h))return null;var T=a.verticalCoordinatesGenerator||eue,C=a.horizontalCoordinatesGenerator||tue,{horizontalPoints:I,verticalPoints:U}=a;if((!I||!I.length)&&typeof C=="function"){var L=b&&b.length,B=C({yAxis:S?nr(nr({},S),{},{ticks:L?b:S.ticks}):void 0,width:e??f,height:n??p,offset:r},L?!0:v);Qv(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(I=B)}if((!U||!U.length)&&typeof T=="function"){var P=w&&w.length,M=T({xAxis:E?nr(nr({},E),{},{ticks:P?w:E.ticks}):void 0,width:e??f,height:n??p,offset:r},P?!0:v);Qv(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(U=M)}return _.createElement(qa,{zIndex:a.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(Yce,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),_.createElement(Zce,Al({},a,{horizontalPoints:I})),_.createElement(Jce,Al({},a,{verticalPoints:U})),_.createElement(Xce,Al({},a,{offset:r,horizontalPoints:I,xAxis:E,yAxis:S})),_.createElement(Qce,Al({},a,{offset:r,verticalPoints:U,xAxis:E,yAxis:S}))))}Q6.displayName="CartesianGrid";var rue=["domain","range"],aue=["domain","range"];function KR(t,e){if(t==null)return{};var n,r,a=iue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function iue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function GR(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function Z6(t,e){if(t===e)return!0;var{domain:n,range:r}=t,a=KR(t,rue),{domain:s,range:l}=e,d=KR(e,aue);return!GR(n,s)||!GR(r,l)?!1:pj(a,d)}var sue=["dangerouslySetInnerHTML","ticks"],oue=["id"];function _E(){return _E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_E.apply(null,arguments)}function WR(t,e){if(t==null)return{};var n,r,a=lue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function lue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cue(t){var e=zt(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(goe(t)):n.current!==t&&e(yoe({prev:n.current,next:t})),n.current=t},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(e(boe(n.current)),n.current=null)},[e]),null}var uue=t=>{var{xAxisId:e,className:n}=t,r=Ae(H1),a=Nr(),s="xAxis",l=Ae(S=>Yu(S,s,e,a)),d=Ae(S=>zV(S,s,e,a)),h=Ae(S=>kV(S,e)),f=Ae(S=>Sne(S,e)),p=Ae(S=>vV(S,e));if(h==null||f==null||p==null)return null;var{dangerouslySetInnerHTML:v,ticks:b}=t,w=WR(t,sue),{id:j}=p,E=WR(p,oue);return _.createElement(yj,_E({},w,E,{scale:l,x:f.x,y:f.y,width:h.width,height:h.height,className:_t("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:d,axisType:s}))},due={allowDataOverflow:Cn.allowDataOverflow,allowDecimals:Cn.allowDecimals,allowDuplicatedCategory:Cn.allowDuplicatedCategory,angle:Cn.angle,axisLine:as.axisLine,height:Cn.height,hide:!1,includeHidden:Cn.includeHidden,interval:Cn.interval,minTickGap:Cn.minTickGap,mirror:Cn.mirror,orientation:Cn.orientation,padding:Cn.padding,reversed:Cn.reversed,scale:Cn.scale,tick:Cn.tick,tickCount:Cn.tickCount,tickLine:as.tickLine,tickSize:as.tickSize,type:Cn.type,xAxisId:0},hue=t=>{var e=sr(t,due);return _.createElement(_.Fragment,null,_.createElement(cue,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),_.createElement(uue,e))},J6=_.memo(hue,Z6);J6.displayName="XAxis";var fue=["dangerouslySetInnerHTML","ticks"],mue=["id"];function EE(){return EE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EE.apply(null,arguments)}function YR(t,e){if(t==null)return{};var n,r,a=pue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function pue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vue(t){var e=zt(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(xoe(t)):n.current!==t&&e(woe({prev:n.current,next:t})),n.current=t},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(e(_oe(n.current)),n.current=null)},[e]),null}var gue=t=>{var{yAxisId:e,className:n,width:r,label:a}=t,s=_.useRef(null),l=_.useRef(null),d=Ae(H1),h=Nr(),f=zt(),p="yAxis",v=Ae(L=>Yu(L,p,e,h)),b=Ae(L=>MV(L,e)),w=Ae(L=>Ane(L,e)),j=Ae(L=>zV(L,p,e,h)),E=Ae(L=>gV(L,e));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!b||lj(a)||_.isValidElement(a)||E==null)){var L=s.current;if(L){var B=L.getCalculatedWidth();Math.round(b.width)!==Math.round(B)&&f(Eoe({id:e,width:B}))}}},[j,b,f,a,e,r,E]),b==null||w==null||E==null)return null;var{dangerouslySetInnerHTML:S,ticks:T}=t,C=YR(t,fue),{id:I}=E,U=YR(E,mue);return _.createElement(yj,EE({},C,U,{ref:s,labelRef:l,scale:v,x:w.x,y:w.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:_t("recharts-".concat(p," ").concat(p),n),viewBox:d,ticks:j,axisType:p}))},yue={allowDataOverflow:On.allowDataOverflow,allowDecimals:On.allowDecimals,allowDuplicatedCategory:On.allowDuplicatedCategory,angle:On.angle,axisLine:as.axisLine,hide:!1,includeHidden:On.includeHidden,interval:On.interval,minTickGap:On.minTickGap,mirror:On.mirror,orientation:On.orientation,padding:On.padding,reversed:On.reversed,scale:On.scale,tick:On.tick,tickCount:On.tickCount,tickLine:as.tickLine,tickSize:as.tickSize,type:On.type,width:On.width,yAxisId:0},bue=t=>{var e=sr(t,yue);return _.createElement(_.Fragment,null,_.createElement(vue,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),_.createElement(gue,e))},ez=_.memo(bue,Z6);ez.displayName="YAxis";var xue=(t,e)=>e,bj=te([xue,ot,mV,Sn,t6,As,Bre,_n],Wre),xj=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},tz=ma("mouseClick"),nz=jf();nz.startListening({actionCreator:tz,effect:(t,e)=>{var n=t.payload,r=bj(e.getState(),xj(n));r?.activeIndex!=null&&e.dispatch(Une({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var SE=ma("mouseMove"),rz=jf(),Kp=null;rz.startListening({actionCreator:SE,effect:(t,e)=>{var n=t.payload;Kp!==null&&cancelAnimationFrame(Kp);var r=xj(n);Kp=requestAnimationFrame(()=>{var a=e.getState(),s=QS(a,a.tooltip.settings.shared);if(s==="axis"){var l=bj(a,r);l?.activeIndex!=null?e.dispatch(GV({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(KV())}Kp=null})}});var XR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},az=Tr({name:"rootProps",initialState:XR,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:XR.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),wue=az.reducer,{updateOptions:_ue}=az.actions,iz=Tr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Eue}=iz.actions,Sue=iz.reducer,sz=ma("keyDown"),oz=ma("focus"),wj=jf();wj.startListening({actionCreator:sz,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=ZS(a,Qu(n),Lf(n),Bf(n)),d=l==null?-1:Number(l);if(!(!Number.isFinite(d)||d<0)){var h=As(n);if(s==="Enter"){var f=yg(n,"axis","hover",String(a.index));e.dispatch(vE({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:f}));return}var p=One(n),v=p==="left-to-right"?1:-1,b=s==="ArrowRight"?1:-1,w=d+b*v;if(!(h==null||w>=h.length||w<0)){var j=yg(n,"axis","hover",String(w));e.dispatch(vE({active:!0,activeIndex:w.toString(),activeDataKey:void 0,activeCoordinate:j}))}}}}}});wj.startListening({actionCreator:oz,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var s="0",l=yg(n,"axis","hover",String(s));e.dispatch(vE({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var oa=ma("externalEvent"),lz=jf(),Ww=new Map;lz.startListening({actionCreator:oa,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var a=r.type,s=Ww.get(a);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var d=e.getState(),h={activeCoordinate:Are(d),activeDataKey:rj(d),activeIndex:Hl(d),activeLabel:a6(d),activeTooltipIndex:Hl(d),isTooltipActive:Tre(d)};n(h,r)}finally{Ww.delete(a)}});Ww.set(a,l)}}});var jue=te([Xu],t=>t.tooltipItemPayloads),Aue=te([jue,zf,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var a=t.find(d=>d.settings.dataKey===r);if(a!=null){var{positions:s}=a;if(s!=null){var l=e(s,n);return l}}}),cz=ma("touchMove"),uz=jf();uz.startListening({actionCreator:cz,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),a=QS(r,r.tooltip.settings.shared);if(a==="axis"){var s=bj(r,xj({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&e.dispatch(GV({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var l,d=n.touches[0];if(document.elementFromPoint==null)return;var h=document.elementFromPoint(d.clientX,d.clientY);if(!h||!h.getAttribute)return;var f=h.getAttribute(M4),p=(l=h.getAttribute(L4))!==null&&l!==void 0?l:void 0,v=Aue(e.getState(),f,p);e.dispatch(HV({activeDataKey:p,activeIndex:f,activeCoordinate:v}))}}}});var Tue=a4({brush:lce,cartesianAxis:Soe,chartData:jae,errorBars:Voe,graphicalItems:Vse,layout:mX,legend:xQ,options:xae,polarAxis:Zie,polarOptions:Sue,referenceElements:pce,rootProps:wue,tooltip:Bne,zIndex:lae}),Nue=function(e){return zY({reducer:Tue,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([nz.middleware,rz.middleware,wj.middleware,lz.middleware,uz.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(b4({type:"raf"}))},devTools:Nf.devToolsEnabled})};function dz(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=Nr(),s=_.useRef(null);if(a)return n;s.current==null&&(s.current=Nue(e));var l=M1;return _.createElement(ule,{context:l,store:s.current},n)}function Cue(t){var{layout:e,margin:n}=t,r=zt(),a=Nr();return _.useEffect(()=>{a||(r(dX(e)),r(uX(n)))},[r,a,e,n]),null}var hz=_.memo(Cue,pj);function fz(t){var e=zt();return _.useEffect(()=>{e(_ue(t))},[e,t]),null}function QR(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",a=k6("".concat(r).concat(e)),s=zt();return _.useLayoutEffect(()=>(s(sae({zIndex:e,elementId:a,isPanorama:n})),()=>{s(oae({zIndex:e,isPanorama:n}))}),[s,e,a,n]),_.createElement("g",{tabIndex:-1,id:a})}function ZR(t){var{children:e,isPanorama:n}=t,r=Ae(Xre);if(!r||r.length===0)return e;var a=r.filter(l=>l<0),s=r.filter(l=>l>0);return _.createElement(_.Fragment,null,a.map(l=>_.createElement(QR,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>_.createElement(QR,{key:l,zIndex:l,isPanorama:n})))}var Oue=["children"];function Pue(t,e){if(t==null)return{};var n,r,a=Iue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Iue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ag.apply(null,arguments)}var Rue={width:"100%",height:"100%",display:"block"},Due=_.forwardRef((t,e)=>{var n=q4(),r=$4(),a=t3();if(!_i(n)||!_i(r))return null;var{children:s,otherAttributes:l,title:d,desc:h}=t,f,p;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=a?0:void 0,typeof l.role=="string"?p=l.role:p=a?"application":void 0),_.createElement(_L,Ag({},l,{title:d,desc:h,role:p,tabIndex:f,width:n,height:r,style:Rue,ref:e}),s)}),kue=t=>{var{children:e}=t,n=Ae(_y);if(!n)return null;var{width:r,height:a,y:s,x:l}=n;return _.createElement(_L,{width:r,height:a,x:l,y:s},e)},JR=_.forwardRef((t,e)=>{var{children:n}=t,r=Pue(t,Oue),a=Nr();return a?_.createElement(kue,null,_.createElement(ZR,{isPanorama:!0},n)):_.createElement(Due,Ag({ref:e},r),_.createElement(ZR,{isPanorama:!1},n))});function Mue(){var t=zt(),[e,n]=_.useState(null),r=Ae(IX);return _.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),s=a.width/e.offsetWidth;Jt(s)&&s!==r&&t(fX(s))}},[e,t,r]),n}function eD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Lue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(n),!0).forEach(function(r){Vue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vue(t,e,n){return(e=zue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zue(t){var e=Uue(t,"string");return typeof e=="symbol"?e:e+""}function Uue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gl(){return Gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gl.apply(null,arguments)}var Bue=()=>(Dae(),null);function Tg(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Fue=_.forwardRef((t,e)=>{var n,r,a=_.useRef(null),[s,l]=_.useState({containerWidth:Tg((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Tg((r=t.style)===null||r===void 0?void 0:r.height)}),d=_.useCallback((f,p)=>{l(v=>{var b=Math.round(f),w=Math.round(p);return v.containerWidth===b&&v.containerHeight===w?v:{containerWidth:b,containerHeight:w}})},[]),h=_.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:p,height:v}=f.getBoundingClientRect();d(p,v);var b=j=>{var{width:E,height:S}=j[0].contentRect;d(E,S)},w=new ResizeObserver(b);w.observe(f),a.current=w}},[e,d]);return _.useEffect(()=>()=>{var f=a.current;f?.disconnect()},[d]),_.createElement(_.Fragment,null,_.createElement(jy,{width:s.containerWidth,height:s.containerHeight}),_.createElement("div",Gl({ref:h},t)))}),que=_.forwardRef((t,e)=>{var{width:n,height:r}=t,[a,s]=_.useState({containerWidth:Tg(n),containerHeight:Tg(r)}),l=_.useCallback((h,f)=>{s(p=>{var v=Math.round(h),b=Math.round(f);return p.containerWidth===v&&p.containerHeight===b?p:{containerWidth:v,containerHeight:b}})},[]),d=_.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null){var{width:f,height:p}=h.getBoundingClientRect();l(f,p)}},[e,l]);return _.createElement(_.Fragment,null,_.createElement(jy,{width:a.containerWidth,height:a.containerHeight}),_.createElement("div",Gl({ref:d},t)))}),$ue=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return _.createElement(_.Fragment,null,_.createElement(jy,{width:n,height:r}),_.createElement("div",Gl({ref:e},t)))}),Hue=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return us(n)||us(r)?_.createElement(que,Gl({},t,{ref:e})):_.createElement($ue,Gl({},t,{ref:e}))});function Kue(t){return t===!0?Fue:Hue}var Gue=_.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:l,onDoubleClick:d,onMouseDown:h,onMouseEnter:f,onMouseLeave:p,onMouseMove:v,onMouseUp:b,onTouchEnd:w,onTouchMove:j,onTouchStart:E,style:S,width:T,responsive:C,dispatchTouchEvents:I=!0}=t,U=_.useRef(null),L=zt(),[B,P]=_.useState(null),[M,D]=_.useState(null),z=Mue(),k=K1(),F=k?.width>0?k.width:T,R=k?.height>0?k.height:a,Q=_.useCallback(ce=>{z(ce),typeof e=="function"&&e(ce),P(ce),D(ce),ce!=null&&(U.current=ce)},[z,e,P,D]),me=_.useCallback(ce=>{L(tz(ce)),L(oa({handler:s,reactEvent:ce}))},[L,s]),$=_.useCallback(ce=>{L(SE(ce)),L(oa({handler:f,reactEvent:ce}))},[L,f]),G=_.useCallback(ce=>{L(KV()),L(oa({handler:p,reactEvent:ce}))},[L,p]),ee=_.useCallback(ce=>{L(SE(ce)),L(oa({handler:v,reactEvent:ce}))},[L,v]),pe=_.useCallback(()=>{L(oz())},[L]),Se=_.useCallback(ce=>{L(sz(ce.key))},[L]),K=_.useCallback(ce=>{L(oa({handler:l,reactEvent:ce}))},[L,l]),oe=_.useCallback(ce=>{L(oa({handler:d,reactEvent:ce}))},[L,d]),ve=_.useCallback(ce=>{L(oa({handler:h,reactEvent:ce}))},[L,h]),ge=_.useCallback(ce=>{L(oa({handler:b,reactEvent:ce}))},[L,b]),Te=_.useCallback(ce=>{L(oa({handler:E,reactEvent:ce}))},[L,E]),De=_.useCallback(ce=>{I&&L(cz(ce)),L(oa({handler:j,reactEvent:ce}))},[L,I,j]),Re=_.useCallback(ce=>{L(oa({handler:w,reactEvent:ce}))},[L,w]),Tt=Kue(C);return _.createElement(d6.Provider,{value:B},_.createElement(yG.Provider,{value:M},_.createElement(Tt,{width:F??S?.width,height:R??S?.height,className:_t("recharts-wrapper",r),style:Lue({position:"relative",cursor:"default",width:F,height:R},S),onClick:me,onContextMenu:K,onDoubleClick:oe,onFocus:pe,onKeyDown:Se,onMouseDown:ve,onMouseEnter:$,onMouseLeave:G,onMouseMove:ee,onMouseUp:ge,onTouchEnd:Re,onTouchMove:De,onTouchStart:Te,ref:Q},_.createElement(Bue,null),n)))}),Wue=["width","height","responsive","children","className","style","compact","title","desc"];function Yue(t,e){if(t==null)return{};var n,r,a=Xue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Xue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mz=_.forwardRef((t,e)=>{var{width:n,height:r,responsive:a,children:s,className:l,style:d,compact:h,title:f,desc:p}=t,v=Yue(t,Wue),b=Va(v);return h?_.createElement(_.Fragment,null,_.createElement(jy,{width:n,height:r}),_.createElement(JR,{otherAttributes:b,title:f,desc:p},s)):_.createElement(Gue,{className:l,style:d,width:n,height:r,responsive:a??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},_.createElement(JR,{otherAttributes:b,title:f,desc:p,ref:e},_.createElement(gce,null,s)))});function jE(){return jE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jE.apply(null,arguments)}var Que={top:5,right:5,bottom:5,left:5},Zue={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Que,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Jue=_.forwardRef(function(e,n){var r,a=sr(e.categoricalChartProps,Zue),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,categoricalChartProps:f}=e,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return _.createElement(dz,{preloadedState:{options:p},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:s},_.createElement(K6,{chartData:f.data}),_.createElement(hz,{layout:a.layout,margin:a.margin}),_.createElement(fz,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),_.createElement(mz,jE({},a,{ref:n})))}),ede=["axis","item"],tde=_.forwardRef((t,e)=>_.createElement(Jue,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ede,tooltipPayloadSearcher:h6,categoricalChartProps:t,ref:e}));function nde(t){var e=zt();return _.useEffect(()=>{e(Eue(t))},[e,t]),null}var rde=["layout"];function AE(){return AE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AE.apply(null,arguments)}function ade(t,e){if(t==null)return{};var n,r,a=ide(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ide(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sde={top:5,right:5,bottom:5,left:5},pz={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:sde,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ode=_.forwardRef(function(e,n){var r,a=sr(e.categoricalChartProps,pz),{layout:s}=a,l=ade(a,rde),{chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:p}=e,v={chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return _.createElement(dz,{preloadedState:{options:v},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:d},_.createElement(K6,{chartData:a.data}),_.createElement(hz,{layout:s,margin:a.margin}),_.createElement(fz,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),_.createElement(nde,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),_.createElement(mz,AE({},l,{ref:n})))});function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function nD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){lde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lde(t,e,n){return(e=cde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cde(t){var e=ude(t,"string");return typeof e=="symbol"?e:e+""}function ude(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dde=["item"],hde=nD(nD({},pz),{},{layout:"centric",startAngle:0,endAngle:360}),fde=_.forwardRef((t,e)=>{var n=sr(t,hde);return _.createElement(ode,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:dde,tooltipPayloadSearcher:h6,categoricalChartProps:n,ref:e})});const Gp=["#3b82f6","#10b981","#f59e0b","#8b5cf6","#ef4444","#06b6d4"],mde=()=>{const[t,e]=_.useState([]),[n,r]=_.useState([]),[a,s]=_.useState(!0),[l,d]=_.useState(null),[h,f]=_.useState("7");_.useEffect(()=>{(async()=>{try{s(!0),d(null);const[E,S]=await Promise.all([KK(parseInt(h)),GK(parseInt(h),5)]);e(E),r(S)}catch(E){console.error("Erro ao buscar dados dos grficos:",E),d("Erro ao carregar dados dos grficos")}finally{s(!1)}})()},[h]);const p=j=>{const E=new Date(j);return["Dom","Seg","Ter","Qua","Qui","Sex","Sb"][E.getDay()]},v=j=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(j),b=t.map(j=>({...j,dateLabel:p(j.date),amountFormatted:v(j.amount)})),w=n.map(j=>({name:j.name,value:j.quantity,revenue:j.revenue}));return a?c.jsxs("div",{className:"charts-section",children:[c.jsx("h2",{className:"section-title",children:"Grficos"}),c.jsx("div",{className:"charts-loading",children:c.jsx("p",{children:"Carregando dados..."})})]}):l?c.jsxs("div",{className:"charts-section",children:[c.jsx("h2",{className:"section-title",children:"Grficos"}),c.jsx("div",{className:"charts-error",children:c.jsx("p",{children:l})})]}):c.jsxs("div",{className:"charts-section",children:[c.jsxs("div",{className:"charts-header",children:[c.jsx("h2",{className:"section-title",children:"Grficos"}),c.jsxs("div",{className:"period-selector",children:[c.jsx("button",{className:h==="7"?"active":"",onClick:()=>f("7"),children:"7 dias"}),c.jsx("button",{className:h==="30"?"active":"",onClick:()=>f("30"),children:"30 dias"})]})]}),c.jsxs("div",{className:"charts-grid",children:[c.jsxs("div",{className:"chart-card",children:[c.jsx("div",{className:"chart-header",children:c.jsxs("div",{className:"chart-title-section",children:[c.jsx(kv,{size:20,className:"chart-icon"}),c.jsx("h3",{className:"chart-title",children:"Faturamento Dirio"})]})}),c.jsx("div",{className:"chart-container",children:b.length>0?c.jsx(pP,{width:"100%",height:300,children:c.jsxs(tde,{data:b,children:[c.jsx(Q6,{strokeDasharray:"3 3"}),c.jsx(J6,{dataKey:"dateLabel"}),c.jsx(ez,{tickFormatter:j=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",notation:"compact"}).format(j)}),c.jsx(eR,{formatter:j=>v(j)}),c.jsx($6,{dataKey:"amount",fill:"#3b82f6",radius:[8,8,0,0]})]})}):c.jsx("div",{className:"chart-empty",children:c.jsx("p",{children:"Nenhum dado disponvel para o perodo selecionado"})})})]}),c.jsxs("div",{className:"chart-card",children:[c.jsx("div",{className:"chart-header",children:c.jsxs("div",{className:"chart-title-section",children:[c.jsx(A_,{size:20,className:"chart-icon"}),c.jsx("h3",{className:"chart-title",children:"Servios Mais Vendidos"})]})}),c.jsx("div",{className:"chart-container",children:w.length>0?c.jsx(pP,{width:"100%",height:300,children:c.jsxs(fde,{children:[c.jsx(V6,{data:w,cx:"50%",cy:"50%",labelLine:!1,label:({name:j,percent:E})=>`${j}: ${((E??0)*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:w.map((j,E)=>c.jsx(qf,{fill:Gp[E%Gp.length]},`cell-${E}`))}),c.jsx(eR,{formatter:(j,E,S)=>[`${j} vendas - ${v(S.payload.revenue)}`,"Quantidade"]})]})}):c.jsx("div",{className:"chart-empty",children:c.jsx("p",{children:"Nenhum servio vendido no perodo selecionado"})})}),w.length>0&&c.jsx("div",{className:"chart-legend",children:w.map((j,E)=>c.jsxs("div",{className:"legend-item",children:[c.jsx("div",{className:"legend-color",style:{backgroundColor:Gp[E%Gp.length]}}),c.jsxs("span",{children:[j.name," (",j.value," vendas)"]})]},j.name))})]})]})]})},Hf="employees",Xy="timeRecords",Kf="payrolls",pde=async t=>{try{const e={...t,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return(await $r(nt(Ee,Hf),e)).id}catch(e){throw console.error("Erro ao criar funcionrio:",e),new Error("No foi possvel criar o funcionrio")}},vde=async(t,e)=>{try{const n=ut(Ee,Hf,t);await pr(n,{...e,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Erro ao atualizar funcionrio:",n),new Error("No foi possvel atualizar o funcionrio")}},gde=async t=>{try{const e=ut(Ee,Hf,t);await xs(e)}catch(e){throw console.error("Erro ao deletar funcionrio:",e),new Error("No foi possvel deletar o funcionrio")}},yde=async()=>{try{return(await vn(dt(nt(Ee,Hf),Xn("createdAt","desc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Erro ao buscar funcionrios:",t),new Error("No foi possvel buscar os funcionrios")}},bde=async()=>{try{const t=dt(nt(Ee,Hf),rr("status","==","active"),Xn("createdAt","desc"));return(await vn(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Erro ao buscar funcionrios ativos:",t),new Error("No foi possvel buscar os funcionrios ativos")}},xde=async t=>{try{const e=_j(t),n=Math.max(0,e-8),r={...t,totalHours:e,overtimeHours:n,status:Nde(t),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return(await $r(nt(Ee,Xy),r)).id}catch(e){throw console.error("Erro ao criar registro de ponto:",e),new Error("No foi possvel criar o registro de ponto")}},wde=async(t,e)=>{try{const n=ut(Ee,Xy,t),r={...e};if(e.clockIn||e.clockOut){const a=_j(e),s=Math.max(0,a-8);Object.assign(r,{totalHours:a,overtimeHours:s})}await pr(n,{...r,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Erro ao atualizar registro de ponto:",n),new Error("No foi possvel atualizar o registro de ponto")}},_de=async t=>{try{const e=ut(Ee,Xy,t);await xs(e)}catch(e){throw console.error("Erro ao deletar registro de ponto:",e),new Error("No foi possvel deletar o registro de ponto")}},vz=async(t,e,n)=>{try{let r=dt(nt(Ee,Xy),Xn("date","desc"));return t&&(r=dt(r,rr("employeeId","==",t))),e&&(r=dt(r,rr("date",">=",e))),n&&(r=dt(r,rr("date","<=",n))),(await vn(r)).docs.map(s=>({id:s.id,...s.data()}))}catch(r){throw console.error("Erro ao buscar registros de ponto:",r),new Error("No foi possvel buscar os registros de ponto")}},Ede=async(t,e,n,r)=>{try{const a=r.overtimeHours*(r.baseSalary/220)*r.overtimeRate,s=r.baseSalary+a+Object.values(r.benefits).reduce((p,v)=>p+v,0),l=Object.values(r.deductions).reduce((p,v)=>p+v,0),d=s-l,h={employeeId:t,month:e,year:n,baseSalary:r.baseSalary,overtimePay:a,benefits:r.benefits,deductions:r.deductions,grossSalary:s,netSalary:d,status:"calculated",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return(await $r(nt(Ee,Kf),h)).id}catch(a){throw console.error("Erro ao criar folha de pagamento:",a),new Error("No foi possvel criar a folha de pagamento")}},Sde=async(t,e)=>{try{const n=ut(Ee,Kf,t);await pr(n,{...e,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Erro ao atualizar folha de pagamento:",n),new Error("No foi possvel atualizar a folha de pagamento")}},jde=async(t,e,n)=>{try{let r=dt(nt(Ee,Kf),Xn("createdAt","desc"));return t&&(r=dt(r,rr("employeeId","==",t))),e&&(r=dt(r,rr("month","==",e))),n&&(r=dt(r,rr("year","==",n))),(await vn(r)).docs.map(s=>({id:s.id,...s.data()}))}catch(r){throw console.error("Erro ao buscar folhas de pagamento:",r),new Error("No foi possvel buscar as folhas de pagamento")}},Ade=async t=>{try{const e=ut(Ee,Kf,t);await pr(e,{status:"paid",paymentDate:new Date().toISOString(),updatedAt:new Date().toISOString()})}catch(e){throw console.error("Erro ao marcar folha como paga:",e),new Error("No foi possvel marcar a folha como paga")}},Tde=async t=>{try{const e=ut(Ee,Kf,t);await xs(e)}catch(e){throw console.error("Erro ao deletar folha de pagamento:",e),new Error("No foi possvel deletar a folha de pagamento")}},_j=t=>{if(!t.clockIn||!t.clockOut)return 0;const e=new Date(`2000-01-01T${t.clockIn}`);let r=(new Date(`2000-01-01T${t.clockOut}`).getTime()-e.getTime())/(1e3*60);if(t.breakStart&&t.breakEnd){const a=new Date(`2000-01-01T${t.breakStart}`),l=(new Date(`2000-01-01T${t.breakEnd}`).getTime()-a.getTime())/(1e3*60);r-=l}return Math.max(0,r/60)},Nde=t=>t.clockIn?new Date(`2000-01-01T${t.clockIn}`)>new Date("2000-01-01T08:00")?"late":t.clockOut&&_j(t)<4?"half_day":"present":"absent",Cde=async()=>{try{const t=new Date().toISOString().split("T")[0],e=await bde(),n=await vz(void 0,t,t),r=new Map;n.forEach(l=>{r.set(l.employeeId,l)});const a=[],s=new Date;return e.forEach(l=>{const d=r.get(l.id),h=l.workSchedule.startTime,[f,p]=h.split(":").map(Number),v=new Date;v.setHours(f,p,0,0);const b=new Date(v);b.setMinutes(b.getMinutes()+15),s>b&&(!d||!d.clockIn?a.push({employeeId:l.id,employeeName:l.name,expectedTime:h,status:"absent"}):d.status==="late"&&a.push({employeeId:l.id,employeeName:l.name,expectedTime:h,clockInTime:d.clockIn,status:"late"}))}),a}catch(t){throw console.error("Erro ao buscar funcionrios atrasados:",t),new Error("No foi possvel buscar os funcionrios atrasados")}},Ode=()=>{const t=Ru(),[e,n]=_.useState([]),[r,a]=_.useState(!0),[s,l]=_.useState(null);_.useEffect(()=>{const f=async()=>{try{a(!0),l(null);const[v,b,w]=await Promise.all([mL("active"),Cde(),oG(7)]),j=[];for(const E of v.slice(0,5))try{const S=await ty(E.productId);if(S){const T=d(E.createdAt);j.push({id:E.id,type:E.priority==="critical"?"error":"warning",icon:Nl,title:"Estoque Baixo",description:`${S.name} est com apenas ${S.currentStock} unidades restantes (mnimo: ${S.minStock})`,time:T,color:E.priority==="critical"?"#ef4444":"#f59e0b",actionId:E.id,actionType:"stock"})}}catch(S){console.error("Erro ao buscar produto do alerta:",S)}for(const E of b.slice(0,5))j.push({id:`employee-${E.employeeId}`,type:E.status==="absent"?"error":"warning",icon:ha,title:E.status==="absent"?"Funcionrio Ausente":"Funcionrio Atrasado",description:`${E.employeeName} ${E.status==="absent"?"no registrou entrada":`registrou entrada s ${E.clockInTime} (esperado: ${E.expectedTime})`}`,time:"Hoje",color:E.status==="absent"?"#ef4444":"#f59e0b",actionId:E.employeeId,actionType:"employee"});for(const E of w.slice(0,3)){const S=new Date(E.validUntil),T=Math.ceil((S.getTime()-new Date().getTime())/(1e3*60*60*24)),C=T===0?"Hoje":`${T} dias`;j.push({id:E.id,type:"info",icon:ZM,title:"Promoo a Vencer",description:`${E.title} vence em ${T} dia${T!==1?"s":""}`,time:C,color:"#3b82f6",actionId:E.id,actionType:"promotion"})}j.sort((E,S)=>{const T={error:0,warning:1,info:2},C=T[E.type]-T[S.type];return C!==0?C:0}),n(j)}catch(v){console.error("Erro ao buscar alertas:",v),l("Erro ao carregar alertas")}finally{a(!1)}};f();const p=setInterval(f,300*1e3);return()=>clearInterval(p)},[]);const d=f=>{const p=new Date(f),b=new Date().getTime()-p.getTime(),w=Math.floor(b/(1e3*60)),j=Math.floor(b/(1e3*60*60)),E=Math.floor(b/(1e3*60*60*24));return w<1?"Agora":w<60?`${w} min atrs`:j<24?`${j} hora${j!==1?"s":""} atrs`:`${E} dia${E!==1?"s":""} atrs`},h=f=>{f.actionType==="stock"?t(He.estoque):f.actionType==="employee"?t(He.recursosHumanos):f.actionType==="promotion"&&t(He.crm)};return r?c.jsxs("div",{className:"alerts-section",children:[c.jsx("h2",{className:"section-title",children:"Alertas"}),c.jsx("div",{className:"alerts-loading",children:c.jsx("p",{children:"Carregando alertas..."})})]}):s?c.jsxs("div",{className:"alerts-section",children:[c.jsx("h2",{className:"section-title",children:"Alertas"}),c.jsx("div",{className:"alerts-error",children:c.jsx("p",{children:s})})]}):c.jsxs("div",{className:"alerts-section",children:[c.jsx("h2",{className:"section-title",children:"Alertas"}),e.length===0?c.jsx("div",{className:"alerts-empty",children:c.jsx("p",{children:"Nenhum alerta no momento"})}):c.jsx("div",{className:"alerts-list",children:e.map(f=>c.jsxs("div",{className:`alert-item ${f.type}`,children:[c.jsx("div",{className:"alert-icon",style:{backgroundColor:`${f.color}15`},children:c.jsx(f.icon,{size:20,style:{color:f.color}})}),c.jsxs("div",{className:"alert-content",children:[c.jsx("h3",{className:"alert-title",children:f.title}),c.jsx("p",{className:"alert-description",children:f.description}),c.jsx("span",{className:"alert-time",children:f.time})]}),c.jsx("div",{className:"alert-actions",children:c.jsx("button",{className:"alert-button",onClick:()=>h(f),children:"Ver"})})]},f.id))})]})},Pde=()=>c.jsxs("div",{className:"dashboard",children:[c.jsxs("div",{className:"dashboard-header",children:[c.jsx("h1",{className:"dashboard-title",children:"Dashboard"}),c.jsx("p",{className:"dashboard-subtitle",children:"Viso geral do sistema"})]}),c.jsxs("div",{className:"dashboard-content",children:[c.jsx(lG,{}),c.jsx(mde,{}),c.jsx(Ode,{})]})]}),Ide=({customer:t,onSubmit:e,onCancel:n})=>{const[r,a]=_.useState({name:"",email:"",phone:"",whatsapp:"",cpf:"",birthDate:"",address:{street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zipCode:""},preferences:{favoriteProducts:[],dietaryRestrictions:[],observations:""}}),[s,l]=_.useState(!1),[d,h]=_.useState("");_.useEffect(()=>{t&&a({name:t.name,email:t.email,phone:t.phone,whatsapp:t.whatsapp||"",cpf:t.cpf||"",birthDate:t.birthDate||"",address:t.address||{street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zipCode:""},preferences:t.preferences||{favoriteProducts:[],dietaryRestrictions:[],observations:""}})},[t]);const f=async w=>{w.preventDefault(),h(""),l(!0);try{await e(r)}catch(j){h("Erro ao salvar cliente"),console.error(j)}finally{l(!1)}},p=w=>{const{name:j,value:E}=w.target;a(S=>({...S,[j]:E}))},v=w=>{const{name:j,value:E}=w.target;a(S=>({...S,address:{...S.address,[j]:E}}))},b=w=>{const{name:j,value:E}=w.target;a(S=>({...S,preferences:{...S.preferences,[j]:E}}))};return c.jsxs("div",{className:"customer-form-container",children:[c.jsx("h2",{children:t?"Editar Cliente":"Novo Cliente"}),d&&c.jsx("div",{className:"error-message",children:d}),c.jsxs("form",{onSubmit:f,className:"customer-form",children:[c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{children:"Informaes Bsicas"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"name",children:"Nome Completo *"}),c.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:p,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"E-mail *"}),c.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:p,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"phone",children:"Telefone *"}),c.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:p,required:!0,placeholder:"(00) 00000-0000"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"whatsapp",children:"WhatsApp"}),c.jsx("input",{type:"tel",id:"whatsapp",name:"whatsapp",value:r.whatsapp,onChange:p,placeholder:"(00) 00000-0000"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"cpf",children:"CPF"}),c.jsx("input",{type:"text",id:"cpf",name:"cpf",value:r.cpf,onChange:p,placeholder:"000.000.000-00"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"birthDate",children:"Data de Nascimento"}),c.jsx("input",{type:"date",id:"birthDate",name:"birthDate",value:r.birthDate,onChange:p})]})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{children:"Endereo"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"zipCode",children:"CEP"}),c.jsx("input",{type:"text",id:"zipCode",name:"zipCode",value:r.address?.zipCode,onChange:v,placeholder:"00000-000"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"street",children:"Rua"}),c.jsx("input",{type:"text",id:"street",name:"street",value:r.address?.street,onChange:v})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"number",children:"Nmero"}),c.jsx("input",{type:"text",id:"number",name:"number",value:r.address?.number,onChange:v})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"complement",children:"Complemento"}),c.jsx("input",{type:"text",id:"complement",name:"complement",value:r.address?.complement,onChange:v})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"neighborhood",children:"Bairro"}),c.jsx("input",{type:"text",id:"neighborhood",name:"neighborhood",value:r.address?.neighborhood,onChange:v})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"city",children:"Cidade"}),c.jsx("input",{type:"text",id:"city",name:"city",value:r.address?.city,onChange:v})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"state",children:"Estado"}),c.jsx("input",{type:"text",id:"state",name:"state",value:r.address?.state,onChange:v,maxLength:2,placeholder:"SP"})]})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{children:"Preferncias"}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"observations",children:"Observaes"}),c.jsx("textarea",{id:"observations",name:"observations",value:r.preferences?.observations,onChange:b,rows:4,placeholder:"Preferncias alimentares, restries, observaes gerais..."})]})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",onClick:n,className:"btn-cancel",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:s,className:"btn-submit",children:s?"Salvando...":"Salvar"})]})]})]})},Rde=({customers:t,onEdit:e,onDelete:n,onViewDetails:r})=>{const[a,s]=_.useState(""),[l,d]=_.useState("all"),h=t.filter(v=>{const b=v.name.toLowerCase().includes(a.toLowerCase())||v.email.toLowerCase().includes(a.toLowerCase())||v.phone.includes(a),w=l==="all"||l==="active"&&v.active||l==="inactive"&&!v.active;return b&&w}),f=v=>v.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"),p=v=>new Date(v).toLocaleDateString("pt-BR");return c.jsxs("div",{className:"customer-list-container",children:[c.jsxs("div",{className:"list-header",children:[c.jsx("h2",{children:"Clientes"}),c.jsxs("div",{className:"list-controls",children:[c.jsx("input",{type:"text",placeholder:"Buscar por nome, e-mail ou telefone...",value:a,onChange:v=>s(v.target.value),className:"search-input"}),c.jsxs("div",{className:"filter-buttons",children:[c.jsx("button",{className:l==="all"?"filter-btn active":"filter-btn",onClick:()=>d("all"),children:"Todos"}),c.jsx("button",{className:l==="active"?"filter-btn active":"filter-btn",onClick:()=>d("active"),children:"Ativos"}),c.jsx("button",{className:l==="inactive"?"filter-btn active":"filter-btn",onClick:()=>d("inactive"),children:"Inativos"})]})]})]}),c.jsxs("div",{className:"customer-stats",children:[c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-value",children:t.length}),c.jsx("div",{className:"stat-label",children:"Total de Clientes"})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-value",children:t.filter(v=>v.active).length}),c.jsx("div",{className:"stat-label",children:"Clientes Ativos"})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-value",children:t.reduce((v,b)=>v+b.loyaltyPoints,0).toLocaleString()}),c.jsx("div",{className:"stat-label",children:"Total de Pontos"})]})]}),h.length===0?c.jsx("div",{className:"empty-state",children:c.jsx("p",{children:"Nenhum cliente encontrado"})}):c.jsx("div",{className:"customer-table-wrapper",children:c.jsxs("table",{className:"customer-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Nome"}),c.jsx("th",{children:"E-mail"}),c.jsx("th",{children:"Telefone"}),c.jsx("th",{children:"Pontos"}),c.jsx("th",{children:"Total Compras"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Cadastro"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:h.map(v=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("div",{className:"customer-name",children:v.name})}),c.jsx("td",{children:v.email}),c.jsx("td",{children:f(v.phone)}),c.jsx("td",{children:c.jsx("span",{className:"points-badge",children:v.loyaltyPoints})}),c.jsxs("td",{children:["R$ ",v.totalPurchases.toFixed(2)]}),c.jsx("td",{children:c.jsx("span",{className:`status-badge ${v.active?"active":"inactive"}`,children:v.active?"Ativo":"Inativo"})}),c.jsx("td",{children:p(v.createdAt)}),c.jsx("td",{children:c.jsxs("div",{className:"action-buttons",children:[c.jsx("button",{onClick:()=>r(v),className:"btn-action btn-view",title:"Ver detalhes",children:c.jsx(tL,{size:18})}),c.jsx("button",{onClick:()=>e(v),className:"btn-action btn-edit",title:"Editar",children:c.jsx(Jl,{size:18})}),c.jsx("button",{onClick:()=>{confirm(`Deseja realmente excluir ${v.name}?`)&&n(v.id)},className:"btn-action btn-delete",title:"Excluir",children:c.jsx(Ai,{size:18})})]})})]},v.id))})]})})]})},Dde=({programs:t,promotions:e,onCreateProgram:n,onCreatePromotion:r,onToggleProgram:a,onTogglePromotion:s,onDeletePromotion:l})=>{const[d,h]=_.useState("programs"),[f,p]=_.useState(!1),[v,b]=_.useState(!1),[w,j]=_.useState({name:"",description:"",pointsPerReal:1,active:!0,rules:{}}),[E,S]=_.useState({title:"",description:"",discountType:"percentage",discountValue:0,pointsCost:0,validFrom:"",validUntil:"",active:!0}),T=async U=>{U.preventDefault(),await n(w),j({name:"",description:"",pointsPerReal:1,active:!0,rules:{}}),p(!1)},C=async U=>{U.preventDefault(),await r({...E,targetCustomers:[]}),S({title:"",description:"",discountType:"percentage",discountValue:0,pointsCost:0,validFrom:"",validUntil:"",active:!0}),b(!1)},I=U=>new Date(U).toLocaleDateString("pt-BR");return c.jsxs("div",{className:"loyalty-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h2",{children:"Fidelizao"}),c.jsxs("div",{className:"tab-buttons",children:[c.jsx("button",{className:d==="programs"?"tab-btn active":"tab-btn",onClick:()=>h("programs"),children:"Programas de Pontos"}),c.jsx("button",{className:d==="promotions"?"tab-btn active":"tab-btn",onClick:()=>h("promotions"),children:"Promoes"})]})]}),d==="programs"&&c.jsxs("div",{className:"programs-tab",children:[c.jsxs("div",{className:"tab-header",children:[c.jsx("h3",{children:"Programas de Pontos"}),c.jsx("button",{className:"btn-new",onClick:()=>p(!f),children:f?"Cancelar":"+ Novo Programa"})]}),f&&c.jsxs("form",{onSubmit:T,className:"program-form",children:[c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Nome do Programa"}),c.jsx("input",{type:"text",value:w.name,onChange:U=>j({...w,name:U.target.value}),required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Pontos por R$"}),c.jsx("input",{type:"number",step:"0.1",value:w.pointsPerReal,onChange:U=>j({...w,pointsPerReal:parseFloat(U.target.value)}),required:!0})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{children:"Descrio"}),c.jsx("textarea",{value:w.description,onChange:U=>j({...w,description:U.target.value}),rows:3,required:!0})]})]}),c.jsx("button",{type:"submit",className:"btn-submit",children:"Criar Programa"})]}),c.jsx("div",{className:"programs-list",children:t.length===0?c.jsx("div",{className:"empty-state",children:c.jsx("p",{children:"Nenhum programa cadastrado"})}):t.map(U=>c.jsxs("div",{className:"program-card",children:[c.jsxs("div",{className:"card-header",children:[c.jsx("h4",{children:U.name}),c.jsxs("label",{className:"toggle-switch",children:[c.jsx("input",{type:"checkbox",checked:U.active,onChange:L=>a(U.id,L.target.checked)}),c.jsx("span",{className:"toggle-slider"})]})]}),c.jsx("p",{className:"card-description",children:U.description}),c.jsxs("div",{className:"card-info",children:[c.jsxs("span",{className:"info-badge",children:[U.pointsPerReal," pontos por R$1"]}),c.jsx("span",{className:`status-badge ${U.active?"active":"inactive"}`,children:U.active?"Ativo":"Inativo"})]})]},U.id))})]}),d==="promotions"&&c.jsxs("div",{className:"promotions-tab",children:[c.jsxs("div",{className:"tab-header",children:[c.jsx("h3",{children:"Promoes"}),c.jsx("button",{className:"btn-new",onClick:()=>b(!v),children:v?"Cancelar":"+ Nova Promoo"})]}),v&&c.jsxs("form",{onSubmit:C,className:"promotion-form",children:[c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Ttulo"}),c.jsx("input",{type:"text",value:E.title,onChange:U=>S({...E,title:U.target.value}),required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Tipo de Desconto"}),c.jsxs("select",{value:E.discountType,onChange:U=>S({...E,discountType:U.target.value}),children:[c.jsx("option",{value:"percentage",children:"Percentual"}),c.jsx("option",{value:"fixed",children:"Valor Fixo"}),c.jsx("option",{value:"points",children:"Pontos"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Valor do Desconto"}),c.jsx("input",{type:"number",step:"0.01",value:E.discountValue,onChange:U=>S({...E,discountValue:parseFloat(U.target.value)}),required:!0})]}),E.discountType==="points"&&c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Custo em Pontos"}),c.jsx("input",{type:"number",value:E.pointsCost,onChange:U=>S({...E,pointsCost:parseInt(U.target.value)}),required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Vlido De"}),c.jsx("input",{type:"date",value:E.validFrom,onChange:U=>S({...E,validFrom:U.target.value}),required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Vlido At"}),c.jsx("input",{type:"date",value:E.validUntil,onChange:U=>S({...E,validUntil:U.target.value}),required:!0})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{children:"Descrio"}),c.jsx("textarea",{value:E.description,onChange:U=>S({...E,description:U.target.value}),rows:3,required:!0})]})]}),c.jsx("button",{type:"submit",className:"btn-submit",children:"Criar Promoo"})]}),c.jsx("div",{className:"promotions-list",children:e.length===0?c.jsx("div",{className:"empty-state",children:c.jsx("p",{children:"Nenhuma promoo cadastrada"})}):e.map(U=>c.jsxs("div",{className:"promotion-card",children:[c.jsxs("div",{className:"card-header",children:[c.jsx("h4",{children:U.title}),c.jsxs("div",{className:"card-actions",children:[c.jsxs("label",{className:"toggle-switch",children:[c.jsx("input",{type:"checkbox",checked:U.active,onChange:L=>s(U.id,L.target.checked)}),c.jsx("span",{className:"toggle-slider"})]}),c.jsx("button",{onClick:()=>{confirm("Deseja realmente excluir esta promoo?")&&l(U.id)},className:"btn-delete-small",children:c.jsx(Ai,{size:18})})]})]}),c.jsx("p",{className:"card-description",children:U.description}),c.jsxs("div",{className:"card-info",children:[c.jsxs("span",{className:"info-badge",children:[U.discountType==="percentage"&&`${U.discountValue}% OFF`,U.discountType==="fixed"&&`R$ ${U.discountValue.toFixed(2)} OFF`,U.discountType==="points"&&`${U.pointsCost} pontos`]}),c.jsxs("span",{className:"date-range",children:[I(U.validFrom)," -"," ",I(U.validUntil)]}),c.jsx("span",{className:`status-badge ${U.active?"active":"inactive"}`,children:U.active?"Ativa":"Inativa"})]})]},U.id))})]})]})},kde=({communications:t,customers:e,onCreateCommunication:n,onSendCommunication:r,onDeleteCommunication:a})=>{const[s,l]=_.useState(!1),[d,h]=_.useState({title:"",message:"",type:"email",targetCustomers:[],status:"draft",scheduledFor:""}),[f,p]=_.useState(!1),[v,b]=_.useState(""),w=async L=>{L.preventDefault();const B=f?e.filter(P=>P.active).map(P=>P.id):d.targetCustomers;await n({...d,targetCustomers:B}),h({title:"",message:"",type:"email",targetCustomers:[],status:"draft",scheduledFor:""}),p(!1),l(!1)},j=L=>{h(B=>({...B,targetCustomers:B.targetCustomers.includes(L)?B.targetCustomers.filter(P=>P!==L):[...B.targetCustomers,L]}))},E=e.filter(L=>L.name.toLowerCase().includes(v.toLowerCase())||L.email.toLowerCase().includes(v.toLowerCase())),S=L=>new Date(L).toLocaleString("pt-BR"),T=L=>{switch(L){case"draft":return"draft";case"scheduled":return"scheduled";case"sent":return"sent";case"failed":return"failed";default:return"draft"}},C=L=>{switch(L){case"draft":return"Rascunho";case"scheduled":return"Agendado";case"sent":return"Enviado";case"failed":return"Falhou";default:return"Desconhecido"}},I=L=>{switch(L){case"email":return c.jsx(gu,{});case"sms":return c.jsx(iK,{});case"whatsapp":return c.jsx(hK,{});default:return c.jsx(gu,{})}},U=L=>{switch(L){case"email":return"E-mail";case"sms":return"SMS";case"whatsapp":return"WhatsApp";default:return"Desconhecido"}};return c.jsxs("div",{className:"communication-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h2",{children:"Comunicao"}),c.jsx("button",{className:"btn-new",onClick:()=>l(!s),children:s?"Cancelar":"+ Nova Campanha"})]}),s&&c.jsxs("form",{onSubmit:w,className:"communication-form",children:[c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Ttulo da Campanha"}),c.jsx("input",{type:"text",value:d.title,onChange:L=>h({...d,title:L.target.value}),required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Canal de Comunicao"}),c.jsxs("select",{value:d.type,onChange:L=>h({...d,type:L.target.value}),children:[c.jsx("option",{value:"email",children:"E-mail"}),c.jsx("option",{value:"sms",children:"SMS"}),c.jsx("option",{value:"whatsapp",children:"WhatsApp"})]})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{children:"Mensagem"}),c.jsx("textarea",{value:d.message,onChange:L=>h({...d,message:L.target.value}),rows:6,required:!0,placeholder:"Digite a mensagem que ser enviada aos clientes..."}),c.jsxs("small",{className:"char-count",children:[d.message.length," caracteres"]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Agendar Envio (Opcional)"}),c.jsx("input",{type:"datetime-local",value:d.scheduledFor,onChange:L=>h({...d,scheduledFor:L.target.value})})]}),c.jsx("div",{className:"form-group full-width",children:c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",checked:f,onChange:L=>p(L.target.checked)}),"Enviar para todos os clientes ativos (",e.filter(L=>L.active).length,")"]})}),!f&&c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{children:"Selecionar Clientes"}),c.jsx("input",{type:"text",placeholder:"Buscar clientes...",value:v,onChange:L=>b(L.target.value),className:"search-input"}),c.jsx("div",{className:"customer-selection",children:E.map(L=>c.jsxs("label",{className:"customer-checkbox",children:[c.jsx("input",{type:"checkbox",checked:d.targetCustomers.includes(L.id),onChange:()=>j(L.id)}),c.jsxs("div",{className:"customer-info",children:[c.jsx("span",{className:"customer-name",children:L.name}),c.jsxs("span",{className:"customer-contact",children:[d.type==="email"&&L.email,d.type==="sms"&&L.phone,d.type==="whatsapp"&&(L.whatsapp||L.phone)]})]})]},L.id))}),c.jsxs("small",{className:"selection-count",children:[d.targetCustomers.length," clientes selecionados"]})]})]}),c.jsx("button",{type:"submit",className:"btn-submit",children:d.scheduledFor?"Agendar Campanha":"Criar Campanha"})]}),c.jsxs("div",{className:"communications-list",children:[c.jsx("h3",{children:"Campanhas"}),t.length===0?c.jsx("div",{className:"empty-state",children:c.jsx("p",{children:"Nenhuma campanha criada"})}):c.jsx("div",{className:"communications-grid",children:t.map(L=>c.jsxs("div",{className:"communication-card",children:[c.jsxs("div",{className:"card-header",children:[c.jsxs("div",{className:"card-title",children:[c.jsx("span",{className:"type-icon",children:I(L.type)}),c.jsx("h4",{children:L.title})]}),c.jsx("span",{className:`status-badge ${T(L.status)}`,children:C(L.status)})]}),c.jsx("p",{className:"card-message",children:L.message}),c.jsxs("div",{className:"card-info",children:[c.jsxs("div",{className:"info-row",children:[c.jsx("span",{className:"info-label",children:"Canal:"}),c.jsx("span",{className:"info-value",children:U(L.type)})]}),c.jsxs("div",{className:"info-row",children:[c.jsx("span",{className:"info-label",children:"Destinatrios:"}),c.jsx("span",{className:"info-value",children:L.targetCustomers.length})]}),L.scheduledFor&&c.jsxs("div",{className:"info-row",children:[c.jsx("span",{className:"info-label",children:"Agendado para:"}),c.jsx("span",{className:"info-value",children:S(L.scheduledFor)})]}),L.sentAt&&c.jsxs("div",{className:"info-row",children:[c.jsx("span",{className:"info-label",children:"Enviado em:"}),c.jsx("span",{className:"info-value",children:S(L.sentAt)})]})]}),L.stats&&c.jsxs("div",{className:"card-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:"Enviados"}),c.jsx("span",{className:"stat-value",children:L.stats.sent})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:"Entregues"}),c.jsx("span",{className:"stat-value",children:L.stats.delivered})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:"Abertos"}),c.jsx("span",{className:"stat-value",children:L.stats.opened})]})]}),c.jsxs("div",{className:"card-actions",children:[L.status==="draft"&&c.jsx("button",{onClick:()=>r(L.id),className:"btn-send",children:"Enviar Agora"}),c.jsxs("button",{onClick:()=>{confirm("Deseja realmente excluir esta campanha?")&&a(L.id)},className:"btn-delete",children:[c.jsx(Ai,{size:16})," Excluir"]})]})]},L.id))})]})]})},Mde=()=>{const[t,e]=_.useState("customers"),[n,r]=_.useState(!1),[a,s]=_.useState(void 0),[l,d]=_.useState(void 0),[h,f]=_.useState([]),[p,v]=_.useState([]),[b,w]=_.useState([]),[j,E]=_.useState([]),[S,T]=_.useState(!1),[C,I]=_.useState("");_.useEffect(()=>{let ee=!1;return(async()=>{const Se=setTimeout(()=>{ee||T(!1)},15e3);try{T(!0);const K=await Promise.allSettled([Mv(),V2(),T_(),z2()]);if(!ee){const[oe,ve,ge,Te]=K;oe.status==="fulfilled"&&f(oe.value),ve.status==="fulfilled"&&v(ve.value),ge.status==="fulfilled"&&w(ge.value),Te.status==="fulfilled"&&E(Te.value)}}catch{ee||I("Erro ao carregar dados do CRM")}finally{ee||T(!1)}ee||clearTimeout(Se)})(),()=>{ee=!0}},[]);const U=async()=>{T(!0);try{const[ee,pe,Se,K]=await Promise.all([Mv(),V2(),T_(),z2()]);f(ee),v(pe),w(Se),E(K)}catch(ee){I("Erro ao carregar dados do CRM"),console.error(ee)}finally{T(!1)}},L=async ee=>{try{await WK(ee),await U(),r(!1)}catch{throw new Error("Erro ao criar cliente")}},B=async ee=>{if(a)try{await gL(a.id,ee),await U(),s(void 0),r(!1)}catch{throw new Error("Erro ao atualizar cliente")}},P=async ee=>{try{await YK(ee),await U()}catch{alert("Erro ao excluir cliente")}},M=ee=>{s(ee),r(!0),d(void 0)},D=ee=>{d(ee),r(!1),s(void 0)},z=async ee=>{try{await ZK(ee),await U()}catch{alert("Erro ao criar programa de fidelidade")}},k=async(ee,pe)=>{try{await JK(ee,{active:pe}),await U()}catch{alert("Erro ao atualizar programa")}},F=async ee=>{try{await eG(ee),await U()}catch{alert("Erro ao criar promoo")}},R=async(ee,pe)=>{try{await tG(ee,{active:pe}),await U()}catch{alert("Erro ao atualizar promoo")}},Q=async ee=>{try{await nG(ee),await U()}catch{alert("Erro ao excluir promoo")}},me=async ee=>{try{await rG(ee),await U()}catch{alert("Erro ao criar comunicao")}},$=async ee=>{try{await iG(ee),await U(),alert("Comunicao enviada com sucesso!")}catch{alert("Erro ao enviar comunicao")}},G=async ee=>{try{await aG(ee),await U()}catch{alert("Erro ao excluir comunicao")}};return c.jsxs("div",{className:"crm-page",children:[c.jsxs("div",{className:"crm-header",children:[c.jsx("h1",{children:"CRM - Gesto de Relacionamento com o Cliente"}),c.jsx("p",{className:"crm-subtitle",children:"Gerencie clientes, programas de fidelidade e campanhas de comunicao"})]}),C&&c.jsxs("div",{className:"error-banner",children:[C,c.jsx("button",{onClick:()=>I(""),children:""})]}),c.jsxs("div",{className:"crm-tabs",children:[c.jsxs("button",{className:t==="customers"?"tab-btn active":"tab-btn",onClick:()=>{e("customers"),r(!1),s(void 0),d(void 0)},children:[c.jsx(yu,{})," Clientes"]}),c.jsxs("button",{className:t==="loyalty"?"tab-btn active":"tab-btn",onClick:()=>{e("loyalty"),r(!1),s(void 0),d(void 0)},children:[c.jsx(j_,{})," Fidelizao"]}),c.jsxs("button",{className:t==="communication"?"tab-btn active":"tab-btn",onClick:()=>{e("communication"),r(!1),s(void 0),d(void 0)},children:[c.jsx(uK,{})," Comunicao"]})]}),c.jsx("div",{className:"crm-content",children:S?c.jsxs("div",{className:"loading-state",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Carregando..."})]}):c.jsxs(c.Fragment,{children:[t==="customers"&&c.jsxs("div",{className:"customers-section",children:[!n&&!l&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"section-actions",children:c.jsx("button",{className:"btn-primary",onClick:()=>{r(!0),s(void 0)},children:"+ Adicionar Cliente"})}),c.jsx(Rde,{customers:h,onEdit:M,onDelete:P,onViewDetails:D})]}),n&&c.jsx(Ide,{customer:a,onSubmit:a?B:L,onCancel:()=>{r(!1),s(void 0)}}),l&&c.jsxs("div",{className:"customer-details",children:[c.jsxs("div",{className:"details-header",children:[c.jsx("h2",{children:"Detalhes do Cliente"}),c.jsx("button",{className:"btn-back",onClick:()=>d(void 0),children:" Voltar"})]}),c.jsxs("div",{className:"details-content",children:[c.jsxs("div",{className:"detail-section",children:[c.jsx("h3",{children:"Informaes Pessoais"}),c.jsxs("div",{className:"detail-grid",children:[c.jsxs("div",{className:"detail-item",children:[c.jsx("span",{className:"detail-label",children:"Nome:"}),c.jsx("span",{className:"detail-value",children:l.name})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("span",{className:"detail-label",children:"E-mail:"}),c.jsx("span",{className:"detail-value",children:l.email})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("span",{className:"detail-label",children:"Telefone:"}),c.jsx("span",{className:"detail-value",children:l.phone})]}),l.whatsapp&&c.jsxs("div",{className:"detail-item",children:[c.jsx("span",{className:"detail-label",children:"WhatsApp:"}),c.jsx("span",{className:"detail-value",children:l.whatsapp})]}),l.cpf&&c.jsxs("div",{className:"detail-item",children:[c.jsx("span",{className:"detail-label",children:"CPF:"}),c.jsx("span",{className:"detail-value",children:l.cpf})]}),l.birthDate&&c.jsxs("div",{className:"detail-item",children:[c.jsx("span",{className:"detail-label",children:"Data de Nascimento:"}),c.jsx("span",{className:"detail-value",children:new Date(l.birthDate).toLocaleDateString("pt-BR")})]})]})]}),c.jsxs("div",{className:"detail-section",children:[c.jsx("h3",{children:"Fidelidade"}),c.jsxs("div",{className:"loyalty-info",children:[c.jsxs("div",{className:"loyalty-card",children:[c.jsx("span",{className:"loyalty-label",children:"Pontos Acumulados"}),c.jsx("span",{className:"loyalty-value",children:l.loyaltyPoints})]}),c.jsxs("div",{className:"loyalty-card",children:[c.jsx("span",{className:"loyalty-label",children:"Total de Compras"}),c.jsxs("span",{className:"loyalty-value",children:["R$ ",l.totalPurchases.toFixed(2)]})]})]})]}),l.address&&c.jsxs("div",{className:"detail-section",children:[c.jsx("h3",{children:"Endereo"}),c.jsxs("p",{className:"address-text",children:[l.address.street,","," ",l.address.number,l.address.complement&&` - ${l.address.complement}`,c.jsx("br",{}),l.address.neighborhood," -"," ",l.address.city,"/",l.address.state,c.jsx("br",{}),"CEP: ",l.address.zipCode]})]}),l.preferences?.observations&&c.jsxs("div",{className:"detail-section",children:[c.jsx("h3",{children:"Observaes"}),c.jsx("p",{className:"observations-text",children:l.preferences.observations})]})]})]})]}),t==="loyalty"&&c.jsx(Dde,{programs:p,promotions:b,onCreateProgram:z,onCreatePromotion:F,onToggleProgram:k,onTogglePromotion:R,onDeletePromotion:Q}),t==="communication"&&c.jsx(kde,{communications:j,customers:h,onCreateCommunication:me,onSendCommunication:$,onDeleteCommunication:G})]})})]})},Lde=({employee:t,onSubmit:e,onCancel:n})=>{const[r,a]=_.useState({name:"",email:"",phone:"",cpf:"",rg:"",birthDate:"",address:{street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zipCode:""},position:"",department:"",salary:0,hireDate:"",workSchedule:{startTime:"08:00",endTime:"17:00",breakDuration:60,workDays:[1,2,3,4,5]},benefits:{healthInsurance:!1,mealVoucher:0,transportationVoucher:0,otherBenefits:[]},bankAccount:{bank:"",agency:"",account:"",accountType:"checking"}}),[s,l]=_.useState(!1),[d,h]=_.useState(""),[f,p]=_.useState("");_.useEffect(()=>{t&&a({name:t.name,email:t.email,phone:t.phone,cpf:t.cpf,rg:t.rg||"",birthDate:t.birthDate,address:t.address,position:t.position,department:t.department,salary:t.salary,hireDate:t.hireDate,workSchedule:t.workSchedule,benefits:t.benefits,bankAccount:t.bankAccount})},[t]);const v=async T=>{T.preventDefault(),h(""),l(!0);try{await e(r)}catch(C){h("Erro ao salvar funcionrio"),console.error(C)}finally{l(!1)}},b=T=>{const{name:C,value:I,type:U}=T.target;if(U==="checkbox"){const L=T.target.checked;a(B=>({...B,[C]:L}))}else if(C.includes(".")){const[L,B]=C.split(".");a(P=>L==="address"?{...P,address:{...P.address,[B]:I}}:L==="workSchedule"?{...P,workSchedule:{...P.workSchedule,[B]:I}}:L==="benefits"?{...P,benefits:{...P.benefits,[B]:I}}:L==="bankAccount"?{...P,bankAccount:{...P.bankAccount,[B]:I}}:P)}else a(L=>({...L,[C]:U==="number"?parseFloat(I)||0:I}))},w=T=>{a(C=>({...C,workSchedule:{...C.workSchedule,workDays:C.workSchedule.workDays.includes(T)?C.workSchedule.workDays.filter(I=>I!==T):[...C.workSchedule.workDays,T]}}))},j=()=>{f.trim()&&(a(T=>({...T,benefits:{...T.benefits,otherBenefits:[...T.benefits.otherBenefits,f.trim()]}})),p(""))},E=T=>{a(C=>({...C,benefits:{...C.benefits,otherBenefits:C.benefits.otherBenefits.filter((I,U)=>U!==T)}}))},S=[{value:0,label:"Dom"},{value:1,label:"Seg"},{value:2,label:"Ter"},{value:3,label:"Qua"},{value:4,label:"Qui"},{value:5,label:"Sex"},{value:6,label:"Sb"}];return c.jsxs("div",{className:"employee-form-container",children:[c.jsx("h2",{children:t?"Editar Funcionrio":"Novo Funcionrio"}),d&&c.jsx("div",{className:"error-message",children:d}),c.jsxs("form",{onSubmit:v,className:"employee-form",children:[c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{children:"Informaes Pessoais"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"name",children:"Nome Completo *"}),c.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:b,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"E-mail *"}),c.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:b,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"phone",children:"Telefone *"}),c.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:b,required:!0,placeholder:"(00) 00000-0000"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"cpf",children:"CPF *"}),c.jsx("input",{type:"text",id:"cpf",name:"cpf",value:r.cpf,onChange:b,required:!0,placeholder:"000.000.000-00"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"rg",children:"RG"}),c.jsx("input",{type:"text",id:"rg",name:"rg",value:r.rg,onChange:b,placeholder:"00.000.000-0"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"birthDate",children:"Data de Nascimento *"}),c.jsx("input",{type:"date",id:"birthDate",name:"birthDate",value:r.birthDate,onChange:b,required:!0})]})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{children:"Endereo"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"address.zipCode",children:"CEP"}),c.jsx("input",{type:"text",id:"address.zipCode",name:"address.zipCode",value:r.address.zipCode,onChange:b,placeholder:"00000-000"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"address.street",children:"Rua"}),c.jsx("input",{type:"text",id:"address.street",name:"address.street",value:r.address.street,onChange:b})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"address.number",children:"Nmero"}),c.jsx("input",{type:"text",id:"address.number",name:"address.number",value:r.address.number,onChange:b})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"address.complement",children:"Complemento"}),c.jsx("input",{type:"text",id:"address.complement",name:"address.complement",value:r.address.complement,onChange:b})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"address.neighborhood",children:"Bairro"}),c.jsx("input",{type:"text",id:"address.neighborhood",name:"address.neighborhood",value:r.address.neighborhood,onChange:b})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"address.city",children:"Cidade"}),c.jsx("input",{type:"text",id:"address.city",name:"address.city",value:r.address.city,onChange:b})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"address.state",children:"Estado"}),c.jsx("input",{type:"text",id:"address.state",name:"address.state",value:r.address.state,onChange:b,maxLength:2,placeholder:"SP"})]})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{children:"Informaes Profissionais"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"position",children:"Cargo *"}),c.jsx("input",{type:"text",id:"position",name:"position",value:r.position,onChange:b,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"department",children:"Departamento *"}),c.jsx("input",{type:"text",id:"department",name:"department",value:r.department,onChange:b,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"salary",children:"Salrio *"}),c.jsx("input",{type:"number",id:"salary",name:"salary",value:r.salary,onChange:b,required:!0,step:"0.01",min:"0"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"hireDate",children:"Data de Admisso *"}),c.jsx("input",{type:"date",id:"hireDate",name:"hireDate",value:r.hireDate,onChange:b,required:!0})]})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{children:"Horrio de Trabalho"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"workSchedule.startTime",children:"Horrio de Entrada"}),c.jsx("input",{type:"time",id:"workSchedule.startTime",name:"workSchedule.startTime",value:r.workSchedule.startTime,onChange:b})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"workSchedule.endTime",children:"Horrio de Sada"}),c.jsx("input",{type:"time",id:"workSchedule.endTime",name:"workSchedule.endTime",value:r.workSchedule.endTime,onChange:b})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"workSchedule.breakDuration",children:"Durao do Intervalo (min)"}),c.jsx("input",{type:"number",id:"workSchedule.breakDuration",name:"workSchedule.breakDuration",value:r.workSchedule.breakDuration,onChange:b,min:"0",max:"240"})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{children:"Dias de Trabalho"}),c.jsx("div",{className:"work-days",children:S.map(T=>c.jsxs("label",{className:"day-checkbox",children:[c.jsx("input",{type:"checkbox",checked:r.workSchedule.workDays.includes(T.value),onChange:()=>w(T.value)}),T.label]},T.value))})]})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{children:"Benefcios"}),c.jsxs("div",{className:"form-grid",children:[c.jsx("div",{className:"form-group",children:c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",name:"benefits.healthInsurance",checked:r.benefits.healthInsurance,onChange:b}),"Plano de Sade"]})}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"benefits.mealVoucher",children:"Vale Refeio (R$)"}),c.jsx("input",{type:"number",id:"benefits.mealVoucher",name:"benefits.mealVoucher",value:r.benefits.mealVoucher,onChange:b,step:"0.01",min:"0"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"benefits.transportationVoucher",children:"Vale Transporte (R$)"}),c.jsx("input",{type:"number",id:"benefits.transportationVoucher",name:"benefits.transportationVoucher",value:r.benefits.transportationVoucher,onChange:b,step:"0.01",min:"0"})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{children:"Outros Benefcios"}),c.jsxs("div",{className:"other-benefits",children:[c.jsxs("div",{className:"benefit-input",children:[c.jsx("input",{type:"text",value:f,onChange:T=>p(T.target.value),placeholder:"Digite um benefcio"}),c.jsx("button",{type:"button",onClick:j,className:"btn-add",children:c.jsx(jo,{size:16})})]}),c.jsx("div",{className:"benefits-list",children:r.benefits.otherBenefits.map((T,C)=>c.jsxs("div",{className:"benefit-item",children:[c.jsx("span",{children:T}),c.jsx("button",{type:"button",onClick:()=>E(C),className:"btn-remove",children:c.jsx(iL,{size:14})})]},C))})]})]})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{children:"Dados Bancrios"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"bankAccount.bank",children:"Banco"}),c.jsx("input",{type:"text",id:"bankAccount.bank",name:"bankAccount.bank",value:r.bankAccount.bank,onChange:b})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"bankAccount.agency",children:"Agncia"}),c.jsx("input",{type:"text",id:"bankAccount.agency",name:"bankAccount.agency",value:r.bankAccount.agency,onChange:b})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"bankAccount.account",children:"Conta"}),c.jsx("input",{type:"text",id:"bankAccount.account",name:"bankAccount.account",value:r.bankAccount.account,onChange:b})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"bankAccount.accountType",children:"Tipo de Conta"}),c.jsxs("select",{id:"bankAccount.accountType",name:"bankAccount.accountType",value:r.bankAccount.accountType,onChange:b,children:[c.jsx("option",{value:"checking",children:"Conta Corrente"}),c.jsx("option",{value:"savings",children:"Conta Poupana"})]})]})]})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",onClick:n,className:"btn-cancel",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:s,className:"btn-submit",children:s?"Salvando...":"Salvar"})]})]})]})},Vde=({employees:t,onEdit:e,onDelete:n,onViewDetails:r,onViewTimeRecords:a,onViewPayroll:s})=>{const[l,d]=_.useState(""),[h,f]=_.useState("all"),p=t.filter(E=>{const S=E.name.toLowerCase().includes(l.toLowerCase())||E.email.toLowerCase().includes(l.toLowerCase())||E.position.toLowerCase().includes(l.toLowerCase())||E.department.toLowerCase().includes(l.toLowerCase()),T=h==="all"||E.status===h;return S&&T}),v=E=>new Date(E).toLocaleDateString("pt-BR"),b=E=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(E),w=E=>{switch(E){case"active":return"active";case"inactive":return"inactive";case"on_leave":return"on_leave";default:return"unknown"}},j=E=>{switch(E){case"active":return"Ativo";case"inactive":return"Inativo";case"on_leave":return"Afastado";default:return"Desconhecido"}};return c.jsxs("div",{className:"employee-list-container",children:[c.jsxs("div",{className:"list-header",children:[c.jsx("h2",{children:"Funcionrios"}),c.jsxs("div",{className:"list-controls",children:[c.jsx("input",{type:"text",placeholder:"Buscar por nome, e-mail, cargo ou departamento...",value:l,onChange:E=>d(E.target.value),className:"search-input"}),c.jsxs("div",{className:"filter-buttons",children:[c.jsx("button",{className:h==="all"?"filter-btn active":"filter-btn",onClick:()=>f("all"),children:"Todos"}),c.jsx("button",{className:h==="active"?"filter-btn active":"filter-btn",onClick:()=>f("active"),children:"Ativos"}),c.jsx("button",{className:h==="inactive"?"filter-btn active":"filter-btn",onClick:()=>f("inactive"),children:"Inativos"}),c.jsx("button",{className:h==="on_leave"?"filter-btn active":"filter-btn",onClick:()=>f("on_leave"),children:"Afastados"})]})]})]}),c.jsxs("div",{className:"employee-stats",children:[c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-value",children:t.length}),c.jsx("div",{className:"stat-label",children:"Total de Funcionrios"})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-value",children:t.filter(E=>E.status==="active").length}),c.jsx("div",{className:"stat-label",children:"Funcionrios Ativos"})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-value",children:b(t.reduce((E,S)=>E+S.salary,0))}),c.jsx("div",{className:"stat-label",children:"Folha Total"})]})]}),p.length===0?c.jsx("div",{className:"empty-state",children:c.jsx("p",{children:"Nenhum funcionrio encontrado"})}):c.jsx("div",{className:"employee-table-wrapper",children:c.jsxs("table",{className:"employee-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Nome"}),c.jsx("th",{children:"Cargo"}),c.jsx("th",{children:"Departamento"}),c.jsx("th",{children:"Salrio"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Admisso"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:p.map(E=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsxs("div",{className:"employee-name",children:[c.jsx("div",{className:"name",children:E.name}),c.jsx("div",{className:"email",children:E.email})]})}),c.jsx("td",{children:c.jsx("div",{className:"position",children:E.position})}),c.jsx("td",{children:c.jsx("div",{className:"department",children:E.department})}),c.jsx("td",{children:c.jsx("div",{className:"salary",children:b(E.salary)})}),c.jsx("td",{children:c.jsx("span",{className:`status-badge ${w(E.status)}`,children:j(E.status)})}),c.jsx("td",{children:v(E.hireDate)}),c.jsx("td",{children:c.jsxs("div",{className:"action-buttons",children:[c.jsx("button",{onClick:()=>r(E),className:"btn-action btn-view",title:"Ver detalhes",children:c.jsx(tL,{size:18})}),c.jsx("button",{onClick:()=>a(E),className:"btn-action btn-time",title:"Controle de Ponto",children:c.jsx(ha,{size:18})}),c.jsx("button",{onClick:()=>s(E),className:"btn-action btn-payroll",title:"Folha de Pagamento",children:c.jsx(Ul,{size:18})}),c.jsx("button",{onClick:()=>e(E),className:"btn-action btn-edit",title:"Editar",children:c.jsx(Jl,{size:18})}),c.jsx("button",{onClick:()=>{confirm(`Deseja realmente excluir ${E.name}?`)&&n(E.id)},className:"btn-action btn-delete",title:"Excluir",children:c.jsx(Ai,{size:18})})]})})]},E.id))})]})})]})},zde=({employees:t,timeRecords:e,onCreateTimeRecord:n,onUpdateTimeRecord:r,onDeleteTimeRecord:a,onLoadTimeRecords:s})=>{const[l,d]=_.useState(!1),[h,f]=_.useState(void 0),[p,v]=_.useState({employeeId:"",date:new Date().toISOString().split("T")[0],clockIn:"",clockOut:"",breakStart:"",breakEnd:"",notes:""}),[b,w]=_.useState({employeeId:"",startDate:"",endDate:""}),[j,E]=_.useState(!1),[S,T]=_.useState(""),C=_.useCallback(async()=>{E(!0);try{await s(b.employeeId||void 0,b.startDate||void 0,b.endDate||void 0)}catch{T("Erro ao carregar registros de ponto")}finally{E(!1)}},[b.employeeId,b.startDate,b.endDate,s]);_.useEffect(()=>{C()},[C]);const I=async R=>{R.preventDefault(),T(""),E(!0);try{h?await r(h.id,p):await n(p),U()}catch{T("Erro ao salvar registro de ponto")}finally{E(!1)}},U=()=>{v({employeeId:"",date:new Date().toISOString().split("T")[0],clockIn:"",clockOut:"",breakStart:"",breakEnd:"",notes:""}),f(void 0),d(!1)},L=R=>{f(R),v({employeeId:R.employeeId,date:R.date,clockIn:R.clockIn||"",clockOut:R.clockOut||"",breakStart:R.breakStart||"",breakEnd:R.breakEnd||"",notes:R.notes||""}),d(!0)},B=R=>{const{name:Q,value:me}=R.target;v($=>({...$,[Q]:me}))},P=R=>R||"-",M=R=>new Date(R).toLocaleDateString("pt-BR"),D=R=>{switch(R){case"present":return"present";case"absent":return"absent";case"late":return"late";case"half_day":return"half_day";default:return"unknown"}},z=R=>{switch(R){case"present":return"Presente";case"absent":return"Faltou";case"late":return"Atrasado";case"half_day":return"Meio Perodo";default:return"Desconhecido"}},k=R=>{const Q=t.find(me=>me.id===R);return Q?Q.name:"Funcionrio no encontrado"},F=R=>`${R.totalHours.toFixed(1)}h`;return c.jsxs("div",{className:"time-record-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h2",{children:"Controle de Ponto"}),c.jsx("button",{className:"btn-new",onClick:()=>d(!l),children:l?"Cancelar":c.jsxs(c.Fragment,{children:[c.jsx(jo,{size:16})," Novo Registro"]})})]}),l&&c.jsxs("form",{onSubmit:I,className:"time-record-form",children:[c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Funcionrio *"}),c.jsxs("select",{name:"employeeId",value:p.employeeId,onChange:B,required:!0,children:[c.jsx("option",{value:"",children:"Selecione um funcionrio"}),t.map(R=>c.jsxs("option",{value:R.id,children:[R.name," - ",R.position]},R.id))]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Data *"}),c.jsx("input",{type:"date",name:"date",value:p.date,onChange:B,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Entrada"}),c.jsx("input",{type:"time",name:"clockIn",value:p.clockIn,onChange:B})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Sada"}),c.jsx("input",{type:"time",name:"clockOut",value:p.clockOut,onChange:B})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Incio do Intervalo"}),c.jsx("input",{type:"time",name:"breakStart",value:p.breakStart,onChange:B})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Fim do Intervalo"}),c.jsx("input",{type:"time",name:"breakEnd",value:p.breakEnd,onChange:B})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{children:"Observaes"}),c.jsx("textarea",{name:"notes",value:p.notes,onChange:B,rows:3,placeholder:"Observaes sobre o registro de ponto..."})]})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",onClick:U,className:"btn-cancel",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:j,className:"btn-submit",children:j?"Salvando...":h?"Atualizar":"Criar"})]})]}),c.jsxs("div",{className:"filters-section",children:[c.jsx("h3",{children:"Filtros"}),c.jsxs("div",{className:"filters-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Funcionrio"}),c.jsxs("select",{value:b.employeeId,onChange:R=>w(Q=>({...Q,employeeId:R.target.value})),children:[c.jsx("option",{value:"",children:"Todos os funcionrios"}),t.map(R=>c.jsx("option",{value:R.id,children:R.name},R.id))]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Data Inicial"}),c.jsx("input",{type:"date",value:b.startDate,onChange:R=>w(Q=>({...Q,startDate:R.target.value}))})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Data Final"}),c.jsx("input",{type:"date",value:b.endDate,onChange:R=>w(Q=>({...Q,endDate:R.target.value}))})]}),c.jsx("div",{className:"form-group",children:c.jsx("button",{type:"button",onClick:()=>w({employeeId:"",startDate:"",endDate:""}),className:"btn-clear-filters",children:"Limpar Filtros"})})]})]}),S&&c.jsx("div",{className:"error-message",children:S}),c.jsxs("div",{className:"time-records-list",children:[c.jsx("h3",{children:"Registros de Ponto"}),j?c.jsxs("div",{className:"loading-state",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Carregando..."})]}):e.length===0?c.jsx("div",{className:"empty-state",children:c.jsx("p",{children:"Nenhum registro de ponto encontrado"})}):c.jsx("div",{className:"time-records-table-wrapper",children:c.jsxs("table",{className:"time-records-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Funcionrio"}),c.jsx("th",{children:"Data"}),c.jsx("th",{children:"Entrada"}),c.jsx("th",{children:"Sada"}),c.jsx("th",{children:"Intervalo"}),c.jsx("th",{children:"Total"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:e.map(R=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("div",{className:"employee-name",children:k(R.employeeId)})}),c.jsx("td",{children:M(R.date)}),c.jsx("td",{children:P(R.clockIn)}),c.jsx("td",{children:P(R.clockOut)}),c.jsx("td",{children:R.breakStart&&R.breakEnd?`${R.breakStart} - ${R.breakEnd}`:"-"}),c.jsx("td",{children:c.jsx("span",{className:"total-hours",children:F(R)})}),c.jsx("td",{children:c.jsx("span",{className:`status-badge ${D(R.status)}`,children:z(R.status)})}),c.jsx("td",{children:c.jsxs("div",{className:"action-buttons",children:[c.jsx("button",{onClick:()=>L(R),className:"btn-action btn-edit",title:"Editar",children:c.jsx(Jl,{size:16})}),c.jsx("button",{onClick:()=>{confirm("Deseja realmente excluir este registro?")&&a(R.id)},className:"btn-action btn-delete",title:"Excluir",children:c.jsx(Ai,{size:16})})]})})]},R.id))})]})})]})]})},Ude=({employees:t,payrolls:e,onCreatePayroll:n,onUpdatePayroll:r,onDeletePayroll:a,onLoadPayrolls:s,onMarkAsPaid:l})=>{const[d,h]=_.useState(!1),[f,p]=_.useState(void 0),[v,b]=_.useState({employeeId:"",month:new Date().getMonth()+1,year:new Date().getFullYear(),calculation:{baseSalary:0,overtimeHours:0,overtimeRate:1.5,benefits:{healthInsurance:0,mealVoucher:0,transportationVoucher:0,otherBenefits:0},deductions:{inss:0,irrf:0,fgts:0,otherDeductions:0}}}),[w,j]=_.useState({employeeId:"",month:new Date().getMonth()+1,year:new Date().getFullYear()}),[E,S]=_.useState(!1),[T,C]=_.useState(""),I=_.useCallback(async()=>{S(!0);try{await s(w.employeeId||void 0,w.month||void 0,w.year||void 0)}catch{C("Erro ao carregar folhas de pagamento")}finally{S(!1)}},[w.employeeId,w.month,w.year,s]);_.useEffect(()=>{I()},[I]);const U=async Q=>{Q.preventDefault(),C(""),S(!0);try{f?await r(f.id,v):await n(v.employeeId,v.month,v.year,v.calculation),L()}catch{C("Erro ao salvar folha de pagamento")}finally{S(!1)}},L=()=>{b({employeeId:"",month:new Date().getMonth()+1,year:new Date().getFullYear(),calculation:{baseSalary:0,overtimeHours:0,overtimeRate:1.5,benefits:{healthInsurance:0,mealVoucher:0,transportationVoucher:0,otherBenefits:0},deductions:{inss:0,irrf:0,fgts:0,otherDeductions:0}}}),p(void 0),h(!1)},B=Q=>{const{name:me,value:$,type:G}=Q.target;if(me.includes(".")){const[ee,pe]=me.split(".");b(Se=>ee==="calculation"?{...Se,calculation:{...Se.calculation,[pe]:G==="number"?parseFloat($)||0:$}}:Se)}else b(ee=>({...ee,[me]:G==="number"?parseFloat($)||0:$}))},P=()=>{const{baseSalary:Q,overtimeHours:me,overtimeRate:$,benefits:G}=v.calculation,ee=me*(Q/220)*$,pe=Object.values(G).reduce((Se,K)=>Se+K,0);return Q+ee+pe},M=()=>{const Q=P(),me=Object.values(v.calculation.deductions).reduce(($,G)=>$+G,0);return Q-me},D=Q=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Q),z=Q=>{const me=t.find($=>$.id===Q);return me?me.name:"Funcionrio no encontrado"},k=Q=>{switch(Q){case"draft":return"draft";case"calculated":return"calculated";case"paid":return"paid";default:return"unknown"}},F=Q=>{switch(Q){case"draft":return"Rascunho";case"calculated":return"Calculado";case"paid":return"Pago";default:return"Desconhecido"}},R=[{value:1,label:"Janeiro"},{value:2,label:"Fevereiro"},{value:3,label:"Maro"},{value:4,label:"Abril"},{value:5,label:"Maio"},{value:6,label:"Junho"},{value:7,label:"Julho"},{value:8,label:"Agosto"},{value:9,label:"Setembro"},{value:10,label:"Outubro"},{value:11,label:"Novembro"},{value:12,label:"Dezembro"}];return c.jsxs("div",{className:"payroll-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h2",{children:"Folha de Pagamento"}),c.jsx("button",{className:"btn-new",onClick:()=>h(!d),children:d?"Cancelar":c.jsxs(c.Fragment,{children:[c.jsx(jo,{size:16})," Nova Folha"]})})]}),d&&c.jsxs("form",{onSubmit:U,className:"payroll-form",children:[c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Funcionrio *"}),c.jsxs("select",{name:"employeeId",value:v.employeeId,onChange:B,required:!0,children:[c.jsx("option",{value:"",children:"Selecione um funcionrio"}),t.map(Q=>c.jsxs("option",{value:Q.id,children:[Q.name," - ",Q.position]},Q.id))]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Ms *"}),c.jsx("select",{name:"month",value:v.month,onChange:B,required:!0,children:R.map(Q=>c.jsx("option",{value:Q.value,children:Q.label},Q.value))})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Ano *"}),c.jsx("input",{type:"number",name:"year",value:v.year,onChange:B,required:!0,min:"2020",max:"2030"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Salrio Base (R$) *"}),c.jsx("input",{type:"number",name:"calculation.baseSalary",value:v.calculation.baseSalary,onChange:B,required:!0,step:"0.01",min:"0"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Horas Extras"}),c.jsx("input",{type:"number",name:"calculation.overtimeHours",value:v.calculation.overtimeHours,onChange:B,step:"0.1",min:"0"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Taxa Hora Extra"}),c.jsx("input",{type:"number",name:"calculation.overtimeRate",value:v.calculation.overtimeRate,onChange:B,step:"0.1",min:"1"})]})]}),c.jsxs("div",{className:"calculation-section",children:[c.jsx("h3",{children:"Clculo da Folha"}),c.jsxs("div",{className:"calculation-grid",children:[c.jsxs("div",{className:"calculation-item",children:[c.jsx("span",{children:"Salrio Base:"}),c.jsx("span",{children:D(v.calculation.baseSalary)})]}),c.jsxs("div",{className:"calculation-item",children:[c.jsx("span",{children:"Horas Extras:"}),c.jsx("span",{children:D(v.calculation.overtimeHours*(v.calculation.baseSalary/220)*v.calculation.overtimeRate)})]}),c.jsxs("div",{className:"calculation-item",children:[c.jsx("span",{children:"Benefcios:"}),c.jsx("span",{children:D(Object.values(v.calculation.benefits).reduce((Q,me)=>Q+me,0))})]}),c.jsxs("div",{className:"calculation-item total",children:[c.jsx("span",{children:"Salrio Bruto:"}),c.jsx("span",{children:D(P())})]}),c.jsxs("div",{className:"calculation-item",children:[c.jsx("span",{children:"Descontos:"}),c.jsx("span",{children:D(Object.values(v.calculation.deductions).reduce((Q,me)=>Q+me,0))})]}),c.jsxs("div",{className:"calculation-item final",children:[c.jsx("span",{children:"Salrio Lquido:"}),c.jsx("span",{children:D(M())})]})]})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",onClick:L,className:"btn-cancel",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:E,className:"btn-submit",children:E?"Salvando...":f?"Atualizar":"Criar"})]})]}),c.jsxs("div",{className:"filters-section",children:[c.jsx("h3",{children:"Filtros"}),c.jsxs("div",{className:"filters-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Funcionrio"}),c.jsxs("select",{value:w.employeeId,onChange:Q=>j(me=>({...me,employeeId:Q.target.value})),children:[c.jsx("option",{value:"",children:"Todos os funcionrios"}),t.map(Q=>c.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Ms"}),c.jsx("select",{value:w.month,onChange:Q=>j(me=>({...me,month:parseInt(Q.target.value)})),children:R.map(Q=>c.jsx("option",{value:Q.value,children:Q.label},Q.value))})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Ano"}),c.jsx("input",{type:"number",value:w.year,onChange:Q=>j(me=>({...me,year:parseInt(Q.target.value)})),min:"2020",max:"2030"})]}),c.jsx("div",{className:"form-group",children:c.jsx("button",{type:"button",onClick:()=>j({employeeId:"",month:new Date().getMonth()+1,year:new Date().getFullYear()}),className:"btn-clear-filters",children:"Limpar Filtros"})})]})]}),T&&c.jsx("div",{className:"error-message",children:T}),c.jsxs("div",{className:"payrolls-list",children:[c.jsx("h3",{children:"Folhas de Pagamento"}),E?c.jsxs("div",{className:"loading-state",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Carregando..."})]}):e.length===0?c.jsx("div",{className:"empty-state",children:c.jsx("p",{children:"Nenhuma folha de pagamento encontrada"})}):c.jsx("div",{className:"payrolls-table-wrapper",children:c.jsxs("table",{className:"payrolls-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Funcionrio"}),c.jsx("th",{children:"Perodo"}),c.jsx("th",{children:"Salrio Bruto"}),c.jsx("th",{children:"Descontos"}),c.jsx("th",{children:"Salrio Lquido"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:e.map(Q=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("div",{className:"employee-name",children:z(Q.employeeId)})}),c.jsx("td",{children:c.jsxs("div",{className:"period",children:[R.find(me=>me.value===Q.month)?.label," ",Q.year]})}),c.jsx("td",{children:c.jsx("div",{className:"gross-salary",children:D(Q.grossSalary)})}),c.jsx("td",{children:c.jsx("div",{className:"deductions",children:D(Object.values(Q.deductions).reduce((me,$)=>me+$,0))})}),c.jsx("td",{children:c.jsx("div",{className:"net-salary",children:D(Q.netSalary)})}),c.jsx("td",{children:c.jsx("span",{className:`status-badge ${k(Q.status)}`,children:F(Q.status)})}),c.jsx("td",{children:c.jsxs("div",{className:"action-buttons",children:[Q.status==="calculated"&&c.jsx("button",{onClick:()=>l(Q.id),className:"btn-action btn-paid",title:"Marcar como Pago",children:c.jsx(eL,{size:16})}),c.jsx("button",{onClick:()=>{confirm("Deseja realmente excluir esta folha?")&&a(Q.id)},className:"btn-action btn-delete",title:"Excluir",children:c.jsx(Ai,{size:16})})]})})]},Q.id))})]})})]})]})},Bde=()=>{const[t,e]=_.useState("employees"),[n,r]=_.useState(!1),[a,s]=_.useState(void 0),[l,d]=_.useState([]),[h,f]=_.useState([]),[p,v]=_.useState([]),[b,w]=_.useState("");_.useEffect(()=>{j()},[]);const j=async()=>{try{const $=await yde();d($)}catch{w("Erro ao carregar funcionrios")}},E=async($,G,ee)=>{try{const pe=await vz($,G,ee);f(pe)}catch{w("Erro ao carregar registros de ponto")}},S=async($,G,ee)=>{try{const pe=await jde($,G,ee);v(pe)}catch{w("Erro ao carregar folhas de pagamento")}},T=async $=>{try{await pde($),await j(),r(!1)}catch{w("Erro ao criar funcionrio")}},C=async $=>{if(a)try{await vde(a.id,$),await j(),r(!1),s(void 0)}catch{w("Erro ao atualizar funcionrio")}},I=async $=>{try{await gde($),await j()}catch{w("Erro ao deletar funcionrio")}},U=$=>{s($),r(!0)},L=$=>{console.log("Ver detalhes do funcionrio:",$)},B=$=>{e("timeRecords"),E($.id)},P=$=>{e("payroll"),S($.id)},M=async $=>{try{await xde($),await E()}catch{w("Erro ao criar registro de ponto")}},D=async($,G)=>{try{await wde($,G),await E()}catch{w("Erro ao atualizar registro de ponto")}},z=async $=>{try{await _de($),await E()}catch{w("Erro ao deletar registro de ponto")}},k=async($,G,ee,pe)=>{try{await Ede($,G,ee,pe),await S()}catch{w("Erro ao criar folha de pagamento")}},F=async($,G)=>{try{await Sde($,G),await S()}catch{w("Erro ao atualizar folha de pagamento")}},R=async $=>{try{await Tde($),await S()}catch{w("Erro ao deletar folha de pagamento")}},Q=async $=>{try{await Ade($),await S()}catch{w("Erro ao marcar folha como paga")}},me=[{id:"employees",label:"Funcionrios",icon:yu,count:l.length},{id:"timeRecords",label:"Controle de Ponto",icon:ha,count:h.length},{id:"payroll",label:"Folha de Pagamento",icon:Ul,count:p.length}];return c.jsxs("div",{className:"rh-page",children:[c.jsxs("div",{className:"page-header",children:[c.jsx("h1",{children:"Recursos Humanos e Ponto"}),c.jsx("p",{children:"Gerencie funcionrios, controle de ponto e folha de pagamento"})]}),b&&c.jsxs("div",{className:"error-message",children:[b,c.jsx("button",{onClick:()=>w(""),className:"close-error",children:""})]}),c.jsx("div",{className:"tabs-container",children:c.jsx("div",{className:"tabs",children:me.map($=>c.jsxs("button",{className:`tab ${t===$.id?"active":""}`,onClick:()=>e($.id),children:[c.jsx($.icon,{size:20}),c.jsx("span",{children:$.label}),$.count>0&&c.jsx("span",{className:"tab-count",children:$.count})]},$.id))})}),c.jsxs("div",{className:"tab-content",children:[t==="employees"&&c.jsxs("div",{className:"employees-tab",children:[n?c.jsx(Lde,{employee:a,onSubmit:a?C:T,onCancel:()=>{r(!1),s(void 0)}}):c.jsx(Vde,{employees:l,onEdit:U,onDelete:I,onViewDetails:L,onViewTimeRecords:B,onViewPayroll:P}),!n&&c.jsx("div",{className:"tab-actions",children:c.jsxs("button",{onClick:()=>r(!0),className:"btn-primary",children:[c.jsx(yu,{size:16}),"Novo Funcionrio"]})})]}),t==="timeRecords"&&c.jsx(zde,{employees:l,timeRecords:h,onCreateTimeRecord:M,onUpdateTimeRecord:D,onDeleteTimeRecord:z,onLoadTimeRecords:E}),t==="payroll"&&c.jsx(Ude,{employees:l,payrolls:p,onCreatePayroll:k,onUpdatePayroll:F,onDeletePayroll:R,onLoadPayrolls:S,onMarkAsPaid:Q})]})]})},Fde=({product:t,onSubmit:e,onCancel:n})=>{const[r,a]=_.useState({name:"",description:"",category:"",sku:"",barcode:"",unit:"unit",currentStock:0,minStock:0,maxStock:0,unitPrice:0,costPrice:0,supplier:"",supplierContact:"",location:"",status:"active",image:""}),[s,l]=_.useState(!1),[d,h]=_.useState("");_.useEffect(()=>{t&&a({name:t.name,description:t.description,category:t.category,sku:t.sku,barcode:t.barcode||"",unit:t.unit,currentStock:t.currentStock,minStock:t.minStock,maxStock:t.maxStock,unitPrice:t.unitPrice,costPrice:t.costPrice,supplier:t.supplier,supplierContact:t.supplierContact||"",location:t.location||"",status:t.status,image:t.image||""})},[t]);const f=async w=>{w.preventDefault(),h(""),l(!0);try{await e(r)}catch{h("Erro ao salvar produto")}finally{l(!1)}},p=w=>{const{name:j,value:E,type:S}=w.target;a(T=>({...T,[j]:S==="number"?parseFloat(E)||0:E}))},v=["Produtos de Limpeza","Acessrios","Perfumaria","Ferramentas","Consumveis","Equipamentos","Outros"],b=[{value:"unit",label:"Unidade"},{value:"kg",label:"Quilograma (kg)"},{value:"l",label:"Litro (L)"},{value:"m",label:"Metro (m)"},{value:"box",label:"Caixa"},{value:"pack",label:"Pacote"}];return c.jsxs("div",{className:"product-form-container",children:[c.jsx("div",{className:"form-header",children:c.jsx("h2",{children:t?"Editar Produto":"Novo Produto"})}),d&&c.jsx("div",{className:"error-message",children:d}),c.jsxs("form",{onSubmit:f,className:"product-form",children:[c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{children:"Informaes Bsicas"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{children:"Nome do Produto *"}),c.jsx("input",{type:"text",name:"name",value:r.name,onChange:p,required:!0,placeholder:"Digite o nome do produto"})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{children:"Descrio"}),c.jsx("textarea",{name:"description",value:r.description,onChange:p,rows:3,placeholder:"Descrio detalhada do produto"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Categoria *"}),c.jsxs("select",{name:"category",value:r.category,onChange:p,required:!0,children:[c.jsx("option",{value:"",children:"Selecione uma categoria"}),v.map(w=>c.jsx("option",{value:w,children:w},w))]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"SKU *"}),c.jsx("input",{type:"text",name:"sku",value:r.sku,onChange:p,required:!0,placeholder:"Cdigo SKU"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Cdigo de Barras"}),c.jsx("input",{type:"text",name:"barcode",value:r.barcode,onChange:p,placeholder:"Cdigo de barras"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Unidade de Medida *"}),c.jsx("select",{name:"unit",value:r.unit,onChange:p,required:!0,children:b.map(w=>c.jsx("option",{value:w.value,children:w.label},w.value))})]})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{children:"Estoque"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Estoque Atual *"}),c.jsx("input",{type:"number",name:"currentStock",value:r.currentStock,onChange:p,required:!0,min:"0",step:"0.01"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Estoque Mnimo *"}),c.jsx("input",{type:"number",name:"minStock",value:r.minStock,onChange:p,required:!0,min:"0",step:"0.01"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Estoque Mximo *"}),c.jsx("input",{type:"number",name:"maxStock",value:r.maxStock,onChange:p,required:!0,min:"0",step:"0.01"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Localizao"}),c.jsx("input",{type:"text",name:"location",value:r.location,onChange:p,placeholder:"Ex: Prateleira A1"})]})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{children:"Preos"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Preo de Custo (R$) *"}),c.jsx("input",{type:"number",name:"costPrice",value:r.costPrice,onChange:p,required:!0,min:"0",step:"0.01"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Preo de Venda (R$) *"}),c.jsx("input",{type:"number",name:"unitPrice",value:r.unitPrice,onChange:p,required:!0,min:"0",step:"0.01"})]})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{children:"Fornecedor"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Nome do Fornecedor *"}),c.jsx("input",{type:"text",name:"supplier",value:r.supplier,onChange:p,required:!0,placeholder:"Nome do fornecedor"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Contato do Fornecedor"}),c.jsx("input",{type:"text",name:"supplierContact",value:r.supplierContact,onChange:p,placeholder:"Telefone ou e-mail"})]})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{children:"Status"}),c.jsx("div",{className:"form-grid",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Status do Produto *"}),c.jsxs("select",{name:"status",value:r.status,onChange:p,required:!0,children:[c.jsx("option",{value:"active",children:"Ativo"}),c.jsx("option",{value:"inactive",children:"Inativo"}),c.jsx("option",{value:"discontinued",children:"Descontinuado"})]})]})})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",onClick:n,className:"btn-cancel",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:s,className:"btn-submit",children:s?"Salvando...":t?"Atualizar":"Criar"})]})]})]})},qde=({products:t,onEdit:e,onDelete:n,onViewMovements:r,onAddNew:a})=>{const[s,l]=_.useState(""),[d,h]=_.useState(""),[f,p]=_.useState(""),v=C=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(C),b=C=>C.currentStock===0?"out":C.currentStock<=C.minStock?"low":C.currentStock>=C.maxStock?"high":"normal",w=C=>{switch(C){case"out":return"Sem Estoque";case"low":return"Estoque Baixo";case"high":return"Estoque Alto";default:return"Normal"}},j=C=>{switch(C){case"active":return"active";case"inactive":return"inactive";case"discontinued":return"discontinued";default:return"unknown"}},E=C=>{switch(C){case"active":return"Ativo";case"inactive":return"Inativo";case"discontinued":return"Descontinuado";default:return C}},S=Array.from(new Set(t.map(C=>C.category))),T=t.filter(C=>{const I=C.name.toLowerCase().includes(s.toLowerCase())||C.sku.toLowerCase().includes(s.toLowerCase()),U=!d||C.category===d,L=!f||C.status===f;return I&&U&&L});return c.jsxs("div",{className:"product-list-container",children:[c.jsxs("div",{className:"list-header",children:[c.jsxs("div",{className:"header-left",children:[c.jsxs("h2",{children:[c.jsx(yo,{size:24}),"Produtos"]}),c.jsxs("div",{className:"header-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:"Total"}),c.jsx("span",{className:"stat-value",children:t.length})]}),c.jsxs("div",{className:"stat-item alert",children:[c.jsx("span",{className:"stat-label",children:"Estoque Baixo"}),c.jsx("span",{className:"stat-value",children:t.filter(C=>C.currentStock<=C.minStock).length})]})]})]}),c.jsxs("button",{className:"btn-new",onClick:a,children:[c.jsx(yo,{size:16}),"Novo Produto"]})]}),c.jsxs("div",{className:"filters-section",children:[c.jsxs("div",{className:"search-box",children:[c.jsx(ey,{size:20}),c.jsx("input",{type:"text",placeholder:"Buscar por nome ou SKU...",value:s,onChange:C=>l(C.target.value)})]}),c.jsxs("div",{className:"filter-controls",children:[c.jsxs("select",{value:d,onChange:C=>h(C.target.value),className:"filter-select",children:[c.jsx("option",{value:"",children:"Todas as Categorias"}),S.map(C=>c.jsx("option",{value:C,children:C},C))]}),c.jsxs("select",{value:f,onChange:C=>p(C.target.value),className:"filter-select",children:[c.jsx("option",{value:"",children:"Todos os Status"}),c.jsx("option",{value:"active",children:"Ativo"}),c.jsx("option",{value:"inactive",children:"Inativo"}),c.jsx("option",{value:"discontinued",children:"Descontinuado"})]})]})]}),T.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx(yo,{size:48}),c.jsx("p",{children:"Nenhum produto encontrado"})]}):c.jsx("div",{className:"products-table-wrapper",children:c.jsxs("table",{className:"products-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"SKU"}),c.jsx("th",{children:"Nome"}),c.jsx("th",{children:"Categoria"}),c.jsx("th",{children:"Estoque Atual"}),c.jsx("th",{children:"Estoque Mn."}),c.jsx("th",{children:"Preo Venda"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:T.map(C=>{const I=b(C);return c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("span",{className:"sku",children:C.sku})}),c.jsx("td",{children:c.jsxs("div",{className:"product-info",children:[c.jsx("span",{className:"product-name",children:C.name}),I==="low"||I==="out"?c.jsx(Nl,{size:16,className:"warning-icon"}):null]})}),c.jsx("td",{children:C.category}),c.jsxs("td",{children:[c.jsxs("span",{className:`stock-badge ${I}`,children:[C.currentStock," ",C.unit]}),c.jsx("span",{className:"stock-status-label",children:w(I)})]}),c.jsxs("td",{children:[C.minStock," ",C.unit]}),c.jsx("td",{children:v(C.unitPrice)}),c.jsx("td",{children:c.jsx("span",{className:`status-badge ${j(C.status)}`,children:E(C.status)})}),c.jsx("td",{children:c.jsxs("div",{className:"action-buttons",children:[c.jsx("button",{onClick:()=>r(C),className:"btn-action btn-view",title:"Ver Movimentaes",children:c.jsx(yo,{size:16})}),c.jsx("button",{onClick:()=>e(C),className:"btn-action btn-edit",title:"Editar",children:c.jsx(Jl,{size:16})}),c.jsx("button",{onClick:()=>{confirm("Deseja realmente excluir este produto?")&&n(C.id)},className:"btn-action btn-delete",title:"Excluir",children:c.jsx(Ai,{size:16})})]})})]},C.id)})})]})})]})},$de=({products:t,movements:e,onCreateMovement:n,onDeleteMovement:r,onLoadMovements:a})=>{const[s,l]=_.useState(!1),[d,h]=_.useState({productId:"",type:"in",quantity:0,unitPrice:0,reason:"",reference:"",notes:"",date:new Date().toISOString().split("T")[0]}),[f,p]=_.useState({productId:"",startDate:"",endDate:""}),[v,b]=_.useState(!1),[w,j]=_.useState(""),E=_.useCallback(async()=>{b(!0);try{await a(f.productId||void 0,f.startDate||void 0,f.endDate||void 0)}catch{j("Erro ao carregar movimentaes")}finally{b(!1)}},[f.productId,f.startDate,f.endDate,a]);_.useEffect(()=>{E()},[E]);const S=async D=>{D.preventDefault(),j(""),b(!0);try{await n(d),T()}catch{j("Erro ao criar movimentao")}finally{b(!1)}},T=()=>{h({productId:"",type:"in",quantity:0,unitPrice:0,reason:"",reference:"",notes:"",date:new Date().toISOString().split("T")[0]}),l(!1)},C=D=>{const{name:z,value:k,type:F}=D.target;h(R=>({...R,[z]:F==="number"?parseFloat(k)||0:k}))},I=D=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(D),U=D=>new Date(D).toLocaleDateString("pt-BR"),L=D=>{switch(D){case"in":return c.jsx(XH,{className:"icon-in"});case"out":return c.jsx(QH,{className:"icon-out"});default:return null}},B=D=>{switch(D){case"in":return"Entrada";case"out":return"Sada";case"adjustment":return"Ajuste";case"loss":return"Perda";case"transfer":return"Transferncia";default:return D}},P=D=>{switch(D){case"in":return"in";case"out":return"out";case"adjustment":return"adjustment";case"loss":return"loss";case"transfer":return"transfer";default:return""}},M=D=>{const z=t.find(k=>k.id===D);return z?z.name:"Produto no encontrado"};return c.jsxs("div",{className:"stock-movement-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h2",{children:"Movimentaes de Estoque"}),c.jsx("button",{className:"btn-new",onClick:()=>l(!s),children:s?"Cancelar":c.jsxs(c.Fragment,{children:[c.jsx(jo,{size:16})," Nova Movimentao"]})})]}),s&&c.jsxs("form",{onSubmit:S,className:"movement-form",children:[c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Produto *"}),c.jsxs("select",{name:"productId",value:d.productId,onChange:C,required:!0,children:[c.jsx("option",{value:"",children:"Selecione um produto"}),t.map(D=>c.jsxs("option",{value:D.id,children:[D.name," - Estoque: ",D.currentStock]},D.id))]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Tipo de Movimentao *"}),c.jsxs("select",{name:"type",value:d.type,onChange:C,required:!0,children:[c.jsx("option",{value:"in",children:"Entrada"}),c.jsx("option",{value:"out",children:"Sada"}),c.jsx("option",{value:"adjustment",children:"Ajuste"}),c.jsx("option",{value:"loss",children:"Perda"}),c.jsx("option",{value:"transfer",children:"Transferncia"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Quantidade *"}),c.jsx("input",{type:"number",name:"quantity",value:d.quantity,onChange:C,required:!0,min:"0",step:"0.01"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Preo Unitrio (R$)"}),c.jsx("input",{type:"number",name:"unitPrice",value:d.unitPrice,onChange:C,min:"0",step:"0.01"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Data *"}),c.jsx("input",{type:"date",name:"date",value:d.date,onChange:C,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Motivo *"}),c.jsx("input",{type:"text",name:"reason",value:d.reason,onChange:C,required:!0,placeholder:"Ex: Compra, Venda, Devoluo"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Referncia"}),c.jsx("input",{type:"text",name:"reference",value:d.reference,onChange:C,placeholder:"Ex: NF-12345"})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{children:"Observaes"}),c.jsx("textarea",{name:"notes",value:d.notes,onChange:C,rows:3,placeholder:"Observaes sobre a movimentao..."})]})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",onClick:T,className:"btn-cancel",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:v,className:"btn-submit",children:v?"Salvando...":"Criar Movimentao"})]})]}),c.jsxs("div",{className:"filters-section",children:[c.jsx("h3",{children:"Filtros"}),c.jsxs("div",{className:"filters-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Produto"}),c.jsxs("select",{value:f.productId,onChange:D=>p(z=>({...z,productId:D.target.value})),children:[c.jsx("option",{value:"",children:"Todos os produtos"}),t.map(D=>c.jsx("option",{value:D.id,children:D.name},D.id))]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Data Inicial"}),c.jsx("input",{type:"date",value:f.startDate,onChange:D=>p(z=>({...z,startDate:D.target.value}))})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Data Final"}),c.jsx("input",{type:"date",value:f.endDate,onChange:D=>p(z=>({...z,endDate:D.target.value}))})]}),c.jsx("div",{className:"form-group",children:c.jsx("button",{type:"button",onClick:()=>p({productId:"",startDate:"",endDate:""}),className:"btn-clear-filters",children:"Limpar Filtros"})})]})]}),w&&c.jsx("div",{className:"error-message",children:w}),c.jsxs("div",{className:"movements-list",children:[c.jsx("h3",{children:"Histrico de Movimentaes"}),v?c.jsxs("div",{className:"loading-state",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Carregando..."})]}):e.length===0?c.jsx("div",{className:"empty-state",children:c.jsx("p",{children:"Nenhuma movimentao encontrada"})}):c.jsx("div",{className:"movements-table-wrapper",children:c.jsxs("table",{className:"movements-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Data"}),c.jsx("th",{children:"Produto"}),c.jsx("th",{children:"Tipo"}),c.jsx("th",{children:"Quantidade"}),c.jsx("th",{children:"Valor"}),c.jsx("th",{children:"Motivo"}),c.jsx("th",{children:"Referncia"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:e.map(D=>c.jsxs("tr",{children:[c.jsx("td",{children:U(D.date)}),c.jsx("td",{children:c.jsx("div",{className:"product-name",children:M(D.productId)})}),c.jsx("td",{children:c.jsxs("span",{className:`type-badge ${P(D.type)}`,children:[L(D.type),B(D.type)]})}),c.jsx("td",{children:c.jsx("span",{className:"quantity",children:D.quantity})}),c.jsx("td",{children:I(D.totalValue)}),c.jsx("td",{children:D.reason}),c.jsx("td",{children:D.reference||"-"}),c.jsx("td",{children:c.jsx("div",{className:"action-buttons",children:c.jsx("button",{onClick:()=>{confirm("Deseja realmente excluir esta movimentao?")&&r(D.id)},className:"btn-action btn-delete",title:"Excluir",children:c.jsx(Ai,{size:16})})})})]},D.id))})]})})]})]})},Hde=({products:t,alerts:e,onLoadAlerts:n,onUpdateAlertStatus:r})=>{const[a,s]=_.useState(""),[l,d]=_.useState(!1),[h,f]=_.useState(""),p=_.useCallback(async()=>{d(!0);try{await n(a||void 0)}catch{f("Erro ao carregar alertas")}finally{d(!1)}},[a,n]);_.useEffect(()=>{p()},[p]);const v=async(B,P)=>{try{await r(B,P),await p()}catch{f("Erro ao atualizar status do alerta")}},b=B=>{const P=t.find(M=>M.id===B);return P?P.name:"Produto no encontrado"},w=B=>{const P=t.find(M=>M.id===B);return P?{current:P.currentStock,min:P.minStock,unit:P.unit}:null},j=B=>{switch(B){case"critical":return"critical";case"high":return"high";case"medium":return"medium";case"low":return"low";default:return""}},E=B=>{switch(B){case"critical":return"Crtico";case"high":return"Alto";case"medium":return"Mdio";case"low":return"Baixo";default:return B}},S=B=>{switch(B){case"active":return"active";case"resolved":return"resolved";case"ignored":return"ignored";default:return""}},T=B=>{switch(B){case"active":return"Ativo";case"resolved":return"Resolvido";case"ignored":return"Ignorado";default:return B}},C=B=>new Date(B).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),I=e.filter(B=>B.status==="active"),U=I.filter(B=>B.priority==="critical"),L=I.filter(B=>B.priority==="high");return c.jsxs("div",{className:"stock-alerts-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsxs("h2",{children:[c.jsx(Nl,{size:24}),"Alertas de Estoque"]}),c.jsxs("div",{className:"alerts-summary",children:[c.jsxs("div",{className:"summary-item critical",children:[c.jsx("span",{className:"summary-label",children:"Crticos"}),c.jsx("span",{className:"summary-value",children:U.length})]}),c.jsxs("div",{className:"summary-item high",children:[c.jsx("span",{className:"summary-label",children:"Alta Prioridade"}),c.jsx("span",{className:"summary-value",children:L.length})]}),c.jsxs("div",{className:"summary-item total",children:[c.jsx("span",{className:"summary-label",children:"Total Ativos"}),c.jsx("span",{className:"summary-value",children:I.length})]})]})]}),c.jsxs("div",{className:"filters-section",children:[c.jsx("label",{children:"Filtrar por Status:"}),c.jsxs("select",{value:a,onChange:B=>s(B.target.value),className:"filter-select",children:[c.jsx("option",{value:"",children:"Todos os Status"}),c.jsx("option",{value:"active",children:"Ativos"}),c.jsx("option",{value:"resolved",children:"Resolvidos"}),c.jsx("option",{value:"ignored",children:"Ignorados"})]})]}),h&&c.jsx("div",{className:"error-message",children:h}),l?c.jsxs("div",{className:"loading-state",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Carregando..."})]}):e.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx(yo,{size:48}),c.jsx("p",{children:"Nenhum alerta encontrado"})]}):c.jsx("div",{className:"alerts-list",children:e.map(B=>{const P=w(B.productId);return c.jsxs("div",{className:`alert-card ${j(B.priority)} ${B.status!=="active"?"inactive":""}`,children:[c.jsxs("div",{className:"alert-header",children:[c.jsx("div",{className:"alert-icon",children:c.jsx(Nl,{size:24})}),c.jsxs("div",{className:"alert-info",children:[c.jsx("h3",{children:b(B.productId)}),c.jsx("p",{className:"alert-message",children:B.message}),P&&c.jsxs("div",{className:"stock-info",children:[c.jsxs("span",{children:["Estoque atual: ",c.jsx("strong",{children:P.current})," ",P.unit]}),c.jsx("span",{className:"separator",children:""}),c.jsxs("span",{children:["Estoque mnimo: ",c.jsx("strong",{children:P.min})," ",P.unit]})]})]}),c.jsxs("div",{className:"alert-badges",children:[c.jsx("span",{className:`priority-badge ${j(B.priority)}`,children:E(B.priority)}),c.jsx("span",{className:`status-badge ${S(B.status)}`,children:T(B.status)})]})]}),c.jsxs("div",{className:"alert-footer",children:[c.jsx("span",{className:"alert-date",children:C(B.createdAt)}),B.status==="active"&&c.jsxs("div",{className:"alert-actions",children:[c.jsxs("button",{onClick:()=>v(B.id,"resolved"),className:"btn-action btn-resolve",title:"Marcar como Resolvido",children:[c.jsx(JM,{size:16}),"Resolver"]}),c.jsxs("button",{onClick:()=>v(B.id,"ignored"),className:"btn-action btn-ignore",title:"Ignorar Alerta",children:[c.jsx(vK,{size:16}),"Ignorar"]})]})]})]},B.id)})})]})},Kde=()=>{const{user:t}=ji(),[e,n]=_.useState("products"),[r,a]=_.useState(!1),[s,l]=_.useState(void 0),[d,h]=_.useState([]),[f,p]=_.useState([]),[v,b]=_.useState([]),[w,j]=_.useState(null),[E,S]=_.useState(""),[T,C]=_.useState("");_.useEffect(()=>{I(),L()},[]),_.useEffect(()=>{e==="movements"?U():e==="alerts"?L():e==="reports"&&!w&&B()},[e]);const I=async()=>{try{const G=await qh();h(G)}catch{S("Erro ao carregar produtos")}},U=_.useCallback(async(G,ee,pe)=>{try{const Se=await hL(G,ee,pe);p(Se)}catch{S("Erro ao carregar movimentaes")}},[]),L=_.useCallback(async G=>{try{const ee=await mL(G);b(ee)}catch{S("Erro ao carregar alertas")}},[]),B=async()=>{try{const G=await PK();j(G)}catch{S("Erro ao carregar relatrio")}},P=async G=>{try{if(S(""),C(""),!G.name||G.name.trim()===""){S("O nome do produto  obrigatrio");return}if(!G.sku||G.sku.trim()===""){S("O SKU  obrigatrio");return}if(!G.category||G.category.trim()===""){S("A categoria  obrigatria");return}if(G.currentStock<0){S("O estoque atual no pode ser negativo");return}if(G.minStock<0){S("O estoque mnimo no pode ser negativo");return}if(G.maxStock<0){S("O estoque mximo no pode ser negativo");return}if(G.minStock>G.maxStock&&G.maxStock>0){S("O estoque mnimo no pode ser maior que o estoque mximo");return}if(G.costPrice<0){S("O preo de custo no pode ser negativo");return}if(G.unitPrice<0){S("O preo de venda no pode ser negativo");return}if(!G.supplier||G.supplier.trim()===""){S("O fornecedor  obrigatrio");return}if((await qh()).some(Se=>Se.sku.toLowerCase()===G.sku.toLowerCase())){S("J existe um produto com este SKU");return}await AK(G),await I(),await L(),C("Produto criado com sucesso!"),setTimeout(()=>{a(!1),C("")},1500)}catch(ee){console.error("Erro ao criar produto:",ee),S(ee instanceof Error?ee.message:"Erro ao criar produto. Tente novamente.")}},M=async G=>{if(s)try{await uL(s.id,G),await I(),await L(),a(!1),l(void 0)}catch{S("Erro ao atualizar produto")}},D=async G=>{try{await TK(G),await I()}catch{S("Erro ao deletar produto")}},z=G=>{l(G),a(!0)},k=G=>{n("movements"),U(G.id)},F=async G=>{try{if(!t?.uid){S("Usurio no autenticado");return}await dL(G,t.uid),await U(),await I(),await L()}catch{S("Erro ao criar movimentao")}},R=async G=>{try{await NK(G),await U()}catch{S("Erro ao deletar movimentao")}},Q=async(G,ee)=>{try{await OK(G,ee),await L()}catch{S("Erro ao atualizar status do alerta")}},me=[{id:"products",label:"Produtos",icon:yo,count:d.length},{id:"movements",label:"Movimentaes",icon:kv,count:f.length},{id:"alerts",label:"Alertas",icon:Nl,count:v.filter(G=>G.status==="active").length},{id:"reports",label:"Relatrios",icon:M2,count:0}],$=G=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(G);return c.jsxs("div",{className:"estoque-page",children:[c.jsxs("div",{className:"page-header",children:[c.jsx("h1",{children:"Gesto de Estoque"}),c.jsx("p",{children:"Controle completo do inventrio, movimentaes e alertas"})]}),E&&c.jsxs("div",{className:"error-message",children:[E,c.jsx("button",{onClick:()=>S(""),className:"close-error",children:""})]}),T&&c.jsxs("div",{className:"success-message",children:[T,c.jsx("button",{onClick:()=>C(""),className:"close-success",children:""})]}),c.jsx("div",{className:"tabs-container",children:c.jsx("div",{className:"tabs",children:me.map(G=>c.jsxs("button",{className:`tab ${e===G.id?"active":""}`,onClick:()=>{n(G.id),G.id==="reports"&&!w&&B()},children:[c.jsx(G.icon,{size:20}),c.jsx("span",{children:G.label}),G.count>0&&c.jsx("span",{className:"tab-count",children:G.count})]},G.id))})}),c.jsxs("div",{className:"tab-content",children:[e==="products"&&c.jsx("div",{className:"products-tab",children:r?c.jsx(Fde,{product:s,onSubmit:s?M:P,onCancel:()=>{a(!1),l(void 0)}}):c.jsx(qde,{products:d,onEdit:z,onDelete:D,onViewMovements:k,onAddNew:()=>a(!0)})}),e==="movements"&&c.jsx($de,{products:d,movements:f,onCreateMovement:F,onDeleteMovement:R,onLoadMovements:U}),e==="alerts"&&c.jsx(Hde,{products:d,alerts:v,onLoadAlerts:L,onUpdateAlertStatus:Q}),e==="reports"&&c.jsx("div",{className:"reports-tab",children:w?c.jsxs("div",{className:"reports-container",children:[c.jsxs("div",{className:"report-summary",children:[c.jsxs("div",{className:"summary-card",children:[c.jsx("div",{className:"card-icon",children:c.jsx(yo,{size:32})}),c.jsxs("div",{className:"card-content",children:[c.jsx("h3",{children:"Total de Produtos"}),c.jsx("p",{className:"card-value",children:w.totalProducts})]})]}),c.jsxs("div",{className:"summary-card",children:[c.jsx("div",{className:"card-icon",children:c.jsx(M2,{size:32})}),c.jsxs("div",{className:"card-content",children:[c.jsx("h3",{children:"Valor Total do Estoque"}),c.jsx("p",{className:"card-value",children:$(w.totalValue)})]})]}),c.jsxs("div",{className:"summary-card alert",children:[c.jsx("div",{className:"card-icon",children:c.jsx(Nl,{size:32})}),c.jsxs("div",{className:"card-content",children:[c.jsx("h3",{children:"Produtos com Estoque Baixo"}),c.jsx("p",{className:"card-value",children:w.lowStockItems})]})]}),c.jsxs("div",{className:"summary-card critical",children:[c.jsx("div",{className:"card-icon",children:c.jsx(Nl,{size:32})}),c.jsxs("div",{className:"card-content",children:[c.jsx("h3",{children:"Produtos Sem Estoque"}),c.jsx("p",{className:"card-value",children:w.outOfStockItems})]})]})]}),c.jsxs("div",{className:"report-sections",children:[c.jsxs("div",{className:"report-section",children:[c.jsx("h3",{children:"Produtos Mais Vendidos"}),w.topSellingProducts.length>0?c.jsxs("table",{className:"report-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Produto"}),c.jsx("th",{children:"Quantidade Vendida"}),c.jsx("th",{children:"Receita Total"})]})}),c.jsx("tbody",{children:w.topSellingProducts.map((G,ee)=>c.jsxs("tr",{children:[c.jsx("td",{children:G.productName}),c.jsx("td",{children:G.quantitySold}),c.jsx("td",{children:$(G.totalRevenue)})]},ee))})]}):c.jsx("p",{children:"Nenhuma venda registrada"})]}),c.jsxs("div",{className:"report-section",children:[c.jsx("h3",{children:"Estoque por Categoria"}),w.stockByCategory.length>0?c.jsxs("table",{className:"report-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Categoria"}),c.jsx("th",{children:"Quantidade"}),c.jsx("th",{children:"Valor Total"})]})}),c.jsx("tbody",{children:w.stockByCategory.map((G,ee)=>c.jsxs("tr",{children:[c.jsx("td",{children:G.category}),c.jsx("td",{children:G.quantity}),c.jsx("td",{children:$(G.value)})]},ee))})]}):c.jsx("p",{children:"Nenhuma categoria cadastrada"})]})]})]}):c.jsxs("div",{className:"loading-state",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Carregando relatrio..."})]})})]})]})},Gde=()=>{const{user:t}=ji(),[e,n]=_.useState([]),[r,a]=_.useState([]),[s,l]=_.useState(!0),[d,h]=_.useState(null);return _.useEffect(()=>{(async()=>{if(!t?.uid){l(!1);return}try{l(!0),h(null);const[p,v]=await Promise.all([pL(t.uid),vL(t.uid)]);n(p),a(v)}catch(p){console.error("Erro ao carregar histrico:",p),h("No foi possvel carregar o histrico. Tente novamente mais tarde.")}finally{l(!1)}})()},[t]),s?c.jsxs("div",{className:"history-page",children:[c.jsxs("div",{className:"history-header",children:[c.jsx("h1",{className:"history-title",children:"Histrico de Compras e Servios"}),c.jsx("p",{className:"history-subtitle",children:"Visualize todo o seu histrico de transaes e servios contratados"})]}),c.jsx("div",{className:"history-loading",children:c.jsx("p",{children:"Carregando histrico..."})})]}):d?c.jsxs("div",{className:"history-page",children:[c.jsxs("div",{className:"history-header",children:[c.jsx("h1",{className:"history-title",children:"Histrico de Compras e Servios"}),c.jsx("p",{className:"history-subtitle",children:"Visualize todo o seu histrico de transaes e servios contratados"})]}),c.jsx("div",{className:"history-error",children:c.jsx("p",{children:d})})]}):c.jsxs("div",{className:"history-page",children:[c.jsxs("div",{className:"history-header",children:[c.jsx("h1",{className:"history-title",children:"Histrico de Compras e Servios"}),c.jsx("p",{className:"history-subtitle",children:"Visualize todo o seu histrico de transaes e servios contratados"})]}),c.jsxs("div",{className:"history-content",children:[c.jsxs("div",{className:"history-section",children:[c.jsxs("div",{className:"history-section-header",children:[c.jsx(Th,{size:24,className:"history-section-icon"}),c.jsx("h2",{className:"history-section-title",children:"Compras Realizadas"})]}),c.jsx("div",{className:"history-table-container",children:c.jsxs("table",{className:"history-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Data"}),c.jsx("th",{children:"Servio"}),c.jsx("th",{children:"Valor"}),c.jsx("th",{children:"Status"})]})}),c.jsx("tbody",{children:e.length>0?e.map(f=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsxs("div",{className:"history-date",children:[c.jsx(ha,{size:16}),c.jsx("span",{children:new Date(f.date).toLocaleDateString("pt-BR")})]})}),c.jsx("td",{children:f.service}),c.jsxs("td",{className:"history-amount",children:["R$ ",f.amount.toFixed(2).replace(".",",")]}),c.jsx("td",{children:c.jsx("span",{className:`history-status history-status-${f.status.toLowerCase()}`,children:f.status})})]},f.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"history-empty",children:"Nenhuma compra encontrada"})})})]})})]}),c.jsxs("div",{className:"history-section",children:[c.jsxs("div",{className:"history-section-header",children:[c.jsx(Ah,{size:24,className:"history-section-icon"}),c.jsx("h2",{className:"history-section-title",children:"Servios Contratados"})]}),c.jsx("div",{className:"history-services-list",children:r.length>0?r.map(f=>c.jsxs("div",{className:"history-service-card",children:[c.jsxs("div",{className:"history-service-header",children:[c.jsxs("div",{className:"history-service-info",children:[c.jsx("h3",{className:"history-service-type",children:f.type}),c.jsx("p",{className:"history-service-description",children:f.description})]}),c.jsx("span",{className:`history-status history-status-${f.status.toLowerCase()}`,children:f.status})]}),c.jsx("div",{className:"history-service-footer",children:c.jsxs("span",{className:"history-service-date",children:[c.jsx(ha,{size:14}),new Date(f.date).toLocaleDateString("pt-BR")]})})]},f.id)):c.jsx("div",{className:"history-empty-message",children:"Nenhum servio encontrado"})})]})]})]})},Wde=()=>{const{user:t,updateUser:e}=ji(),[n,r]=_.useState(!1),[a,s]=_.useState(!1),[l,d]=_.useState(null),[h,f]=_.useState({name:t?.name||"",email:t?.email||"",phone:t?.phone||""});_.useEffect(()=>{t&&f({name:t.name||"",email:t.email||"",phone:t.phone||""})},[t]);const p=w=>{const{name:j,value:E}=w.target;f(S=>({...S,[j]:E}))},v=async()=>{try{if(s(!0),d(null),!h.name||h.name.trim().length===0){d({type:"error",text:"O nome  obrigatrio"}),s(!1);return}if(h.name.trim().length<2){d({type:"error",text:"O nome deve ter pelo menos 2 caracteres"}),s(!1);return}await e({name:h.name.trim(),phone:h.phone.trim()}),d({type:"success",text:"Perfil atualizado com sucesso!"}),r(!1),setTimeout(()=>{d(null)},3e3)}catch(w){d({type:"error",text:w.message||"Erro ao salvar perfil. Tente novamente."})}finally{s(!1)}},b=()=>{f({name:t?.name||"",email:t?.email||"",phone:t?.phone||""}),r(!1),d(null)};return c.jsxs("div",{className:"profile-page",children:[c.jsxs("div",{className:"profile-header",children:[c.jsx("h1",{className:"profile-title",children:"Meu Perfil"}),c.jsx("p",{className:"profile-subtitle",children:"Gerencie suas informaes pessoais e configuraes da conta"})]}),c.jsxs("div",{className:"profile-content",children:[l&&c.jsxs("div",{className:`profile-message profile-message-${l.type}`,children:[l.type==="success"?c.jsx(JM,{size:20}):c.jsx(YH,{size:20}),c.jsx("span",{children:l.text})]}),c.jsxs("div",{className:"profile-card",children:[c.jsxs("div",{className:"profile-card-header",children:[c.jsx("div",{className:"profile-avatar",children:c.jsx(Cl,{size:48})}),c.jsx("div",{className:"profile-actions",children:n?c.jsxs("div",{className:"profile-edit-actions",children:[c.jsxs("button",{className:"profile-save-button",onClick:v,disabled:a,children:[c.jsx(sL,{size:18}),a?"Salvando...":"Salvar"]}),c.jsxs("button",{className:"profile-cancel-button",onClick:b,children:[c.jsx(ou,{size:18}),"Cancelar"]})]}):c.jsxs("button",{className:"profile-edit-button",onClick:()=>r(!0),children:[c.jsx(Jl,{size:18}),"Editar Perfil"]})})]}),c.jsxs("div",{className:"profile-form",children:[c.jsxs("div",{className:"profile-field",children:[c.jsx("label",{htmlFor:"name",className:"profile-label",children:"Nome Completo"}),n?c.jsx("input",{id:"name",name:"name",type:"text",value:h.name,onChange:p,className:"profile-input",placeholder:"Digite seu nome completo"}):c.jsx("div",{className:"profile-value",children:t?.name||"No informado"})]}),c.jsxs("div",{className:"profile-field",children:[c.jsx("label",{htmlFor:"email",className:"profile-label",children:"Email"}),n?c.jsx("input",{id:"email",name:"email",type:"email",value:h.email,onChange:p,className:"profile-input",placeholder:"Digite seu email",disabled:!0}):c.jsx("div",{className:"profile-value",children:t?.email||"No informado"}),n&&c.jsx("p",{className:"profile-field-hint",children:"O email no pode ser alterado"})]}),c.jsxs("div",{className:"profile-field",children:[c.jsx("label",{htmlFor:"phone",className:"profile-label",children:"Telefone"}),n?c.jsx("input",{id:"phone",name:"phone",type:"tel",value:h.phone,onChange:p,className:"profile-input",placeholder:"Digite seu telefone"}):c.jsx("div",{className:"profile-value",children:t?.phone||"No informado"})]}),c.jsxs("div",{className:"profile-field",children:[c.jsx("label",{className:"profile-label",children:"Tipo de Usurio"}),c.jsxs("div",{className:"profile-value profile-role",children:[t?.role==="admin"&&"Administrador",t?.role==="gerente"&&"Gerente",t?.role==="caixa"&&"Caixa",t?.role==="lavador"&&"Lavador",t?.role==="user"&&"Cliente",!t?.role&&"No definido"]})]})]})]}),c.jsxs("div",{className:"profile-card",children:[c.jsx("h2",{className:"profile-card-title",children:"Informaes da Conta"}),c.jsxs("div",{className:"profile-info-grid",children:[c.jsxs("div",{className:"profile-info-item",children:[c.jsx("span",{className:"profile-info-label",children:"Data de Cadastro"}),c.jsx("span",{className:"profile-info-value",children:t?.createdAt?new Date(t.createdAt).toLocaleDateString("pt-BR"):"No disponvel"})]}),c.jsxs("div",{className:"profile-info-item",children:[c.jsx("span",{className:"profile-info-label",children:"ltimo Acesso"}),c.jsx("span",{className:"profile-info-value",children:t?.lastLogin?new Date(t.lastLogin).toLocaleDateString("pt-BR"):"No disponvel"})]})]})]})]})]})},Yde=()=>{const t={address:{street:"Rua Exemplo, 123",neighborhood:"Centro",city:"So Paulo",state:"SP",zipCode:"01310-100"},phone:{primary:"(11) 1234-5678",secondary:"(11) 9876-5432",whatsapp:"(11) 98765-4321"},email:{primary:"contato@dolphinfast.com.br",support:"suporte@dolphinfast.com.br"},hours:{weekdays:"Segunda a Sexta: 08:00 - 18:00",saturday:"Sbado: 08:00 - 14:00",sunday:"Domingo: Fechado"},social:{facebook:"https://facebook.com/dolphinfast",instagram:"https://instagram.com/dolphinfast",twitter:"https://twitter.com/dolphinfast"}};return c.jsxs("div",{className:"contact-info-page",children:[c.jsxs("div",{className:"contact-info-header",children:[c.jsx("h1",{className:"contact-info-title",children:"Informaes de Contato"}),c.jsx("p",{className:"contact-info-subtitle",children:"Entre em contato conosco atravs dos canais abaixo"})]}),c.jsxs("div",{className:"contact-info-content",children:[c.jsxs("div",{className:"contact-info-card",children:[c.jsxs("div",{className:"contact-info-card-header",children:[c.jsx(aL,{size:24,className:"contact-info-icon"}),c.jsx("h2",{className:"contact-info-card-title",children:"Endereo"})]}),c.jsxs("div",{className:"contact-info-card-body",children:[c.jsx("p",{className:"contact-info-text",children:t.address.street}),c.jsx("p",{className:"contact-info-text",children:t.address.neighborhood}),c.jsxs("p",{className:"contact-info-text",children:[t.address.city," - ",t.address.state]}),c.jsxs("p",{className:"contact-info-text",children:["CEP: ",t.address.zipCode]})]})]}),c.jsxs("div",{className:"contact-info-card",children:[c.jsxs("div",{className:"contact-info-card-header",children:[c.jsx(Bh,{size:24,className:"contact-info-icon"}),c.jsx("h2",{className:"contact-info-card-title",children:"Telefones"})]}),c.jsxs("div",{className:"contact-info-card-body",children:[c.jsxs("div",{className:"contact-info-item",children:[c.jsx("span",{className:"contact-info-label",children:"Principal:"}),c.jsx("a",{href:`tel:${t.phone.primary}`,className:"contact-info-link",children:t.phone.primary})]}),c.jsxs("div",{className:"contact-info-item",children:[c.jsx("span",{className:"contact-info-label",children:"Secundrio:"}),c.jsx("a",{href:`tel:${t.phone.secondary}`,className:"contact-info-link",children:t.phone.secondary})]}),c.jsxs("div",{className:"contact-info-item",children:[c.jsx("span",{className:"contact-info-label",children:"WhatsApp:"}),c.jsx("a",{href:`https://wa.me/${t.phone.whatsapp.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"contact-info-link contact-info-whatsapp",children:t.phone.whatsapp})]})]})]}),c.jsxs("div",{className:"contact-info-card",children:[c.jsxs("div",{className:"contact-info-card-header",children:[c.jsx(gu,{size:24,className:"contact-info-icon"}),c.jsx("h2",{className:"contact-info-card-title",children:"E-mail"})]}),c.jsxs("div",{className:"contact-info-card-body",children:[c.jsxs("div",{className:"contact-info-item",children:[c.jsx("span",{className:"contact-info-label",children:"Contato:"}),c.jsx("a",{href:`mailto:${t.email.primary}`,className:"contact-info-link",children:t.email.primary})]}),c.jsxs("div",{className:"contact-info-item",children:[c.jsx("span",{className:"contact-info-label",children:"Suporte:"}),c.jsx("a",{href:`mailto:${t.email.support}`,className:"contact-info-link",children:t.email.support})]})]})]}),c.jsxs("div",{className:"contact-info-card",children:[c.jsxs("div",{className:"contact-info-card-header",children:[c.jsx(ha,{size:24,className:"contact-info-icon"}),c.jsx("h2",{className:"contact-info-card-title",children:"Horrio de Funcionamento"})]}),c.jsxs("div",{className:"contact-info-card-body",children:[c.jsx("p",{className:"contact-info-text",children:t.hours.weekdays}),c.jsx("p",{className:"contact-info-text",children:t.hours.saturday}),c.jsx("p",{className:"contact-info-text",children:t.hours.sunday})]})]}),c.jsxs("div",{className:"contact-info-card contact-info-social",children:[c.jsx("div",{className:"contact-info-card-header",children:c.jsx("h2",{className:"contact-info-card-title",children:"Redes Sociais"})}),c.jsx("div",{className:"contact-info-card-body",children:c.jsxs("div",{className:"contact-info-social-links",children:[c.jsxs("a",{href:t.social.facebook,target:"_blank",rel:"noopener noreferrer",className:"contact-info-social-link",children:[c.jsx(nL,{size:24}),c.jsx("span",{children:"Facebook"})]}),c.jsxs("a",{href:t.social.instagram,target:"_blank",rel:"noopener noreferrer",className:"contact-info-social-link",children:[c.jsx(rL,{size:24}),c.jsx("span",{children:"Instagram"})]}),c.jsxs("a",{href:t.social.twitter,target:"_blank",rel:"noopener noreferrer",className:"contact-info-social-link",children:[c.jsx(cL,{size:24}),c.jsx("span",{children:"Twitter"})]})]})})]})]})]})},Xde=()=>{const{user:t}=ji(),[e,n]=_.useState("venda"),[r,a]=_.useState([]),[s,l]=_.useState("pix"),[d,h]=_.useState(""),[f,p]=_.useState(0),[v,b]=_.useState(""),[w,j]=_.useState(void 0),[E,S]=_.useState(""),[T,C]=_.useState([]),[I,U]=_.useState(!1),[L,B]=_.useState([]),[P,M]=_.useState(!0),[D,z]=_.useState([]),[k,F]=_.useState(!0),[R,Q]=_.useState(null),[me,$]=_.useState(!0),[G,ee]=_.useState(""),pe=L.filter(re=>re.status==="active").map(re=>({id:`estoque_${re.id}`,name:re.name,price:re.unitPrice,category:re.category,stock:re.currentStock,description:re.description}));_.useEffect(()=>{(async()=>{try{M(!0);const se=await qh();B(se)}catch(se){console.error("Erro ao carregar produtos do estoque:",se),ee("Erro ao carregar produtos")}finally{M(!1)}})()},[]),_.useEffect(()=>{(async()=>{try{F(!0);const se=await RK();z(se)}catch(se){console.error("Erro ao carregar servios:",se),ee("Erro ao carregar servios")}finally{F(!1)}})()},[]),_.useEffect(()=>{const se=setTimeout(async()=>{if(E.trim().length>=2)try{const Je=await QK(E);C(Je),U(!0)}catch(Je){console.error("Erro ao buscar clientes:",Je),C([])}else C([]),U(!1)},300);return()=>clearTimeout(se)},[E]),_.useEffect(()=>{(async()=>{if(t?.uid)try{$(!0);let se=await Jc(t.uid);se||(await kK(t.uid,t.name||"",0),se=await Jc(t.uid)),se&&Q(se)}catch(se){console.error("Erro ao carregar caixa:",se),ee("Erro ao carregar informaes do caixa")}finally{$(!1)}})()},[t]);const Se=pe.filter(re=>re.name.toLowerCase().includes(d.toLowerCase())),K=D.filter(re=>re.name.toLowerCase().includes(d.toLowerCase())),oe=(re,se)=>{if(se==="product"&&"stock"in re&&re.stock<=0){alert("Produto sem estoque!");return}const Je=r.find(Ne=>Ne.id===re.id&&Ne.type===se);if(Je){if(se==="product"&&"stock"in re&&Je.quantity>=re.stock){alert("Quantidade indisponvel no estoque!");return}a(r.map(Ne=>Ne.id===re.id&&Ne.type===se?{...Ne,quantity:Ne.quantity+1,subtotal:(Ne.quantity+1)*Ne.price}:Ne))}else a([...r,{id:re.id,type:se,name:re.name,price:re.price,quantity:1,subtotal:re.price}])},ve=async()=>{try{const re=await qh();B(re)}catch(re){console.error("Erro ao recarregar produtos do estoque:",re)}},ge=(re,se,Je)=>{a(r.map(Ne=>{if(Ne.id===re&&Ne.type===se){const Pt=Ne.quantity+Je;if(Pt<=0)return null;if(se==="product"){const It=pe.find(or=>or.id===re);if(It&&Pt>It.stock)return alert("Quantidade indisponvel no estoque!"),Ne}return{...Ne,quantity:Pt,subtotal:Pt*Ne.price}}return Ne}).filter(Boolean))},Te=(re,se)=>{a(r.filter(Je=>!(Je.id===re&&Je.type===se)))},De=r.reduce((re,se)=>re+se.subtotal,0),Re=De-f,Tt=async()=>{if(r.length===0){alert("Adicione itens ao carrinho antes de finalizar a venda!");return}if(Re<=0){alert("Total deve ser maior que zero!");return}if(!t?.uid||!R){alert("Erro: usurio ou caixa no encontrado!");return}try{ee("");const re={date:new Date,items:[...r],subtotal:De,discount:f>0?f:void 0,total:Re,payment:{method:s,amount:Re},customerId:w||void 0,customerName:v||void 0,employeeId:t.uid,employeeName:t.name||"",status:"completed"},se=await DK(re,t.uid),Je={...re,id:se};await LK(R.id,Je);const Ne=await Jc(t.uid);Ne&&Q(Ne),await ve(),a([]),p(0),b(""),j(void 0),S(""),C([]),U(!1),l("pix"),alert("Venda realizada com sucesso!")}catch(re){console.error("Erro ao finalizar venda:",re);const se=re instanceof Error?re.message:"Erro ao finalizar venda. Tente novamente.";ee(se),alert(se)}},ce=async()=>{if(!R||R.status==="closed"){alert("Caixa j est fechado!");return}if(!t?.uid){alert("Erro: usurio no encontrado!");return}try{ee("");const re=R.openingAmount+R.totalSales;await MK(R.id,re);const se=await Jc(t.uid);se&&Q(se),alert("Caixa fechado com sucesso!")}catch(re){console.error("Erro ao fechar caixa:",re);const se=re instanceof Error?re.message:"Erro ao fechar caixa. Tente novamente.";ee(se),alert(se)}},Ve=()=>R?R.sales:[];return c.jsxs("div",{className:"pdv-page",children:[c.jsxs("div",{className:"pdv-header",children:[c.jsx("h1",{className:"pdv-title",children:"PDV - Ponto de Venda"}),c.jsx("p",{className:"pdv-subtitle",children:"Gerencie vendas, pagamentos e caixa"}),G&&c.jsx("div",{className:"pdv-error-message",style:{marginTop:"10px",padding:"10px",backgroundColor:"#fee",color:"#c33",borderRadius:"4px"},children:G})]}),c.jsxs("div",{className:"pdv-tabs",children:[c.jsxs("button",{className:`pdv-tab ${e==="venda"?"active":""}`,onClick:()=>n("venda"),children:[c.jsx(oL,{size:18}),"Nova Venda"]}),c.jsxs("button",{className:`pdv-tab ${e==="caixa"?"active":""}`,onClick:()=>n("caixa"),children:[c.jsx(Ul,{size:18}),"Gerenciamento de Caixa"]}),c.jsxs("button",{className:`pdv-tab ${e==="relatorio"?"active":""}`,onClick:()=>n("relatorio"),children:[c.jsx(Ah,{size:18}),"Relatrios"]})]}),e==="venda"&&c.jsxs("div",{className:"pdv-content",children:[c.jsxs("div",{className:"pdv-left",children:[c.jsxs("div",{className:"pdv-search",children:[c.jsx(ey,{className:"pdv-search-icon"}),c.jsx("input",{type:"text",placeholder:"Buscar produtos ou servios...",value:d,onChange:re=>h(re.target.value),className:"pdv-search-input"})]}),c.jsxs("div",{className:"pdv-items",children:[c.jsxs("div",{className:"pdv-section",children:[c.jsxs("div",{className:"pdv-section-header",children:[c.jsx("h3",{className:"pdv-section-title",children:"Produtos"}),P&&c.jsx("span",{className:"pdv-loading-text",children:"Carregando produtos..."})]}),Se.length===0&&!P?c.jsx("p",{className:"pdv-no-items",children:"Nenhum produto encontrado"}):c.jsx("div",{className:"pdv-items-grid",children:Se.map(re=>c.jsxs("div",{className:"pdv-item-card",children:[c.jsxs("div",{className:"pdv-item-info",children:[c.jsx("h4",{className:"pdv-item-name",children:re.name}),c.jsx("p",{className:"pdv-item-category",children:re.category}),c.jsxs("p",{className:"pdv-item-price",children:["R$ ",re.price.toFixed(2).replace(".",",")]}),c.jsxs("p",{className:`pdv-item-stock ${re.stock===0?"out-of-stock":""}`,children:["Estoque: ",re.stock]}),re.description&&c.jsx("p",{className:"pdv-item-description",children:re.description})]}),c.jsx("button",{className:"pdv-add-button",onClick:()=>oe(re,"product"),disabled:re.stock===0,children:c.jsx(jo,{size:18})})]},re.id))})]}),c.jsxs("div",{className:"pdv-section",children:[c.jsxs("div",{className:"pdv-section-header",children:[c.jsx("h3",{className:"pdv-section-title",children:"Servios"}),k&&c.jsx("span",{className:"pdv-loading-text",children:"Carregando servios..."})]}),K.length===0&&!k?c.jsx("p",{className:"pdv-no-items",children:"Nenhum servio encontrado"}):c.jsx("div",{className:"pdv-items-grid",children:K.map(re=>c.jsxs("div",{className:"pdv-item-card",children:[c.jsxs("div",{className:"pdv-item-info",children:[c.jsx("h4",{className:"pdv-item-name",children:re.name}),c.jsx("p",{className:"pdv-item-category",children:re.category}),c.jsxs("p",{className:"pdv-item-price",children:["R$ ",re.price.toFixed(2).replace(".",",")]}),re.duration&&c.jsxs("p",{className:"pdv-item-duration",children:[c.jsx(ha,{size:14})," ",re.duration," min"]})]}),c.jsx("button",{className:"pdv-add-button",onClick:()=>oe(re,"service"),children:c.jsx(jo,{size:18})})]},re.id))})]})]})]}),c.jsx("div",{className:"pdv-right",children:c.jsxs("div",{className:"pdv-cart",children:[c.jsx("h3",{className:"pdv-cart-title",children:"Carrinho"}),c.jsx("div",{className:"pdv-cart-items",children:r.length===0?c.jsx("p",{className:"pdv-cart-empty",children:"Carrinho vazio"}):r.map(re=>c.jsxs("div",{className:"pdv-cart-item",children:[c.jsxs("div",{className:"pdv-cart-item-info",children:[c.jsx("h4",{className:"pdv-cart-item-name",children:re.name}),c.jsxs("p",{className:"pdv-cart-item-price",children:["R$ ",re.price.toFixed(2).replace(".",",")]})]}),c.jsxs("div",{className:"pdv-cart-item-controls",children:[c.jsx("button",{className:"pdv-quantity-button",onClick:()=>ge(re.id,re.type,-1),children:c.jsx(iL,{size:14})}),c.jsx("span",{className:"pdv-quantity",children:re.quantity}),c.jsx("button",{className:"pdv-quantity-button",onClick:()=>ge(re.id,re.type,1),children:c.jsx(jo,{size:14})}),c.jsx("button",{className:"pdv-remove-button",onClick:()=>Te(re.id,re.type),children:c.jsx(ou,{size:16})})]}),c.jsxs("p",{className:"pdv-cart-item-subtotal",children:["R$ ",re.subtotal.toFixed(2).replace(".",",")]})]},`${re.id}-${re.type}`))}),c.jsxs("div",{className:"pdv-cart-summary",children:[c.jsxs("div",{className:"pdv-summary-row",children:[c.jsx("span",{children:"Subtotal:"}),c.jsxs("span",{children:["R$ ",De.toFixed(2).replace(".",",")]})]}),c.jsxs("div",{className:"pdv-summary-row",children:[c.jsx("input",{type:"number",placeholder:"Desconto",value:f||"",onChange:re=>p(Number(re.target.value)),className:"pdv-discount-input",min:"0",max:De}),c.jsxs("span",{children:["R$ ",f.toFixed(2).replace(".",",")]})]}),c.jsxs("div",{className:"pdv-summary-row pdv-total",children:[c.jsx("span",{children:"Total:"}),c.jsxs("span",{children:["R$ ",Re.toFixed(2).replace(".",",")]})]})]}),c.jsxs("div",{className:"pdv-payment-section",children:[c.jsx("h4",{className:"pdv-payment-title",children:"Mtodo de Pagamento"}),c.jsxs("div",{className:"pdv-payment-methods",children:[c.jsx("button",{className:`pdv-payment-button ${s==="pix"?"active":""}`,onClick:()=>l("pix"),children:"PIX"}),c.jsx("button",{className:`pdv-payment-button ${s==="debito"?"active":""}`,onClick:()=>l("debito"),children:"Dbito"}),c.jsx("button",{className:`pdv-payment-button ${s==="credito"?"active":""}`,onClick:()=>l("credito"),children:"Crdito"}),c.jsx("button",{className:`pdv-payment-button ${s==="dinheiro"?"active":""}`,onClick:()=>l("dinheiro"),children:"Dinheiro"})]}),c.jsxs("div",{className:"pdv-customer-section",children:[c.jsxs("div",{className:"pdv-customer-search-wrapper",children:[c.jsx("input",{type:"text",placeholder:"Buscar cliente por nome, telefone ou email...",value:E,onChange:re=>{S(re.target.value),re.target.value.trim().length===0&&(b(""),j(void 0))},onFocus:()=>{T.length>0&&U(!0)},className:"pdv-customer-input"}),I&&T.length>0&&c.jsx("div",{className:"pdv-customer-results",children:T.map(re=>c.jsxs("div",{className:"pdv-customer-result-item",onClick:()=>{b(re.name),j(re.id),S(re.name),U(!1)},children:[c.jsx("div",{className:"pdv-customer-result-name",children:re.name}),c.jsxs("div",{className:"pdv-customer-result-info",children:[re.phone&&c.jsx("span",{children:re.phone}),re.email&&c.jsx("span",{children:re.email})]})]},re.id))})]}),v&&c.jsxs("div",{className:"pdv-selected-customer",children:["Cliente selecionado: ",c.jsx("strong",{children:v}),c.jsx("button",{type:"button",onClick:()=>{b(""),j(void 0),S("")},className:"pdv-clear-customer",children:c.jsx(ou,{size:14})})]})]}),c.jsxs("button",{className:"pdv-finish-button",onClick:Tt,children:[c.jsx(Ul,{size:18}),"Finalizar Venda"]})]})]})})]}),e==="caixa"&&c.jsxs("div",{className:"pdv-cash-section",children:[me?c.jsx("p",{children:"Carregando informaes do caixa..."}):R?c.jsx("div",{className:"pdv-cash-info",children:c.jsxs("div",{className:"pdv-cash-card",children:[c.jsx("h3",{className:"pdv-cash-card-title",children:"Informaes do Caixa"}),c.jsxs("div",{className:"pdv-cash-details",children:[c.jsxs("div",{className:"pdv-cash-detail",children:[c.jsx("span",{className:"pdv-cash-label",children:"Data:"}),c.jsx("span",{className:"pdv-cash-value",children:new Date(R.date).toLocaleDateString("pt-BR")})]}),c.jsxs("div",{className:"pdv-cash-detail",children:[c.jsx("span",{className:"pdv-cash-label",children:"Status:"}),c.jsx("span",{className:`pdv-cash-status ${R.status==="open"?"open":"closed"}`,children:R.status==="open"?"Aberto":"Fechado"})]}),c.jsxs("div",{className:"pdv-cash-detail",children:[c.jsx("span",{className:"pdv-cash-label",children:"Valor de Abertura:"}),c.jsxs("span",{className:"pdv-cash-value",children:["R$ ",R.openingAmount.toFixed(2).replace(".",",")]})]}),c.jsxs("div",{className:"pdv-cash-detail",children:[c.jsx("span",{className:"pdv-cash-label",children:"Total de Vendas:"}),c.jsxs("span",{className:"pdv-cash-value",children:["R$ ",R.totalSales.toFixed(2).replace(".",",")]})]}),R.closingAmount!==void 0&&c.jsxs("div",{className:"pdv-cash-detail",children:[c.jsx("span",{className:"pdv-cash-label",children:"Valor de Fechamento:"}),c.jsxs("span",{className:"pdv-cash-value",children:["R$ ",R.closingAmount.toFixed(2).replace(".",",")]})]})]}),c.jsxs("div",{className:"pdv-payments-breakdown",children:[c.jsx("h4",{className:"pdv-breakdown-title",children:"Pagamentos por Mtodo"}),c.jsxs("div",{className:"pdv-breakdown-grid",children:[c.jsxs("div",{className:"pdv-breakdown-item",children:[c.jsx("span",{children:"PIX:"}),c.jsxs("span",{children:["R$ ",R.totalPayments.pix.toFixed(2).replace(".",",")]})]}),c.jsxs("div",{className:"pdv-breakdown-item",children:[c.jsx("span",{children:"Dbito:"}),c.jsxs("span",{children:["R$ ",R.totalPayments.debito.toFixed(2).replace(".",",")]})]}),c.jsxs("div",{className:"pdv-breakdown-item",children:[c.jsx("span",{children:"Crdito:"}),c.jsxs("span",{children:["R$ ",R.totalPayments.credito.toFixed(2).replace(".",",")]})]}),c.jsxs("div",{className:"pdv-breakdown-item",children:[c.jsx("span",{children:"Dinheiro:"}),c.jsxs("span",{children:["R$ ",R.totalPayments.dinheiro.toFixed(2).replace(".",",")]})]})]})]}),R.status==="open"&&c.jsxs("button",{className:"pdv-close-cash-button",onClick:ce,children:[c.jsx(ou,{size:18}),"Fechar Caixa"]})]})}):c.jsx("p",{children:"Nenhum caixa encontrado para hoje. Um novo caixa ser criado automaticamente."}),G&&c.jsx("p",{className:"pdv-error",children:G})]}),e==="relatorio"&&c.jsxs("div",{className:"pdv-report-section",children:[c.jsx("h3",{className:"pdv-report-title",children:"Relatrio Dirio"}),c.jsxs("div",{className:"pdv-report-content",children:[c.jsxs("div",{className:"pdv-report-summary",children:[c.jsxs("div",{className:"pdv-report-card",children:[c.jsx("h4",{children:"Total de Vendas"}),c.jsxs("p",{className:"pdv-report-value",children:["R$ ",R?.totalSales.toFixed(2).replace(".",",")||"0,00"]})]}),c.jsxs("div",{className:"pdv-report-card",children:[c.jsx("h4",{children:"Nmero de Transaes"}),c.jsx("p",{className:"pdv-report-value",children:R?.sales.length||0})]})]}),c.jsxs("div",{className:"pdv-sales-list",children:[c.jsx("h4",{className:"pdv-sales-list-title",children:"Vendas do Dia"}),Ve().length===0?c.jsx("p",{className:"pdv-no-sales",children:"Nenhuma venda registrada hoje"}):c.jsx("div",{className:"pdv-sales-table",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Hora"}),c.jsx("th",{children:"Itens"}),c.jsx("th",{children:"Total"}),c.jsx("th",{children:"Pagamento"}),c.jsx("th",{children:"Cliente"})]})}),c.jsx("tbody",{children:Ve().map(re=>c.jsxs("tr",{children:[c.jsx("td",{children:new Date(re.date).toLocaleTimeString("pt-BR")}),c.jsxs("td",{children:[re.items.length," itens"]}),c.jsxs("td",{children:["R$ ",re.total.toFixed(2).replace(".",",")]}),c.jsx("td",{children:re.payment.method.toUpperCase()}),c.jsx("td",{children:re.customerName||"No informado"})]},re.id))})]})})]})]})]})]})},Qde=()=>{const[t,e]=_.useState([]),[n,r]=_.useState([]),[a,s]=_.useState(null),[l,d]=_.useState(""),[h,f]=_.useState(!0),[p,v]=_.useState(null),[b,w]=_.useState(!1),[j,E]=_.useState({}),[S,T]=_.useState({purchases:[],services:[]}),[C,I]=_.useState(!1);_.useEffect(()=>{U()},[]),_.useEffect(()=>{if(l.trim()==="")r(t);else{const z=l.toLowerCase(),k=t.filter(F=>{const R=F.name.toLowerCase().includes(z),Q=F.phone?.toLowerCase().includes(z),me=F.email?.toLowerCase().includes(z),$=F.cpf?.toLowerCase().includes(z);return R||Q||me||$});r(k)}},[l,t]);const U=async()=>{try{f(!0),v(null);const z=await Mv();e(z),r(z)}catch(z){console.error("Erro ao carregar clientes:",z),v("No foi possvel carregar os clientes. Tente novamente mais tarde.")}finally{f(!1)}},L=async z=>{s(z),w(!1),E({}),I(!0);try{const[k,F]=await Promise.all([pL(z.id),vL(z.id)]);T({purchases:k,services:F})}catch(k){console.error("Erro ao carregar histrico:",k),T({purchases:[],services:[]})}finally{I(!1)}},B=()=>{a&&(w(!0),E({name:a.name,email:a.email,phone:a.phone,whatsapp:a.whatsapp,cpf:a.cpf,birthDate:a.birthDate,address:a.address,preferences:a.preferences}))},P=async()=>{if(a)try{f(!0),await gL(a.id,j),await U();const z=await XK(a.id);z&&s(z),w(!1),E({})}catch(z){console.error("Erro ao atualizar cliente:",z),v("No foi possvel atualizar o cliente. Tente novamente.")}finally{f(!1)}},M=()=>{w(!1),E({})},D=()=>{s(null),w(!1),E({}),T({purchases:[],services:[]})};return h&&t.length===0?c.jsxs("div",{className:"area-cliente-page",children:[c.jsxs("div",{className:"area-cliente-header",children:[c.jsx("h1",{className:"area-cliente-title",children:"rea do Cliente"}),c.jsx("p",{className:"area-cliente-subtitle",children:"Gerencie informaes e histrico dos clientes"})]}),c.jsxs("div",{className:"area-cliente-loading",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Carregando clientes..."})]})]}):p&&t.length===0?c.jsxs("div",{className:"area-cliente-page",children:[c.jsxs("div",{className:"area-cliente-header",children:[c.jsx("h1",{className:"area-cliente-title",children:"rea do Cliente"}),c.jsx("p",{className:"area-cliente-subtitle",children:"Gerencie informaes e histrico dos clientes"})]}),c.jsxs("div",{className:"area-cliente-error",children:[c.jsx("p",{children:p}),c.jsx("button",{className:"btn-retry",onClick:U,children:"Tentar Novamente"})]})]}):a?c.jsxs("div",{className:"area-cliente-page",children:[c.jsxs("div",{className:"area-cliente-header",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"area-cliente-title",children:"Detalhes do Cliente"}),c.jsx("p",{className:"area-cliente-subtitle",children:"Informaes completas e histrico de transaes"})]}),c.jsxs("button",{className:"btn-back",onClick:D,children:[c.jsx(ou,{size:18}),"Voltar"]})]}),p&&c.jsxs("div",{className:"error-banner",children:[c.jsx("span",{children:p}),c.jsx("button",{onClick:()=>v(null),children:""})]}),c.jsxs("div",{className:"customer-details-view",children:[c.jsxs("div",{className:"customer-details-card",children:[c.jsxs("div",{className:"details-header",children:[c.jsx("div",{className:"customer-avatar",children:c.jsx(Cl,{size:32})}),c.jsxs("div",{className:"customer-name-section",children:[c.jsx("h2",{children:a.name}),c.jsx("div",{className:"customer-status",children:c.jsx("span",{className:`status-badge ${a.active?"active":"inactive"}`,children:a.active?"Ativo":"Inativo"})})]}),!b&&c.jsxs("button",{className:"btn-edit",onClick:B,children:[c.jsx(Jl,{size:18}),"Editar"]}),b&&c.jsxs("div",{className:"edit-actions",children:[c.jsxs("button",{className:"btn-save",onClick:P,disabled:h,children:[c.jsx(sL,{size:18}),"Salvar"]}),c.jsxs("button",{className:"btn-cancel",onClick:M,children:[c.jsx(ou,{size:18}),"Cancelar"]})]})]}),c.jsxs("div",{className:"details-content",children:[c.jsxs("div",{className:"detail-section",children:[c.jsxs("h3",{children:[c.jsx(Cl,{size:18}),"Informaes Pessoais"]}),c.jsxs("div",{className:"detail-grid",children:[c.jsxs("div",{className:"detail-item",children:[c.jsx("span",{className:"detail-label",children:"Nome Completo"}),b?c.jsx("input",{type:"text",className:"detail-input",value:j.name||"",onChange:z=>E({...j,name:z.target.value})}):c.jsx("span",{className:"detail-value",children:a.name})]}),c.jsxs("div",{className:"detail-item",children:[c.jsxs("span",{className:"detail-label",children:[c.jsx(gu,{size:14}),"Email"]}),b?c.jsx("input",{type:"email",className:"detail-input",value:j.email||"",onChange:z=>E({...j,email:z.target.value})}):c.jsx("span",{className:"detail-value",children:a.email})]}),c.jsxs("div",{className:"detail-item",children:[c.jsxs("span",{className:"detail-label",children:[c.jsx(Bh,{size:14}),"Telefone"]}),b?c.jsx("input",{type:"tel",className:"detail-input",value:j.phone||"",onChange:z=>E({...j,phone:z.target.value})}):c.jsx("span",{className:"detail-value",children:a.phone})]}),a.whatsapp&&c.jsxs("div",{className:"detail-item",children:[c.jsx("span",{className:"detail-label",children:"WhatsApp"}),b?c.jsx("input",{type:"tel",className:"detail-input",value:j.whatsapp||"",onChange:z=>E({...j,whatsapp:z.target.value})}):c.jsx("span",{className:"detail-value",children:a.whatsapp})]}),a.cpf&&c.jsxs("div",{className:"detail-item",children:[c.jsx("span",{className:"detail-label",children:"CPF"}),c.jsx("span",{className:"detail-value",children:a.cpf})]}),a.birthDate&&c.jsxs("div",{className:"detail-item",children:[c.jsx("span",{className:"detail-label",children:"Data de Nascimento"}),c.jsx("span",{className:"detail-value",children:new Date(a.birthDate).toLocaleDateString("pt-BR")})]})]})]}),a.address&&c.jsxs("div",{className:"detail-section",children:[c.jsxs("h3",{children:[c.jsx(aL,{size:18}),"Endereo"]}),c.jsxs("div",{className:"address-text",children:[a.address.street,", ",a.address.number,a.address.complement&&` - ${a.address.complement}`,c.jsx("br",{}),a.address.neighborhood,", ",a.address.city," - ",a.address.state,c.jsx("br",{}),"CEP: ",a.address.zipCode]})]}),c.jsxs("div",{className:"detail-section",children:[c.jsxs("h3",{children:[c.jsx(j_,{size:18}),"Programa de Fidelidade"]}),c.jsxs("div",{className:"loyalty-info",children:[c.jsxs("div",{className:"loyalty-card",children:[c.jsx("span",{className:"loyalty-label",children:"Pontos Disponveis"}),c.jsx("span",{className:"loyalty-value",children:a.loyaltyPoints})]}),c.jsxs("div",{className:"loyalty-card",children:[c.jsx("span",{className:"loyalty-label",children:"Total de Compras"}),c.jsx("span",{className:"loyalty-value",children:a.totalPurchases})]})]})]}),a.preferences?.observations&&c.jsxs("div",{className:"detail-section",children:[c.jsx("h3",{children:"Observaes"}),c.jsx("p",{className:"observations-text",children:a.preferences.observations})]})]})]}),c.jsxs("div",{className:"customer-history-section",children:[c.jsxs("h2",{className:"history-title",children:[c.jsx(ha,{size:24}),"Histrico de Transaes"]}),C?c.jsxs("div",{className:"history-loading",children:[c.jsx("div",{className:"spinner-small"}),c.jsx("p",{children:"Carregando histrico..."})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"history-subsection",children:[c.jsxs("h3",{children:[c.jsx(Th,{size:20}),"Compras Realizadas"]}),S.purchases.length>0?c.jsx("div",{className:"history-table-container",children:c.jsxs("table",{className:"history-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Data"}),c.jsx("th",{children:"Servio"}),c.jsx("th",{children:"Valor"}),c.jsx("th",{children:"Status"})]})}),c.jsx("tbody",{children:S.purchases.map(z=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsxs("div",{className:"history-date",children:[c.jsx(ha,{size:14}),c.jsx("span",{children:new Date(z.date).toLocaleDateString("pt-BR")})]})}),c.jsx("td",{children:z.service}),c.jsxs("td",{className:"history-amount",children:["R$ ",z.amount.toFixed(2).replace(".",",")]}),c.jsx("td",{children:c.jsx("span",{className:`history-status history-status-${z.status.toLowerCase()}`,children:z.status})})]},z.id))})]})}):c.jsx("div",{className:"history-empty",children:"Nenhuma compra encontrada"})]}),c.jsxs("div",{className:"history-subsection",children:[c.jsx("h3",{children:"Servios Contratados"}),S.services.length>0?c.jsx("div",{className:"history-services-list",children:S.services.map(z=>c.jsxs("div",{className:"history-service-card",children:[c.jsxs("div",{className:"history-service-header",children:[c.jsxs("div",{className:"history-service-info",children:[c.jsx("h4",{className:"history-service-type",children:z.type}),c.jsx("p",{className:"history-service-description",children:z.description})]}),c.jsx("span",{className:`history-status history-status-${z.status.toLowerCase()}`,children:z.status})]}),c.jsx("div",{className:"history-service-footer",children:c.jsxs("span",{className:"history-service-date",children:[c.jsx(ha,{size:14}),new Date(z.date).toLocaleDateString("pt-BR")]})})]},z.id))}):c.jsx("div",{className:"history-empty",children:"Nenhum servio encontrado"})]})]})]})]})]}):c.jsxs("div",{className:"area-cliente-page",children:[c.jsx("div",{className:"area-cliente-header",children:c.jsxs("div",{children:[c.jsx("h1",{className:"area-cliente-title",children:"rea do Cliente"}),c.jsx("p",{className:"area-cliente-subtitle",children:"Gerencie informaes e histrico dos clientes"})]})}),p&&c.jsxs("div",{className:"error-banner",children:[c.jsx("span",{children:p}),c.jsx("button",{onClick:()=>v(null),children:""})]}),c.jsxs("div",{className:"search-section",children:[c.jsxs("div",{className:"search-box",children:[c.jsx(ey,{size:20,className:"search-icon"}),c.jsx("input",{type:"text",placeholder:"Buscar por nome, telefone, email ou CPF...",value:l,onChange:z=>d(z.target.value),className:"search-input"})]}),c.jsxs("div",{className:"customers-count",children:[n.length," ",n.length===1?"cliente encontrado":"clientes encontrados"]})]}),c.jsx("div",{className:"customers-grid",children:n.length>0?n.map(z=>c.jsxs("div",{className:"customer-card",onClick:()=>L(z),children:[c.jsxs("div",{className:"customer-card-header",children:[c.jsx("div",{className:"customer-card-avatar",children:c.jsx(Cl,{size:24})}),c.jsxs("div",{className:"customer-card-info",children:[c.jsx("h3",{className:"customer-card-name",children:z.name}),c.jsx("span",{className:`customer-card-status ${z.active?"active":"inactive"}`,children:z.active?"Ativo":"Inativo"})]})]}),c.jsxs("div",{className:"customer-card-details",children:[c.jsxs("div",{className:"customer-card-detail-item",children:[c.jsx(gu,{size:14}),c.jsx("span",{children:z.email})]}),c.jsxs("div",{className:"customer-card-detail-item",children:[c.jsx(Bh,{size:14}),c.jsx("span",{children:z.phone})]}),c.jsxs("div",{className:"customer-card-loyalty",children:[c.jsx(j_,{size:14}),c.jsxs("span",{children:[z.loyaltyPoints," pontos"]}),c.jsx("span",{className:"separator",children:""}),c.jsxs("span",{children:[z.totalPurchases," compras"]})]})]})]},z.id)):c.jsxs("div",{className:"empty-state",children:[c.jsx(yu,{size:48}),c.jsx("p",{children:"Nenhum cliente encontrado"}),l&&c.jsx("button",{className:"btn-clear-search",onClick:()=>d(""),children:"Limpar busca"})]})})]})},Zde=()=>{const[t,e]=_.useState([]),[n,r]=_.useState([]),[a,s]=_.useState(null),[l,d]=_.useState(!0),[h,f]=_.useState(null),[p,v]=_.useState("today"),[b,w]=_.useState(""),[j,E]=_.useState(""),[S,T]=_.useState("overview");_.useEffect(()=>{C()},[p,b,j]);const C=async()=>{try{d(!0),f(null);let k,F;const R=new Date;switch(R.setHours(0,0,0,0),p){case"today":k=new Date(R),F=new Date(R),F.setHours(23,59,59,999);break;case"week":k=new Date(R),k.setDate(R.getDate()-7),F=new Date(R),F.setHours(23,59,59,999);break;case"month":k=new Date(R.getFullYear(),R.getMonth(),1),F=new Date(R),F.setHours(23,59,59,999);break;case"custom":b&&j&&(k=new Date(b),k.setHours(0,0,0,0),F=new Date(j),F.setHours(23,59,59,999));break}const[Q,me]=await Promise.all([zo(k,F),VK(R)]);e(Q),r(Q),s(me)}catch(k){console.error("Erro ao carregar dados financeiros:",k),f("No foi possvel carregar os dados financeiros. Tente novamente mais tarde.")}finally{d(!1)}},I=k=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(k),U=k=>(typeof k=="string"?new Date(k):k).toLocaleDateString("pt-BR"),L=()=>{const k=n.reduce((Q,me)=>Q+me.total,0),F=n.length,R=n.reduce((Q,me)=>(Q[me.payment.method]+=me.total,Q),{pix:0,debito:0,credito:0,dinheiro:0});return{total:k,totalTransactions:F,paymentMethods:R}},{total:B,totalTransactions:P,paymentMethods:M}=L(),D=k=>({pix:"PIX",debito:"Dbito",credito:"Crdito",dinheiro:"Dinheiro"})[k]||k,z=k=>({pix:"#10b981",debito:"#3b82f6",credito:"#8b5cf6",dinheiro:"#f59e0b"})[k]||"#666";return l&&t.length===0?c.jsxs("div",{className:"gestao-financeira-page",children:[c.jsxs("div",{className:"gestao-financeira-header",children:[c.jsx("h1",{className:"gestao-financeira-title",children:"Gesto Financeira e Contbil"}),c.jsx("p",{className:"gestao-financeira-subtitle",children:"Controle financeiro e contabilidade"})]}),c.jsxs("div",{className:"gestao-financeira-loading",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Carregando dados financeiros..."})]})]}):c.jsxs("div",{className:"gestao-financeira-page",children:[c.jsxs("div",{className:"gestao-financeira-header",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"gestao-financeira-title",children:"Gesto Financeira e Contbil"}),c.jsx("p",{className:"gestao-financeira-subtitle",children:"Controle financeiro e contabilidade"})]}),c.jsxs("button",{className:"btn-refresh",onClick:C,disabled:l,children:[c.jsx(cK,{size:18}),"Atualizar"]})]}),h&&c.jsxs("div",{className:"error-banner",children:[c.jsx("span",{children:h}),c.jsx("button",{onClick:()=>f(null),children:""})]}),c.jsxs("div",{className:"finance-tabs",children:[c.jsxs("button",{className:`tab-btn ${S==="overview"?"active":""}`,onClick:()=>T("overview"),children:[c.jsx(A_,{size:18}),"Viso Geral"]}),c.jsxs("button",{className:`tab-btn ${S==="sales"?"active":""}`,onClick:()=>T("sales"),children:[c.jsx(Th,{size:18}),"Vendas (",P,")"]}),c.jsxs("button",{className:`tab-btn ${S==="reports"?"active":""}`,onClick:()=>T("reports"),children:[c.jsx(Ah,{size:18}),"Relatrios"]})]}),c.jsxs("div",{className:"period-filter",children:[c.jsxs("div",{className:"period-buttons",children:[c.jsx("button",{className:`period-btn ${p==="today"?"active":""}`,onClick:()=>v("today"),children:"Hoje"}),c.jsx("button",{className:`period-btn ${p==="week"?"active":""}`,onClick:()=>v("week"),children:"ltimos 7 dias"}),c.jsx("button",{className:`period-btn ${p==="month"?"active":""}`,onClick:()=>v("month"),children:"Este Ms"}),c.jsxs("button",{className:`period-btn ${p==="custom"?"active":""}`,onClick:()=>v("custom"),children:[c.jsx(ZM,{size:16}),"Personalizado"]})]}),p==="custom"&&c.jsxs("div",{className:"custom-date-range",children:[c.jsx("input",{type:"date",value:b,onChange:k=>w(k.target.value),className:"date-input"}),c.jsx("span",{children:"at"}),c.jsx("input",{type:"date",value:j,onChange:k=>E(k.target.value),className:"date-input"})]})]}),c.jsxs("div",{className:"finance-content",children:[S==="overview"&&c.jsxs("div",{className:"overview-tab",children:[c.jsxs("div",{className:"summary-cards-grid",children:[c.jsxs("div",{className:"summary-card revenue",children:[c.jsx("div",{className:"summary-card-icon",children:c.jsx(Ul,{size:24})}),c.jsxs("div",{className:"summary-card-content",children:[c.jsx("span",{className:"summary-card-label",children:"Receita Total"}),c.jsx("span",{className:"summary-card-value",children:I(B)})]})]}),c.jsxs("div",{className:"summary-card transactions",children:[c.jsx("div",{className:"summary-card-icon",children:c.jsx(Th,{size:24})}),c.jsxs("div",{className:"summary-card-content",children:[c.jsx("span",{className:"summary-card-label",children:"Transaes"}),c.jsx("span",{className:"summary-card-value",children:P})]})]}),c.jsxs("div",{className:"summary-card average",children:[c.jsx("div",{className:"summary-card-icon",children:c.jsx(kv,{size:24})}),c.jsxs("div",{className:"summary-card-content",children:[c.jsx("span",{className:"summary-card-label",children:"Ticket Mdio"}),c.jsx("span",{className:"summary-card-value",children:P>0?I(B/P):I(0)})]})]})]}),c.jsxs("div",{className:"payment-methods-section",children:[c.jsxs("h2",{className:"section-title",children:[c.jsx(Dv,{size:20}),"Mtodos de Pagamento"]}),c.jsx("div",{className:"payment-methods-grid",children:Object.entries(M).map(([k,F])=>c.jsxs("div",{className:"payment-method-card",children:[c.jsx("div",{className:"payment-method-icon",style:{backgroundColor:`${z(k)}15`},children:c.jsx(Dv,{size:20,style:{color:z(k)}})}),c.jsxs("div",{className:"payment-method-content",children:[c.jsx("span",{className:"payment-method-label",children:D(k)}),c.jsx("span",{className:"payment-method-value",children:I(F)}),c.jsx("div",{className:"payment-method-percentage",children:B>0?`${(F/B*100).toFixed(1)}%`:"0%"})]}),c.jsx("div",{className:"payment-method-bar",style:{width:`${B>0?F/B*100:0}%`,backgroundColor:z(k)}})]},k))})]}),a&&c.jsxs("div",{className:"daily-report-section",children:[c.jsxs("h2",{className:"section-title",children:[c.jsx(Ah,{size:20}),"Relatrio do Dia (",U(a.date),")"]}),c.jsxs("div",{className:"daily-report-card",children:[c.jsxs("div",{className:"daily-report-grid",children:[c.jsxs("div",{className:"daily-report-item",children:[c.jsx("span",{className:"daily-report-label",children:"Vendas Totais"}),c.jsx("span",{className:"daily-report-value",children:I(a.totalSales)})]}),c.jsxs("div",{className:"daily-report-item",children:[c.jsx("span",{className:"daily-report-label",children:"Transaes"}),c.jsx("span",{className:"daily-report-value",children:a.totalTransactions})]})]}),c.jsxs("div",{className:"daily-report-payments",children:[c.jsx("h3",{children:"Por Mtodo de Pagamento"}),c.jsx("div",{className:"daily-report-payments-grid",children:Object.entries(a.paymentMethods).map(([k,F])=>c.jsxs("div",{className:"daily-report-payment-item",children:[c.jsx("span",{children:D(k)}),c.jsx("span",{children:I(F)})]},k))})]})]})]})]}),S==="sales"&&c.jsxs("div",{className:"sales-tab",children:[c.jsxs("div",{className:"sales-header",children:[c.jsx("h2",{className:"section-title",children:"Vendas Realizadas"}),c.jsx("div",{className:"sales-actions",children:c.jsxs("button",{className:"btn-export",children:[c.jsx(eK,{size:18}),"Exportar"]})})]}),n.length>0?c.jsx("div",{className:"sales-table-container",children:c.jsxs("table",{className:"sales-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Data/Hora"}),c.jsx("th",{children:"Cliente"}),c.jsx("th",{children:"Itens"}),c.jsx("th",{children:"Valor"}),c.jsx("th",{children:"Pagamento"}),c.jsx("th",{children:"Funcionrio"}),c.jsx("th",{children:"Status"})]})}),c.jsx("tbody",{children:n.map(k=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsxs("div",{className:"sale-date",children:[U(k.date),c.jsx("span",{className:"sale-time",children:new Date(k.date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})}),c.jsx("td",{children:k.customerName||"Cliente no identificado"}),c.jsx("td",{children:c.jsxs("div",{className:"sale-items",children:[k.items.slice(0,2).map((F,R)=>c.jsxs("span",{className:"sale-item-tag",children:[F.name," (",F.quantity,"x)"]},R)),k.items.length>2&&c.jsxs("span",{className:"sale-item-more",children:["+",k.items.length-2," mais"]})]})}),c.jsx("td",{className:"sale-amount",children:I(k.total)}),c.jsx("td",{children:c.jsx("span",{className:"payment-badge",style:{backgroundColor:`${z(k.payment.method)}15`,color:z(k.payment.method)},children:D(k.payment.method)})}),c.jsx("td",{children:k.employeeName}),c.jsx("td",{children:c.jsx("span",{className:`status-badge ${k.status==="completed"?"completed":"cancelled"}`,children:k.status==="completed"?"Concluda":"Cancelada"})})]},k.id))})]})}):c.jsxs("div",{className:"empty-state",children:[c.jsx(Th,{size:48}),c.jsx("p",{children:"Nenhuma venda encontrada no perodo selecionado"})]})]}),S==="reports"&&c.jsxs("div",{className:"reports-tab",children:[c.jsx("h2",{className:"section-title",children:"Relatrios Financeiros"}),c.jsxs("div",{className:"reports-grid",children:[c.jsxs("div",{className:"report-card",children:[c.jsxs("div",{className:"report-card-header",children:[c.jsx(Ah,{size:24}),c.jsx("h3",{children:"Relatrio Dirio"})]}),c.jsx("p",{className:"report-card-description",children:"Visualize vendas, receitas e mtodos de pagamento do dia atual"}),c.jsx("button",{className:"btn-generate-report",children:"Gerar Relatrio"})]}),c.jsxs("div",{className:"report-card",children:[c.jsxs("div",{className:"report-card-header",children:[c.jsx(kv,{size:24}),c.jsx("h3",{children:"Relatrio Mensal"})]}),c.jsx("p",{className:"report-card-description",children:"Anlise completa das vendas e receitas do ms atual"}),c.jsx("button",{className:"btn-generate-report",children:"Gerar Relatrio"})]}),c.jsxs("div",{className:"report-card",children:[c.jsxs("div",{className:"report-card-header",children:[c.jsx(A_,{size:24}),c.jsx("h3",{children:"Anlise de Mtodos de Pagamento"})]}),c.jsx("p",{className:"report-card-description",children:"Distribuio de pagamentos por mtodo no perodo selecionado"}),c.jsx("button",{className:"btn-generate-report",children:"Gerar Relatrio"})]})]})]})]})]})},Jde=({plano:t,onSubmit:e,onCancel:n})=>{const[r,a]=_.useState({nome:"",descricao:"",tipoVeiculo:"carro",servicos:[],preco:0,duracaoEstimada:0,frequencia:"unico",ativo:!0,imagem:""}),[s,l]=_.useState(!1),[d,h]=_.useState("");_.useEffect(()=>{t&&a({nome:t.nome,descricao:t.descricao,tipoVeiculo:t.tipoVeiculo,servicos:t.servicos||[],preco:t.preco,duracaoEstimada:t.duracaoEstimada,frequencia:t.frequencia||"unico",ativo:t.ativo,imagem:t.imagem||""})},[t]);const f=async T=>{T.preventDefault(),h(""),l(!0);try{if(!r.nome||r.nome.trim()===""){h("O nome do plano  obrigatrio"),l(!1);return}if(r.servicos.length===0){h("Adicione pelo menos um servio ao plano"),l(!1);return}if(r.preco<0){h("O preo no pode ser negativo"),l(!1);return}if(r.duracaoEstimada<=0){h("A durao estimada deve ser maior que zero"),l(!1);return}await e(r)}catch(C){h(C instanceof Error?C.message:"Erro ao salvar plano de lavagem")}finally{l(!1)}},p=T=>{const{name:C,value:I,type:U}=T.target;a(L=>({...L,[C]:U==="number"?parseFloat(I)||0:U==="checkbox"?T.target.checked:I}))},v=()=>{const T={id:Date.now().toString(),nome:"",descricao:"",preco:0,duracao:0};a(C=>({...C,servicos:[...C.servicos,T]}))},b=T=>{a(C=>({...C,servicos:C.servicos.filter(I=>I.id!==T)}))},w=(T,C,I)=>{a(U=>{const L=U.servicos.map(M=>M.id===T?{...M,[C]:I}:M),B=L.reduce((M,D)=>M+(D.preco||0),0),P=L.reduce((M,D)=>M+(D.duracao||0),0);return{...U,servicos:L,preco:B,duracaoEstimada:P}})},j=[{value:"carro",label:"Carro"},{value:"moto",label:"Moto"},{value:"caminhao",label:"Caminho"},{value:"onibus",label:"nibus"},{value:"outros",label:"Outros"}],E=[{value:"unico",label:"nico"},{value:"semanal",label:"Semanal"},{value:"quinzenal",label:"Quinzenal"},{value:"mensal",label:"Mensal"}],S=()=>{if(r.servicos.length>0){const T=r.servicos.reduce((I,U)=>I+(U.preco||0),0),C=r.servicos.reduce((I,U)=>I+(U.duracao||0),0);a(I=>({...I,preco:T,duracaoEstimada:C}))}};return _.useEffect(()=>{r.servicos.length>0&&S()},[r.servicos.length]),c.jsxs("div",{className:"plano-form-container",children:[c.jsx("div",{className:"form-header",children:c.jsx("h2",{children:t?"Editar Plano de Lavagem":"Novo Plano de Lavagem"})}),d&&c.jsx("div",{className:"error-message",children:d}),c.jsxs("form",{onSubmit:f,className:"plano-form",children:[c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{children:"Informaes Bsicas"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{children:"Nome do Plano *"}),c.jsx("input",{type:"text",name:"nome",value:r.nome,onChange:p,required:!0,placeholder:"Ex: Lavagem Completa Premium"})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{children:"Descrio"}),c.jsx("textarea",{name:"descricao",value:r.descricao,onChange:p,rows:3,placeholder:"Descreva os detalhes do plano de lavagem"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Tipo de Veculo *"}),c.jsx("select",{name:"tipoVeiculo",value:r.tipoVeiculo,onChange:p,required:!0,children:j.map(T=>c.jsx("option",{value:T.value,children:T.label},T.value))})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Frequncia"}),c.jsx("select",{name:"frequencia",value:r.frequencia,onChange:p,children:E.map(T=>c.jsx("option",{value:T.value,children:T.label},T.value))})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Preo Total (R$) *"}),c.jsx("input",{type:"number",name:"preco",value:r.preco,onChange:p,required:!0,min:"0",step:"0.01"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Durao Estimada (minutos) *"}),c.jsx("input",{type:"number",name:"duracaoEstimada",value:r.duracaoEstimada,onChange:p,required:!0,min:"1"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Status"}),c.jsxs("div",{className:"checkbox-group",children:[c.jsx("input",{type:"checkbox",name:"ativo",checked:r.ativo,onChange:p}),c.jsx("span",{children:"Plano Ativo"})]})]})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h3",{children:"Servios Includos"}),c.jsxs("button",{type:"button",onClick:v,className:"btn-add-servico",children:[c.jsx(jo,{size:16}),"Adicionar Servio"]})]}),r.servicos.length===0?c.jsx("div",{className:"empty-servicos",children:c.jsx("p",{children:'Nenhum servio adicionado. Clique em "Adicionar Servio" para comear.'})}):c.jsx("div",{className:"servicos-list",children:r.servicos.map((T,C)=>c.jsxs("div",{className:"servico-item",children:[c.jsxs("div",{className:"servico-header",children:[c.jsxs("h4",{children:["Servio ",C+1]}),c.jsx("button",{type:"button",onClick:()=>b(T.id),className:"btn-remove-servico",children:c.jsx(Ai,{size:16})})]}),c.jsxs("div",{className:"servico-fields",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Nome do Servio *"}),c.jsx("input",{type:"text",value:T.nome,onChange:I=>w(T.id,"nome",I.target.value),required:!0,placeholder:"Ex: Lavagem Externa"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Descrio"}),c.jsx("input",{type:"text",value:T.descricao||"",onChange:I=>w(T.id,"descricao",I.target.value),placeholder:"Descrio do servio"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Preo (R$)"}),c.jsx("input",{type:"number",value:T.preco,onChange:I=>w(T.id,"preco",parseFloat(I.target.value)||0),min:"0",step:"0.01"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Durao (minutos)"}),c.jsx("input",{type:"number",value:T.duracao,onChange:I=>w(T.id,"duracao",parseInt(I.target.value)||0),min:"0"})]})]})]},T.id))})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",onClick:n,className:"btn-cancel",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:s,className:"btn-submit",children:s?"Salvando...":t?"Atualizar":"Criar"})]})]})]})},ehe=({planos:t,onEdit:e,onDelete:n,onAddNew:r})=>{const[a,s]=_.useState(""),[l,d]=_.useState(""),[h,f]=_.useState(""),p=S=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S),v=S=>({carro:"Carro",moto:"Moto",caminhao:"Caminho",onibus:"nibus",outros:"Outros"})[S]||S,b=S=>({unico:"nico",semanal:"Semanal",quinzenal:"Quinzenal",mensal:"Mensal"})[S||"unico"]||"nico",w=S=>{if(S<60)return`${S} min`;const T=Math.floor(S/60),C=S%60;return C>0?`${T}h ${C}min`:`${T}h`},j=Array.from(new Set(t.map(S=>S.tipoVeiculo))),E=t.filter(S=>{const T=S.nome.toLowerCase().includes(a.toLowerCase())||S.descricao.toLowerCase().includes(a.toLowerCase()),C=!l||S.tipoVeiculo===l,I=!h||h==="ativo"&&S.ativo||h==="inativo"&&!S.ativo;return T&&C&&I});return c.jsxs("div",{className:"plano-list-container",children:[c.jsxs("div",{className:"list-header",children:[c.jsxs("div",{className:"header-left",children:[c.jsxs("h2",{children:[c.jsx(sv,{size:24}),"Planos de Lavagem"]}),c.jsxs("div",{className:"header-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:"Total"}),c.jsx("span",{className:"stat-value",children:t.length})]}),c.jsxs("div",{className:"stat-item active",children:[c.jsx("span",{className:"stat-label",children:"Ativos"}),c.jsx("span",{className:"stat-value",children:t.filter(S=>S.ativo).length})]})]})]}),c.jsxs("button",{className:"btn-new",onClick:r,children:[c.jsx(sv,{size:16}),"Novo Plano"]})]}),c.jsxs("div",{className:"filters-section",children:[c.jsxs("div",{className:"search-box",children:[c.jsx(ey,{size:20}),c.jsx("input",{type:"text",placeholder:"Buscar por nome ou descrio...",value:a,onChange:S=>s(S.target.value)})]}),c.jsxs("div",{className:"filter-controls",children:[c.jsxs("select",{value:l,onChange:S=>d(S.target.value),className:"filter-select",children:[c.jsx("option",{value:"",children:"Todos os Tipos"}),j.map(S=>c.jsx("option",{value:S,children:v(S)},S))]}),c.jsxs("select",{value:h,onChange:S=>f(S.target.value),className:"filter-select",children:[c.jsx("option",{value:"",children:"Todos os Status"}),c.jsx("option",{value:"ativo",children:"Ativo"}),c.jsx("option",{value:"inativo",children:"Inativo"})]})]})]}),E.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx(sv,{size:48}),c.jsx("p",{children:"Nenhum plano encontrado"})]}):c.jsx("div",{className:"planos-grid",children:E.map(S=>c.jsxs("div",{className:"plano-card",children:[c.jsxs("div",{className:"plano-card-header",children:[c.jsxs("div",{className:"plano-title-section",children:[c.jsx("h3",{children:S.nome}),c.jsx("span",{className:`status-badge ${S.ativo?"active":"inactive"}`,children:S.ativo?"Ativo":"Inativo"})]}),c.jsxs("div",{className:"plano-actions",children:[c.jsx("button",{onClick:()=>e(S),className:"btn-action btn-edit",title:"Editar",children:c.jsx(Jl,{size:16})}),c.jsx("button",{onClick:()=>{confirm("Deseja realmente excluir este plano?")&&n(S.id)},className:"btn-action btn-delete",title:"Excluir",children:c.jsx(Ai,{size:16})})]})]}),S.descricao&&c.jsx("p",{className:"plano-descricao",children:S.descricao}),c.jsxs("div",{className:"plano-info",children:[c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"info-label",children:"Tipo de Veculo:"}),c.jsx("span",{className:"info-value",children:v(S.tipoVeiculo)})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"info-label",children:"Frequncia:"}),c.jsx("span",{className:"info-value",children:b(S.frequencia)})]})]}),c.jsxs("div",{className:"plano-servicos",children:[c.jsx("div",{className:"servicos-header",children:c.jsxs("span",{className:"servicos-label",children:["Servios (",S.servicos.length,")"]})}),c.jsxs("div",{className:"servicos-list",children:[S.servicos.slice(0,3).map(T=>c.jsx("div",{className:"servico-badge",children:T.nome},T.id)),S.servicos.length>3&&c.jsxs("div",{className:"servico-badge more",children:["+",S.servicos.length-3," mais"]})]})]}),c.jsxs("div",{className:"plano-footer",children:[c.jsxs("div",{className:"plano-price",children:[c.jsx(Ul,{size:18}),c.jsx("span",{className:"price-value",children:p(S.preco)})]}),c.jsxs("div",{className:"plano-duration",children:[c.jsx(ha,{size:18}),c.jsx("span",{children:w(S.duracaoEstimada)})]})]})]},S.id))})]})},Qy="planosLavagem",the=async t=>{try{const e={...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return(await $r(nt(Ee,Qy),e)).id}catch(e){throw console.error("Erro ao criar plano de lavagem:",e),new Error("No foi possvel criar o plano de lavagem")}},nhe=async(t,e)=>{try{const n=ut(Ee,Qy,t);await pr(n,{...e,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Erro ao atualizar plano de lavagem:",n),new Error("No foi possvel atualizar o plano de lavagem")}},rhe=async t=>{try{const e=ut(Ee,Qy,t);await xs(e)}catch(e){throw console.error("Erro ao deletar plano de lavagem:",e),new Error("No foi possvel deletar o plano de lavagem")}},ahe=async()=>{try{return(await vn(dt(nt(Ee,Qy),Xn("createdAt","desc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Erro ao buscar planos de lavagem:",t),new Error("No foi possvel buscar os planos de lavagem")}},ihe=()=>{const[t,e]=_.useState(!1),[n,r]=_.useState(void 0),[a,s]=_.useState([]),[l,d]=_.useState(""),[h,f]=_.useState(""),[p,v]=_.useState(!1);_.useEffect(()=>{b()},[]);const b=async()=>{try{v(!0);const T=await ahe();s(T)}catch{d("Erro ao carregar planos de lavagem")}finally{v(!1)}},w=async T=>{try{if(d(""),f(""),!T.nome||T.nome.trim()===""){d("O nome do plano  obrigatrio");return}if(T.servicos.length===0){d("Adicione pelo menos um servio ao plano");return}if(T.preco<0){d("O preo no pode ser negativo");return}if(T.duracaoEstimada<=0){d("A durao estimada deve ser maior que zero");return}await the(T),await b(),f("Plano de lavagem criado com sucesso!"),setTimeout(()=>{e(!1),f("")},1500)}catch(C){console.error("Erro ao criar plano:",C),d(C instanceof Error?C.message:"Erro ao criar plano de lavagem. Tente novamente.")}},j=async T=>{if(n)try{d(""),f(""),await nhe(n.id,T),await b(),f("Plano de lavagem atualizado com sucesso!"),e(!1),r(void 0),setTimeout(()=>{f("")},1500)}catch(C){console.error("Erro ao atualizar plano:",C),d(C instanceof Error?C.message:"Erro ao atualizar plano de lavagem. Tente novamente.")}},E=async T=>{try{d(""),await rhe(T),await b(),f("Plano de lavagem excludo com sucesso!"),setTimeout(()=>{f("")},1500)}catch(C){console.error("Erro ao deletar plano:",C),d(C instanceof Error?C.message:"Erro ao deletar plano de lavagem. Tente novamente.")}},S=T=>{r(T),e(!0)};return c.jsxs("div",{className:"planos-lavagem-page",children:[c.jsxs("div",{className:"page-header",children:[c.jsxs("h1",{children:[c.jsx(sv,{size:32}),"Planos de Lavagem"]}),c.jsx("p",{children:"Gerencie os planos e servios de lavagem oferecidos"})]}),l&&c.jsxs("div",{className:"error-message",children:[l,c.jsx("button",{onClick:()=>d(""),className:"close-error",children:""})]}),h&&c.jsxs("div",{className:"success-message",children:[h,c.jsx("button",{onClick:()=>f(""),className:"close-success",children:""})]}),p?c.jsxs("div",{className:"loading-state",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Carregando planos..."})]}):c.jsx("div",{className:"planos-content",children:t?c.jsx(Jde,{plano:n,onSubmit:n?j:w,onCancel:()=>{e(!1),r(void 0)}}):c.jsx(ehe,{planos:a,onEdit:S,onDelete:E,onAddNew:()=>e(!0)})})]})},she=()=>{const t=()=>c.jsxs("div",{style:{padding:"20px"},children:[c.jsx("h1",{children:"Segurana e Backups"}),c.jsx("p",{children:"Configuraes de segurana e backups do sistema"})]});return c.jsx(v9,{children:c.jsxs(GU,{children:[c.jsx($n,{path:He.home,element:c.jsx(L2,{})}),c.jsx($n,{path:He.landing,element:c.jsx(L2,{})}),c.jsx($n,{path:He.login,element:c.jsx(UH,{})}),c.jsx($n,{path:He.register,element:c.jsx(BH,{})}),c.jsx($n,{path:He.dashboard,element:c.jsx(Ki,{children:c.jsx(aa,{children:c.jsx(Pde,{})})})}),c.jsx($n,{path:He.areaCliente,element:c.jsx(Ki,{children:c.jsx(aa,{children:c.jsx(Qde,{})})})}),c.jsx($n,{path:He.pdv,element:c.jsx(Ki,{children:c.jsx(aa,{children:c.jsx(Xde,{})})})}),c.jsx($n,{path:He.crm,element:c.jsx(Ki,{children:c.jsx(aa,{children:c.jsx(Mde,{})})})}),c.jsx($n,{path:He.gestaoFinanceira,element:c.jsx(Ki,{children:c.jsx(aa,{children:c.jsx(Zde,{})})})}),c.jsx($n,{path:He.recursosHumanos,element:c.jsx(Ki,{children:c.jsx(aa,{children:c.jsx(Bde,{})})})}),c.jsx($n,{path:He.estoque,element:c.jsx(Ki,{children:c.jsx(aa,{children:c.jsx(Kde,{})})})}),c.jsx($n,{path:He.planosLavagem,element:c.jsx(Ki,{children:c.jsx(aa,{children:c.jsx(ihe,{})})})}),c.jsx($n,{path:He.seguranca,element:c.jsx(Ki,{children:c.jsx(aa,{children:c.jsx(t,{})})})}),c.jsx($n,{path:He.history,element:c.jsx(vx,{children:c.jsx(aa,{children:c.jsx(Gde,{})})})}),c.jsx($n,{path:He.profile,element:c.jsx(vx,{children:c.jsx(aa,{children:c.jsx(Wde,{})})})}),c.jsx($n,{path:He.contactInfo,element:c.jsx(vx,{children:c.jsx(aa,{children:c.jsx(Yde,{})})})})]})})};function ohe(){return c.jsx(VH,{children:c.jsx(she,{})})}rU.createRoot(document.getElementById("root")).render(c.jsx(_.StrictMode,{children:c.jsx(ohe,{})}));
